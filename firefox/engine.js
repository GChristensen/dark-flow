if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}


var CLOSURE_NO_DEPS = true;
var COMPILED = false;
var goog = goog || {};
goog.global = this;
goog.global.CLOSURE_UNCOMPILED_DEFINES;
goog.global.CLOSURE_DEFINES;
goog.isDef = function(val) {
  return val !== void 0;
};
goog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {
  var parts = name.split(".");
  var cur = opt_objectToExportTo || goog.global;
  if (!(parts[0] in cur) && cur.execScript) {
    cur.execScript("var " + parts[0]);
  }
  for (var part;parts.length && (part = parts.shift());) {
    if (!parts.length && goog.isDef(opt_object)) {
      cur[part] = opt_object;
    } else {
      if (cur[part]) {
        cur = cur[part];
      } else {
        cur = cur[part] = {};
      }
    }
  }
};
goog.define = function(name, defaultValue) {
  var value = defaultValue;
  if (!COMPILED) {
    if (goog.global.CLOSURE_UNCOMPILED_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES, name)) {
      value = goog.global.CLOSURE_UNCOMPILED_DEFINES[name];
    } else {
      if (goog.global.CLOSURE_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES, name)) {
        value = goog.global.CLOSURE_DEFINES[name];
      }
    }
  }
  goog.exportPath_(name, value);
};
goog.define("goog.DEBUG", true);
goog.define("goog.LOCALE", "en");
goog.define("goog.TRUSTED_SITE", true);
goog.define("goog.STRICT_MODE_COMPATIBLE", false);
goog.define("goog.DISALLOW_TEST_ONLY_CODE", COMPILED && !goog.DEBUG);
goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING", false);
goog.provide = function(name) {
  if (!COMPILED) {
    if (goog.isProvided_(name)) {
      throw Error('Namespace "' + name + '" already declared.');
    }
  }
  goog.constructNamespace_(name);
};
goog.constructNamespace_ = function(name, opt_obj) {
  if (!COMPILED) {
    delete goog.implicitNamespaces_[name];
    var namespace = name;
    while (namespace = namespace.substring(0, namespace.lastIndexOf("."))) {
      if (goog.getObjectByName(namespace)) {
        break;
      }
      goog.implicitNamespaces_[namespace] = true;
    }
  }
  goog.exportPath_(name, opt_obj);
};
goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module = function(name) {
  if (!goog.isString(name) || !name || name.search(goog.VALID_MODULE_RE_) == -1) {
    throw Error("Invalid module identifier");
  }
  if (!goog.isInModuleLoader_()) {
    throw Error("Module " + name + " has been loaded incorrectly.");
  }
  if (goog.moduleLoaderState_.moduleName) {
    throw Error("goog.module may only be called once per module.");
  }
  goog.moduleLoaderState_.moduleName = name;
  if (!COMPILED) {
    if (goog.isProvided_(name)) {
      throw Error('Namespace "' + name + '" already declared.');
    }
    delete goog.implicitNamespaces_[name];
  }
};
goog.module.get = function(name) {
  return goog.module.getInternal_(name);
};
goog.module.getInternal_ = function(name) {
  if (!COMPILED) {
    if (goog.isProvided_(name)) {
      return name in goog.loadedModules_ ? goog.loadedModules_[name] : goog.getObjectByName(name);
    } else {
      return null;
    }
  }
};
goog.moduleLoaderState_ = null;
goog.isInModuleLoader_ = function() {
  return goog.moduleLoaderState_ != null;
};
goog.module.declareLegacyNamespace = function() {
  if (!COMPILED && !goog.isInModuleLoader_()) {
    throw new Error("goog.module.declareLegacyNamespace must be called from " + "within a goog.module");
  }
  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {
    throw Error("goog.module must be called prior to " + "goog.module.declareLegacyNamespace.");
  }
  goog.moduleLoaderState_.declareLegacyNamespace = true;
};
goog.setTestOnly = function(opt_message) {
  if (goog.DISALLOW_TEST_ONLY_CODE) {
    opt_message = opt_message || "";
    throw Error("Importing test-only code into non-debug environment" + (opt_message ? ": " + opt_message : "."));
  }
};
goog.forwardDeclare = function(name) {
};
goog.forwardDeclare("Document");
goog.forwardDeclare("HTMLScriptElement");
goog.forwardDeclare("XMLHttpRequest");
if (!COMPILED) {
  goog.isProvided_ = function(name) {
    return name in goog.loadedModules_ || !goog.implicitNamespaces_[name] && goog.isDefAndNotNull(goog.getObjectByName(name));
  };
  goog.implicitNamespaces_ = {"goog.module":true};
}
goog.getObjectByName = function(name, opt_obj) {
  var parts = name.split(".");
  var cur = opt_obj || goog.global;
  for (var part;part = parts.shift();) {
    if (goog.isDefAndNotNull(cur[part])) {
      cur = cur[part];
    } else {
      return null;
    }
  }
  return cur;
};
goog.globalize = function(obj, opt_global) {
  var global = opt_global || goog.global;
  for (var x in obj) {
    global[x] = obj[x];
  }
};
goog.addDependency = function(relPath, provides, requires, opt_isModule) {
  if (goog.DEPENDENCIES_ENABLED) {
    var provide, require;
    var path = relPath.replace(/\\/g, "/");
    var deps = goog.dependencies_;
    for (var i = 0;provide = provides[i];i++) {
      deps.nameToPath[provide] = path;
      deps.pathIsModule[path] = !!opt_isModule;
    }
    for (var j = 0;require = requires[j];j++) {
      if (!(path in deps.requires)) {
        deps.requires[path] = {};
      }
      deps.requires[path][require] = true;
    }
  }
};
goog.define("goog.ENABLE_DEBUG_LOADER", true);
goog.logToConsole_ = function(msg) {
  if (goog.global.console) {
    goog.global.console["error"](msg);
  }
};
goog.require = function(name) {
  if (!COMPILED) {
    if (goog.ENABLE_DEBUG_LOADER && goog.IS_OLD_IE_) {
      goog.maybeProcessDeferredDep_(name);
    }
    if (goog.isProvided_(name)) {
      if (goog.isInModuleLoader_()) {
        return goog.module.getInternal_(name);
      } else {
        return null;
      }
    }
    if (goog.ENABLE_DEBUG_LOADER) {
      var path = goog.getPathFromDeps_(name);
      if (path) {
        goog.writeScripts_(path);
        return null;
      }
    }
    var errorMessage = "goog.require could not find: " + name;
    goog.logToConsole_(errorMessage);
    throw Error(errorMessage);
  }
};
goog.basePath = "";
goog.global.CLOSURE_BASE_PATH;
goog.global.CLOSURE_NO_DEPS;
goog.global.CLOSURE_IMPORT_SCRIPT;
goog.nullFunction = function() {
};
goog.abstractMethod = function() {
  throw Error("unimplemented abstract method");
};
goog.addSingletonGetter = function(ctor) {
  ctor.getInstance = function() {
    if (ctor.instance_) {
      return ctor.instance_;
    }
    if (goog.DEBUG) {
      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
    }
    return ctor.instance_ = new ctor;
  };
};
goog.instantiatedSingletons_ = [];
goog.define("goog.LOAD_MODULE_USING_EVAL", true);
goog.define("goog.SEAL_MODULE_EXPORTS", goog.DEBUG);
goog.loadedModules_ = {};
goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
if (goog.DEPENDENCIES_ENABLED) {
  goog.dependencies_ = {pathIsModule:{}, nameToPath:{}, requires:{}, visited:{}, written:{}, deferred:{}};
  goog.inHtmlDocument_ = function() {
    var doc = goog.global.document;
    return doc != null && "write" in doc;
  };
  goog.findBasePath_ = function() {
    if (goog.isDef(goog.global.CLOSURE_BASE_PATH)) {
      goog.basePath = goog.global.CLOSURE_BASE_PATH;
      return;
    } else {
      if (!goog.inHtmlDocument_()) {
        return;
      }
    }
    var doc = goog.global.document;
    var scripts = doc.getElementsByTagName("SCRIPT");
    for (var i = scripts.length - 1;i >= 0;--i) {
      var script = (scripts[i]);
      var src = script.src;
      var qmark = src.lastIndexOf("?");
      var l = qmark == -1 ? src.length : qmark;
      if (src.substr(l - 7, 7) == "base.js") {
        goog.basePath = src.substr(0, l - 7);
        return;
      }
    }
  };
  goog.importScript_ = function(src, opt_sourceText) {
    var importScript = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_;
    if (importScript(src, opt_sourceText)) {
      goog.dependencies_.written[src] = true;
    }
  };
  goog.IS_OLD_IE_ = !!(!goog.global.atob && goog.global.document && goog.global.document.all);
  goog.importModule_ = function(src) {
    var bootstrap = 'goog.retrieveAndExecModule_("' + src + '");';
    if (goog.importScript_("", bootstrap)) {
      goog.dependencies_.written[src] = true;
    }
  };
  goog.queuedModules_ = [];
  goog.wrapModule_ = function(srcUrl, scriptText) {
    if (!goog.LOAD_MODULE_USING_EVAL || !goog.isDef(goog.global.JSON)) {
      return "" + "goog.loadModule(function(exports) {" + '"use strict";' + scriptText + "\n" + ";return exports" + "});" + "\n//# sourceURL\x3d" + srcUrl + "\n";
    } else {
      return "" + "goog.loadModule(" + goog.global.JSON.stringify(scriptText + "\n//# sourceURL\x3d" + srcUrl + "\n") + ");";
    }
  };
  goog.loadQueuedModules_ = function() {
    var count = goog.queuedModules_.length;
    if (count > 0) {
      var queue = goog.queuedModules_;
      goog.queuedModules_ = [];
      for (var i = 0;i < count;i++) {
        var path = queue[i];
        goog.maybeProcessDeferredPath_(path);
      }
    }
  };
  goog.maybeProcessDeferredDep_ = function(name) {
    if (goog.isDeferredModule_(name) && goog.allDepsAreAvailable_(name)) {
      var path = goog.getPathFromDeps_(name);
      goog.maybeProcessDeferredPath_(goog.basePath + path);
    }
  };
  goog.isDeferredModule_ = function(name) {
    var path = goog.getPathFromDeps_(name);
    if (path && goog.dependencies_.pathIsModule[path]) {
      var abspath = goog.basePath + path;
      return abspath in goog.dependencies_.deferred;
    }
    return false;
  };
  goog.allDepsAreAvailable_ = function(name) {
    var path = goog.getPathFromDeps_(name);
    if (path && path in goog.dependencies_.requires) {
      for (var requireName in goog.dependencies_.requires[path]) {
        if (!goog.isProvided_(requireName) && !goog.isDeferredModule_(requireName)) {
          return false;
        }
      }
    }
    return true;
  };
  goog.maybeProcessDeferredPath_ = function(abspath) {
    if (abspath in goog.dependencies_.deferred) {
      var src = goog.dependencies_.deferred[abspath];
      delete goog.dependencies_.deferred[abspath];
      goog.globalEval(src);
    }
  };
  goog.loadModuleFromUrl = function(url) {
    goog.retrieveAndExecModule_(url);
  };
  goog.loadModule = function(moduleDef) {
    var previousState = goog.moduleLoaderState_;
    try {
      goog.moduleLoaderState_ = {moduleName:undefined, declareLegacyNamespace:false};
      var exports;
      if (goog.isFunction(moduleDef)) {
        exports = moduleDef.call(goog.global, {});
      } else {
        if (goog.isString(moduleDef)) {
          exports = goog.loadModuleFromSource_.call(goog.global, moduleDef);
        } else {
          throw Error("Invalid module definition");
        }
      }
      var moduleName = goog.moduleLoaderState_.moduleName;
      if (!goog.isString(moduleName) || !moduleName) {
        throw Error('Invalid module name "' + moduleName + '"');
      }
      if (goog.moduleLoaderState_.declareLegacyNamespace) {
        goog.constructNamespace_(moduleName, exports);
      } else {
        if (goog.SEAL_MODULE_EXPORTS && Object.seal) {
          Object.seal(exports);
        }
      }
      goog.loadedModules_[moduleName] = exports;
    } finally {
      goog.moduleLoaderState_ = previousState;
    }
  };
  goog.loadModuleFromSource_ = function() {
    var exports = {};
    eval(arguments[0]);
    return exports;
  };
  goog.writeScriptSrcNode_ = function(src) {
    goog.global.document.write('\x3cscript type\x3d"text/javascript" src\x3d"' + src + '"\x3e\x3c/' + "script\x3e");
  };
  goog.appendScriptSrcNode_ = function(src) {
    var doc = goog.global.document;
    var scriptEl = (doc.createElement("script"));
    scriptEl.type = "text/javascript";
    scriptEl.src = src;
    scriptEl.defer = false;
    scriptEl.async = false;
    doc.head.appendChild(scriptEl);
  };
  goog.writeScriptTag_ = function(src, opt_sourceText) {
    if (goog.inHtmlDocument_()) {
      var doc = goog.global.document;
      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING && doc.readyState == "complete") {
        var isDeps = /\bdeps.js$/.test(src);
        if (isDeps) {
          return false;
        } else {
          throw Error('Cannot write "' + src + '" after document load');
        }
      }
      var isOldIE = goog.IS_OLD_IE_;
      if (opt_sourceText === undefined) {
        if (!isOldIE) {
          if (goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
            goog.appendScriptSrcNode_(src);
          } else {
            goog.writeScriptSrcNode_(src);
          }
        } else {
          var state = " onreadystatechange\x3d'goog.onScriptLoad_(this, " + ++goog.lastNonModuleScriptIndex_ + ")' ";
          doc.write('\x3cscript type\x3d"text/javascript" src\x3d"' + src + '"' + state + "\x3e\x3c/" + "script\x3e");
        }
      } else {
        doc.write('\x3cscript type\x3d"text/javascript"\x3e' + opt_sourceText + "\x3c/" + "script\x3e");
      }
      return true;
    } else {
      return false;
    }
  };
  goog.lastNonModuleScriptIndex_ = 0;
  goog.onScriptLoad_ = function(script, scriptIndex) {
    if (script.readyState == "complete" && goog.lastNonModuleScriptIndex_ == scriptIndex) {
      goog.loadQueuedModules_();
    }
    return true;
  };
  goog.writeScripts_ = function(pathToLoad) {
    var scripts = [];
    var seenScript = {};
    var deps = goog.dependencies_;
    function visitNode(path) {
      if (path in deps.written) {
        return;
      }
      if (path in deps.visited) {
        return;
      }
      deps.visited[path] = true;
      if (path in deps.requires) {
        for (var requireName in deps.requires[path]) {
          if (!goog.isProvided_(requireName)) {
            if (requireName in deps.nameToPath) {
              visitNode(deps.nameToPath[requireName]);
            } else {
              throw Error("Undefined nameToPath for " + requireName);
            }
          }
        }
      }
      if (!(path in seenScript)) {
        seenScript[path] = true;
        scripts.push(path);
      }
    }
    visitNode(pathToLoad);
    for (var i = 0;i < scripts.length;i++) {
      var path = scripts[i];
      goog.dependencies_.written[path] = true;
    }
    var moduleState = goog.moduleLoaderState_;
    goog.moduleLoaderState_ = null;
    for (var i = 0;i < scripts.length;i++) {
      var path = scripts[i];
      if (path) {
        if (!deps.pathIsModule[path]) {
          goog.importScript_(goog.basePath + path);
        } else {
          goog.importModule_(goog.basePath + path);
        }
      } else {
        goog.moduleLoaderState_ = moduleState;
        throw Error("Undefined script input");
      }
    }
    goog.moduleLoaderState_ = moduleState;
  };
  goog.getPathFromDeps_ = function(rule) {
    if (rule in goog.dependencies_.nameToPath) {
      return goog.dependencies_.nameToPath[rule];
    } else {
      return null;
    }
  };
  goog.findBasePath_();
  if (!goog.global.CLOSURE_NO_DEPS) {
    goog.importScript_(goog.basePath + "deps.js");
  }
}
goog.normalizePath_ = function(path) {
  var components = path.split("/");
  var i = 0;
  while (i < components.length) {
    if (components[i] == ".") {
      components.splice(i, 1);
    } else {
      if (i && components[i] == ".." && components[i - 1] && components[i - 1] != "..") {
        components.splice(--i, 2);
      } else {
        i++;
      }
    }
  }
  return components.join("/");
};
goog.loadFileSync_ = function(src) {
  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {
    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);
  } else {
    var xhr = new goog.global["XMLHttpRequest"];
    xhr.open("get", src, false);
    xhr.send();
    return xhr.responseText;
  }
};
goog.retrieveAndExecModule_ = function(src) {
  if (!COMPILED) {
    var originalPath = src;
    src = goog.normalizePath_(src);
    var importScript = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_;
    var scriptText = goog.loadFileSync_(src);
    if (scriptText != null) {
      var execModuleScript = goog.wrapModule_(src, scriptText);
      var isOldIE = goog.IS_OLD_IE_;
      if (isOldIE) {
        goog.dependencies_.deferred[originalPath] = execModuleScript;
        goog.queuedModules_.push(originalPath);
      } else {
        importScript(src, execModuleScript);
      }
    } else {
      throw new Error("load of " + src + "failed");
    }
  }
};
goog.typeOf = function(value) {
  var s = typeof value;
  if (s == "object") {
    if (value) {
      if (value instanceof Array) {
        return "array";
      } else {
        if (value instanceof Object) {
          return s;
        }
      }
      var className = Object.prototype.toString.call((value));
      if (className == "[object Window]") {
        return "object";
      }
      if (className == "[object Array]" || typeof value.length == "number" && typeof value.splice != "undefined" && typeof value.propertyIsEnumerable != "undefined" && !value.propertyIsEnumerable("splice")) {
        return "array";
      }
      if (className == "[object Function]" || typeof value.call != "undefined" && typeof value.propertyIsEnumerable != "undefined" && !value.propertyIsEnumerable("call")) {
        return "function";
      }
    } else {
      return "null";
    }
  } else {
    if (s == "function" && typeof value.call == "undefined") {
      return "object";
    }
  }
  return s;
};
goog.isNull = function(val) {
  return val === null;
};
goog.isDefAndNotNull = function(val) {
  return val != null;
};
goog.isArray = function(val) {
  return goog.typeOf(val) == "array";
};
goog.isArrayLike = function(val) {
  var type = goog.typeOf(val);
  return type == "array" || type == "object" && typeof val.length == "number";
};
goog.isDateLike = function(val) {
  return goog.isObject(val) && typeof val.getFullYear == "function";
};
goog.isString = function(val) {
  return typeof val == "string";
};
goog.isBoolean = function(val) {
  return typeof val == "boolean";
};
goog.isNumber = function(val) {
  return typeof val == "number";
};
goog.isFunction = function(val) {
  return goog.typeOf(val) == "function";
};
goog.isObject = function(val) {
  var type = typeof val;
  return type == "object" && val != null || type == "function";
};
goog.getUid = function(obj) {
  return obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
};
goog.hasUid = function(obj) {
  return !!obj[goog.UID_PROPERTY_];
};
goog.removeUid = function(obj) {
  if ("removeAttribute" in (obj)) {
    obj.removeAttribute(goog.UID_PROPERTY_);
  }
  try {
    delete obj[goog.UID_PROPERTY_];
  } catch (ex) {
  }
};
goog.UID_PROPERTY_ = "closure_uid_" + (Math.random() * 1E9 >>> 0);
goog.uidCounter_ = 0;
goog.getHashCode = goog.getUid;
goog.removeHashCode = goog.removeUid;
goog.cloneObject = function(obj) {
  var type = goog.typeOf(obj);
  if (type == "object" || type == "array") {
    if (obj.clone) {
      return obj.clone();
    }
    var clone = type == "array" ? [] : {};
    for (var key in obj) {
      clone[key] = goog.cloneObject(obj[key]);
    }
    return clone;
  }
  return obj;
};
goog.bindNative_ = function(fn, selfObj, var_args) {
  return (fn.call.apply(fn.bind, arguments));
};
goog.bindJs_ = function(fn, selfObj, var_args) {
  if (!fn) {
    throw new Error;
  }
  if (arguments.length > 2) {
    var boundArgs = Array.prototype.slice.call(arguments, 2);
    return function() {
      var newArgs = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(newArgs, boundArgs);
      return fn.apply(selfObj, newArgs);
    };
  } else {
    return function() {
      return fn.apply(selfObj, arguments);
    };
  }
};
goog.bind = function(fn, selfObj, var_args) {
  if (Function.prototype.bind && Function.prototype.bind.toString().indexOf("native code") != -1) {
    goog.bind = goog.bindNative_;
  } else {
    goog.bind = goog.bindJs_;
  }
  return goog.bind.apply(null, arguments);
};
goog.partial = function(fn, var_args) {
  var args = Array.prototype.slice.call(arguments, 1);
  return function() {
    var newArgs = args.slice();
    newArgs.push.apply(newArgs, arguments);
    return fn.apply(this, newArgs);
  };
};
goog.mixin = function(target, source) {
  for (var x in source) {
    target[x] = source[x];
  }
};
goog.now = goog.TRUSTED_SITE && Date.now || function() {
  return +new Date;
};
goog.globalEval = function(script) {
  if (goog.global.execScript) {
    goog.global.execScript(script, "JavaScript");
  } else {
    if (goog.global.eval) {
      if (goog.evalWorksForGlobals_ == null) {
        goog.global.eval("var _evalTest_ \x3d 1;");
        if (typeof goog.global["_evalTest_"] != "undefined") {
          try {
            delete goog.global["_evalTest_"];
          } catch (ignore) {
          }
          goog.evalWorksForGlobals_ = true;
        } else {
          goog.evalWorksForGlobals_ = false;
        }
      }
      if (goog.evalWorksForGlobals_) {
        goog.global.eval(script);
      } else {
        var doc = goog.global.document;
        var scriptElt = (doc.createElement("SCRIPT"));
        scriptElt.type = "text/javascript";
        scriptElt.defer = false;
        scriptElt.appendChild(doc.createTextNode(script));
        doc.body.appendChild(scriptElt);
        doc.body.removeChild(scriptElt);
      }
    } else {
      throw Error("goog.globalEval not available");
    }
  }
};
goog.evalWorksForGlobals_ = null;
goog.cssNameMapping_;
goog.cssNameMappingStyle_;
goog.getCssName = function(className, opt_modifier) {
  var getMapping = function(cssName) {
    return goog.cssNameMapping_[cssName] || cssName;
  };
  var renameByParts = function(cssName) {
    var parts = cssName.split("-");
    var mapped = [];
    for (var i = 0;i < parts.length;i++) {
      mapped.push(getMapping(parts[i]));
    }
    return mapped.join("-");
  };
  var rename;
  if (goog.cssNameMapping_) {
    rename = goog.cssNameMappingStyle_ == "BY_WHOLE" ? getMapping : renameByParts;
  } else {
    rename = function(a) {
      return a;
    };
  }
  if (opt_modifier) {
    return className + "-" + rename(opt_modifier);
  } else {
    return rename(className);
  }
};
goog.setCssNameMapping = function(mapping, opt_style) {
  goog.cssNameMapping_ = mapping;
  goog.cssNameMappingStyle_ = opt_style;
};
goog.global.CLOSURE_CSS_NAME_MAPPING;
if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
}
goog.getMsg = function(str, opt_values) {
  if (opt_values) {
    str = str.replace(/\{\$([^}]+)}/g, function(match, key) {
      return opt_values != null && key in opt_values ? opt_values[key] : match;
    });
  }
  return str;
};
goog.getMsgWithFallback = function(a, b) {
  return a;
};
goog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {
  goog.exportPath_(publicPath, object, opt_objectToExportTo);
};
goog.exportProperty = function(object, publicName, symbol) {
  object[publicName] = symbol;
};
goog.inherits = function(childCtor, parentCtor) {
  function tempCtor() {
  }
  tempCtor.prototype = parentCtor.prototype;
  childCtor.superClass_ = parentCtor.prototype;
  childCtor.prototype = new tempCtor;
  childCtor.prototype.constructor = childCtor;
  childCtor.base = function(me, methodName, var_args) {
    var args = new Array(arguments.length - 2);
    for (var i = 2;i < arguments.length;i++) {
      args[i - 2] = arguments[i];
    }
    return parentCtor.prototype[methodName].apply(me, args);
  };
};
goog.base = function(me, opt_methodName, var_args) {
  var caller = arguments.callee.caller;
  if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !caller) {
    throw Error("arguments.caller not defined.  goog.base() cannot be used " + "with strict mode code. See " + "http://www.ecma-international.org/ecma-262/5.1/#sec-C");
  }
  if (caller.superClass_) {
    var ctorArgs = new Array(arguments.length - 1);
    for (var i = 1;i < arguments.length;i++) {
      ctorArgs[i - 1] = arguments[i];
    }
    return caller.superClass_.constructor.apply(me, ctorArgs);
  }
  var args = new Array(arguments.length - 2);
  for (var i = 2;i < arguments.length;i++) {
    args[i - 2] = arguments[i];
  }
  var foundCaller = false;
  for (var ctor = me.constructor;ctor;ctor = ctor.superClass_ && ctor.superClass_.constructor) {
    if (ctor.prototype[opt_methodName] === caller) {
      foundCaller = true;
    } else {
      if (foundCaller) {
        return ctor.prototype[opt_methodName].apply(me, args);
      }
    }
  }
  if (me[opt_methodName] === caller) {
    return me.constructor.prototype[opt_methodName].apply(me, args);
  } else {
    throw Error("goog.base called from a method of one name " + "to a method of a different name");
  }
};
goog.scope = function(fn) {
  fn.call(goog.global);
};
if (!COMPILED) {
  goog.global["COMPILED"] = COMPILED;
}
goog.defineClass = function(superClass, def) {
  var constructor = def.constructor;
  var statics = def.statics;
  if (!constructor || constructor == Object.prototype.constructor) {
    constructor = function() {
      throw Error("cannot instantiate an interface (no constructor defined).");
    };
  }
  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);
  if (superClass) {
    goog.inherits(cls, superClass);
  }
  delete def.constructor;
  delete def.statics;
  goog.defineClass.applyProperties_(cls.prototype, def);
  if (statics != null) {
    if (statics instanceof Function) {
      statics(cls);
    } else {
      goog.defineClass.applyProperties_(cls, statics);
    }
  }
  return cls;
};
goog.defineClass.ClassDescriptor;
goog.define("goog.defineClass.SEAL_CLASS_INSTANCES", goog.DEBUG);
goog.defineClass.createSealingConstructor_ = function(ctr, superClass) {
  if (goog.defineClass.SEAL_CLASS_INSTANCES && Object.seal instanceof Function) {
    if (superClass && superClass.prototype && superClass.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]) {
      return ctr;
    }
    var wrappedCtr = function() {
      var instance = ctr.apply(this, arguments) || this;
      instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];
      if (this.constructor === wrappedCtr) {
        Object.seal(instance);
      }
      return instance;
    };
    return wrappedCtr;
  }
  return ctr;
};
goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];
goog.defineClass.applyProperties_ = function(target, source) {
  var key;
  for (key in source) {
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = source[key];
    }
  }
  for (var i = 0;i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++) {
    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = source[key];
    }
  }
};
goog.tagUnsealableClass = function(ctr) {
  if (!COMPILED && goog.defineClass.SEAL_CLASS_INSTANCES) {
    ctr.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_] = true;
  }
};
goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_ = "goog_defineClass_legacy_unsealable";
goog.provide("goog.string");
goog.provide("goog.string.Unicode");
goog.define("goog.string.DETECT_DOUBLE_ESCAPING", false);
goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING", false);
goog.string.Unicode = {NBSP:"\u00a0"};
goog.string.startsWith = function(str, prefix) {
  return str.lastIndexOf(prefix, 0) == 0;
};
goog.string.endsWith = function(str, suffix) {
  var l = str.length - suffix.length;
  return l >= 0 && str.indexOf(suffix, l) == l;
};
goog.string.caseInsensitiveStartsWith = function(str, prefix) {
  return goog.string.caseInsensitiveCompare(prefix, str.substr(0, prefix.length)) == 0;
};
goog.string.caseInsensitiveEndsWith = function(str, suffix) {
  return goog.string.caseInsensitiveCompare(suffix, str.substr(str.length - suffix.length, suffix.length)) == 0;
};
goog.string.caseInsensitiveEquals = function(str1, str2) {
  return str1.toLowerCase() == str2.toLowerCase();
};
goog.string.subs = function(str, var_args) {
  var splitParts = str.split("%s");
  var returnString = "";
  var subsArguments = Array.prototype.slice.call(arguments, 1);
  while (subsArguments.length && splitParts.length > 1) {
    returnString += splitParts.shift() + subsArguments.shift();
  }
  return returnString + splitParts.join("%s");
};
goog.string.collapseWhitespace = function(str) {
  return str.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "");
};
goog.string.isEmptyOrWhitespace = function(str) {
  return /^[\s\xa0]*$/.test(str);
};
goog.string.isEmptyString = function(str) {
  return str.length == 0;
};
goog.string.isEmpty = goog.string.isEmptyOrWhitespace;
goog.string.isEmptyOrWhitespaceSafe = function(str) {
  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));
};
goog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;
goog.string.isBreakingWhitespace = function(str) {
  return !/[^\t\n\r ]/.test(str);
};
goog.string.isAlpha = function(str) {
  return !/[^a-zA-Z]/.test(str);
};
goog.string.isNumeric = function(str) {
  return !/[^0-9]/.test(str);
};
goog.string.isAlphaNumeric = function(str) {
  return !/[^a-zA-Z0-9]/.test(str);
};
goog.string.isSpace = function(ch) {
  return ch == " ";
};
goog.string.isUnicodeChar = function(ch) {
  return ch.length == 1 && ch >= " " && ch <= "~" || ch >= "\u0080" && ch <= "\ufffd";
};
goog.string.stripNewlines = function(str) {
  return str.replace(/(\r\n|\r|\n)+/g, " ");
};
goog.string.canonicalizeNewlines = function(str) {
  return str.replace(/(\r\n|\r|\n)/g, "\n");
};
goog.string.normalizeWhitespace = function(str) {
  return str.replace(/\xa0|\s/g, " ");
};
goog.string.normalizeSpaces = function(str) {
  return str.replace(/\xa0|[ \t]+/g, " ");
};
goog.string.collapseBreakingSpaces = function(str) {
  return str.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "");
};
goog.string.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(str) {
  return str.trim();
} : function(str) {
  return str.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
};
goog.string.trimLeft = function(str) {
  return str.replace(/^[\s\xa0]+/, "");
};
goog.string.trimRight = function(str) {
  return str.replace(/[\s\xa0]+$/, "");
};
goog.string.caseInsensitiveCompare = function(str1, str2) {
  var test1 = String(str1).toLowerCase();
  var test2 = String(str2).toLowerCase();
  if (test1 < test2) {
    return -1;
  } else {
    if (test1 == test2) {
      return 0;
    } else {
      return 1;
    }
  }
};
goog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {
  if (str1 == str2) {
    return 0;
  }
  if (!str1) {
    return -1;
  }
  if (!str2) {
    return 1;
  }
  var tokens1 = str1.toLowerCase().match(tokenizerRegExp);
  var tokens2 = str2.toLowerCase().match(tokenizerRegExp);
  var count = Math.min(tokens1.length, tokens2.length);
  for (var i = 0;i < count;i++) {
    var a = tokens1[i];
    var b = tokens2[i];
    if (a != b) {
      var num1 = parseInt(a, 10);
      if (!isNaN(num1)) {
        var num2 = parseInt(b, 10);
        if (!isNaN(num2) && num1 - num2) {
          return num1 - num2;
        }
      }
      return a < b ? -1 : 1;
    }
  }
  if (tokens1.length != tokens2.length) {
    return tokens1.length - tokens2.length;
  }
  return str1 < str2 ? -1 : 1;
};
goog.string.intAwareCompare = function(str1, str2) {
  return goog.string.numberAwareCompare_(str1, str2, /\d+|\D+/g);
};
goog.string.floatAwareCompare = function(str1, str2) {
  return goog.string.numberAwareCompare_(str1, str2, /\d+|\.\d+|\D+/g);
};
goog.string.numerateCompare = goog.string.floatAwareCompare;
goog.string.urlEncode = function(str) {
  return encodeURIComponent(String(str));
};
goog.string.urlDecode = function(str) {
  return decodeURIComponent(str.replace(/\+/g, " "));
};
goog.string.newLineToBr = function(str, opt_xml) {
  return str.replace(/(\r\n|\r|\n)/g, opt_xml ? "\x3cbr /\x3e" : "\x3cbr\x3e");
};
goog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {
  if (opt_isLikelyToContainHtmlChars) {
    str = str.replace(goog.string.AMP_RE_, "\x26amp;").replace(goog.string.LT_RE_, "\x26lt;").replace(goog.string.GT_RE_, "\x26gt;").replace(goog.string.QUOT_RE_, "\x26quot;").replace(goog.string.SINGLE_QUOTE_RE_, "\x26#39;").replace(goog.string.NULL_RE_, "\x26#0;");
    if (goog.string.DETECT_DOUBLE_ESCAPING) {
      str = str.replace(goog.string.E_RE_, "\x26#101;");
    }
    return str;
  } else {
    if (!goog.string.ALL_RE_.test(str)) {
      return str;
    }
    if (str.indexOf("\x26") != -1) {
      str = str.replace(goog.string.AMP_RE_, "\x26amp;");
    }
    if (str.indexOf("\x3c") != -1) {
      str = str.replace(goog.string.LT_RE_, "\x26lt;");
    }
    if (str.indexOf("\x3e") != -1) {
      str = str.replace(goog.string.GT_RE_, "\x26gt;");
    }
    if (str.indexOf('"') != -1) {
      str = str.replace(goog.string.QUOT_RE_, "\x26quot;");
    }
    if (str.indexOf("'") != -1) {
      str = str.replace(goog.string.SINGLE_QUOTE_RE_, "\x26#39;");
    }
    if (str.indexOf("\x00") != -1) {
      str = str.replace(goog.string.NULL_RE_, "\x26#0;");
    }
    if (goog.string.DETECT_DOUBLE_ESCAPING && str.indexOf("e") != -1) {
      str = str.replace(goog.string.E_RE_, "\x26#101;");
    }
    return str;
  }
};
goog.string.AMP_RE_ = /&/g;
goog.string.LT_RE_ = /</g;
goog.string.GT_RE_ = />/g;
goog.string.QUOT_RE_ = /"/g;
goog.string.SINGLE_QUOTE_RE_ = /'/g;
goog.string.NULL_RE_ = /\x00/g;
goog.string.E_RE_ = /e/g;
goog.string.ALL_RE_ = goog.string.DETECT_DOUBLE_ESCAPING ? /[\x00&<>"'e]/ : /[\x00&<>"']/;
goog.string.unescapeEntities = function(str) {
  if (goog.string.contains(str, "\x26")) {
    if (!goog.string.FORCE_NON_DOM_HTML_UNESCAPING && "document" in goog.global) {
      return goog.string.unescapeEntitiesUsingDom_(str);
    } else {
      return goog.string.unescapePureXmlEntities_(str);
    }
  }
  return str;
};
goog.string.unescapeEntitiesWithDocument = function(str, document) {
  if (goog.string.contains(str, "\x26")) {
    return goog.string.unescapeEntitiesUsingDom_(str, document);
  }
  return str;
};
goog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {
  var seen = {"\x26amp;":"\x26", "\x26lt;":"\x3c", "\x26gt;":"\x3e", "\x26quot;":'"'};
  var div;
  if (opt_document) {
    div = opt_document.createElement("div");
  } else {
    div = goog.global.document.createElement("div");
  }
  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {
    var value = seen[s];
    if (value) {
      return value;
    }
    if (entity.charAt(0) == "#") {
      var n = Number("0" + entity.substr(1));
      if (!isNaN(n)) {
        value = String.fromCharCode(n);
      }
    }
    if (!value) {
      div.innerHTML = s + " ";
      value = div.firstChild.nodeValue.slice(0, -1);
    }
    return seen[s] = value;
  });
};
goog.string.unescapePureXmlEntities_ = function(str) {
  return str.replace(/&([^;]+);/g, function(s, entity) {
    switch(entity) {
      case "amp":
        return "\x26";
      case "lt":
        return "\x3c";
      case "gt":
        return "\x3e";
      case "quot":
        return '"';
      default:
        if (entity.charAt(0) == "#") {
          var n = Number("0" + entity.substr(1));
          if (!isNaN(n)) {
            return String.fromCharCode(n);
          }
        }
        return s;
    }
  });
};
goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g;
goog.string.whitespaceEscape = function(str, opt_xml) {
  return goog.string.newLineToBr(str.replace(/  /g, " \x26#160;"), opt_xml);
};
goog.string.preserveSpaces = function(str) {
  return str.replace(/(^|[\n ]) /g, "$1" + goog.string.Unicode.NBSP);
};
goog.string.stripQuotes = function(str, quoteChars) {
  var length = quoteChars.length;
  for (var i = 0;i < length;i++) {
    var quoteChar = length == 1 ? quoteChars : quoteChars.charAt(i);
    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {
      return str.substring(1, str.length - 1);
    }
  }
  return str;
};
goog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {
  if (opt_protectEscapedCharacters) {
    str = goog.string.unescapeEntities(str);
  }
  if (str.length > chars) {
    str = str.substring(0, chars - 3) + "...";
  }
  if (opt_protectEscapedCharacters) {
    str = goog.string.htmlEscape(str);
  }
  return str;
};
goog.string.truncateMiddle = function(str, chars, opt_protectEscapedCharacters, opt_trailingChars) {
  if (opt_protectEscapedCharacters) {
    str = goog.string.unescapeEntities(str);
  }
  if (opt_trailingChars && str.length > chars) {
    if (opt_trailingChars > chars) {
      opt_trailingChars = chars;
    }
    var endPoint = str.length - opt_trailingChars;
    var startPoint = chars - opt_trailingChars;
    str = str.substring(0, startPoint) + "..." + str.substring(endPoint);
  } else {
    if (str.length > chars) {
      var half = Math.floor(chars / 2);
      var endPos = str.length - half;
      half += chars % 2;
      str = str.substring(0, half) + "..." + str.substring(endPos);
    }
  }
  if (opt_protectEscapedCharacters) {
    str = goog.string.htmlEscape(str);
  }
  return str;
};
goog.string.specialEscapeChars_ = {"\x00":"\\0", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t", "\x0B":"\\x0B", '"':'\\"', "\\":"\\\\", "\x3c":"\x3c"};
goog.string.jsEscapeCache_ = {"'":"\\'"};
goog.string.quote = function(s) {
  s = String(s);
  var sb = ['"'];
  for (var i = 0;i < s.length;i++) {
    var ch = s.charAt(i);
    var cc = ch.charCodeAt(0);
    sb[i + 1] = goog.string.specialEscapeChars_[ch] || (cc > 31 && cc < 127 ? ch : goog.string.escapeChar(ch));
  }
  sb.push('"');
  return sb.join("");
};
goog.string.escapeString = function(str) {
  var sb = [];
  for (var i = 0;i < str.length;i++) {
    sb[i] = goog.string.escapeChar(str.charAt(i));
  }
  return sb.join("");
};
goog.string.escapeChar = function(c) {
  if (c in goog.string.jsEscapeCache_) {
    return goog.string.jsEscapeCache_[c];
  }
  if (c in goog.string.specialEscapeChars_) {
    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];
  }
  var rv = c;
  var cc = c.charCodeAt(0);
  if (cc > 31 && cc < 127) {
    rv = c;
  } else {
    if (cc < 256) {
      rv = "\\x";
      if (cc < 16 || cc > 256) {
        rv += "0";
      }
    } else {
      rv = "\\u";
      if (cc < 4096) {
        rv += "0";
      }
    }
    rv += cc.toString(16).toUpperCase();
  }
  return goog.string.jsEscapeCache_[c] = rv;
};
goog.string.contains = function(str, subString) {
  return str.indexOf(subString) != -1;
};
goog.string.caseInsensitiveContains = function(str, subString) {
  return goog.string.contains(str.toLowerCase(), subString.toLowerCase());
};
goog.string.countOf = function(s, ss) {
  return s && ss ? s.split(ss).length - 1 : 0;
};
goog.string.removeAt = function(s, index, stringLength) {
  var resultStr = s;
  if (index >= 0 && index < s.length && stringLength > 0) {
    resultStr = s.substr(0, index) + s.substr(index + stringLength, s.length - index - stringLength);
  }
  return resultStr;
};
goog.string.remove = function(s, ss) {
  var re = new RegExp(goog.string.regExpEscape(ss), "");
  return s.replace(re, "");
};
goog.string.removeAll = function(s, ss) {
  var re = new RegExp(goog.string.regExpEscape(ss), "g");
  return s.replace(re, "");
};
goog.string.regExpEscape = function(s) {
  return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
};
goog.string.repeat = String.prototype.repeat ? function(string, length) {
  return string.repeat(length);
} : function(string, length) {
  return (new Array(length + 1)).join(string);
};
goog.string.padNumber = function(num, length, opt_precision) {
  var s = goog.isDef(opt_precision) ? num.toFixed(opt_precision) : String(num);
  var index = s.indexOf(".");
  if (index == -1) {
    index = s.length;
  }
  return goog.string.repeat("0", Math.max(0, length - index)) + s;
};
goog.string.makeSafe = function(obj) {
  return obj == null ? "" : String(obj);
};
goog.string.buildString = function(var_args) {
  return Array.prototype.join.call(arguments, "");
};
goog.string.getRandomString = function() {
  var x = 2147483648;
  return Math.floor(Math.random() * x).toString(36) + Math.abs(Math.floor(Math.random() * x) ^ goog.now()).toString(36);
};
goog.string.compareVersions = function(version1, version2) {
  var order = 0;
  var v1Subs = goog.string.trim(String(version1)).split(".");
  var v2Subs = goog.string.trim(String(version2)).split(".");
  var subCount = Math.max(v1Subs.length, v2Subs.length);
  for (var subIdx = 0;order == 0 && subIdx < subCount;subIdx++) {
    var v1Sub = v1Subs[subIdx] || "";
    var v2Sub = v2Subs[subIdx] || "";
    var v1CompParser = new RegExp("(\\d*)(\\D*)", "g");
    var v2CompParser = new RegExp("(\\d*)(\\D*)", "g");
    do {
      var v1Comp = v1CompParser.exec(v1Sub) || ["", "", ""];
      var v2Comp = v2CompParser.exec(v2Sub) || ["", "", ""];
      if (v1Comp[0].length == 0 && v2Comp[0].length == 0) {
        break;
      }
      var v1CompNum = v1Comp[1].length == 0 ? 0 : parseInt(v1Comp[1], 10);
      var v2CompNum = v2Comp[1].length == 0 ? 0 : parseInt(v2Comp[1], 10);
      order = goog.string.compareElements_(v1CompNum, v2CompNum) || goog.string.compareElements_(v1Comp[2].length == 0, v2Comp[2].length == 0) || goog.string.compareElements_(v1Comp[2], v2Comp[2]);
    } while (order == 0);
  }
  return order;
};
goog.string.compareElements_ = function(left, right) {
  if (left < right) {
    return -1;
  } else {
    if (left > right) {
      return 1;
    }
  }
  return 0;
};
goog.string.hashCode = function(str) {
  var result = 0;
  for (var i = 0;i < str.length;++i) {
    result = 31 * result + str.charCodeAt(i) >>> 0;
  }
  return result;
};
goog.string.uniqueStringCounter_ = Math.random() * 2147483648 | 0;
goog.string.createUniqueString = function() {
  return "goog_" + goog.string.uniqueStringCounter_++;
};
goog.string.toNumber = function(str) {
  var num = Number(str);
  if (num == 0 && goog.string.isEmptyOrWhitespace(str)) {
    return NaN;
  }
  return num;
};
goog.string.isLowerCamelCase = function(str) {
  return /^[a-z]+([A-Z][a-z]*)*$/.test(str);
};
goog.string.isUpperCamelCase = function(str) {
  return /^([A-Z][a-z]*)+$/.test(str);
};
goog.string.toCamelCase = function(str) {
  return String(str).replace(/\-([a-z])/g, function(all, match) {
    return match.toUpperCase();
  });
};
goog.string.toSelectorCase = function(str) {
  return String(str).replace(/([A-Z])/g, "-$1").toLowerCase();
};
goog.string.toTitleCase = function(str, opt_delimiters) {
  var delimiters = goog.isString(opt_delimiters) ? goog.string.regExpEscape(opt_delimiters) : "\\s";
  delimiters = delimiters ? "|[" + delimiters + "]+" : "";
  var regexp = new RegExp("(^" + delimiters + ")([a-z])", "g");
  return str.replace(regexp, function(all, p1, p2) {
    return p1 + p2.toUpperCase();
  });
};
goog.string.capitalize = function(str) {
  return String(str.charAt(0)).toUpperCase() + String(str.substr(1)).toLowerCase();
};
goog.string.parseInt = function(value) {
  if (isFinite(value)) {
    value = String(value);
  }
  if (goog.isString(value)) {
    return /^\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10);
  }
  return NaN;
};
goog.string.splitLimit = function(str, separator, limit) {
  var parts = str.split(separator);
  var returnVal = [];
  while (limit > 0 && parts.length) {
    returnVal.push(parts.shift());
    limit--;
  }
  if (parts.length) {
    returnVal.push(parts.join(separator));
  }
  return returnVal;
};
goog.string.editDistance = function(a, b) {
  var v0 = [];
  var v1 = [];
  if (a == b) {
    return 0;
  }
  if (!a.length || !b.length) {
    return Math.max(a.length, b.length);
  }
  for (var i = 0;i < b.length + 1;i++) {
    v0[i] = i;
  }
  for (var i = 0;i < a.length;i++) {
    v1[0] = i + 1;
    for (var j = 0;j < b.length;j++) {
      var cost = a[i] != b[j];
      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + cost);
    }
    for (var j = 0;j < v0.length;j++) {
      v0[j] = v1[j];
    }
  }
  return v1[b.length];
};
goog.provide("goog.object");
goog.object.forEach = function(obj, f, opt_obj) {
  for (var key in obj) {
    f.call(opt_obj, obj[key], key, obj);
  }
};
goog.object.filter = function(obj, f, opt_obj) {
  var res = {};
  for (var key in obj) {
    if (f.call(opt_obj, obj[key], key, obj)) {
      res[key] = obj[key];
    }
  }
  return res;
};
goog.object.map = function(obj, f, opt_obj) {
  var res = {};
  for (var key in obj) {
    res[key] = f.call(opt_obj, obj[key], key, obj);
  }
  return res;
};
goog.object.some = function(obj, f, opt_obj) {
  for (var key in obj) {
    if (f.call(opt_obj, obj[key], key, obj)) {
      return true;
    }
  }
  return false;
};
goog.object.every = function(obj, f, opt_obj) {
  for (var key in obj) {
    if (!f.call(opt_obj, obj[key], key, obj)) {
      return false;
    }
  }
  return true;
};
goog.object.getCount = function(obj) {
  var rv = 0;
  for (var key in obj) {
    rv++;
  }
  return rv;
};
goog.object.getAnyKey = function(obj) {
  for (var key in obj) {
    return key;
  }
};
goog.object.getAnyValue = function(obj) {
  for (var key in obj) {
    return obj[key];
  }
};
goog.object.contains = function(obj, val) {
  return goog.object.containsValue(obj, val);
};
goog.object.getValues = function(obj) {
  var res = [];
  var i = 0;
  for (var key in obj) {
    res[i++] = obj[key];
  }
  return res;
};
goog.object.getKeys = function(obj) {
  var res = [];
  var i = 0;
  for (var key in obj) {
    res[i++] = key;
  }
  return res;
};
goog.object.getValueByKeys = function(obj, var_args) {
  var isArrayLike = goog.isArrayLike(var_args);
  var keys = isArrayLike ? var_args : arguments;
  for (var i = isArrayLike ? 0 : 1;i < keys.length;i++) {
    obj = obj[keys[i]];
    if (!goog.isDef(obj)) {
      break;
    }
  }
  return obj;
};
goog.object.containsKey = function(obj, key) {
  return obj !== null && key in obj;
};
goog.object.containsValue = function(obj, val) {
  for (var key in obj) {
    if (obj[key] == val) {
      return true;
    }
  }
  return false;
};
goog.object.findKey = function(obj, f, opt_this) {
  for (var key in obj) {
    if (f.call(opt_this, obj[key], key, obj)) {
      return key;
    }
  }
  return undefined;
};
goog.object.findValue = function(obj, f, opt_this) {
  var key = goog.object.findKey(obj, f, opt_this);
  return key && obj[key];
};
goog.object.isEmpty = function(obj) {
  for (var key in obj) {
    return false;
  }
  return true;
};
goog.object.clear = function(obj) {
  for (var i in obj) {
    delete obj[i];
  }
};
goog.object.remove = function(obj, key) {
  var rv;
  if (rv = key in (obj)) {
    delete obj[key];
  }
  return rv;
};
goog.object.add = function(obj, key, val) {
  if (obj !== null && key in obj) {
    throw Error('The object already contains the key "' + key + '"');
  }
  goog.object.set(obj, key, val);
};
goog.object.get = function(obj, key, opt_val) {
  if (obj !== null && key in obj) {
    return obj[key];
  }
  return opt_val;
};
goog.object.set = function(obj, key, value) {
  obj[key] = value;
};
goog.object.setIfUndefined = function(obj, key, value) {
  return key in (obj) ? obj[key] : obj[key] = value;
};
goog.object.setWithReturnValueIfNotSet = function(obj, key, f) {
  if (key in obj) {
    return obj[key];
  }
  var val = f();
  obj[key] = val;
  return val;
};
goog.object.equals = function(a, b) {
  for (var k in a) {
    if (!(k in b) || a[k] !== b[k]) {
      return false;
    }
  }
  for (var k in b) {
    if (!(k in a)) {
      return false;
    }
  }
  return true;
};
goog.object.clone = function(obj) {
  var res = {};
  for (var key in obj) {
    res[key] = obj[key];
  }
  return res;
};
goog.object.unsafeClone = function(obj) {
  var type = goog.typeOf(obj);
  if (type == "object" || type == "array") {
    if (goog.isFunction(obj.clone)) {
      return obj.clone();
    }
    var clone = type == "array" ? [] : {};
    for (var key in obj) {
      clone[key] = goog.object.unsafeClone(obj[key]);
    }
    return clone;
  }
  return obj;
};
goog.object.transpose = function(obj) {
  var transposed = {};
  for (var key in obj) {
    transposed[obj[key]] = key;
  }
  return transposed;
};
goog.object.PROTOTYPE_FIELDS_ = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];
goog.object.extend = function(target, var_args) {
  var key, source;
  for (var i = 1;i < arguments.length;i++) {
    source = arguments[i];
    for (key in source) {
      target[key] = source[key];
    }
    for (var j = 0;j < goog.object.PROTOTYPE_FIELDS_.length;j++) {
      key = goog.object.PROTOTYPE_FIELDS_[j];
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }
};
goog.object.create = function(var_args) {
  var argLength = arguments.length;
  if (argLength == 1 && goog.isArray(arguments[0])) {
    return goog.object.create.apply(null, arguments[0]);
  }
  if (argLength % 2) {
    throw Error("Uneven number of arguments");
  }
  var rv = {};
  for (var i = 0;i < argLength;i += 2) {
    rv[arguments[i]] = arguments[i + 1];
  }
  return rv;
};
goog.object.createSet = function(var_args) {
  var argLength = arguments.length;
  if (argLength == 1 && goog.isArray(arguments[0])) {
    return goog.object.createSet.apply(null, arguments[0]);
  }
  var rv = {};
  for (var i = 0;i < argLength;i++) {
    rv[arguments[i]] = true;
  }
  return rv;
};
goog.object.createImmutableView = function(obj) {
  var result = obj;
  if (Object.isFrozen && !Object.isFrozen(obj)) {
    result = Object.create(obj);
    Object.freeze(result);
  }
  return result;
};
goog.object.isImmutableView = function(obj) {
  return !!Object.isFrozen && Object.isFrozen(obj);
};
goog.provide("goog.string.StringBuffer");
goog.string.StringBuffer = function(opt_a1, var_args) {
  if (opt_a1 != null) {
    this.append.apply(this, arguments);
  }
};
goog.string.StringBuffer.prototype.buffer_ = "";
goog.string.StringBuffer.prototype.set = function(s) {
  this.buffer_ = "" + s;
};
goog.string.StringBuffer.prototype.append = function(a1, opt_a2, var_args) {
  this.buffer_ += a1;
  if (opt_a2 != null) {
    for (var i = 1;i < arguments.length;i++) {
      this.buffer_ += arguments[i];
    }
  }
  return this;
};
goog.string.StringBuffer.prototype.clear = function() {
  this.buffer_ = "";
};
goog.string.StringBuffer.prototype.getLength = function() {
  return this.buffer_.length;
};
goog.string.StringBuffer.prototype.toString = function() {
  return this.buffer_;
};
goog.provide("goog.debug.Error");
goog.debug.Error = function(opt_msg) {
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, goog.debug.Error);
  } else {
    var stack = (new Error).stack;
    if (stack) {
      this.stack = stack;
    }
  }
  if (opt_msg) {
    this.message = String(opt_msg);
  }
  this.reportErrorToServer = true;
};
goog.inherits(goog.debug.Error, Error);
goog.debug.Error.prototype.name = "CustomError";
goog.provide("goog.dom.NodeType");
goog.dom.NodeType = {ELEMENT:1, ATTRIBUTE:2, TEXT:3, CDATA_SECTION:4, ENTITY_REFERENCE:5, ENTITY:6, PROCESSING_INSTRUCTION:7, COMMENT:8, DOCUMENT:9, DOCUMENT_TYPE:10, DOCUMENT_FRAGMENT:11, NOTATION:12};
goog.provide("goog.asserts");
goog.provide("goog.asserts.AssertionError");
goog.require("goog.debug.Error");
goog.require("goog.dom.NodeType");
goog.require("goog.string");
goog.define("goog.asserts.ENABLE_ASSERTS", goog.DEBUG);
goog.asserts.AssertionError = function(messagePattern, messageArgs) {
  messageArgs.unshift(messagePattern);
  goog.debug.Error.call(this, goog.string.subs.apply(null, messageArgs));
  messageArgs.shift();
  this.messagePattern = messagePattern;
};
goog.inherits(goog.asserts.AssertionError, goog.debug.Error);
goog.asserts.AssertionError.prototype.name = "AssertionError";
goog.asserts.DEFAULT_ERROR_HANDLER = function(e) {
  throw e;
};
goog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;
goog.asserts.doAssertFailure_ = function(defaultMessage, defaultArgs, givenMessage, givenArgs) {
  var message = "Assertion failed";
  if (givenMessage) {
    message += ": " + givenMessage;
    var args = givenArgs;
  } else {
    if (defaultMessage) {
      message += ": " + defaultMessage;
      args = defaultArgs;
    }
  }
  var e = new goog.asserts.AssertionError("" + message, args || []);
  goog.asserts.errorHandler_(e);
};
goog.asserts.setErrorHandler = function(errorHandler) {
  if (goog.asserts.ENABLE_ASSERTS) {
    goog.asserts.errorHandler_ = errorHandler;
  }
};
goog.asserts.assert = function(condition, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !condition) {
    goog.asserts.doAssertFailure_("", null, opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return condition;
};
goog.asserts.fail = function(opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS) {
    goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure" + (opt_message ? ": " + opt_message : ""), Array.prototype.slice.call(arguments, 1)));
  }
};
goog.asserts.assertNumber = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isNumber(value)) {
    goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertString = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isString(value)) {
    goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertFunction = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isFunction(value)) {
    goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertObject = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isObject(value)) {
    goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertArray = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isArray(value)) {
    goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertBoolean = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(value)) {
    goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertElement = function(value, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && (!goog.isObject(value) || value.nodeType != goog.dom.NodeType.ELEMENT)) {
    goog.asserts.doAssertFailure_("Expected Element but got %s: %s.", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return (value);
};
goog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {
  if (goog.asserts.ENABLE_ASSERTS && !(value instanceof type)) {
    goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.", [goog.asserts.getType_(type), goog.asserts.getType_(value)], opt_message, Array.prototype.slice.call(arguments, 3));
  }
  return value;
};
goog.asserts.assertObjectPrototypeIsIntact = function() {
  for (var key in Object.prototype) {
    goog.asserts.fail(key + " should not be enumerable in Object.prototype.");
  }
};
goog.asserts.getType_ = function(value) {
  if (value instanceof Function) {
    return value.displayName || value.name || "unknown type name";
  } else {
    if (value instanceof Object) {
      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);
    } else {
      return value === null ? "null" : typeof value;
    }
  }
};
goog.provide("goog.array");
goog.provide("goog.array.ArrayLike");
goog.require("goog.asserts");
goog.define("goog.NATIVE_ARRAY_PROTOTYPES", goog.TRUSTED_SITE);
goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS", false);
goog.array.ArrayLike;
goog.array.peek = function(array) {
  return array[array.length - 1];
};
goog.array.last = goog.array.peek;
goog.array.ARRAY_PROTOTYPE_ = Array.prototype;
goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.indexOf) ? function(arr, obj, opt_fromIndex) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.indexOf.call(arr, obj, opt_fromIndex);
} : function(arr, obj, opt_fromIndex) {
  var fromIndex = opt_fromIndex == null ? 0 : opt_fromIndex < 0 ? Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex;
  if (goog.isString(arr)) {
    if (!goog.isString(obj) || obj.length != 1) {
      return -1;
    }
    return arr.indexOf(obj, fromIndex);
  }
  for (var i = fromIndex;i < arr.length;i++) {
    if (i in arr && arr[i] === obj) {
      return i;
    }
  }
  return -1;
};
goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.lastIndexOf) ? function(arr, obj, opt_fromIndex) {
  goog.asserts.assert(arr.length != null);
  var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;
  return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(arr, obj, fromIndex);
} : function(arr, obj, opt_fromIndex) {
  var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;
  if (fromIndex < 0) {
    fromIndex = Math.max(0, arr.length + fromIndex);
  }
  if (goog.isString(arr)) {
    if (!goog.isString(obj) || obj.length != 1) {
      return -1;
    }
    return arr.lastIndexOf(obj, fromIndex);
  }
  for (var i = fromIndex;i >= 0;i--) {
    if (i in arr && arr[i] === obj) {
      return i;
    }
  }
  return -1;
};
goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.forEach) ? function(arr, f, opt_obj) {
  goog.asserts.assert(arr.length != null);
  goog.array.ARRAY_PROTOTYPE_.forEach.call(arr, f, opt_obj);
} : function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2) {
      f.call(opt_obj, arr2[i], i, arr);
    }
  }
};
goog.array.forEachRight = function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = l - 1;i >= 0;--i) {
    if (i in arr2) {
      f.call(opt_obj, arr2[i], i, arr);
    }
  }
};
goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.filter) ? function(arr, f, opt_obj) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.filter.call(arr, f, opt_obj);
} : function(arr, f, opt_obj) {
  var l = arr.length;
  var res = [];
  var resLength = 0;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2) {
      var val = arr2[i];
      if (f.call(opt_obj, val, i, arr)) {
        res[resLength++] = val;
      }
    }
  }
  return res;
};
goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.map) ? function(arr, f, opt_obj) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.map.call(arr, f, opt_obj);
} : function(arr, f, opt_obj) {
  var l = arr.length;
  var res = new Array(l);
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2) {
      res[i] = f.call(opt_obj, arr2[i], i, arr);
    }
  }
  return res;
};
goog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.reduce) ? function(arr, f, val, opt_obj) {
  goog.asserts.assert(arr.length != null);
  if (opt_obj) {
    f = goog.bind(f, opt_obj);
  }
  return goog.array.ARRAY_PROTOTYPE_.reduce.call(arr, f, val);
} : function(arr, f, val, opt_obj) {
  var rval = val;
  goog.array.forEach(arr, function(val, index) {
    rval = f.call(opt_obj, rval, val, index, arr);
  });
  return rval;
};
goog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.reduceRight) ? function(arr, f, val, opt_obj) {
  goog.asserts.assert(arr.length != null);
  if (opt_obj) {
    f = goog.bind(f, opt_obj);
  }
  return goog.array.ARRAY_PROTOTYPE_.reduceRight.call(arr, f, val);
} : function(arr, f, val, opt_obj) {
  var rval = val;
  goog.array.forEachRight(arr, function(val, index) {
    rval = f.call(opt_obj, rval, val, index, arr);
  });
  return rval;
};
goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.some) ? function(arr, f, opt_obj) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.some.call(arr, f, opt_obj);
} : function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {
      return true;
    }
  }
  return false;
};
goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && (goog.array.ASSUME_NATIVE_FUNCTIONS || goog.array.ARRAY_PROTOTYPE_.every) ? function(arr, f, opt_obj) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.every.call(arr, f, opt_obj);
} : function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {
      return false;
    }
  }
  return true;
};
goog.array.count = function(arr, f, opt_obj) {
  var count = 0;
  goog.array.forEach(arr, function(element, index, arr) {
    if (f.call(opt_obj, element, index, arr)) {
      ++count;
    }
  }, opt_obj);
  return count;
};
goog.array.find = function(arr, f, opt_obj) {
  var i = goog.array.findIndex(arr, f, opt_obj);
  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];
};
goog.array.findIndex = function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = 0;i < l;i++) {
    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {
      return i;
    }
  }
  return -1;
};
goog.array.findRight = function(arr, f, opt_obj) {
  var i = goog.array.findIndexRight(arr, f, opt_obj);
  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];
};
goog.array.findIndexRight = function(arr, f, opt_obj) {
  var l = arr.length;
  var arr2 = goog.isString(arr) ? arr.split("") : arr;
  for (var i = l - 1;i >= 0;i--) {
    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {
      return i;
    }
  }
  return -1;
};
goog.array.contains = function(arr, obj) {
  return goog.array.indexOf(arr, obj) >= 0;
};
goog.array.isEmpty = function(arr) {
  return arr.length == 0;
};
goog.array.clear = function(arr) {
  if (!goog.isArray(arr)) {
    for (var i = arr.length - 1;i >= 0;i--) {
      delete arr[i];
    }
  }
  arr.length = 0;
};
goog.array.insert = function(arr, obj) {
  if (!goog.array.contains(arr, obj)) {
    arr.push(obj);
  }
};
goog.array.insertAt = function(arr, obj, opt_i) {
  goog.array.splice(arr, opt_i, 0, obj);
};
goog.array.insertArrayAt = function(arr, elementsToAdd, opt_i) {
  goog.partial(goog.array.splice, arr, opt_i, 0).apply(null, elementsToAdd);
};
goog.array.insertBefore = function(arr, obj, opt_obj2) {
  var i;
  if (arguments.length == 2 || (i = goog.array.indexOf(arr, opt_obj2)) < 0) {
    arr.push(obj);
  } else {
    goog.array.insertAt(arr, obj, i);
  }
};
goog.array.remove = function(arr, obj) {
  var i = goog.array.indexOf(arr, obj);
  var rv;
  if (rv = i >= 0) {
    goog.array.removeAt(arr, i);
  }
  return rv;
};
goog.array.removeAt = function(arr, i) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.splice.call(arr, i, 1).length == 1;
};
goog.array.removeIf = function(arr, f, opt_obj) {
  var i = goog.array.findIndex(arr, f, opt_obj);
  if (i >= 0) {
    goog.array.removeAt(arr, i);
    return true;
  }
  return false;
};
goog.array.removeAllIf = function(arr, f, opt_obj) {
  var removedCount = 0;
  goog.array.forEachRight(arr, function(val, index) {
    if (f.call(opt_obj, val, index, arr)) {
      if (goog.array.removeAt(arr, index)) {
        removedCount++;
      }
    }
  });
  return removedCount;
};
goog.array.concat = function(var_args) {
  return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_, arguments);
};
goog.array.join = function(var_args) {
  return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_, arguments);
};
goog.array.toArray = function(object) {
  var length = object.length;
  if (length > 0) {
    var rv = new Array(length);
    for (var i = 0;i < length;i++) {
      rv[i] = object[i];
    }
    return rv;
  }
  return [];
};
goog.array.clone = goog.array.toArray;
goog.array.extend = function(arr1, var_args) {
  for (var i = 1;i < arguments.length;i++) {
    var arr2 = arguments[i];
    if (goog.isArrayLike(arr2)) {
      var len1 = arr1.length || 0;
      var len2 = arr2.length || 0;
      arr1.length = len1 + len2;
      for (var j = 0;j < len2;j++) {
        arr1[len1 + j] = arr2[j];
      }
    } else {
      arr1.push(arr2);
    }
  }
};
goog.array.splice = function(arr, index, howMany, var_args) {
  goog.asserts.assert(arr.length != null);
  return goog.array.ARRAY_PROTOTYPE_.splice.apply(arr, goog.array.slice(arguments, 1));
};
goog.array.slice = function(arr, start, opt_end) {
  goog.asserts.assert(arr.length != null);
  if (arguments.length <= 2) {
    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start);
  } else {
    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start, opt_end);
  }
};
goog.array.removeDuplicates = function(arr, opt_rv, opt_hashFn) {
  var returnArray = opt_rv || arr;
  var defaultHashFn = function(item) {
    return goog.isObject(item) ? "o" + goog.getUid(item) : (typeof item).charAt(0) + item;
  };
  var hashFn = opt_hashFn || defaultHashFn;
  var seen = {}, cursorInsert = 0, cursorRead = 0;
  while (cursorRead < arr.length) {
    var current = arr[cursorRead++];
    var key = hashFn(current);
    if (!Object.prototype.hasOwnProperty.call(seen, key)) {
      seen[key] = true;
      returnArray[cursorInsert++] = current;
    }
  }
  returnArray.length = cursorInsert;
};
goog.array.binarySearch = function(arr, target, opt_compareFn) {
  return goog.array.binarySearch_(arr, opt_compareFn || goog.array.defaultCompare, false, target);
};
goog.array.binarySelect = function(arr, evaluator, opt_obj) {
  return goog.array.binarySearch_(arr, evaluator, true, undefined, opt_obj);
};
goog.array.binarySearch_ = function(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {
  var left = 0;
  var right = arr.length;
  var found;
  while (left < right) {
    var middle = left + right >> 1;
    var compareResult;
    if (isEvaluator) {
      compareResult = compareFn.call(opt_selfObj, arr[middle], middle, arr);
    } else {
      compareResult = compareFn(opt_target, arr[middle]);
    }
    if (compareResult > 0) {
      left = middle + 1;
    } else {
      right = middle;
      found = !compareResult;
    }
  }
  return found ? left : ~left;
};
goog.array.sort = function(arr, opt_compareFn) {
  arr.sort(opt_compareFn || goog.array.defaultCompare);
};
goog.array.stableSort = function(arr, opt_compareFn) {
  for (var i = 0;i < arr.length;i++) {
    arr[i] = {index:i, value:arr[i]};
  }
  var valueCompareFn = opt_compareFn || goog.array.defaultCompare;
  function stableCompareFn(obj1, obj2) {
    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;
  }
  goog.array.sort(arr, stableCompareFn);
  for (var i = 0;i < arr.length;i++) {
    arr[i] = arr[i].value;
  }
};
goog.array.sortByKey = function(arr, keyFn, opt_compareFn) {
  var keyCompareFn = opt_compareFn || goog.array.defaultCompare;
  goog.array.sort(arr, function(a, b) {
    return keyCompareFn(keyFn(a), keyFn(b));
  });
};
goog.array.sortObjectsByKey = function(arr, key, opt_compareFn) {
  goog.array.sortByKey(arr, function(obj) {
    return obj[key];
  }, opt_compareFn);
};
goog.array.isSorted = function(arr, opt_compareFn, opt_strict) {
  var compare = opt_compareFn || goog.array.defaultCompare;
  for (var i = 1;i < arr.length;i++) {
    var compareResult = compare(arr[i - 1], arr[i]);
    if (compareResult > 0 || compareResult == 0 && opt_strict) {
      return false;
    }
  }
  return true;
};
goog.array.equals = function(arr1, arr2, opt_equalsFn) {
  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) || arr1.length != arr2.length) {
    return false;
  }
  var l = arr1.length;
  var equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;
  for (var i = 0;i < l;i++) {
    if (!equalsFn(arr1[i], arr2[i])) {
      return false;
    }
  }
  return true;
};
goog.array.compare3 = function(arr1, arr2, opt_compareFn) {
  var compare = opt_compareFn || goog.array.defaultCompare;
  var l = Math.min(arr1.length, arr2.length);
  for (var i = 0;i < l;i++) {
    var result = compare(arr1[i], arr2[i]);
    if (result != 0) {
      return result;
    }
  }
  return goog.array.defaultCompare(arr1.length, arr2.length);
};
goog.array.defaultCompare = function(a, b) {
  return a > b ? 1 : a < b ? -1 : 0;
};
goog.array.inverseDefaultCompare = function(a, b) {
  return -goog.array.defaultCompare(a, b);
};
goog.array.defaultCompareEquality = function(a, b) {
  return a === b;
};
goog.array.binaryInsert = function(array, value, opt_compareFn) {
  var index = goog.array.binarySearch(array, value, opt_compareFn);
  if (index < 0) {
    goog.array.insertAt(array, value, -(index + 1));
    return true;
  }
  return false;
};
goog.array.binaryRemove = function(array, value, opt_compareFn) {
  var index = goog.array.binarySearch(array, value, opt_compareFn);
  return index >= 0 ? goog.array.removeAt(array, index) : false;
};
goog.array.bucket = function(array, sorter, opt_obj) {
  var buckets = {};
  for (var i = 0;i < array.length;i++) {
    var value = array[i];
    var key = sorter.call(opt_obj, value, i, array);
    if (goog.isDef(key)) {
      var bucket = buckets[key] || (buckets[key] = []);
      bucket.push(value);
    }
  }
  return buckets;
};
goog.array.toObject = function(arr, keyFunc, opt_obj) {
  var ret = {};
  goog.array.forEach(arr, function(element, index) {
    ret[keyFunc.call(opt_obj, element, index, arr)] = element;
  });
  return ret;
};
goog.array.range = function(startOrEnd, opt_end, opt_step) {
  var array = [];
  var start = 0;
  var end = startOrEnd;
  var step = opt_step || 1;
  if (opt_end !== undefined) {
    start = startOrEnd;
    end = opt_end;
  }
  if (step * (end - start) < 0) {
    return [];
  }
  if (step > 0) {
    for (var i = start;i < end;i += step) {
      array.push(i);
    }
  } else {
    for (var i = start;i > end;i += step) {
      array.push(i);
    }
  }
  return array;
};
goog.array.repeat = function(value, n) {
  var array = [];
  for (var i = 0;i < n;i++) {
    array[i] = value;
  }
  return array;
};
goog.array.flatten = function(var_args) {
  var CHUNK_SIZE = 8192;
  var result = [];
  for (var i = 0;i < arguments.length;i++) {
    var element = arguments[i];
    if (goog.isArray(element)) {
      for (var c = 0;c < element.length;c += CHUNK_SIZE) {
        var chunk = goog.array.slice(element, c, c + CHUNK_SIZE);
        var recurseResult = goog.array.flatten.apply(null, chunk);
        for (var r = 0;r < recurseResult.length;r++) {
          result.push(recurseResult[r]);
        }
      }
    } else {
      result.push(element);
    }
  }
  return result;
};
goog.array.rotate = function(array, n) {
  goog.asserts.assert(array.length != null);
  if (array.length) {
    n %= array.length;
    if (n > 0) {
      goog.array.ARRAY_PROTOTYPE_.unshift.apply(array, array.splice(-n, n));
    } else {
      if (n < 0) {
        goog.array.ARRAY_PROTOTYPE_.push.apply(array, array.splice(0, -n));
      }
    }
  }
  return array;
};
goog.array.moveItem = function(arr, fromIndex, toIndex) {
  goog.asserts.assert(fromIndex >= 0 && fromIndex < arr.length);
  goog.asserts.assert(toIndex >= 0 && toIndex < arr.length);
  var removedItems = goog.array.ARRAY_PROTOTYPE_.splice.call(arr, fromIndex, 1);
  goog.array.ARRAY_PROTOTYPE_.splice.call(arr, toIndex, 0, removedItems[0]);
};
goog.array.zip = function(var_args) {
  if (!arguments.length) {
    return [];
  }
  var result = [];
  var minLen = arguments[0].length;
  for (var i = 1;i < arguments.length;i++) {
    if (arguments[i].length < minLen) {
      minLen = arguments[i].length;
    }
  }
  for (var i = 0;i < minLen;i++) {
    var value = [];
    for (var j = 0;j < arguments.length;j++) {
      value.push(arguments[j][i]);
    }
    result.push(value);
  }
  return result;
};
goog.array.shuffle = function(arr, opt_randFn) {
  var randFn = opt_randFn || Math.random;
  for (var i = arr.length - 1;i > 0;i--) {
    var j = Math.floor(randFn() * (i + 1));
    var tmp = arr[i];
    arr[i] = arr[j];
    arr[j] = tmp;
  }
};
goog.array.copyByIndex = function(arr, index_arr) {
  var result = [];
  goog.array.forEach(index_arr, function(index) {
    result.push(arr[index]);
  });
  return result;
};
goog.provide("cljs.core");
goog.require("goog.string");
goog.require("goog.object");
goog.require("goog.array");
goog.require("goog.string.StringBuffer");
cljs.core._STAR_clojurescript_version_STAR_ = "1.7.228";
cljs.core._STAR_unchecked_if_STAR_ = false;
goog.define("cljs.core._STAR_target_STAR_", "default");
cljs.core._STAR_ns_STAR_ = null;
cljs.core._STAR_out_STAR_ = null;
cljs.core._STAR_assert_STAR_ = true;
if (typeof cljs.core._STAR_print_fn_STAR_ !== "undefined") {
} else {
  cljs.core._STAR_print_fn_STAR_ = function cljs$core$_STAR_print_fn_STAR_(_) {
    throw new Error("No *print-fn* fn set for evaluation environment");
  };
}
if (typeof cljs.core._STAR_print_err_fn_STAR_ !== "undefined") {
} else {
  cljs.core._STAR_print_err_fn_STAR_ = function cljs$core$_STAR_print_err_fn_STAR_(_) {
    throw new Error("No *print-err-fn* fn set for evaluation environment");
  };
}
cljs.core.set_print_fn_BANG_ = function cljs$core$set_print_fn_BANG_(f) {
  return cljs.core._STAR_print_fn_STAR_ = f;
};
cljs.core.set_print_err_fn_BANG_ = function cljs$core$set_print_err_fn_BANG_(f) {
  return cljs.core._STAR_print_err_fn_STAR_ = f;
};
cljs.core._STAR_flush_on_newline_STAR_ = true;
cljs.core._STAR_print_newline_STAR_ = true;
cljs.core._STAR_print_readably_STAR_ = true;
cljs.core._STAR_print_meta_STAR_ = false;
cljs.core._STAR_print_dup_STAR_ = false;
cljs.core._STAR_print_length_STAR_ = null;
cljs.core._STAR_print_level_STAR_ = null;
if (typeof cljs.core._STAR_loaded_libs_STAR_ !== "undefined") {
} else {
  cljs.core._STAR_loaded_libs_STAR_ = null;
}
cljs.core.pr_opts = function cljs$core$pr_opts() {
  return new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null, "flush-on-newline", "flush-on-newline", -151457939), cljs.core._STAR_flush_on_newline_STAR_, new cljs.core.Keyword(null, "readably", "readably", 1129599760), cljs.core._STAR_print_readably_STAR_, new cljs.core.Keyword(null, "meta", "meta", 1499536964), cljs.core._STAR_print_meta_STAR_, new cljs.core.Keyword(null, "dup", "dup", 556298533), cljs.core._STAR_print_dup_STAR_, new cljs.core.Keyword(null, "print-length", "print-length", 
  1931866356), cljs.core._STAR_print_length_STAR_], null);
};
cljs.core.enable_console_print_BANG_ = function cljs$core$enable_console_print_BANG_() {
  cljs.core._STAR_print_newline_STAR_ = false;
  cljs.core._STAR_print_fn_STAR_ = function() {
    var G__8368__delegate = function(args) {
      return console.log.apply(console, cljs.core.into_array.cljs$core$IFn$_invoke$arity$1 ? cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args) : cljs.core.into_array.call(null, args));
    };
    var G__8368 = function(var_args) {
      var args = null;
      if (arguments.length > 0) {
        var G__8369__i = 0, G__8369__a = new Array(arguments.length - 0);
        while (G__8369__i < G__8369__a.length) {
          G__8369__a[G__8369__i] = arguments[G__8369__i + 0];
          ++G__8369__i;
        }
        args = new cljs.core.IndexedSeq(G__8369__a, 0);
      }
      return G__8368__delegate.call(this, args);
    };
    G__8368.cljs$lang$maxFixedArity = 0;
    G__8368.cljs$lang$applyTo = function(arglist__8370) {
      var args = cljs.core.seq(arglist__8370);
      return G__8368__delegate(args);
    };
    G__8368.cljs$core$IFn$_invoke$arity$variadic = G__8368__delegate;
    return G__8368;
  }();
  cljs.core._STAR_print_err_fn_STAR_ = function() {
    var G__8371__delegate = function(args) {
      return console.error.apply(console, cljs.core.into_array.cljs$core$IFn$_invoke$arity$1 ? cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args) : cljs.core.into_array.call(null, args));
    };
    var G__8371 = function(var_args) {
      var args = null;
      if (arguments.length > 0) {
        var G__8372__i = 0, G__8372__a = new Array(arguments.length - 0);
        while (G__8372__i < G__8372__a.length) {
          G__8372__a[G__8372__i] = arguments[G__8372__i + 0];
          ++G__8372__i;
        }
        args = new cljs.core.IndexedSeq(G__8372__a, 0);
      }
      return G__8371__delegate.call(this, args);
    };
    G__8371.cljs$lang$maxFixedArity = 0;
    G__8371.cljs$lang$applyTo = function(arglist__8373) {
      var args = cljs.core.seq(arglist__8373);
      return G__8371__delegate(args);
    };
    G__8371.cljs$core$IFn$_invoke$arity$variadic = G__8371__delegate;
    return G__8371;
  }();
  return null;
};
cljs.core.truth_ = function cljs$core$truth_(x) {
  return x != null && x !== false;
};
cljs.core.not_native = null;
cljs.core.identical_QMARK_ = function cljs$core$identical_QMARK_(x, y) {
  return x === y;
};
cljs.core.nil_QMARK_ = function cljs$core$nil_QMARK_(x) {
  return x == null;
};
cljs.core.array_QMARK_ = function cljs$core$array_QMARK_(x) {
  if (cljs.core._STAR_target_STAR_ === "nodejs") {
    return Array.isArray(x);
  } else {
    return x instanceof Array;
  }
};
cljs.core.number_QMARK_ = function cljs$core$number_QMARK_(x) {
  return typeof x === "number";
};
cljs.core.not = function cljs$core$not(x) {
  if (x == null) {
    return true;
  } else {
    if (x === false) {
      return true;
    } else {
      return false;
    }
  }
};
cljs.core.some_QMARK_ = function cljs$core$some_QMARK_(x) {
  return !(x == null);
};
cljs.core.object_QMARK_ = function cljs$core$object_QMARK_(x) {
  if (!(x == null)) {
    return x.constructor === Object;
  } else {
    return false;
  }
};
cljs.core.string_QMARK_ = function cljs$core$string_QMARK_(x) {
  return goog.isString(x);
};
cljs.core.char_QMARK_ = function cljs$core$char_QMARK_(x) {
  return goog.string.isUnicodeChar(x);
};
cljs.core.native_satisfies_QMARK_ = function cljs$core$native_satisfies_QMARK_(p, x) {
  var x__$1 = x == null ? null : x;
  if (p[goog.typeOf(x__$1)]) {
    return true;
  } else {
    if (p["_"]) {
      return true;
    } else {
      return false;
    }
  }
};
cljs.core.is_proto_ = function cljs$core$is_proto_(x) {
  return x.constructor.prototype === x;
};
cljs.core._STAR_main_cli_fn_STAR_ = null;
cljs.core.type = function cljs$core$type(x) {
  if (x == null) {
    return null;
  } else {
    return x.constructor;
  }
};
cljs.core.missing_protocol = function cljs$core$missing_protocol(proto, obj) {
  var ty = cljs.core.type(obj);
  var ty__$1 = cljs.core.truth_(function() {
    var and__6144__auto__ = ty;
    if (cljs.core.truth_(and__6144__auto__)) {
      return ty.cljs$lang$type;
    } else {
      return and__6144__auto__;
    }
  }()) ? ty.cljs$lang$ctorStr : goog.typeOf(obj);
  return new Error(["No protocol method ", proto, " defined for type ", ty__$1, ": ", obj].join(""));
};
cljs.core.type__GT_str = function cljs$core$type__GT_str(ty) {
  var temp__4655__auto__ = ty.cljs$lang$ctorStr;
  if (cljs.core.truth_(temp__4655__auto__)) {
    var s = temp__4655__auto__;
    return s;
  } else {
    return [cljs.core.str(ty)].join("");
  }
};
cljs.core.load_file = function cljs$core$load_file(file) {
  if (cljs.core.truth_(COMPILED)) {
    return null;
  } else {
    return goog.nodeGlobalRequire(file);
  }
};
if (typeof Symbol !== "undefined" && goog.typeOf(Symbol) === "function") {
  cljs.core.ITER_SYMBOL = Symbol.iterator;
} else {
  cljs.core.ITER_SYMBOL = "@@iterator";
}
cljs.core.CHAR_MAP = {"]":"_RBRACK_", "'":"_SINGLEQUOTE_", "\x3d":"_EQ_", '"':"_DOUBLEQUOTE_", "!":"_BANG_", "*":"_STAR_", "%":"_PERCENT_", "|":"_BAR_", "~":"_TILDE_", "/":"_SLASH_", "\\":"_BSLASH_", "-":"_", "?":"_QMARK_", "\x26":"_AMPERSAND_", ":":"_COLON_", "\x3c":"_LT_", "{":"_LBRACE_", "}":"_RBRACE_", "[":"_LBRACK_", "#":"_SHARP_", "^":"_CARET_", "+":"_PLUS_", "@":"_CIRCA_", "\x3e":"_GT_"};
cljs.core.DEMUNGE_MAP = {"_RBRACE_":"}", "_COLON_":":", "_BANG_":"!", "_QMARK_":"?", "_BSLASH_":"\\\\", "_SLASH_":"/", "_PERCENT_":"%", "_PLUS_":"+", "_SHARP_":"#", "_LBRACE_":"{", "_BAR_":"|", "_LBRACK_":"[", "_EQ_":"\x3d", "_":"-", "_TILDE_":"~", "_RBRACK_":"]", "_GT_":"\x3e", "_SINGLEQUOTE_":"'", "_CIRCA_":"@", "_AMPERSAND_":"\x26", "_DOUBLEQUOTE_":'\\"', "_CARET_":"^", "_LT_":"\x3c", "_STAR_":"*"};
cljs.core.DEMUNGE_PATTERN = null;
cljs.core.system_time = function cljs$core$system_time() {
  if (typeof performance !== "undefined" && !(performance.now == null)) {
    return performance.now();
  } else {
    if (typeof process !== "undefined" && !(process.hrtime == null)) {
      var t = process.hrtime();
      return (t[0] * 1E9 + t[1]) / 1E6;
    } else {
      return (new Date).getTime();
    }
  }
};
cljs.core.make_array = function cljs$core$make_array(var_args) {
  var args8374 = [];
  var len__7214__auto___8377 = arguments.length;
  var i__7215__auto___8378 = 0;
  while (true) {
    if (i__7215__auto___8378 < len__7214__auto___8377) {
      args8374.push(arguments[i__7215__auto___8378]);
      var G__8379 = i__7215__auto___8378 + 1;
      i__7215__auto___8378 = G__8379;
      continue;
    } else {
    }
    break;
  }
  var G__8376 = args8374.length;
  switch(G__8376) {
    case 1:
      return cljs.core.make_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.make_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8374.length)].join(""));;
  }
};
cljs.core.make_array.cljs$core$IFn$_invoke$arity$1 = function(size) {
  return new Array(size);
};
cljs.core.make_array.cljs$core$IFn$_invoke$arity$2 = function(type, size) {
  return new Array(size);
};
cljs.core.make_array.cljs$lang$maxFixedArity = 2;
cljs.core.aclone = function cljs$core$aclone(arr) {
  var len = arr.length;
  var new_arr = new Array(len);
  var n__7059__auto___8381 = len;
  var i_8382 = 0;
  while (true) {
    if (i_8382 < n__7059__auto___8381) {
      new_arr[i_8382] = arr[i_8382];
      var G__8383 = i_8382 + 1;
      i_8382 = G__8383;
      continue;
    } else {
    }
    break;
  }
  return new_arr;
};
cljs.core.array = function cljs$core$array(var_args) {
  var a = new Array(arguments.length);
  var i = 0;
  while (true) {
    if (i < a.length) {
      a[i] = arguments[i];
      var G__8384 = i + 1;
      i = G__8384;
      continue;
    } else {
      return a;
    }
    break;
  }
};
cljs.core.aget = function cljs$core$aget(var_args) {
  var args8385 = [];
  var len__7214__auto___8394 = arguments.length;
  var i__7215__auto___8395 = 0;
  while (true) {
    if (i__7215__auto___8395 < len__7214__auto___8394) {
      args8385.push(arguments[i__7215__auto___8395]);
      var G__8396 = i__7215__auto___8395 + 1;
      i__7215__auto___8395 = G__8396;
      continue;
    } else {
    }
    break;
  }
  var G__8390 = args8385.length;
  switch(G__8390) {
    case 2:
      return cljs.core.aget.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8385.slice(2), 0);
      return cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.aget.cljs$core$IFn$_invoke$arity$2 = function(array, i) {
  return array[i];
};
cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic = function(array, i, idxs) {
  var G__8391 = cljs.core.aget;
  var G__8392 = array[i];
  var G__8393 = idxs;
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$3 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$3(G__8391, G__8392, G__8393) : cljs.core.apply.call(null, G__8391, G__8392, G__8393);
};
cljs.core.aget.cljs$lang$applyTo = function(seq8386) {
  var G__8387 = cljs.core.first(seq8386);
  var seq8386__$1 = cljs.core.next(seq8386);
  var G__8388 = cljs.core.first(seq8386__$1);
  var seq8386__$2 = cljs.core.next(seq8386__$1);
  return cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(G__8387, G__8388, seq8386__$2);
};
cljs.core.aget.cljs$lang$maxFixedArity = 2;
cljs.core.aset = function cljs$core$aset(var_args) {
  var args8398 = [];
  var len__7214__auto___8409 = arguments.length;
  var i__7215__auto___8410 = 0;
  while (true) {
    if (i__7215__auto___8410 < len__7214__auto___8409) {
      args8398.push(arguments[i__7215__auto___8410]);
      var G__8411 = i__7215__auto___8410 + 1;
      i__7215__auto___8410 = G__8411;
      continue;
    } else {
    }
    break;
  }
  var G__8404 = args8398.length;
  switch(G__8404) {
    case 3:
      return cljs.core.aset.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8398.slice(3), 0);
      return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.aset.cljs$core$IFn$_invoke$arity$3 = function(array, i, val) {
  return array[i] = val;
};
cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic = function(array, idx, idx2, idxv) {
  var G__8405 = cljs.core.aset;
  var G__8406 = array[idx];
  var G__8407 = idx2;
  var G__8408 = idxv;
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$4 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$4(G__8405, G__8406, G__8407, G__8408) : cljs.core.apply.call(null, G__8405, G__8406, G__8407, G__8408);
};
cljs.core.aset.cljs$lang$applyTo = function(seq8399) {
  var G__8400 = cljs.core.first(seq8399);
  var seq8399__$1 = cljs.core.next(seq8399);
  var G__8401 = cljs.core.first(seq8399__$1);
  var seq8399__$2 = cljs.core.next(seq8399__$1);
  var G__8402 = cljs.core.first(seq8399__$2);
  var seq8399__$3 = cljs.core.next(seq8399__$2);
  return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(G__8400, G__8401, G__8402, seq8399__$3);
};
cljs.core.aset.cljs$lang$maxFixedArity = 3;
cljs.core.alength = function cljs$core$alength(array) {
  return array.length;
};
cljs.core.into_array = function cljs$core$into_array(var_args) {
  var args8413 = [];
  var len__7214__auto___8419 = arguments.length;
  var i__7215__auto___8420 = 0;
  while (true) {
    if (i__7215__auto___8420 < len__7214__auto___8419) {
      args8413.push(arguments[i__7215__auto___8420]);
      var G__8421 = i__7215__auto___8420 + 1;
      i__7215__auto___8420 = G__8421;
      continue;
    } else {
    }
    break;
  }
  var G__8415 = args8413.length;
  switch(G__8415) {
    case 1:
      return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8413.length)].join(""));;
  }
};
cljs.core.into_array.cljs$core$IFn$_invoke$arity$1 = function(aseq) {
  return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(null, aseq);
};
cljs.core.into_array.cljs$core$IFn$_invoke$arity$2 = function(type, aseq) {
  var G__8416 = function(a, x) {
    a.push(x);
    return a;
  };
  var G__8417 = [];
  var G__8418 = aseq;
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3 ? cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(G__8416, G__8417, G__8418) : cljs.core.reduce.call(null, G__8416, G__8417, G__8418);
};
cljs.core.into_array.cljs$lang$maxFixedArity = 2;
cljs.core.js_invoke = function cljs$core$js_invoke(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___8426 = arguments.length;
  var i__7215__auto___8427 = 0;
  while (true) {
    if (i__7215__auto___8427 < len__7214__auto___8426) {
      args__7221__auto__.push(arguments[i__7215__auto___8427]);
      var G__8428 = i__7215__auto___8427 + 1;
      i__7215__auto___8427 = G__8428;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic = function(obj, s, args) {
  return obj[s].apply(obj, cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args));
};
cljs.core.js_invoke.cljs$lang$maxFixedArity = 2;
cljs.core.js_invoke.cljs$lang$applyTo = function(seq8423) {
  var G__8424 = cljs.core.first(seq8423);
  var seq8423__$1 = cljs.core.next(seq8423);
  var G__8425 = cljs.core.first(seq8423__$1);
  var seq8423__$2 = cljs.core.next(seq8423__$1);
  return cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(G__8424, G__8425, seq8423__$2);
};
cljs.core.Fn = function() {
};
cljs.core.IFn = function() {
};
cljs.core._invoke = function cljs$core$_invoke(var_args) {
  var args8429 = [];
  var len__7214__auto___8432 = arguments.length;
  var i__7215__auto___8433 = 0;
  while (true) {
    if (i__7215__auto___8433 < len__7214__auto___8432) {
      args8429.push(arguments[i__7215__auto___8433]);
      var G__8434 = i__7215__auto___8433 + 1;
      i__7215__auto___8433 = G__8434;
      continue;
    } else {
    }
    break;
  }
  var G__8431 = args8429.length;
  switch(G__8431) {
    case 1:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    case 6:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    case 7:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$7(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);
      break;
    case 8:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$8(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7]);
      break;
    case 9:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$9(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8]);
      break;
    case 10:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$10(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9]);
      break;
    case 11:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$11(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10]);
      break;
    case 12:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$12(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11]);
      break;
    case 13:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$13(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12]);
      break;
    case 14:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$14(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13]);
      break;
    case 15:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$15(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14]);
      break;
    case 16:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$16(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15]);
      break;
    case 17:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$17(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16]);
      break;
    case 18:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$18(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16], arguments[17]);
      break;
    case 19:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$19(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16], arguments[17], arguments[18]);
      break;
    case 20:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$20(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16], arguments[17], arguments[18], arguments[19]);
      break;
    case 21:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$21(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16], arguments[17], arguments[18], arguments[19], arguments[20]);
      break;
    case 22:
      return cljs.core._invoke.cljs$core$IFn$_invoke$arity$22(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6], arguments[7], arguments[8], arguments[9], arguments[10], arguments[11], arguments[12], arguments[13], arguments[14], arguments[15], arguments[16], arguments[17], arguments[18], arguments[19], arguments[20], arguments[21]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8429.length)].join(""));;
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$1 = function(this$) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$1 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(this$) : m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(this$) : m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$2 = function(this$, a) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$2 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$2(this$, a);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(this$, a) : m__6812__auto__.call(null, this$, a);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(this$, a) : m__6812__auto____$1.call(null, this$, a);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$3 = function(this$, a, b) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$3 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$3(this$, a, b);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$, a, b) : m__6812__auto__.call(null, this$, a, b);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$, a, b) : m__6812__auto____$1.call(null, this$, a, b);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$4 = function(this$, a, b, c) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$4 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$4(this$, a, b, c);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$4 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$4(this$, a, b, c) : m__6812__auto__.call(null, this$, a, b, c);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4(this$, a, b, c) : m__6812__auto____$1.call(null, this$, a, b, c);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$5 = function(this$, a, b, c, d) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$5 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$5(this$, a, b, c, d);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$5 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$5(this$, a, b, c, d) : m__6812__auto__.call(null, this$, a, b, c, d);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5(this$, a, b, c, d) : m__6812__auto____$1.call(null, this$, a, b, c, d);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$6 = function(this$, a, b, c, d, e) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$6 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$6(this$, a, b, c, d, e);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$6 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$6(this$, a, b, c, d, e) : m__6812__auto__.call(null, this$, a, b, c, d, e);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$6 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$6(this$, a, b, c, d, e) : m__6812__auto____$1.call(null, this$, a, b, c, d, e);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$7 = function(this$, a, b, c, d, e, f) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$7 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$7(this$, a, b, c, d, e, f);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$7 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$7(this$, a, b, c, d, e, f) : m__6812__auto__.call(null, this$, a, b, c, d, e, f);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$7 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$7(this$, a, b, c, d, e, f) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$8 = function(this$, a, b, c, d, e, f, g) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$8 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$8(this$, a, b, c, d, e, f, g);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$8 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$8(this$, a, b, c, d, e, f, g) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$8 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$8(this$, a, b, c, d, e, f, g) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$9 = function(this$, a, b, c, d, e, f, g, h) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$9 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$9(this$, a, b, c, d, e, f, g, h);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$9 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$9(this$, a, b, c, d, e, f, g, h) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$9 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$9(this$, a, b, c, d, e, f, g, h) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$10 = function(this$, a, b, c, d, e, f, g, h, i) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$10 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$10(this$, a, b, c, d, e, f, g, h, i);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$10 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$10(this$, a, b, c, d, e, f, g, h, i) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$10 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$10(this$, a, b, c, d, e, f, g, h, i) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$11 = function(this$, a, b, c, d, e, f, g, h, i, j) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$11 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$11(this$, a, b, c, d, e, f, g, h, i, j);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$11 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$11(this$, a, b, c, d, e, f, g, h, i, j) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$11 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$11(this$, a, b, c, d, e, f, g, h, i, j) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$12 = function(this$, a, b, c, d, e, f, g, h, i, j, k) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$12 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$12(this$, a, b, c, d, e, f, g, h, i, j, k);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$12 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$12(this$, a, b, c, d, e, f, g, h, i, j, k) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$12 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$12(this$, a, b, c, d, e, f, g, h, i, j, k) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$13 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$13 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$13(this$, a, b, c, d, e, f, g, h, i, j, k, l);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$13 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$13(this$, a, b, c, d, e, f, g, h, i, j, k, l) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$13 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$13(this$, a, b, c, d, e, f, g, h, i, j, k, l) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$14 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$14 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$14(this$, a, b, c, d, e, f, g, h, i, j, k, l, m);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$14 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$14(this$, a, b, c, d, e, f, g, h, i, j, k, l, m) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$14 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$14(this$, a, b, c, d, e, f, g, h, i, j, k, l, m) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$15 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$15 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$15(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$15 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$15(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$15 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$15(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$16 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$16 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$16(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$16 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$16(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$16 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$16(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$17 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$17 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$17(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$17 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$17(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$17 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$17(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$18 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$18 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$18(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$18 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$18(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$18 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$18(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$19 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$19 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$19(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$19 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$19(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$19 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$19(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$20 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$20 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$20(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$20 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$20(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$20 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$20(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$21 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$21 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$21(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$21 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$21(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$21 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$21(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$22 = function(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
  if (!(this$ == null) && !(this$.cljs$core$IFn$_invoke$arity$22 == null)) {
    return this$.cljs$core$IFn$_invoke$arity$22(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._invoke[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$22 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$22(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) : m__6812__auto__.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
    } else {
      var m__6812__auto____$1 = cljs.core._invoke["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$22 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$22(this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) : m__6812__auto____$1.call(null, this$, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
      } else {
        throw cljs.core.missing_protocol("IFn.-invoke", this$);
      }
    }
  }
};
cljs.core._invoke.cljs$lang$maxFixedArity = 22;
cljs.core.ICloneable = function() {
};
cljs.core._clone = function cljs$core$_clone(value) {
  if (!(value == null) && !(value.cljs$core$ICloneable$_clone$arity$1 == null)) {
    return value.cljs$core$ICloneable$_clone$arity$1(value);
  } else {
    var x__6811__auto__ = value == null ? null : value;
    var m__6812__auto__ = cljs.core._clone[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(value) : m__6812__auto__.call(null, value);
    } else {
      var m__6812__auto____$1 = cljs.core._clone["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(value) : m__6812__auto____$1.call(null, value);
      } else {
        throw cljs.core.missing_protocol("ICloneable.-clone", value);
      }
    }
  }
};
cljs.core.ICounted = function() {
};
cljs.core._count = function cljs$core$_count(coll) {
  if (!(coll == null) && !(coll.cljs$core$ICounted$_count$arity$1 == null)) {
    return coll.cljs$core$ICounted$_count$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._count[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._count["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("ICounted.-count", coll);
      }
    }
  }
};
cljs.core.IEmptyableCollection = function() {
};
cljs.core._empty = function cljs$core$_empty(coll) {
  if (!(coll == null) && !(coll.cljs$core$IEmptyableCollection$_empty$arity$1 == null)) {
    return coll.cljs$core$IEmptyableCollection$_empty$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._empty[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._empty["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IEmptyableCollection.-empty", coll);
      }
    }
  }
};
cljs.core.ICollection = function() {
};
cljs.core._conj = function cljs$core$_conj(coll, o) {
  if (!(coll == null) && !(coll.cljs$core$ICollection$_conj$arity$2 == null)) {
    return coll.cljs$core$ICollection$_conj$arity$2(coll, o);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._conj[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, o) : m__6812__auto__.call(null, coll, o);
    } else {
      var m__6812__auto____$1 = cljs.core._conj["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, o) : m__6812__auto____$1.call(null, coll, o);
      } else {
        throw cljs.core.missing_protocol("ICollection.-conj", coll);
      }
    }
  }
};
cljs.core.IIndexed = function() {
};
cljs.core._nth = function cljs$core$_nth(var_args) {
  var args8436 = [];
  var len__7214__auto___8439 = arguments.length;
  var i__7215__auto___8440 = 0;
  while (true) {
    if (i__7215__auto___8440 < len__7214__auto___8439) {
      args8436.push(arguments[i__7215__auto___8440]);
      var G__8441 = i__7215__auto___8440 + 1;
      i__7215__auto___8440 = G__8441;
      continue;
    } else {
    }
    break;
  }
  var G__8438 = args8436.length;
  switch(G__8438) {
    case 2:
      return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8436.length)].join(""));;
  }
};
cljs.core._nth.cljs$core$IFn$_invoke$arity$2 = function(coll, n) {
  if (!(coll == null) && !(coll.cljs$core$IIndexed$_nth$arity$2 == null)) {
    return coll.cljs$core$IIndexed$_nth$arity$2(coll, n);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._nth[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, n) : m__6812__auto__.call(null, coll, n);
    } else {
      var m__6812__auto____$1 = cljs.core._nth["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, n) : m__6812__auto____$1.call(null, coll, n);
      } else {
        throw cljs.core.missing_protocol("IIndexed.-nth", coll);
      }
    }
  }
};
cljs.core._nth.cljs$core$IFn$_invoke$arity$3 = function(coll, n, not_found) {
  if (!(coll == null) && !(coll.cljs$core$IIndexed$_nth$arity$3 == null)) {
    return coll.cljs$core$IIndexed$_nth$arity$3(coll, n, not_found);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._nth[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, n, not_found) : m__6812__auto__.call(null, coll, n, not_found);
    } else {
      var m__6812__auto____$1 = cljs.core._nth["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, n, not_found) : m__6812__auto____$1.call(null, coll, n, not_found);
      } else {
        throw cljs.core.missing_protocol("IIndexed.-nth", coll);
      }
    }
  }
};
cljs.core._nth.cljs$lang$maxFixedArity = 3;
cljs.core.ASeq = function() {
};
cljs.core.ISeq = function() {
};
cljs.core._first = function cljs$core$_first(coll) {
  if (!(coll == null) && !(coll.cljs$core$ISeq$_first$arity$1 == null)) {
    return coll.cljs$core$ISeq$_first$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._first[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._first["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("ISeq.-first", coll);
      }
    }
  }
};
cljs.core._rest = function cljs$core$_rest(coll) {
  if (!(coll == null) && !(coll.cljs$core$ISeq$_rest$arity$1 == null)) {
    return coll.cljs$core$ISeq$_rest$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._rest[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._rest["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("ISeq.-rest", coll);
      }
    }
  }
};
cljs.core.INext = function() {
};
cljs.core._next = function cljs$core$_next(coll) {
  if (!(coll == null) && !(coll.cljs$core$INext$_next$arity$1 == null)) {
    return coll.cljs$core$INext$_next$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._next[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._next["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("INext.-next", coll);
      }
    }
  }
};
cljs.core.ILookup = function() {
};
cljs.core._lookup = function cljs$core$_lookup(var_args) {
  var args8443 = [];
  var len__7214__auto___8446 = arguments.length;
  var i__7215__auto___8447 = 0;
  while (true) {
    if (i__7215__auto___8447 < len__7214__auto___8446) {
      args8443.push(arguments[i__7215__auto___8447]);
      var G__8448 = i__7215__auto___8447 + 1;
      i__7215__auto___8447 = G__8448;
      continue;
    } else {
    }
    break;
  }
  var G__8445 = args8443.length;
  switch(G__8445) {
    case 2:
      return cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8443.length)].join(""));;
  }
};
cljs.core._lookup.cljs$core$IFn$_invoke$arity$2 = function(o, k) {
  if (!(o == null) && !(o.cljs$core$ILookup$_lookup$arity$2 == null)) {
    return o.cljs$core$ILookup$_lookup$arity$2(o, k);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._lookup[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, k) : m__6812__auto__.call(null, o, k);
    } else {
      var m__6812__auto____$1 = cljs.core._lookup["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, k) : m__6812__auto____$1.call(null, o, k);
      } else {
        throw cljs.core.missing_protocol("ILookup.-lookup", o);
      }
    }
  }
};
cljs.core._lookup.cljs$core$IFn$_invoke$arity$3 = function(o, k, not_found) {
  if (!(o == null) && !(o.cljs$core$ILookup$_lookup$arity$3 == null)) {
    return o.cljs$core$ILookup$_lookup$arity$3(o, k, not_found);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._lookup[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o, k, not_found) : m__6812__auto__.call(null, o, k, not_found);
    } else {
      var m__6812__auto____$1 = cljs.core._lookup["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o, k, not_found) : m__6812__auto____$1.call(null, o, k, not_found);
      } else {
        throw cljs.core.missing_protocol("ILookup.-lookup", o);
      }
    }
  }
};
cljs.core._lookup.cljs$lang$maxFixedArity = 3;
cljs.core.IAssociative = function() {
};
cljs.core._contains_key_QMARK_ = function cljs$core$_contains_key_QMARK_(coll, k) {
  if (!(coll == null) && !(coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 == null)) {
    return coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2(coll, k);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._contains_key_QMARK_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, k) : m__6812__auto__.call(null, coll, k);
    } else {
      var m__6812__auto____$1 = cljs.core._contains_key_QMARK_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, k) : m__6812__auto____$1.call(null, coll, k);
      } else {
        throw cljs.core.missing_protocol("IAssociative.-contains-key?", coll);
      }
    }
  }
};
cljs.core._assoc = function cljs$core$_assoc(coll, k, v) {
  if (!(coll == null) && !(coll.cljs$core$IAssociative$_assoc$arity$3 == null)) {
    return coll.cljs$core$IAssociative$_assoc$arity$3(coll, k, v);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._assoc[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, k, v) : m__6812__auto__.call(null, coll, k, v);
    } else {
      var m__6812__auto____$1 = cljs.core._assoc["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, k, v) : m__6812__auto____$1.call(null, coll, k, v);
      } else {
        throw cljs.core.missing_protocol("IAssociative.-assoc", coll);
      }
    }
  }
};
cljs.core.IMap = function() {
};
cljs.core._dissoc = function cljs$core$_dissoc(coll, k) {
  if (!(coll == null) && !(coll.cljs$core$IMap$_dissoc$arity$2 == null)) {
    return coll.cljs$core$IMap$_dissoc$arity$2(coll, k);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._dissoc[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, k) : m__6812__auto__.call(null, coll, k);
    } else {
      var m__6812__auto____$1 = cljs.core._dissoc["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, k) : m__6812__auto____$1.call(null, coll, k);
      } else {
        throw cljs.core.missing_protocol("IMap.-dissoc", coll);
      }
    }
  }
};
cljs.core.IMapEntry = function() {
};
cljs.core._key = function cljs$core$_key(coll) {
  if (!(coll == null) && !(coll.cljs$core$IMapEntry$_key$arity$1 == null)) {
    return coll.cljs$core$IMapEntry$_key$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._key[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._key["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IMapEntry.-key", coll);
      }
    }
  }
};
cljs.core._val = function cljs$core$_val(coll) {
  if (!(coll == null) && !(coll.cljs$core$IMapEntry$_val$arity$1 == null)) {
    return coll.cljs$core$IMapEntry$_val$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._val[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._val["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IMapEntry.-val", coll);
      }
    }
  }
};
cljs.core.ISet = function() {
};
cljs.core._disjoin = function cljs$core$_disjoin(coll, v) {
  if (!(coll == null) && !(coll.cljs$core$ISet$_disjoin$arity$2 == null)) {
    return coll.cljs$core$ISet$_disjoin$arity$2(coll, v);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._disjoin[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, v) : m__6812__auto__.call(null, coll, v);
    } else {
      var m__6812__auto____$1 = cljs.core._disjoin["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, v) : m__6812__auto____$1.call(null, coll, v);
      } else {
        throw cljs.core.missing_protocol("ISet.-disjoin", coll);
      }
    }
  }
};
cljs.core.IStack = function() {
};
cljs.core._peek = function cljs$core$_peek(coll) {
  if (!(coll == null) && !(coll.cljs$core$IStack$_peek$arity$1 == null)) {
    return coll.cljs$core$IStack$_peek$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._peek[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._peek["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IStack.-peek", coll);
      }
    }
  }
};
cljs.core._pop = function cljs$core$_pop(coll) {
  if (!(coll == null) && !(coll.cljs$core$IStack$_pop$arity$1 == null)) {
    return coll.cljs$core$IStack$_pop$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._pop[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._pop["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IStack.-pop", coll);
      }
    }
  }
};
cljs.core.IVector = function() {
};
cljs.core._assoc_n = function cljs$core$_assoc_n(coll, n, val) {
  if (!(coll == null) && !(coll.cljs$core$IVector$_assoc_n$arity$3 == null)) {
    return coll.cljs$core$IVector$_assoc_n$arity$3(coll, n, val);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._assoc_n[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, n, val) : m__6812__auto__.call(null, coll, n, val);
    } else {
      var m__6812__auto____$1 = cljs.core._assoc_n["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, n, val) : m__6812__auto____$1.call(null, coll, n, val);
      } else {
        throw cljs.core.missing_protocol("IVector.-assoc-n", coll);
      }
    }
  }
};
cljs.core.IDeref = function() {
};
cljs.core._deref = function cljs$core$_deref(o) {
  if (!(o == null) && !(o.cljs$core$IDeref$_deref$arity$1 == null)) {
    return o.cljs$core$IDeref$_deref$arity$1(o);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._deref[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto__.call(null, o);
    } else {
      var m__6812__auto____$1 = cljs.core._deref["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto____$1.call(null, o);
      } else {
        throw cljs.core.missing_protocol("IDeref.-deref", o);
      }
    }
  }
};
cljs.core.IDerefWithTimeout = function() {
};
cljs.core._deref_with_timeout = function cljs$core$_deref_with_timeout(o, msec, timeout_val) {
  if (!(o == null) && !(o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3 == null)) {
    return o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3(o, msec, timeout_val);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._deref_with_timeout[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o, msec, timeout_val) : m__6812__auto__.call(null, o, msec, timeout_val);
    } else {
      var m__6812__auto____$1 = cljs.core._deref_with_timeout["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o, msec, timeout_val) : m__6812__auto____$1.call(null, o, msec, timeout_val);
      } else {
        throw cljs.core.missing_protocol("IDerefWithTimeout.-deref-with-timeout", o);
      }
    }
  }
};
cljs.core.IMeta = function() {
};
cljs.core._meta = function cljs$core$_meta(o) {
  if (!(o == null) && !(o.cljs$core$IMeta$_meta$arity$1 == null)) {
    return o.cljs$core$IMeta$_meta$arity$1(o);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._meta[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto__.call(null, o);
    } else {
      var m__6812__auto____$1 = cljs.core._meta["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto____$1.call(null, o);
      } else {
        throw cljs.core.missing_protocol("IMeta.-meta", o);
      }
    }
  }
};
cljs.core.IWithMeta = function() {
};
cljs.core._with_meta = function cljs$core$_with_meta(o, meta) {
  if (!(o == null) && !(o.cljs$core$IWithMeta$_with_meta$arity$2 == null)) {
    return o.cljs$core$IWithMeta$_with_meta$arity$2(o, meta);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._with_meta[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, meta) : m__6812__auto__.call(null, o, meta);
    } else {
      var m__6812__auto____$1 = cljs.core._with_meta["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, meta) : m__6812__auto____$1.call(null, o, meta);
      } else {
        throw cljs.core.missing_protocol("IWithMeta.-with-meta", o);
      }
    }
  }
};
cljs.core.IReduce = function() {
};
cljs.core._reduce = function cljs$core$_reduce(var_args) {
  var args8450 = [];
  var len__7214__auto___8453 = arguments.length;
  var i__7215__auto___8454 = 0;
  while (true) {
    if (i__7215__auto___8454 < len__7214__auto___8453) {
      args8450.push(arguments[i__7215__auto___8454]);
      var G__8455 = i__7215__auto___8454 + 1;
      i__7215__auto___8454 = G__8455;
      continue;
    } else {
    }
    break;
  }
  var G__8452 = args8450.length;
  switch(G__8452) {
    case 2:
      return cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8450.length)].join(""));;
  }
};
cljs.core._reduce.cljs$core$IFn$_invoke$arity$2 = function(coll, f) {
  if (!(coll == null) && !(coll.cljs$core$IReduce$_reduce$arity$2 == null)) {
    return coll.cljs$core$IReduce$_reduce$arity$2(coll, f);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._reduce[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, f) : m__6812__auto__.call(null, coll, f);
    } else {
      var m__6812__auto____$1 = cljs.core._reduce["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, f) : m__6812__auto____$1.call(null, coll, f);
      } else {
        throw cljs.core.missing_protocol("IReduce.-reduce", coll);
      }
    }
  }
};
cljs.core._reduce.cljs$core$IFn$_invoke$arity$3 = function(coll, f, start) {
  if (!(coll == null) && !(coll.cljs$core$IReduce$_reduce$arity$3 == null)) {
    return coll.cljs$core$IReduce$_reduce$arity$3(coll, f, start);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._reduce[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, f, start) : m__6812__auto__.call(null, coll, f, start);
    } else {
      var m__6812__auto____$1 = cljs.core._reduce["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, f, start) : m__6812__auto____$1.call(null, coll, f, start);
      } else {
        throw cljs.core.missing_protocol("IReduce.-reduce", coll);
      }
    }
  }
};
cljs.core._reduce.cljs$lang$maxFixedArity = 3;
cljs.core.IKVReduce = function() {
};
cljs.core._kv_reduce = function cljs$core$_kv_reduce(coll, f, init) {
  if (!(coll == null) && !(coll.cljs$core$IKVReduce$_kv_reduce$arity$3 == null)) {
    return coll.cljs$core$IKVReduce$_kv_reduce$arity$3(coll, f, init);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._kv_reduce[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, f, init) : m__6812__auto__.call(null, coll, f, init);
    } else {
      var m__6812__auto____$1 = cljs.core._kv_reduce["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, f, init) : m__6812__auto____$1.call(null, coll, f, init);
      } else {
        throw cljs.core.missing_protocol("IKVReduce.-kv-reduce", coll);
      }
    }
  }
};
cljs.core.IEquiv = function() {
};
cljs.core._equiv = function cljs$core$_equiv(o, other) {
  if (!(o == null) && !(o.cljs$core$IEquiv$_equiv$arity$2 == null)) {
    return o.cljs$core$IEquiv$_equiv$arity$2(o, other);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._equiv[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, other) : m__6812__auto__.call(null, o, other);
    } else {
      var m__6812__auto____$1 = cljs.core._equiv["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, other) : m__6812__auto____$1.call(null, o, other);
      } else {
        throw cljs.core.missing_protocol("IEquiv.-equiv", o);
      }
    }
  }
};
cljs.core.IHash = function() {
};
cljs.core._hash = function cljs$core$_hash(o) {
  if (!(o == null) && !(o.cljs$core$IHash$_hash$arity$1 == null)) {
    return o.cljs$core$IHash$_hash$arity$1(o);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._hash[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto__.call(null, o);
    } else {
      var m__6812__auto____$1 = cljs.core._hash["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto____$1.call(null, o);
      } else {
        throw cljs.core.missing_protocol("IHash.-hash", o);
      }
    }
  }
};
cljs.core.ISeqable = function() {
};
cljs.core._seq = function cljs$core$_seq(o) {
  if (!(o == null) && !(o.cljs$core$ISeqable$_seq$arity$1 == null)) {
    return o.cljs$core$ISeqable$_seq$arity$1(o);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._seq[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto__.call(null, o);
    } else {
      var m__6812__auto____$1 = cljs.core._seq["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o) : m__6812__auto____$1.call(null, o);
      } else {
        throw cljs.core.missing_protocol("ISeqable.-seq", o);
      }
    }
  }
};
cljs.core.ISequential = function() {
};
cljs.core.IList = function() {
};
cljs.core.IRecord = function() {
};
cljs.core.IReversible = function() {
};
cljs.core._rseq = function cljs$core$_rseq(coll) {
  if (!(coll == null) && !(coll.cljs$core$IReversible$_rseq$arity$1 == null)) {
    return coll.cljs$core$IReversible$_rseq$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._rseq[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._rseq["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IReversible.-rseq", coll);
      }
    }
  }
};
cljs.core.ISorted = function() {
};
cljs.core._sorted_seq = function cljs$core$_sorted_seq(coll, ascending_QMARK_) {
  if (!(coll == null) && !(coll.cljs$core$ISorted$_sorted_seq$arity$2 == null)) {
    return coll.cljs$core$ISorted$_sorted_seq$arity$2(coll, ascending_QMARK_);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._sorted_seq[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, ascending_QMARK_) : m__6812__auto__.call(null, coll, ascending_QMARK_);
    } else {
      var m__6812__auto____$1 = cljs.core._sorted_seq["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, ascending_QMARK_) : m__6812__auto____$1.call(null, coll, ascending_QMARK_);
      } else {
        throw cljs.core.missing_protocol("ISorted.-sorted-seq", coll);
      }
    }
  }
};
cljs.core._sorted_seq_from = function cljs$core$_sorted_seq_from(coll, k, ascending_QMARK_) {
  if (!(coll == null) && !(coll.cljs$core$ISorted$_sorted_seq_from$arity$3 == null)) {
    return coll.cljs$core$ISorted$_sorted_seq_from$arity$3(coll, k, ascending_QMARK_);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._sorted_seq_from[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll, k, ascending_QMARK_) : m__6812__auto__.call(null, coll, k, ascending_QMARK_);
    } else {
      var m__6812__auto____$1 = cljs.core._sorted_seq_from["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll, k, ascending_QMARK_) : m__6812__auto____$1.call(null, coll, k, ascending_QMARK_);
      } else {
        throw cljs.core.missing_protocol("ISorted.-sorted-seq-from", coll);
      }
    }
  }
};
cljs.core._entry_key = function cljs$core$_entry_key(coll, entry) {
  if (!(coll == null) && !(coll.cljs$core$ISorted$_entry_key$arity$2 == null)) {
    return coll.cljs$core$ISorted$_entry_key$arity$2(coll, entry);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._entry_key[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll, entry) : m__6812__auto__.call(null, coll, entry);
    } else {
      var m__6812__auto____$1 = cljs.core._entry_key["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll, entry) : m__6812__auto____$1.call(null, coll, entry);
      } else {
        throw cljs.core.missing_protocol("ISorted.-entry-key", coll);
      }
    }
  }
};
cljs.core._comparator = function cljs$core$_comparator(coll) {
  if (!(coll == null) && !(coll.cljs$core$ISorted$_comparator$arity$1 == null)) {
    return coll.cljs$core$ISorted$_comparator$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._comparator[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._comparator["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("ISorted.-comparator", coll);
      }
    }
  }
};
cljs.core.IWriter = function() {
};
cljs.core._write = function cljs$core$_write(writer, s) {
  if (!(writer == null) && !(writer.cljs$core$IWriter$_write$arity$2 == null)) {
    return writer.cljs$core$IWriter$_write$arity$2(writer, s);
  } else {
    var x__6811__auto__ = writer == null ? null : writer;
    var m__6812__auto__ = cljs.core._write[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(writer, s) : m__6812__auto__.call(null, writer, s);
    } else {
      var m__6812__auto____$1 = cljs.core._write["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(writer, s) : m__6812__auto____$1.call(null, writer, s);
      } else {
        throw cljs.core.missing_protocol("IWriter.-write", writer);
      }
    }
  }
};
cljs.core._flush = function cljs$core$_flush(writer) {
  if (!(writer == null) && !(writer.cljs$core$IWriter$_flush$arity$1 == null)) {
    return writer.cljs$core$IWriter$_flush$arity$1(writer);
  } else {
    var x__6811__auto__ = writer == null ? null : writer;
    var m__6812__auto__ = cljs.core._flush[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(writer) : m__6812__auto__.call(null, writer);
    } else {
      var m__6812__auto____$1 = cljs.core._flush["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(writer) : m__6812__auto____$1.call(null, writer);
      } else {
        throw cljs.core.missing_protocol("IWriter.-flush", writer);
      }
    }
  }
};
cljs.core.IPrintWithWriter = function() {
};
cljs.core._pr_writer = function cljs$core$_pr_writer(o, writer, opts) {
  if (!(o == null) && !(o.cljs$core$IPrintWithWriter$_pr_writer$arity$3 == null)) {
    return o.cljs$core$IPrintWithWriter$_pr_writer$arity$3(o, writer, opts);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._pr_writer[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o, writer, opts) : m__6812__auto__.call(null, o, writer, opts);
    } else {
      var m__6812__auto____$1 = cljs.core._pr_writer["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o, writer, opts) : m__6812__auto____$1.call(null, o, writer, opts);
      } else {
        throw cljs.core.missing_protocol("IPrintWithWriter.-pr-writer", o);
      }
    }
  }
};
cljs.core.IPending = function() {
};
cljs.core._realized_QMARK_ = function cljs$core$_realized_QMARK_(x) {
  if (!(x == null) && !(x.cljs$core$IPending$_realized_QMARK_$arity$1 == null)) {
    return x.cljs$core$IPending$_realized_QMARK_$arity$1(x);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._realized_QMARK_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto__.call(null, x);
    } else {
      var m__6812__auto____$1 = cljs.core._realized_QMARK_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto____$1.call(null, x);
      } else {
        throw cljs.core.missing_protocol("IPending.-realized?", x);
      }
    }
  }
};
cljs.core.IWatchable = function() {
};
cljs.core._notify_watches = function cljs$core$_notify_watches(this$, oldval, newval) {
  if (!(this$ == null) && !(this$.cljs$core$IWatchable$_notify_watches$arity$3 == null)) {
    return this$.cljs$core$IWatchable$_notify_watches$arity$3(this$, oldval, newval);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._notify_watches[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$, oldval, newval) : m__6812__auto__.call(null, this$, oldval, newval);
    } else {
      var m__6812__auto____$1 = cljs.core._notify_watches["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$, oldval, newval) : m__6812__auto____$1.call(null, this$, oldval, newval);
      } else {
        throw cljs.core.missing_protocol("IWatchable.-notify-watches", this$);
      }
    }
  }
};
cljs.core._add_watch = function cljs$core$_add_watch(this$, key, f) {
  if (!(this$ == null) && !(this$.cljs$core$IWatchable$_add_watch$arity$3 == null)) {
    return this$.cljs$core$IWatchable$_add_watch$arity$3(this$, key, f);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._add_watch[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$, key, f) : m__6812__auto__.call(null, this$, key, f);
    } else {
      var m__6812__auto____$1 = cljs.core._add_watch["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$, key, f) : m__6812__auto____$1.call(null, this$, key, f);
      } else {
        throw cljs.core.missing_protocol("IWatchable.-add-watch", this$);
      }
    }
  }
};
cljs.core._remove_watch = function cljs$core$_remove_watch(this$, key) {
  if (!(this$ == null) && !(this$.cljs$core$IWatchable$_remove_watch$arity$2 == null)) {
    return this$.cljs$core$IWatchable$_remove_watch$arity$2(this$, key);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = cljs.core._remove_watch[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(this$, key) : m__6812__auto__.call(null, this$, key);
    } else {
      var m__6812__auto____$1 = cljs.core._remove_watch["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(this$, key) : m__6812__auto____$1.call(null, this$, key);
      } else {
        throw cljs.core.missing_protocol("IWatchable.-remove-watch", this$);
      }
    }
  }
};
cljs.core.IEditableCollection = function() {
};
cljs.core._as_transient = function cljs$core$_as_transient(coll) {
  if (!(coll == null) && !(coll.cljs$core$IEditableCollection$_as_transient$arity$1 == null)) {
    return coll.cljs$core$IEditableCollection$_as_transient$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._as_transient[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._as_transient["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IEditableCollection.-as-transient", coll);
      }
    }
  }
};
cljs.core.ITransientCollection = function() {
};
cljs.core._conj_BANG_ = function cljs$core$_conj_BANG_(tcoll, val) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2 == null)) {
    return tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2(tcoll, val);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._conj_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll, val) : m__6812__auto__.call(null, tcoll, val);
    } else {
      var m__6812__auto____$1 = cljs.core._conj_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll, val) : m__6812__auto____$1.call(null, tcoll, val);
      } else {
        throw cljs.core.missing_protocol("ITransientCollection.-conj!", tcoll);
      }
    }
  }
};
cljs.core._persistent_BANG_ = function cljs$core$_persistent_BANG_(tcoll) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1 == null)) {
    return tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(tcoll);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._persistent_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(tcoll) : m__6812__auto__.call(null, tcoll);
    } else {
      var m__6812__auto____$1 = cljs.core._persistent_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(tcoll) : m__6812__auto____$1.call(null, tcoll);
      } else {
        throw cljs.core.missing_protocol("ITransientCollection.-persistent!", tcoll);
      }
    }
  }
};
cljs.core.ITransientAssociative = function() {
};
cljs.core._assoc_BANG_ = function cljs$core$_assoc_BANG_(tcoll, key, val) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3 == null)) {
    return tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(tcoll, key, val);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._assoc_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(tcoll, key, val) : m__6812__auto__.call(null, tcoll, key, val);
    } else {
      var m__6812__auto____$1 = cljs.core._assoc_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(tcoll, key, val) : m__6812__auto____$1.call(null, tcoll, key, val);
      } else {
        throw cljs.core.missing_protocol("ITransientAssociative.-assoc!", tcoll);
      }
    }
  }
};
cljs.core.ITransientMap = function() {
};
cljs.core._dissoc_BANG_ = function cljs$core$_dissoc_BANG_(tcoll, key) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2 == null)) {
    return tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2(tcoll, key);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._dissoc_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll, key) : m__6812__auto__.call(null, tcoll, key);
    } else {
      var m__6812__auto____$1 = cljs.core._dissoc_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll, key) : m__6812__auto____$1.call(null, tcoll, key);
      } else {
        throw cljs.core.missing_protocol("ITransientMap.-dissoc!", tcoll);
      }
    }
  }
};
cljs.core.ITransientVector = function() {
};
cljs.core._assoc_n_BANG_ = function cljs$core$_assoc_n_BANG_(tcoll, n, val) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3 == null)) {
    return tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3(tcoll, n, val);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._assoc_n_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(tcoll, n, val) : m__6812__auto__.call(null, tcoll, n, val);
    } else {
      var m__6812__auto____$1 = cljs.core._assoc_n_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(tcoll, n, val) : m__6812__auto____$1.call(null, tcoll, n, val);
      } else {
        throw cljs.core.missing_protocol("ITransientVector.-assoc-n!", tcoll);
      }
    }
  }
};
cljs.core._pop_BANG_ = function cljs$core$_pop_BANG_(tcoll) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1 == null)) {
    return tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1(tcoll);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._pop_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(tcoll) : m__6812__auto__.call(null, tcoll);
    } else {
      var m__6812__auto____$1 = cljs.core._pop_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(tcoll) : m__6812__auto____$1.call(null, tcoll);
      } else {
        throw cljs.core.missing_protocol("ITransientVector.-pop!", tcoll);
      }
    }
  }
};
cljs.core.ITransientSet = function() {
};
cljs.core._disjoin_BANG_ = function cljs$core$_disjoin_BANG_(tcoll, v) {
  if (!(tcoll == null) && !(tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2 == null)) {
    return tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2(tcoll, v);
  } else {
    var x__6811__auto__ = tcoll == null ? null : tcoll;
    var m__6812__auto__ = cljs.core._disjoin_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll, v) : m__6812__auto__.call(null, tcoll, v);
    } else {
      var m__6812__auto____$1 = cljs.core._disjoin_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll, v) : m__6812__auto____$1.call(null, tcoll, v);
      } else {
        throw cljs.core.missing_protocol("ITransientSet.-disjoin!", tcoll);
      }
    }
  }
};
cljs.core.IComparable = function() {
};
cljs.core._compare = function cljs$core$_compare(x, y) {
  if (!(x == null) && !(x.cljs$core$IComparable$_compare$arity$2 == null)) {
    return x.cljs$core$IComparable$_compare$arity$2(x, y);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._compare[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(x, y) : m__6812__auto__.call(null, x, y);
    } else {
      var m__6812__auto____$1 = cljs.core._compare["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(x, y) : m__6812__auto____$1.call(null, x, y);
      } else {
        throw cljs.core.missing_protocol("IComparable.-compare", x);
      }
    }
  }
};
cljs.core.IChunk = function() {
};
cljs.core._drop_first = function cljs$core$_drop_first(coll) {
  if (!(coll == null) && !(coll.cljs$core$IChunk$_drop_first$arity$1 == null)) {
    return coll.cljs$core$IChunk$_drop_first$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._drop_first[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._drop_first["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IChunk.-drop-first", coll);
      }
    }
  }
};
cljs.core.IChunkedSeq = function() {
};
cljs.core._chunked_first = function cljs$core$_chunked_first(coll) {
  if (!(coll == null) && !(coll.cljs$core$IChunkedSeq$_chunked_first$arity$1 == null)) {
    return coll.cljs$core$IChunkedSeq$_chunked_first$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._chunked_first[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._chunked_first["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IChunkedSeq.-chunked-first", coll);
      }
    }
  }
};
cljs.core._chunked_rest = function cljs$core$_chunked_rest(coll) {
  if (!(coll == null) && !(coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1 == null)) {
    return coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._chunked_rest[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._chunked_rest["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IChunkedSeq.-chunked-rest", coll);
      }
    }
  }
};
cljs.core.IChunkedNext = function() {
};
cljs.core._chunked_next = function cljs$core$_chunked_next(coll) {
  if (!(coll == null) && !(coll.cljs$core$IChunkedNext$_chunked_next$arity$1 == null)) {
    return coll.cljs$core$IChunkedNext$_chunked_next$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._chunked_next[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._chunked_next["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IChunkedNext.-chunked-next", coll);
      }
    }
  }
};
cljs.core.INamed = function() {
};
cljs.core._name = function cljs$core$_name(x) {
  if (!(x == null) && !(x.cljs$core$INamed$_name$arity$1 == null)) {
    return x.cljs$core$INamed$_name$arity$1(x);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._name[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto__.call(null, x);
    } else {
      var m__6812__auto____$1 = cljs.core._name["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto____$1.call(null, x);
      } else {
        throw cljs.core.missing_protocol("INamed.-name", x);
      }
    }
  }
};
cljs.core._namespace = function cljs$core$_namespace(x) {
  if (!(x == null) && !(x.cljs$core$INamed$_namespace$arity$1 == null)) {
    return x.cljs$core$INamed$_namespace$arity$1(x);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._namespace[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto__.call(null, x);
    } else {
      var m__6812__auto____$1 = cljs.core._namespace["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto____$1.call(null, x);
      } else {
        throw cljs.core.missing_protocol("INamed.-namespace", x);
      }
    }
  }
};
cljs.core.IAtom = function() {
};
cljs.core.IReset = function() {
};
cljs.core._reset_BANG_ = function cljs$core$_reset_BANG_(o, new_value) {
  if (!(o == null) && !(o.cljs$core$IReset$_reset_BANG_$arity$2 == null)) {
    return o.cljs$core$IReset$_reset_BANG_$arity$2(o, new_value);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._reset_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, new_value) : m__6812__auto__.call(null, o, new_value);
    } else {
      var m__6812__auto____$1 = cljs.core._reset_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, new_value) : m__6812__auto____$1.call(null, o, new_value);
      } else {
        throw cljs.core.missing_protocol("IReset.-reset!", o);
      }
    }
  }
};
cljs.core.ISwap = function() {
};
cljs.core._swap_BANG_ = function cljs$core$_swap_BANG_(var_args) {
  var args8457 = [];
  var len__7214__auto___8460 = arguments.length;
  var i__7215__auto___8461 = 0;
  while (true) {
    if (i__7215__auto___8461 < len__7214__auto___8460) {
      args8457.push(arguments[i__7215__auto___8461]);
      var G__8462 = i__7215__auto___8461 + 1;
      i__7215__auto___8461 = G__8462;
      continue;
    } else {
    }
    break;
  }
  var G__8459 = args8457.length;
  switch(G__8459) {
    case 2:
      return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8457.length)].join(""));;
  }
};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2 = function(o, f) {
  if (!(o == null) && !(o.cljs$core$ISwap$_swap_BANG_$arity$2 == null)) {
    return o.cljs$core$ISwap$_swap_BANG_$arity$2(o, f);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, f) : m__6812__auto__.call(null, o, f);
    } else {
      var m__6812__auto____$1 = cljs.core._swap_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, f) : m__6812__auto____$1.call(null, o, f);
      } else {
        throw cljs.core.missing_protocol("ISwap.-swap!", o);
      }
    }
  }
};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3 = function(o, f, a) {
  if (!(o == null) && !(o.cljs$core$ISwap$_swap_BANG_$arity$3 == null)) {
    return o.cljs$core$ISwap$_swap_BANG_$arity$3(o, f, a);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o, f, a) : m__6812__auto__.call(null, o, f, a);
    } else {
      var m__6812__auto____$1 = cljs.core._swap_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o, f, a) : m__6812__auto____$1.call(null, o, f, a);
      } else {
        throw cljs.core.missing_protocol("ISwap.-swap!", o);
      }
    }
  }
};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4 = function(o, f, a, b) {
  if (!(o == null) && !(o.cljs$core$ISwap$_swap_BANG_$arity$4 == null)) {
    return o.cljs$core$ISwap$_swap_BANG_$arity$4(o, f, a, b);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$4 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$4(o, f, a, b) : m__6812__auto__.call(null, o, f, a, b);
    } else {
      var m__6812__auto____$1 = cljs.core._swap_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4(o, f, a, b) : m__6812__auto____$1.call(null, o, f, a, b);
      } else {
        throw cljs.core.missing_protocol("ISwap.-swap!", o);
      }
    }
  }
};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5 = function(o, f, a, b, xs) {
  if (!(o == null) && !(o.cljs$core$ISwap$_swap_BANG_$arity$5 == null)) {
    return o.cljs$core$ISwap$_swap_BANG_$arity$5(o, f, a, b, xs);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$5 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$5(o, f, a, b, xs) : m__6812__auto__.call(null, o, f, a, b, xs);
    } else {
      var m__6812__auto____$1 = cljs.core._swap_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5(o, f, a, b, xs) : m__6812__auto____$1.call(null, o, f, a, b, xs);
      } else {
        throw cljs.core.missing_protocol("ISwap.-swap!", o);
      }
    }
  }
};
cljs.core._swap_BANG_.cljs$lang$maxFixedArity = 5;
cljs.core.IVolatile = function() {
};
cljs.core._vreset_BANG_ = function cljs$core$_vreset_BANG_(o, new_value) {
  if (!(o == null) && !(o.cljs$core$IVolatile$_vreset_BANG_$arity$2 == null)) {
    return o.cljs$core$IVolatile$_vreset_BANG_$arity$2(o, new_value);
  } else {
    var x__6811__auto__ = o == null ? null : o;
    var m__6812__auto__ = cljs.core._vreset_BANG_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o, new_value) : m__6812__auto__.call(null, o, new_value);
    } else {
      var m__6812__auto____$1 = cljs.core._vreset_BANG_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o, new_value) : m__6812__auto____$1.call(null, o, new_value);
      } else {
        throw cljs.core.missing_protocol("IVolatile.-vreset!", o);
      }
    }
  }
};
cljs.core.IIterable = function() {
};
cljs.core._iterator = function cljs$core$_iterator(coll) {
  if (!(coll == null) && !(coll.cljs$core$IIterable$_iterator$arity$1 == null)) {
    return coll.cljs$core$IIterable$_iterator$arity$1(coll);
  } else {
    var x__6811__auto__ = coll == null ? null : coll;
    var m__6812__auto__ = cljs.core._iterator[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto__.call(null, coll);
    } else {
      var m__6812__auto____$1 = cljs.core._iterator["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll) : m__6812__auto____$1.call(null, coll);
      } else {
        throw cljs.core.missing_protocol("IIterable.-iterator", coll);
      }
    }
  }
};
cljs.core.StringBufferWriter = function(sb) {
  this.sb = sb;
  this.cljs$lang$protocol_mask$partition0$ = 1073741824;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_write$arity$2 = function(_, s) {
  var self__ = this;
  var ___$1 = this;
  return self__.sb.append(s);
};
cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_flush$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return null;
};
cljs.core.StringBufferWriter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "sb", "sb", -1249746442, null)], null);
};
cljs.core.StringBufferWriter.cljs$lang$type = true;
cljs.core.StringBufferWriter.cljs$lang$ctorStr = "cljs.core/StringBufferWriter";
cljs.core.StringBufferWriter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/StringBufferWriter");
};
cljs.core.__GT_StringBufferWriter = function cljs$core$__GT_StringBufferWriter(sb) {
  return new cljs.core.StringBufferWriter(sb);
};
cljs.core.pr_str_STAR_ = function cljs$core$pr_str_STAR_(obj) {
  var sb = new goog.string.StringBuffer;
  var writer = new cljs.core.StringBufferWriter(sb);
  obj.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null, writer, cljs.core.pr_opts());
  writer.cljs$core$IWriter$_flush$arity$1(null);
  return [cljs.core.str(sb)].join("");
};
cljs.core.int_rotate_left = function cljs$core$int_rotate_left(x, n) {
  return x << n | x >>> -n;
};
if (typeof Math.imul !== "undefined" && !(Math.imul(4294967295, 5) === 0)) {
  cljs.core.imul = function cljs$core$imul(a, b) {
    return Math.imul(a, b);
  };
} else {
  cljs.core.imul = function cljs$core$imul(a, b) {
    var ah = a >>> 16 & 65535;
    var al = a & 65535;
    var bh = b >>> 16 & 65535;
    var bl = b & 65535;
    return al * bl + (ah * bl + al * bh << 16 >>> 0) | 0;
  };
}
cljs.core.m3_seed = 0;
cljs.core.m3_C1 = 3432918353 | 0;
cljs.core.m3_C2 = 461845907 | 0;
cljs.core.m3_mix_K1 = function cljs$core$m3_mix_K1(k1) {
  return cljs.core.imul(cljs.core.int_rotate_left(cljs.core.imul(k1 | 0, cljs.core.m3_C1), 15), cljs.core.m3_C2);
};
cljs.core.m3_mix_H1 = function cljs$core$m3_mix_H1(h1, k1) {
  return cljs.core.imul(cljs.core.int_rotate_left((h1 | 0) ^ (k1 | 0), 13), 5) + (3864292196 | 0) | 0;
};
cljs.core.m3_fmix = function cljs$core$m3_fmix(h1, len) {
  var h1__$1 = h1 | 0;
  var h1__$2 = h1__$1 ^ len;
  var h1__$3 = h1__$2 ^ h1__$2 >>> 16;
  var h1__$4 = cljs.core.imul(h1__$3, 2246822507 | 0);
  var h1__$5 = h1__$4 ^ h1__$4 >>> 13;
  var h1__$6 = cljs.core.imul(h1__$5, 3266489909 | 0);
  return h1__$6 ^ h1__$6 >>> 16;
};
cljs.core.m3_hash_int = function cljs$core$m3_hash_int(in$) {
  if (in$ === 0) {
    return in$;
  } else {
    var k1 = cljs.core.m3_mix_K1(in$);
    var h1 = cljs.core.m3_mix_H1(cljs.core.m3_seed, k1);
    return cljs.core.m3_fmix(h1, 4);
  }
};
cljs.core.m3_hash_unencoded_chars = function cljs$core$m3_hash_unencoded_chars(in$) {
  var h1 = function() {
    var i = 1;
    var h1 = cljs.core.m3_seed;
    while (true) {
      if (i < in$.length) {
        var G__8464 = i + 2;
        var G__8465 = cljs.core.m3_mix_H1(h1, cljs.core.m3_mix_K1(in$.charCodeAt(i - 1) | in$.charCodeAt(i) << 16));
        i = G__8464;
        h1 = G__8465;
        continue;
      } else {
        return h1;
      }
      break;
    }
  }();
  var h1__$1 = (in$.length & 1) === 1 ? h1 ^ cljs.core.m3_mix_K1(in$.charCodeAt(in$.length - 1)) : h1;
  return cljs.core.m3_fmix(h1__$1, cljs.core.imul(2, in$.length));
};
cljs.core.string_hash_cache = {};
cljs.core.string_hash_cache_count = 0;
cljs.core.hash_string_STAR_ = function cljs$core$hash_string_STAR_(s) {
  if (!(s == null)) {
    var len = s.length;
    if (len > 0) {
      var i = 0;
      var hash = 0;
      while (true) {
        if (i < len) {
          var G__8468 = i + 1;
          var G__8469 = cljs.core.imul(31, hash) + s.charCodeAt(i);
          i = G__8468;
          hash = G__8469;
          continue;
        } else {
          return hash;
        }
        break;
      }
    } else {
      return 0;
    }
  } else {
    return 0;
  }
};
cljs.core.add_to_string_hash_cache = function cljs$core$add_to_string_hash_cache(k) {
  var h = cljs.core.hash_string_STAR_(k);
  cljs.core.string_hash_cache[k] = h;
  cljs.core.string_hash_cache_count = cljs.core.string_hash_cache_count + 1;
  return h;
};
cljs.core.hash_string = function cljs$core$hash_string(k) {
  if (cljs.core.string_hash_cache_count > 255) {
    cljs.core.string_hash_cache = {};
    cljs.core.string_hash_cache_count = 0;
  } else {
  }
  var h = cljs.core.string_hash_cache[k];
  if (typeof h === "number") {
    return h;
  } else {
    return cljs.core.add_to_string_hash_cache(k);
  }
};
cljs.core.hash = function cljs$core$hash(o) {
  if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 4194304 || o.cljs$core$IHash$ ? true : false : false) {
    return o.cljs$core$IHash$_hash$arity$1(null);
  } else {
    if (typeof o === "number") {
      return Math.floor(o) % 2147483647;
    } else {
      if (o === true) {
        return 1;
      } else {
        if (o === false) {
          return 0;
        } else {
          if (typeof o === "string") {
            return cljs.core.m3_hash_int(cljs.core.hash_string(o));
          } else {
            if (o instanceof Date) {
              return o.valueOf();
            } else {
              if (o == null) {
                return 0;
              } else {
                return cljs.core._hash(o);
              }
            }
          }
        }
      }
    }
  }
};
cljs.core.hash_combine = function cljs$core$hash_combine(seed, hash) {
  return seed ^ hash + 2654435769 + (seed << 6) + (seed >> 2);
};
cljs.core.instance_QMARK_ = function cljs$core$instance_QMARK_(c, x) {
  return x instanceof c;
};
cljs.core.symbol_QMARK_ = function cljs$core$symbol_QMARK_(x) {
  return x instanceof cljs.core.Symbol;
};
cljs.core.hash_symbol = function cljs$core$hash_symbol(sym) {
  return cljs.core.hash_combine(cljs.core.m3_hash_unencoded_chars(sym.name), cljs.core.hash_string(sym.ns));
};
cljs.core.compare_symbols = function cljs$core$compare_symbols(a, b) {
  if (a.str === b.str) {
    return 0;
  } else {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = cljs.core.not(a.ns);
      if (and__6144__auto__) {
        return b.ns;
      } else {
        return and__6144__auto__;
      }
    }())) {
      return -1;
    } else {
      if (cljs.core.truth_(a.ns)) {
        if (cljs.core.not(b.ns)) {
          return 1;
        } else {
          var nsc = function() {
            var G__8482 = a.ns;
            var G__8483 = b.ns;
            return goog.array.defaultCompare(G__8482, G__8483);
          }();
          if (0 === nsc) {
            var G__8484 = a.name;
            var G__8485 = b.name;
            return goog.array.defaultCompare(G__8484, G__8485);
          } else {
            return nsc;
          }
        }
      } else {
        var G__8486 = a.name;
        var G__8487 = b.name;
        return goog.array.defaultCompare(G__8486, G__8487);
      }
    }
  }
};
cljs.core.Symbol = function(ns, name, str, _hash, _meta) {
  this.ns = ns;
  this.name = name;
  this.str = str;
  this._hash = _hash;
  this._meta = _meta;
  this.cljs$lang$protocol_mask$partition0$ = 2154168321;
  this.cljs$lang$protocol_mask$partition1$ = 4096;
};
cljs.core.Symbol.prototype.toString = function() {
  var self__ = this;
  var _ = this;
  return self__.str;
};
cljs.core.Symbol.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Symbol.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(_, other) {
  var self__ = this;
  var ___$1 = this;
  if (other instanceof cljs.core.Symbol) {
    return self__.str === other.str;
  } else {
    return false;
  }
};
cljs.core.Symbol.prototype.call = function() {
  var G__8489 = null;
  var G__8489__2 = function(self__, coll) {
    var self__ = this;
    var self____$1 = this;
    var sym = self____$1;
    return cljs.core.get.cljs$core$IFn$_invoke$arity$2 ? cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll, sym) : cljs.core.get.call(null, coll, sym);
  };
  var G__8489__3 = function(self__, coll, not_found) {
    var self__ = this;
    var self____$1 = this;
    var sym = self____$1;
    return cljs.core.get.cljs$core$IFn$_invoke$arity$3 ? cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll, sym, not_found) : cljs.core.get.call(null, coll, sym, not_found);
  };
  G__8489 = function(self__, coll, not_found) {
    switch(arguments.length) {
      case 2:
        return G__8489__2.call(this, self__, coll);
      case 3:
        return G__8489__3.call(this, self__, coll, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__8489.cljs$core$IFn$_invoke$arity$2 = G__8489__2;
  G__8489.cljs$core$IFn$_invoke$arity$3 = G__8489__3;
  return G__8489;
}();
cljs.core.Symbol.prototype.apply = function(self__, args8488) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args8488)));
};
cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  var self__ = this;
  var sym = this;
  return cljs.core.get.cljs$core$IFn$_invoke$arity$2 ? cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll, sym) : cljs.core.get.call(null, coll, sym);
};
cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$2 = function(coll, not_found) {
  var self__ = this;
  var sym = this;
  return cljs.core.get.cljs$core$IFn$_invoke$arity$3 ? cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll, sym, not_found) : cljs.core.get.call(null, coll, sym, not_found);
};
cljs.core.Symbol.prototype.cljs$core$IMeta$_meta$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__._meta;
};
cljs.core.Symbol.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_, new_meta) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.Symbol(self__.ns, self__.name, self__.str, self__._hash, new_meta);
};
cljs.core.Symbol.prototype.cljs$core$IHash$_hash$arity$1 = function(sym) {
  var self__ = this;
  var sym__$1 = this;
  var h__6591__auto__ = self__._hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_symbol(sym__$1);
    self__._hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.Symbol.prototype.cljs$core$INamed$_name$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.name;
};
cljs.core.Symbol.prototype.cljs$core$INamed$_namespace$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.ns;
};
cljs.core.Symbol.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(o, writer, _) {
  var self__ = this;
  var o__$1 = this;
  return cljs.core._write(writer, self__.str);
};
cljs.core.Symbol.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "ns", "ns", 2082130287, null), new cljs.core.Symbol(null, "name", "name", -810760592, null), new cljs.core.Symbol(null, "str", "str", -1564826950, null), cljs.core.with_meta(new cljs.core.Symbol(null, "_hash", "_hash", -2130838312, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, 
  "_meta", "_meta", -1716892533, null)], null);
};
cljs.core.Symbol.cljs$lang$type = true;
cljs.core.Symbol.cljs$lang$ctorStr = "cljs.core/Symbol";
cljs.core.Symbol.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Symbol");
};
cljs.core.__GT_Symbol = function cljs$core$__GT_Symbol(ns, name, str, _hash, _meta) {
  return new cljs.core.Symbol(ns, name, str, _hash, _meta);
};
cljs.core.symbol = function cljs$core$symbol(var_args) {
  var args8490 = [];
  var len__7214__auto___8493 = arguments.length;
  var i__7215__auto___8494 = 0;
  while (true) {
    if (i__7215__auto___8494 < len__7214__auto___8493) {
      args8490.push(arguments[i__7215__auto___8494]);
      var G__8495 = i__7215__auto___8494 + 1;
      i__7215__auto___8494 = G__8495;
      continue;
    } else {
    }
    break;
  }
  var G__8492 = args8490.length;
  switch(G__8492) {
    case 1:
      return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8490.length)].join(""));;
  }
};
cljs.core.symbol.cljs$core$IFn$_invoke$arity$1 = function(name) {
  if (name instanceof cljs.core.Symbol) {
    return name;
  } else {
    var idx = name.indexOf("/");
    if (idx === -1) {
      return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(null, name);
    } else {
      return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(name.substring(0, idx), name.substring(idx + 1, name.length));
    }
  }
};
cljs.core.symbol.cljs$core$IFn$_invoke$arity$2 = function(ns, name) {
  var sym_str = !(ns == null) ? [cljs.core.str(ns), cljs.core.str("/"), cljs.core.str(name)].join("") : name;
  return new cljs.core.Symbol(ns, name, sym_str, null, null);
};
cljs.core.symbol.cljs$lang$maxFixedArity = 2;
cljs.core.Var = function(val, sym, _meta) {
  this.val = val;
  this.sym = sym;
  this._meta = _meta;
  this.cljs$lang$protocol_mask$partition0$ = 2523137;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.Var.prototype.isMacro = function() {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).cljs$lang$macro;
};
cljs.core.Var.prototype.cljs$core$IDeref$_deref$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null);
};
cljs.core.Var.prototype.cljs$core$IMeta$_meta$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__._meta;
};
cljs.core.Var.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_, new_meta) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.Var(self__.val, self__.sym, new_meta);
};
cljs.core.Var.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(this$, other) {
  var self__ = this;
  var this$__$1 = this;
  if (other instanceof cljs.core.Var) {
    var G__8498 = this$__$1.sym;
    var G__8499 = other.sym;
    return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2 ? cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(G__8498, G__8499) : cljs.core._EQ_.call(null, G__8498, G__8499);
  } else {
    return false;
  }
};
cljs.core.Var.prototype.cljs$core$Fn$ = true;
cljs.core.Var.prototype.call = function() {
  var G__8544 = null;
  var G__8544__1 = function(self__) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null);
  };
  var G__8544__2 = function(self__, a) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a);
  };
  var G__8544__3 = function(self__, a, b) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b);
  };
  var G__8544__4 = function(self__, a, b, c) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c);
  };
  var G__8544__5 = function(self__, a, b, c, d) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d);
  };
  var G__8544__6 = function(self__, a, b, c, d, e) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e);
  };
  var G__8544__7 = function(self__, a, b, c, d, e, f) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f);
  };
  var G__8544__8 = function(self__, a, b, c, d, e, f, g) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g);
  };
  var G__8544__9 = function(self__, a, b, c, d, e, f, g, h) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h);
  };
  var G__8544__10 = function(self__, a, b, c, d, e, f, g, h, i) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i);
  };
  var G__8544__11 = function(self__, a, b, c, d, e, f, g, h, i, j) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j);
  };
  var G__8544__12 = function(self__, a, b, c, d, e, f, g, h, i, j, k) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k);
  };
  var G__8544__13 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l);
  };
  var G__8544__14 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
  };
  var G__8544__15 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
  };
  var G__8544__16 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
  };
  var G__8544__17 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
  };
  var G__8544__18 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
  };
  var G__8544__19 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
  };
  var G__8544__20 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
  };
  var G__8544__21 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
  };
  var G__8544__22 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    var G__8500 = self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null);
    var G__8501 = a;
    var G__8502 = b;
    var G__8503 = c;
    var G__8504 = d;
    var G__8505 = e;
    var G__8506 = f;
    var G__8507 = g;
    var G__8508 = h;
    var G__8509 = i;
    var G__8510 = j;
    var G__8511 = k;
    var G__8512 = l;
    var G__8513 = m;
    var G__8514 = n;
    var G__8515 = o;
    var G__8516 = p;
    var G__8517 = q;
    var G__8518 = r;
    var G__8519 = s;
    var G__8520 = t;
    var G__8521 = rest;
    return cljs.core.apply.cljs$core$IFn$_invoke$arity$22 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$22(G__8500, G__8501, G__8502, G__8503, G__8504, G__8505, G__8506, G__8507, G__8508, G__8509, G__8510, G__8511, G__8512, G__8513, G__8514, G__8515, G__8516, G__8517, G__8518, G__8519, G__8520, G__8521) : cljs.core.apply.call(null, G__8500, G__8501, G__8502, G__8503, G__8504, G__8505, G__8506, G__8507, G__8508, G__8509, G__8510, G__8511, G__8512, G__8513, G__8514, G__8515, G__8516, G__8517, G__8518, 
    G__8519, G__8520, G__8521);
  };
  G__8544 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    switch(arguments.length) {
      case 1:
        return G__8544__1.call(this, self__);
      case 2:
        return G__8544__2.call(this, self__, a);
      case 3:
        return G__8544__3.call(this, self__, a, b);
      case 4:
        return G__8544__4.call(this, self__, a, b, c);
      case 5:
        return G__8544__5.call(this, self__, a, b, c, d);
      case 6:
        return G__8544__6.call(this, self__, a, b, c, d, e);
      case 7:
        return G__8544__7.call(this, self__, a, b, c, d, e, f);
      case 8:
        return G__8544__8.call(this, self__, a, b, c, d, e, f, g);
      case 9:
        return G__8544__9.call(this, self__, a, b, c, d, e, f, g, h);
      case 10:
        return G__8544__10.call(this, self__, a, b, c, d, e, f, g, h, i);
      case 11:
        return G__8544__11.call(this, self__, a, b, c, d, e, f, g, h, i, j);
      case 12:
        return G__8544__12.call(this, self__, a, b, c, d, e, f, g, h, i, j, k);
      case 13:
        return G__8544__13.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l);
      case 14:
        return G__8544__14.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m);
      case 15:
        return G__8544__15.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
      case 16:
        return G__8544__16.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
      case 17:
        return G__8544__17.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
      case 18:
        return G__8544__18.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
      case 19:
        return G__8544__19.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
      case 20:
        return G__8544__20.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
      case 21:
        return G__8544__21.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
      case 22:
        return G__8544__22.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__8544.cljs$core$IFn$_invoke$arity$1 = G__8544__1;
  G__8544.cljs$core$IFn$_invoke$arity$2 = G__8544__2;
  G__8544.cljs$core$IFn$_invoke$arity$3 = G__8544__3;
  G__8544.cljs$core$IFn$_invoke$arity$4 = G__8544__4;
  G__8544.cljs$core$IFn$_invoke$arity$5 = G__8544__5;
  G__8544.cljs$core$IFn$_invoke$arity$6 = G__8544__6;
  G__8544.cljs$core$IFn$_invoke$arity$7 = G__8544__7;
  G__8544.cljs$core$IFn$_invoke$arity$8 = G__8544__8;
  G__8544.cljs$core$IFn$_invoke$arity$9 = G__8544__9;
  G__8544.cljs$core$IFn$_invoke$arity$10 = G__8544__10;
  G__8544.cljs$core$IFn$_invoke$arity$11 = G__8544__11;
  G__8544.cljs$core$IFn$_invoke$arity$12 = G__8544__12;
  G__8544.cljs$core$IFn$_invoke$arity$13 = G__8544__13;
  G__8544.cljs$core$IFn$_invoke$arity$14 = G__8544__14;
  G__8544.cljs$core$IFn$_invoke$arity$15 = G__8544__15;
  G__8544.cljs$core$IFn$_invoke$arity$16 = G__8544__16;
  G__8544.cljs$core$IFn$_invoke$arity$17 = G__8544__17;
  G__8544.cljs$core$IFn$_invoke$arity$18 = G__8544__18;
  G__8544.cljs$core$IFn$_invoke$arity$19 = G__8544__19;
  G__8544.cljs$core$IFn$_invoke$arity$20 = G__8544__20;
  G__8544.cljs$core$IFn$_invoke$arity$21 = G__8544__21;
  G__8544.cljs$core$IFn$_invoke$arity$22 = G__8544__22;
  return G__8544;
}();
cljs.core.Var.prototype.apply = function(self__, args8497) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args8497)));
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$0 = function() {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$1 = function(a) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$2 = function(a, b) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$3 = function(a, b, c) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$4 = function(a, b, c, d) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$5 = function(a, b, c, d, e) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$6 = function(a, b, c, d, e, f) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$7 = function(a, b, c, d, e, f, g) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$8 = function(a, b, c, d, e, f, g, h) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$9 = function(a, b, c, d, e, f, g, h, i) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$10 = function(a, b, c, d, e, f, g, h, i, j) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$11 = function(a, b, c, d, e, f, g, h, i, j, k) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$12 = function(a, b, c, d, e, f, g, h, i, j, k, l) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$13 = function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$14 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$15 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$16 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$17 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$18 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$19 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$20 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
  var self__ = this;
  var _ = this;
  return (self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null)).call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$21 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
  var self__ = this;
  var _ = this;
  var G__8522 = self__.val.cljs$core$IFn$_invoke$arity$0 ? self__.val.cljs$core$IFn$_invoke$arity$0() : self__.val.call(null);
  var G__8523 = a;
  var G__8524 = b;
  var G__8525 = c;
  var G__8526 = d;
  var G__8527 = e;
  var G__8528 = f;
  var G__8529 = g;
  var G__8530 = h;
  var G__8531 = i;
  var G__8532 = j;
  var G__8533 = k;
  var G__8534 = l;
  var G__8535 = m;
  var G__8536 = n;
  var G__8537 = o;
  var G__8538 = p;
  var G__8539 = q;
  var G__8540 = r;
  var G__8541 = s;
  var G__8542 = t;
  var G__8543 = rest;
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$22 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$22(G__8522, G__8523, G__8524, G__8525, G__8526, G__8527, G__8528, G__8529, G__8530, G__8531, G__8532, G__8533, G__8534, G__8535, G__8536, G__8537, G__8538, G__8539, G__8540, G__8541, G__8542, G__8543) : cljs.core.apply.call(null, G__8522, G__8523, G__8524, G__8525, G__8526, G__8527, G__8528, G__8529, G__8530, G__8531, G__8532, G__8533, G__8534, G__8535, G__8536, G__8537, G__8538, G__8539, G__8540, 
  G__8541, G__8542, G__8543);
};
cljs.core.Var.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "val", "val", 1769233139, null), new cljs.core.Symbol(null, "sym", "sym", 195671222, null), new cljs.core.Symbol(null, "_meta", "_meta", -1716892533, null)], null);
};
cljs.core.Var.cljs$lang$type = true;
cljs.core.Var.cljs$lang$ctorStr = "cljs.core/Var";
cljs.core.Var.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Var");
};
cljs.core.__GT_Var = function cljs$core$__GT_Var(val, sym, _meta) {
  return new cljs.core.Var(val, sym, _meta);
};
cljs.core.var_QMARK_ = function cljs$core$var_QMARK_(v) {
  return v instanceof cljs.core.Var;
};
cljs.core.iterable_QMARK_ = function cljs$core$iterable_QMARK_(x) {
  if (!(x == null)) {
    if (false || x.cljs$core$IIterable$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IIterable, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IIterable, x);
  }
};
cljs.core.clone = function cljs$core$clone(value) {
  return cljs.core._clone(value);
};
cljs.core.cloneable_QMARK_ = function cljs$core$cloneable_QMARK_(value) {
  if (!(value == null)) {
    if (value.cljs$lang$protocol_mask$partition1$ & 8192 || value.cljs$core$ICloneable$) {
      return true;
    } else {
      if (!value.cljs$lang$protocol_mask$partition1$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable, value);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable, value);
  }
};
cljs.core.seq = function cljs$core$seq(coll) {
  if (coll == null) {
    return null;
  } else {
    if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 8388608 || coll.cljs$core$ISeqable$ ? true : false : false) {
      return coll.cljs$core$ISeqable$_seq$arity$1(null);
    } else {
      if (cljs.core.array_QMARK_(coll)) {
        if (coll.length === 0) {
          return null;
        } else {
          return new cljs.core.IndexedSeq(coll, 0);
        }
      } else {
        if (typeof coll === "string") {
          if (coll.length === 0) {
            return null;
          } else {
            return new cljs.core.IndexedSeq(coll, 0);
          }
        } else {
          if (cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable, coll)) {
            return cljs.core._seq(coll);
          } else {
            throw new Error([cljs.core.str(coll), cljs.core.str(" is not ISeqable")].join(""));
          }
        }
      }
    }
  }
};
cljs.core.first = function cljs$core$first(coll) {
  if (coll == null) {
    return null;
  } else {
    if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 64 || coll.cljs$core$ISeq$ ? true : false : false) {
      return coll.cljs$core$ISeq$_first$arity$1(null);
    } else {
      var s = cljs.core.seq(coll);
      if (s == null) {
        return null;
      } else {
        return cljs.core._first(s);
      }
    }
  }
};
cljs.core.rest = function cljs$core$rest(coll) {
  if (!(coll == null)) {
    if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 64 || coll.cljs$core$ISeq$ ? true : false : false) {
      return coll.cljs$core$ISeq$_rest$arity$1(null);
    } else {
      var s = cljs.core.seq(coll);
      if (s) {
        return cljs.core._rest(s);
      } else {
        return cljs.core.List.EMPTY;
      }
    }
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.next = function cljs$core$next(coll) {
  if (coll == null) {
    return null;
  } else {
    if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 128 || coll.cljs$core$INext$ ? true : false : false) {
      return coll.cljs$core$INext$_next$arity$1(null);
    } else {
      return cljs.core.seq(cljs.core.rest(coll));
    }
  }
};
cljs.core._EQ_ = function cljs$core$_EQ_(var_args) {
  var args8557 = [];
  var len__7214__auto___8563 = arguments.length;
  var i__7215__auto___8564 = 0;
  while (true) {
    if (i__7215__auto___8564 < len__7214__auto___8563) {
      args8557.push(arguments[i__7215__auto___8564]);
      var G__8565 = i__7215__auto___8564 + 1;
      i__7215__auto___8564 = G__8565;
      continue;
    } else {
    }
    break;
  }
  var G__8562 = args8557.length;
  switch(G__8562) {
    case 1:
      return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8557.slice(2), 0);
      return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  if (x == null) {
    return y == null;
  } else {
    return x === y || cljs.core._equiv(x, y);
  }
};
cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x, y)) {
      if (cljs.core.next(more)) {
        var G__8567 = y;
        var G__8568 = cljs.core.first(more);
        var G__8569 = cljs.core.next(more);
        x = G__8567;
        y = G__8568;
        more = G__8569;
        continue;
      } else {
        return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(y, cljs.core.first(more));
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._EQ_.cljs$lang$applyTo = function(seq8558) {
  var G__8559 = cljs.core.first(seq8558);
  var seq8558__$1 = cljs.core.next(seq8558);
  var G__8560 = cljs.core.first(seq8558__$1);
  var seq8558__$2 = cljs.core.next(seq8558__$1);
  return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8559, G__8560, seq8558__$2);
};
cljs.core._EQ_.cljs$lang$maxFixedArity = 2;
cljs.core.ES6Iterator = function(s) {
  this.s = s;
};
cljs.core.ES6Iterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (!(self__.s == null)) {
    var x = cljs.core.first(self__.s);
    self__.s = cljs.core.next(self__.s);
    return {"value":x, "done":false};
  } else {
    return {"value":null, "done":true};
  }
};
cljs.core.ES6Iterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "s", "s", -948495851, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ES6Iterator.cljs$lang$type = true;
cljs.core.ES6Iterator.cljs$lang$ctorStr = "cljs.core/ES6Iterator";
cljs.core.ES6Iterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ES6Iterator");
};
cljs.core.__GT_ES6Iterator = function cljs$core$__GT_ES6Iterator(s) {
  return new cljs.core.ES6Iterator(s);
};
cljs.core.es6_iterator = function cljs$core$es6_iterator(coll) {
  return new cljs.core.ES6Iterator(cljs.core.seq(coll));
};
cljs.core.ES6IteratorSeq = function(value, iter, _rest) {
  this.value = value;
  this.iter = iter;
  this._rest = _rest;
  this.cljs$lang$protocol_mask$partition0$ = 8388672;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return this$__$1;
};
cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.value;
};
cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  if (self__._rest == null) {
    self__._rest = cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1 ? cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1(self__.iter) : cljs.core.es6_iterator_seq.call(null, self__.iter);
  } else {
  }
  return self__._rest;
};
cljs.core.ES6IteratorSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "value", "value", 1946509744, null), new cljs.core.Symbol(null, "iter", "iter", -1346195486, null), cljs.core.with_meta(new cljs.core.Symbol(null, "_rest", "_rest", -2100466189, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ES6IteratorSeq.cljs$lang$type = true;
cljs.core.ES6IteratorSeq.cljs$lang$ctorStr = "cljs.core/ES6IteratorSeq";
cljs.core.ES6IteratorSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ES6IteratorSeq");
};
cljs.core.__GT_ES6IteratorSeq = function cljs$core$__GT_ES6IteratorSeq(value, iter, _rest) {
  return new cljs.core.ES6IteratorSeq(value, iter, _rest);
};
cljs.core.es6_iterator_seq = function cljs$core$es6_iterator_seq(iter) {
  var v = iter.next();
  if (cljs.core.truth_(v.done)) {
    return cljs.core.List.EMPTY;
  } else {
    return new cljs.core.ES6IteratorSeq(v.value, iter, null);
  }
};
cljs.core.mix_collection_hash = function cljs$core$mix_collection_hash(hash_basis, count) {
  var h1 = cljs.core.m3_seed;
  var k1 = cljs.core.m3_mix_K1(hash_basis);
  var h1__$1 = cljs.core.m3_mix_H1(h1, k1);
  return cljs.core.m3_fmix(h1__$1, count);
};
cljs.core.hash_ordered_coll = function cljs$core$hash_ordered_coll(coll) {
  var n = 0;
  var hash_code = 1;
  var coll__$1 = cljs.core.seq(coll);
  while (true) {
    if (!(coll__$1 == null)) {
      var G__8570 = n + 1;
      var G__8571 = cljs.core.imul(31, hash_code) + cljs.core.hash(cljs.core.first(coll__$1)) | 0;
      var G__8572 = cljs.core.next(coll__$1);
      n = G__8570;
      hash_code = G__8571;
      coll__$1 = G__8572;
      continue;
    } else {
      return cljs.core.mix_collection_hash(hash_code, n);
    }
    break;
  }
};
cljs.core.empty_ordered_hash = cljs.core.mix_collection_hash(1, 0);
cljs.core.hash_unordered_coll = function cljs$core$hash_unordered_coll(coll) {
  var n = 0;
  var hash_code = 0;
  var coll__$1 = cljs.core.seq(coll);
  while (true) {
    if (!(coll__$1 == null)) {
      var G__8573 = n + 1;
      var G__8574 = hash_code + cljs.core.hash(cljs.core.first(coll__$1)) | 0;
      var G__8575 = cljs.core.next(coll__$1);
      n = G__8573;
      hash_code = G__8574;
      coll__$1 = G__8575;
      continue;
    } else {
      return cljs.core.mix_collection_hash(hash_code, n);
    }
    break;
  }
};
cljs.core.empty_unordered_hash = cljs.core.mix_collection_hash(0, 0);
cljs.core.ICounted["null"] = true;
cljs.core._count["null"] = function(_) {
  return 0;
};
Date.prototype.cljs$core$IEquiv$ = true;
Date.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(o, other) {
  var o__$1 = this;
  return other instanceof Date && o__$1.valueOf() === other.valueOf();
};
Date.prototype.cljs$core$IComparable$ = true;
Date.prototype.cljs$core$IComparable$_compare$arity$2 = function(this$, other) {
  var this$__$1 = this;
  if (other instanceof Date) {
    var G__8576 = this$__$1.valueOf();
    var G__8577 = other.valueOf();
    return goog.array.defaultCompare(G__8576, G__8577);
  } else {
    throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(this$__$1), cljs.core.str(" to "), cljs.core.str(other)].join(""));
  }
};
cljs.core.IEquiv["number"] = true;
cljs.core._equiv["number"] = function(x, o) {
  return x === o;
};
cljs.core.Fn["function"] = true;
cljs.core.IMeta["function"] = true;
cljs.core._meta["function"] = function(_) {
  return null;
};
cljs.core.IHash["_"] = true;
cljs.core._hash["_"] = function(o) {
  return goog.getUid(o);
};
cljs.core.inc = function cljs$core$inc(x) {
  return x + 1;
};
cljs.core.Reduced = function(val) {
  this.val = val;
  this.cljs$lang$protocol_mask$partition0$ = 32768;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.Reduced.prototype.cljs$core$IDeref$_deref$arity$1 = function(o) {
  var self__ = this;
  var o__$1 = this;
  return self__.val;
};
cljs.core.Reduced.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "val", "val", 1769233139, null)], null);
};
cljs.core.Reduced.cljs$lang$type = true;
cljs.core.Reduced.cljs$lang$ctorStr = "cljs.core/Reduced";
cljs.core.Reduced.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Reduced");
};
cljs.core.__GT_Reduced = function cljs$core$__GT_Reduced(val) {
  return new cljs.core.Reduced(val);
};
cljs.core.reduced = function cljs$core$reduced(x) {
  return new cljs.core.Reduced(x);
};
cljs.core.reduced_QMARK_ = function cljs$core$reduced_QMARK_(r) {
  return r instanceof cljs.core.Reduced;
};
cljs.core.ensure_reduced = function cljs$core$ensure_reduced(x) {
  if (cljs.core.reduced_QMARK_(x)) {
    return x;
  } else {
    return cljs.core.reduced(x);
  }
};
cljs.core.unreduced = function cljs$core$unreduced(x) {
  if (cljs.core.reduced_QMARK_(x)) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(x) : cljs.core.deref.call(null, x);
  } else {
    return x;
  }
};
cljs.core.deref = function cljs$core$deref(o) {
  return cljs.core._deref(o);
};
cljs.core.ci_reduce = function cljs$core$ci_reduce(var_args) {
  var args8578 = [];
  var len__7214__auto___8587 = arguments.length;
  var i__7215__auto___8588 = 0;
  while (true) {
    if (i__7215__auto___8588 < len__7214__auto___8587) {
      args8578.push(arguments[i__7215__auto___8588]);
      var G__8589 = i__7215__auto___8588 + 1;
      i__7215__auto___8588 = G__8589;
      continue;
    } else {
    }
    break;
  }
  var G__8580 = args8578.length;
  switch(G__8580) {
    case 2:
      return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8578.length)].join(""));;
  }
};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2 = function(cicoll, f) {
  var cnt = cljs.core._count(cicoll);
  if (cnt === 0) {
    return f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
  } else {
    var val = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll, 0);
    var n = 1;
    while (true) {
      if (n < cnt) {
        var nval = function() {
          var G__8581 = val;
          var G__8582 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll, n);
          return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8581, G__8582) : f.call(null, G__8581, G__8582);
        }();
        if (cljs.core.reduced_QMARK_(nval)) {
          return cljs.core.deref(nval);
        } else {
          var G__8591 = nval;
          var G__8592 = n + 1;
          val = G__8591;
          n = G__8592;
          continue;
        }
      } else {
        return val;
      }
      break;
    }
  }
};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3 = function(cicoll, f, val) {
  var cnt = cljs.core._count(cicoll);
  var val__$1 = val;
  var n = 0;
  while (true) {
    if (n < cnt) {
      var nval = function() {
        var G__8583 = val__$1;
        var G__8584 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll, n);
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8583, G__8584) : f.call(null, G__8583, G__8584);
      }();
      if (cljs.core.reduced_QMARK_(nval)) {
        return cljs.core.deref(nval);
      } else {
        var G__8593 = nval;
        var G__8594 = n + 1;
        val__$1 = G__8593;
        n = G__8594;
        continue;
      }
    } else {
      return val__$1;
    }
    break;
  }
};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4 = function(cicoll, f, val, idx) {
  var cnt = cljs.core._count(cicoll);
  var val__$1 = val;
  var n = idx;
  while (true) {
    if (n < cnt) {
      var nval = function() {
        var G__8585 = val__$1;
        var G__8586 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll, n);
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8585, G__8586) : f.call(null, G__8585, G__8586);
      }();
      if (cljs.core.reduced_QMARK_(nval)) {
        return cljs.core.deref(nval);
      } else {
        var G__8595 = nval;
        var G__8596 = n + 1;
        val__$1 = G__8595;
        n = G__8596;
        continue;
      }
    } else {
      return val__$1;
    }
    break;
  }
};
cljs.core.ci_reduce.cljs$lang$maxFixedArity = 4;
cljs.core.array_reduce = function cljs$core$array_reduce(var_args) {
  var args8597 = [];
  var len__7214__auto___8606 = arguments.length;
  var i__7215__auto___8607 = 0;
  while (true) {
    if (i__7215__auto___8607 < len__7214__auto___8606) {
      args8597.push(arguments[i__7215__auto___8607]);
      var G__8608 = i__7215__auto___8607 + 1;
      i__7215__auto___8607 = G__8608;
      continue;
    } else {
    }
    break;
  }
  var G__8599 = args8597.length;
  switch(G__8599) {
    case 2:
      return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8597.length)].join(""));;
  }
};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2 = function(arr, f) {
  var cnt = arr.length;
  if (arr.length === 0) {
    return f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
  } else {
    var val = arr[0];
    var n = 1;
    while (true) {
      if (n < cnt) {
        var nval = function() {
          var G__8600 = val;
          var G__8601 = arr[n];
          return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8600, G__8601) : f.call(null, G__8600, G__8601);
        }();
        if (cljs.core.reduced_QMARK_(nval)) {
          return cljs.core.deref(nval);
        } else {
          var G__8610 = nval;
          var G__8611 = n + 1;
          val = G__8610;
          n = G__8611;
          continue;
        }
      } else {
        return val;
      }
      break;
    }
  }
};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3 = function(arr, f, val) {
  var cnt = arr.length;
  var val__$1 = val;
  var n = 0;
  while (true) {
    if (n < cnt) {
      var nval = function() {
        var G__8602 = val__$1;
        var G__8603 = arr[n];
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8602, G__8603) : f.call(null, G__8602, G__8603);
      }();
      if (cljs.core.reduced_QMARK_(nval)) {
        return cljs.core.deref(nval);
      } else {
        var G__8612 = nval;
        var G__8613 = n + 1;
        val__$1 = G__8612;
        n = G__8613;
        continue;
      }
    } else {
      return val__$1;
    }
    break;
  }
};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4 = function(arr, f, val, idx) {
  var cnt = arr.length;
  var val__$1 = val;
  var n = idx;
  while (true) {
    if (n < cnt) {
      var nval = function() {
        var G__8604 = val__$1;
        var G__8605 = arr[n];
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8604, G__8605) : f.call(null, G__8604, G__8605);
      }();
      if (cljs.core.reduced_QMARK_(nval)) {
        return cljs.core.deref(nval);
      } else {
        var G__8614 = nval;
        var G__8615 = n + 1;
        val__$1 = G__8614;
        n = G__8615;
        continue;
      }
    } else {
      return val__$1;
    }
    break;
  }
};
cljs.core.array_reduce.cljs$lang$maxFixedArity = 4;
cljs.core.counted_QMARK_ = function cljs$core$counted_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 2 || x.cljs$core$ICounted$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.ICounted, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.ICounted, x);
  }
};
cljs.core.indexed_QMARK_ = function cljs$core$indexed_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 16 || x.cljs$core$IIndexed$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed, x);
  }
};
cljs.core.IndexedSeqIterator = function(arr, i) {
  this.arr = arr;
  this.i = i;
};
cljs.core.IndexedSeqIterator.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.i < self__.arr.length;
};
cljs.core.IndexedSeqIterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var ret = self__.arr[self__.i];
  self__.i = self__.i + 1;
  return ret;
};
cljs.core.IndexedSeqIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.IndexedSeqIterator.cljs$lang$type = true;
cljs.core.IndexedSeqIterator.cljs$lang$ctorStr = "cljs.core/IndexedSeqIterator";
cljs.core.IndexedSeqIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/IndexedSeqIterator");
};
cljs.core.__GT_IndexedSeqIterator = function cljs$core$__GT_IndexedSeqIterator(arr, i) {
  return new cljs.core.IndexedSeqIterator(arr, i);
};
cljs.core.IndexedSeq = function(arr, i) {
  this.arr = arr;
  this.i = i;
  this.cljs$lang$protocol_mask$partition0$ = 166199550;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.IndexedSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.IndexedSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, n) {
  var self__ = this;
  var coll__$1 = this;
  var i__$1 = n + self__.i;
  if (i__$1 < self__.arr.length) {
    return self__.arr[i__$1];
  } else {
    return null;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, n, not_found) {
  var self__ = this;
  var coll__$1 = this;
  var i__$1 = n + self__.i;
  if (i__$1 < self__.arr.length) {
    return self__.arr[i__$1];
  } else {
    return not_found;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$IIterable$ = true;
cljs.core.IndexedSeq.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.IndexedSeqIterator(self__.arr, self__.i);
};
cljs.core.IndexedSeq.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.IndexedSeq(self__.arr, self__.i);
};
cljs.core.IndexedSeq.prototype.cljs$core$INext$_next$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  if (self__.i + 1 < self__.arr.length) {
    return new cljs.core.IndexedSeq(self__.arr, self__.i + 1);
  } else {
    return null;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$ICounted$_count$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  var x__6487__auto__ = 0;
  var y__6488__auto__ = self__.arr.length - self__.i;
  return x__6487__auto__ > y__6488__auto__ ? x__6487__auto__ : y__6488__auto__;
};
cljs.core.IndexedSeq.prototype.cljs$core$IReversible$_rseq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var c = cljs.core._count(coll__$1);
  if (c > 0) {
    return new cljs.core.RSeq(coll__$1, c - 1, null);
  } else {
    return null;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.hash_ordered_coll(coll__$1);
};
cljs.core.IndexedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2 ? cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(coll__$1, other) : cljs.core.equiv_sequential.call(null, coll__$1, other);
};
cljs.core.IndexedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.List.EMPTY;
};
cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr, f, self__.arr[self__.i], self__.i + 1);
};
cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr, f, start, self__.i);
};
cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.arr[self__.i];
};
cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  if (self__.i + 1 < self__.arr.length) {
    return new cljs.core.IndexedSeq(self__.arr, self__.i + 1);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.i < self__.arr.length) {
    return this$__$1;
  } else {
    return null;
  }
};
cljs.core.IndexedSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons.cljs$core$IFn$_invoke$arity$2 ? cljs.core.cons.cljs$core$IFn$_invoke$arity$2(o, coll__$1) : cljs.core.cons.call(null, o, coll__$1);
};
cljs.core.IndexedSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.Symbol(null, "i", "i", 253690212, null)], null);
};
cljs.core.IndexedSeq.cljs$lang$type = true;
cljs.core.IndexedSeq.cljs$lang$ctorStr = "cljs.core/IndexedSeq";
cljs.core.IndexedSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/IndexedSeq");
};
cljs.core.__GT_IndexedSeq = function cljs$core$__GT_IndexedSeq(arr, i) {
  return new cljs.core.IndexedSeq(arr, i);
};
cljs.core.IndexedSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.prim_seq = function cljs$core$prim_seq(var_args) {
  var args8620 = [];
  var len__7214__auto___8623 = arguments.length;
  var i__7215__auto___8624 = 0;
  while (true) {
    if (i__7215__auto___8624 < len__7214__auto___8623) {
      args8620.push(arguments[i__7215__auto___8624]);
      var G__8625 = i__7215__auto___8624 + 1;
      i__7215__auto___8624 = G__8625;
      continue;
    } else {
    }
    break;
  }
  var G__8622 = args8620.length;
  switch(G__8622) {
    case 1:
      return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8620.length)].join(""));;
  }
};
cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1 = function(prim) {
  return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(prim, 0);
};
cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2 = function(prim, i) {
  if (i < prim.length) {
    return new cljs.core.IndexedSeq(prim, i);
  } else {
    return null;
  }
};
cljs.core.prim_seq.cljs$lang$maxFixedArity = 2;
cljs.core.array_seq = function cljs$core$array_seq(var_args) {
  var args8627 = [];
  var len__7214__auto___8630 = arguments.length;
  var i__7215__auto___8631 = 0;
  while (true) {
    if (i__7215__auto___8631 < len__7214__auto___8630) {
      args8627.push(arguments[i__7215__auto___8631]);
      var G__8632 = i__7215__auto___8631 + 1;
      i__7215__auto___8631 = G__8632;
      continue;
    } else {
    }
    break;
  }
  var G__8629 = args8627.length;
  switch(G__8629) {
    case 1:
      return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8627.length)].join(""));;
  }
};
cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1 = function(array) {
  return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(array, 0);
};
cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2 = function(array, i) {
  return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(array, i);
};
cljs.core.array_seq.cljs$lang$maxFixedArity = 2;
cljs.core.RSeq = function(ci, i, meta) {
  this.ci = ci;
  this.i = i;
  this.meta = meta;
  this.cljs$lang$protocol_mask$partition0$ = 32374990;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.RSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.RSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.RSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.RSeq.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.RSeq(self__.ci, self__.i, self__.meta);
};
cljs.core.RSeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.i > 0) {
    return new cljs.core.RSeq(self__.ci, self__.i - 1, null);
  } else {
    return null;
  }
};
cljs.core.RSeq.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.i + 1;
};
cljs.core.RSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.hash_ordered_coll(coll__$1);
};
cljs.core.RSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2 ? cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(coll__$1, other) : cljs.core.equiv_sequential.call(null, coll__$1, other);
};
cljs.core.RSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var G__8634 = cljs.core.List.EMPTY;
  var G__8635 = self__.meta;
  return cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2 ? cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2(G__8634, G__8635) : cljs.core.with_meta.call(null, G__8634, G__8635);
};
cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(col, f) {
  var self__ = this;
  var col__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2 ? cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, col__$1) : cljs.core.seq_reduce.call(null, f, col__$1);
};
cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(col, f, start) {
  var self__ = this;
  var col__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3 ? cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, col__$1) : cljs.core.seq_reduce.call(null, f, start, col__$1);
};
cljs.core.RSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.ci, self__.i);
};
cljs.core.RSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.i > 0) {
    return new cljs.core.RSeq(self__.ci, self__.i - 1, null);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.RSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.RSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, new_meta) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.RSeq(self__.ci, self__.i, new_meta);
};
cljs.core.RSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons.cljs$core$IFn$_invoke$arity$2 ? cljs.core.cons.cljs$core$IFn$_invoke$arity$2(o, coll__$1) : cljs.core.cons.call(null, o, coll__$1);
};
cljs.core.RSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "ci", "ci", 2049808339, null), new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null)], null);
};
cljs.core.RSeq.cljs$lang$type = true;
cljs.core.RSeq.cljs$lang$ctorStr = "cljs.core/RSeq";
cljs.core.RSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/RSeq");
};
cljs.core.__GT_RSeq = function cljs$core$__GT_RSeq(ci, i, meta) {
  return new cljs.core.RSeq(ci, i, meta);
};
cljs.core.RSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.second = function cljs$core$second(coll) {
  return cljs.core.first(cljs.core.next(coll));
};
cljs.core.ffirst = function cljs$core$ffirst(coll) {
  return cljs.core.first(cljs.core.first(coll));
};
cljs.core.nfirst = function cljs$core$nfirst(coll) {
  return cljs.core.next(cljs.core.first(coll));
};
cljs.core.fnext = function cljs$core$fnext(coll) {
  return cljs.core.first(cljs.core.next(coll));
};
cljs.core.nnext = function cljs$core$nnext(coll) {
  return cljs.core.next(cljs.core.next(coll));
};
cljs.core.last = function cljs$core$last(s) {
  while (true) {
    var sn = cljs.core.next(s);
    if (!(sn == null)) {
      var G__8636 = sn;
      s = G__8636;
      continue;
    } else {
      return cljs.core.first(s);
    }
    break;
  }
};
cljs.core.IEquiv["_"] = true;
cljs.core._equiv["_"] = function(x, o) {
  return x === o;
};
cljs.core.conj = function cljs$core$conj(var_args) {
  var args8637 = [];
  var len__7214__auto___8643 = arguments.length;
  var i__7215__auto___8644 = 0;
  while (true) {
    if (i__7215__auto___8644 < len__7214__auto___8643) {
      args8637.push(arguments[i__7215__auto___8644]);
      var G__8645 = i__7215__auto___8644 + 1;
      i__7215__auto___8644 = G__8645;
      continue;
    } else {
    }
    break;
  }
  var G__8642 = args8637.length;
  switch(G__8642) {
    case 0:
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8637.slice(2), 0);
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.conj.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.PersistentVector.EMPTY;
};
cljs.core.conj.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return coll;
};
cljs.core.conj.cljs$core$IFn$_invoke$arity$2 = function(coll, x) {
  if (!(coll == null)) {
    return cljs.core._conj(coll, x);
  } else {
    return cljs.core._conj(cljs.core.List.EMPTY, x);
  }
};
cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic = function(coll, x, xs) {
  while (true) {
    if (cljs.core.truth_(xs)) {
      var G__8647 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(coll, x);
      var G__8648 = cljs.core.first(xs);
      var G__8649 = cljs.core.next(xs);
      coll = G__8647;
      x = G__8648;
      xs = G__8649;
      continue;
    } else {
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(coll, x);
    }
    break;
  }
};
cljs.core.conj.cljs$lang$applyTo = function(seq8638) {
  var G__8639 = cljs.core.first(seq8638);
  var seq8638__$1 = cljs.core.next(seq8638);
  var G__8640 = cljs.core.first(seq8638__$1);
  var seq8638__$2 = cljs.core.next(seq8638__$1);
  return cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(G__8639, G__8640, seq8638__$2);
};
cljs.core.conj.cljs$lang$maxFixedArity = 2;
cljs.core.empty = function cljs$core$empty(coll) {
  if (coll == null) {
    return null;
  } else {
    return cljs.core._empty(coll);
  }
};
cljs.core.accumulating_seq_count = function cljs$core$accumulating_seq_count(coll) {
  var s = cljs.core.seq(coll);
  var acc = 0;
  while (true) {
    if (cljs.core.counted_QMARK_(s)) {
      return acc + cljs.core._count(s);
    } else {
      var G__8650 = cljs.core.next(s);
      var G__8651 = acc + 1;
      s = G__8650;
      acc = G__8651;
      continue;
    }
    break;
  }
};
cljs.core.count = function cljs$core$count(coll) {
  if (!(coll == null)) {
    if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 2 || coll.cljs$core$ICounted$ ? true : false : false) {
      return coll.cljs$core$ICounted$_count$arity$1(null);
    } else {
      if (cljs.core.array_QMARK_(coll)) {
        return coll.length;
      } else {
        if (typeof coll === "string") {
          return coll.length;
        } else {
          if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 8388608 || coll.cljs$core$ISeqable$ ? true : false : false) {
            return cljs.core.accumulating_seq_count(coll);
          } else {
            return cljs.core._count(coll);
          }
        }
      }
    }
  } else {
    return 0;
  }
};
cljs.core.linear_traversal_nth = function cljs$core$linear_traversal_nth(var_args) {
  var args8656 = [];
  var len__7214__auto___8659 = arguments.length;
  var i__7215__auto___8660 = 0;
  while (true) {
    if (i__7215__auto___8660 < len__7214__auto___8659) {
      args8656.push(arguments[i__7215__auto___8660]);
      var G__8661 = i__7215__auto___8660 + 1;
      i__7215__auto___8660 = G__8661;
      continue;
    } else {
    }
    break;
  }
  var G__8658 = args8656.length;
  switch(G__8658) {
    case 2:
      return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8656.length)].join(""));;
  }
};
cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2 = function(coll, n) {
  while (true) {
    if (coll == null) {
      throw new Error("Index out of bounds");
    } else {
      if (n === 0) {
        if (cljs.core.seq(coll)) {
          return cljs.core.first(coll);
        } else {
          throw new Error("Index out of bounds");
        }
      } else {
        if (cljs.core.indexed_QMARK_(coll)) {
          return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll, n);
        } else {
          if (cljs.core.seq(coll)) {
            var G__8663 = cljs.core.next(coll);
            var G__8664 = n - 1;
            coll = G__8663;
            n = G__8664;
            continue;
          } else {
            throw new Error("Index out of bounds");
          }
        }
      }
    }
    break;
  }
};
cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3 = function(coll, n, not_found) {
  while (true) {
    if (coll == null) {
      return not_found;
    } else {
      if (n === 0) {
        if (cljs.core.seq(coll)) {
          return cljs.core.first(coll);
        } else {
          return not_found;
        }
      } else {
        if (cljs.core.indexed_QMARK_(coll)) {
          return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll, n, not_found);
        } else {
          if (cljs.core.seq(coll)) {
            var G__8665 = cljs.core.next(coll);
            var G__8666 = n - 1;
            var G__8667 = not_found;
            coll = G__8665;
            n = G__8666;
            not_found = G__8667;
            continue;
          } else {
            return not_found;
          }
        }
      }
    }
    break;
  }
};
cljs.core.linear_traversal_nth.cljs$lang$maxFixedArity = 3;
cljs.core.nth = function cljs$core$nth(var_args) {
  var args8668 = [];
  var len__7214__auto___8675 = arguments.length;
  var i__7215__auto___8676 = 0;
  while (true) {
    if (i__7215__auto___8676 < len__7214__auto___8675) {
      args8668.push(arguments[i__7215__auto___8676]);
      var G__8677 = i__7215__auto___8676 + 1;
      i__7215__auto___8676 = G__8677;
      continue;
    } else {
    }
    break;
  }
  var G__8670 = args8668.length;
  switch(G__8670) {
    case 2:
      return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.nth.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8668.length)].join(""));;
  }
};
cljs.core.nth.cljs$core$IFn$_invoke$arity$2 = function(coll, n) {
  if (!(typeof n === "number")) {
    throw new Error("index argument to nth must be a number");
  } else {
    if (coll == null) {
      return coll;
    } else {
      if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 16 || coll.cljs$core$IIndexed$ ? true : false : false) {
        return coll.cljs$core$IIndexed$_nth$arity$2(null, n);
      } else {
        if (cljs.core.array_QMARK_(coll)) {
          if (n < coll.length) {
            return coll[n];
          } else {
            return null;
          }
        } else {
          if (typeof coll === "string") {
            if (n < coll.length) {
              return coll.charAt(n);
            } else {
              return null;
            }
          } else {
            if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 64 || coll.cljs$core$ISeq$ ? true : false : false) {
              return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(coll, n);
            } else {
              if (cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed, coll)) {
                return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll, n);
              } else {
                throw new Error([cljs.core.str("nth not supported on this type "), cljs.core.str(cljs.core.type__GT_str(cljs.core.type(coll)))].join(""));
              }
            }
          }
        }
      }
    }
  }
};
cljs.core.nth.cljs$core$IFn$_invoke$arity$3 = function(coll, n, not_found) {
  if (!(typeof n === "number")) {
    throw new Error("index argument to nth must be a number.");
  } else {
    if (coll == null) {
      return not_found;
    } else {
      if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 16 || coll.cljs$core$IIndexed$ ? true : false : false) {
        return coll.cljs$core$IIndexed$_nth$arity$3(null, n, not_found);
      } else {
        if (cljs.core.array_QMARK_(coll)) {
          if (n < coll.length) {
            return coll[n];
          } else {
            return not_found;
          }
        } else {
          if (typeof coll === "string") {
            if (n < coll.length) {
              return coll.charAt(n);
            } else {
              return not_found;
            }
          } else {
            if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 64 || coll.cljs$core$ISeq$ ? true : false : false) {
              return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(coll, n, not_found);
            } else {
              if (cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed, coll)) {
                return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll, n);
              } else {
                throw new Error([cljs.core.str("nth not supported on this type "), cljs.core.str(cljs.core.type__GT_str(cljs.core.type(coll)))].join(""));
              }
            }
          }
        }
      }
    }
  }
};
cljs.core.nth.cljs$lang$maxFixedArity = 3;
cljs.core.nthrest = function cljs$core$nthrest(coll, n) {
  var n__$1 = n;
  var xs = coll;
  while (true) {
    if (n__$1 > 0 && cljs.core.seq(xs)) {
      var G__8679 = n__$1 - 1;
      var G__8680 = cljs.core.rest(xs);
      n__$1 = G__8679;
      xs = G__8680;
      continue;
    } else {
      return xs;
    }
    break;
  }
};
cljs.core.get = function cljs$core$get(var_args) {
  var args8681 = [];
  var len__7214__auto___8686 = arguments.length;
  var i__7215__auto___8687 = 0;
  while (true) {
    if (i__7215__auto___8687 < len__7214__auto___8686) {
      args8681.push(arguments[i__7215__auto___8687]);
      var G__8688 = i__7215__auto___8687 + 1;
      i__7215__auto___8687 = G__8688;
      continue;
    } else {
    }
    break;
  }
  var G__8683 = args8681.length;
  switch(G__8683) {
    case 2:
      return cljs.core.get.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.get.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8681.length)].join(""));;
  }
};
cljs.core.get.cljs$core$IFn$_invoke$arity$2 = function(o, k) {
  if (o == null) {
    return null;
  } else {
    if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 256 || o.cljs$core$ILookup$ ? true : false : false) {
      return o.cljs$core$ILookup$_lookup$arity$2(null, k);
    } else {
      if (cljs.core.array_QMARK_(o)) {
        if (k < o.length) {
          return o[k | 0];
        } else {
          return null;
        }
      } else {
        if (typeof o === "string") {
          if (k < o.length) {
            return o[k | 0];
          } else {
            return null;
          }
        } else {
          if (cljs.core.native_satisfies_QMARK_(cljs.core.ILookup, o)) {
            return cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(o, k);
          } else {
            return null;
          }
        }
      }
    }
  }
};
cljs.core.get.cljs$core$IFn$_invoke$arity$3 = function(o, k, not_found) {
  if (!(o == null)) {
    if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 256 || o.cljs$core$ILookup$ ? true : false : false) {
      return o.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
    } else {
      if (cljs.core.array_QMARK_(o)) {
        if (k < o.length) {
          return o[k];
        } else {
          return not_found;
        }
      } else {
        if (typeof o === "string") {
          if (k < o.length) {
            return o[k];
          } else {
            return not_found;
          }
        } else {
          if (cljs.core.native_satisfies_QMARK_(cljs.core.ILookup, o)) {
            return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(o, k, not_found);
          } else {
            return not_found;
          }
        }
      }
    }
  } else {
    return not_found;
  }
};
cljs.core.get.cljs$lang$maxFixedArity = 3;
cljs.core.assoc = function cljs$core$assoc(var_args) {
  var args8690 = [];
  var len__7214__auto___8697 = arguments.length;
  var i__7215__auto___8698 = 0;
  while (true) {
    if (i__7215__auto___8698 < len__7214__auto___8697) {
      args8690.push(arguments[i__7215__auto___8698]);
      var G__8699 = i__7215__auto___8698 + 1;
      i__7215__auto___8698 = G__8699;
      continue;
    } else {
    }
    break;
  }
  var G__8696 = args8690.length;
  switch(G__8696) {
    case 3:
      return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8690.slice(3), 0);
      return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.assoc.cljs$core$IFn$_invoke$arity$3 = function(coll, k, v) {
  if (!(coll == null)) {
    return cljs.core._assoc(coll, k, v);
  } else {
    return cljs.core.PersistentHashMap.fromArrays([k], [v]);
  }
};
cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic = function(coll, k, v, kvs) {
  while (true) {
    var ret = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(coll, k, v);
    if (cljs.core.truth_(kvs)) {
      var G__8701 = ret;
      var G__8702 = cljs.core.first(kvs);
      var G__8703 = cljs.core.second(kvs);
      var G__8704 = cljs.core.nnext(kvs);
      coll = G__8701;
      k = G__8702;
      v = G__8703;
      kvs = G__8704;
      continue;
    } else {
      return ret;
    }
    break;
  }
};
cljs.core.assoc.cljs$lang$applyTo = function(seq8691) {
  var G__8692 = cljs.core.first(seq8691);
  var seq8691__$1 = cljs.core.next(seq8691);
  var G__8693 = cljs.core.first(seq8691__$1);
  var seq8691__$2 = cljs.core.next(seq8691__$1);
  var G__8694 = cljs.core.first(seq8691__$2);
  var seq8691__$3 = cljs.core.next(seq8691__$2);
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(G__8692, G__8693, G__8694, seq8691__$3);
};
cljs.core.assoc.cljs$lang$maxFixedArity = 3;
cljs.core.dissoc = function cljs$core$dissoc(var_args) {
  var args8705 = [];
  var len__7214__auto___8711 = arguments.length;
  var i__7215__auto___8712 = 0;
  while (true) {
    if (i__7215__auto___8712 < len__7214__auto___8711) {
      args8705.push(arguments[i__7215__auto___8712]);
      var G__8713 = i__7215__auto___8712 + 1;
      i__7215__auto___8712 = G__8713;
      continue;
    } else {
    }
    break;
  }
  var G__8710 = args8705.length;
  switch(G__8710) {
    case 1:
      return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8705.slice(2), 0);
      return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return coll;
};
cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2 = function(coll, k) {
  if (coll == null) {
    return null;
  } else {
    return cljs.core._dissoc(coll, k);
  }
};
cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic = function(coll, k, ks) {
  while (true) {
    if (coll == null) {
      return null;
    } else {
      var ret = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(coll, k);
      if (cljs.core.truth_(ks)) {
        var G__8715 = ret;
        var G__8716 = cljs.core.first(ks);
        var G__8717 = cljs.core.next(ks);
        coll = G__8715;
        k = G__8716;
        ks = G__8717;
        continue;
      } else {
        return ret;
      }
    }
    break;
  }
};
cljs.core.dissoc.cljs$lang$applyTo = function(seq8706) {
  var G__8707 = cljs.core.first(seq8706);
  var seq8706__$1 = cljs.core.next(seq8706);
  var G__8708 = cljs.core.first(seq8706__$1);
  var seq8706__$2 = cljs.core.next(seq8706__$1);
  return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__8707, G__8708, seq8706__$2);
};
cljs.core.dissoc.cljs$lang$maxFixedArity = 2;
cljs.core.fn_QMARK_ = function cljs$core$fn_QMARK_(f) {
  var or__6156__auto__ = goog.isFunction(f);
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    if (!(f == null)) {
      if (false || f.cljs$core$Fn$) {
        return true;
      } else {
        if (!f.cljs$lang$protocol_mask$partition$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.Fn, f);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.Fn, f);
    }
  }
};
cljs.core.MetaFn = function(afn, meta) {
  this.afn = afn;
  this.meta = meta;
  this.cljs$lang$protocol_mask$partition0$ = 393217;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.MetaFn.prototype.cljs$core$IMeta$_meta$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.meta;
};
cljs.core.MetaFn.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_, new_meta) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.MetaFn(self__.afn, new_meta);
};
cljs.core.MetaFn.prototype.cljs$core$Fn$ = true;
cljs.core.MetaFn.prototype.call = function() {
  var G__8723 = null;
  var G__8723__1 = function(self__) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$0 ? self__.afn.cljs$core$IFn$_invoke$arity$0() : self__.afn.call(null);
  };
  var G__8723__2 = function(self__, a) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$1 ? self__.afn.cljs$core$IFn$_invoke$arity$1(a) : self__.afn.call(null, a);
  };
  var G__8723__3 = function(self__, a, b) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$2 ? self__.afn.cljs$core$IFn$_invoke$arity$2(a, b) : self__.afn.call(null, a, b);
  };
  var G__8723__4 = function(self__, a, b, c) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$3 ? self__.afn.cljs$core$IFn$_invoke$arity$3(a, b, c) : self__.afn.call(null, a, b, c);
  };
  var G__8723__5 = function(self__, a, b, c, d) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$4 ? self__.afn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : self__.afn.call(null, a, b, c, d);
  };
  var G__8723__6 = function(self__, a, b, c, d, e) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$5 ? self__.afn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : self__.afn.call(null, a, b, c, d, e);
  };
  var G__8723__7 = function(self__, a, b, c, d, e, f) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$6 ? self__.afn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : self__.afn.call(null, a, b, c, d, e, f);
  };
  var G__8723__8 = function(self__, a, b, c, d, e, f, g) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$7 ? self__.afn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : self__.afn.call(null, a, b, c, d, e, f, g);
  };
  var G__8723__9 = function(self__, a, b, c, d, e, f, g, h) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$8 ? self__.afn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : self__.afn.call(null, a, b, c, d, e, f, g, h);
  };
  var G__8723__10 = function(self__, a, b, c, d, e, f, g, h, i) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$9 ? self__.afn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : self__.afn.call(null, a, b, c, d, e, f, g, h, i);
  };
  var G__8723__11 = function(self__, a, b, c, d, e, f, g, h, i, j) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$10 ? self__.afn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j);
  };
  var G__8723__12 = function(self__, a, b, c, d, e, f, g, h, i, j, k) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$11 ? self__.afn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k);
  };
  var G__8723__13 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$12 ? self__.afn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
  };
  var G__8723__14 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$13 ? self__.afn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
  };
  var G__8723__15 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$14 ? self__.afn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
  };
  var G__8723__16 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$15 ? self__.afn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
  };
  var G__8723__17 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$16 ? self__.afn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
  };
  var G__8723__18 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$17 ? self__.afn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
  };
  var G__8723__19 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$18 ? self__.afn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
  };
  var G__8723__20 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$19 ? self__.afn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
  };
  var G__8723__21 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return self__.afn.cljs$core$IFn$_invoke$arity$20 ? self__.afn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
  };
  var G__8723__22 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    var self__ = this;
    var self____$1 = this;
    var _ = self____$1;
    return cljs.core.apply.cljs$core$IFn$_invoke$arity$22 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$22(self__.afn, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) : cljs.core.apply.call(null, self__.afn, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
  };
  G__8723 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    switch(arguments.length) {
      case 1:
        return G__8723__1.call(this, self__);
      case 2:
        return G__8723__2.call(this, self__, a);
      case 3:
        return G__8723__3.call(this, self__, a, b);
      case 4:
        return G__8723__4.call(this, self__, a, b, c);
      case 5:
        return G__8723__5.call(this, self__, a, b, c, d);
      case 6:
        return G__8723__6.call(this, self__, a, b, c, d, e);
      case 7:
        return G__8723__7.call(this, self__, a, b, c, d, e, f);
      case 8:
        return G__8723__8.call(this, self__, a, b, c, d, e, f, g);
      case 9:
        return G__8723__9.call(this, self__, a, b, c, d, e, f, g, h);
      case 10:
        return G__8723__10.call(this, self__, a, b, c, d, e, f, g, h, i);
      case 11:
        return G__8723__11.call(this, self__, a, b, c, d, e, f, g, h, i, j);
      case 12:
        return G__8723__12.call(this, self__, a, b, c, d, e, f, g, h, i, j, k);
      case 13:
        return G__8723__13.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l);
      case 14:
        return G__8723__14.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m);
      case 15:
        return G__8723__15.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
      case 16:
        return G__8723__16.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
      case 17:
        return G__8723__17.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
      case 18:
        return G__8723__18.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
      case 19:
        return G__8723__19.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
      case 20:
        return G__8723__20.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
      case 21:
        return G__8723__21.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
      case 22:
        return G__8723__22.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__8723.cljs$core$IFn$_invoke$arity$1 = G__8723__1;
  G__8723.cljs$core$IFn$_invoke$arity$2 = G__8723__2;
  G__8723.cljs$core$IFn$_invoke$arity$3 = G__8723__3;
  G__8723.cljs$core$IFn$_invoke$arity$4 = G__8723__4;
  G__8723.cljs$core$IFn$_invoke$arity$5 = G__8723__5;
  G__8723.cljs$core$IFn$_invoke$arity$6 = G__8723__6;
  G__8723.cljs$core$IFn$_invoke$arity$7 = G__8723__7;
  G__8723.cljs$core$IFn$_invoke$arity$8 = G__8723__8;
  G__8723.cljs$core$IFn$_invoke$arity$9 = G__8723__9;
  G__8723.cljs$core$IFn$_invoke$arity$10 = G__8723__10;
  G__8723.cljs$core$IFn$_invoke$arity$11 = G__8723__11;
  G__8723.cljs$core$IFn$_invoke$arity$12 = G__8723__12;
  G__8723.cljs$core$IFn$_invoke$arity$13 = G__8723__13;
  G__8723.cljs$core$IFn$_invoke$arity$14 = G__8723__14;
  G__8723.cljs$core$IFn$_invoke$arity$15 = G__8723__15;
  G__8723.cljs$core$IFn$_invoke$arity$16 = G__8723__16;
  G__8723.cljs$core$IFn$_invoke$arity$17 = G__8723__17;
  G__8723.cljs$core$IFn$_invoke$arity$18 = G__8723__18;
  G__8723.cljs$core$IFn$_invoke$arity$19 = G__8723__19;
  G__8723.cljs$core$IFn$_invoke$arity$20 = G__8723__20;
  G__8723.cljs$core$IFn$_invoke$arity$21 = G__8723__21;
  G__8723.cljs$core$IFn$_invoke$arity$22 = G__8723__22;
  return G__8723;
}();
cljs.core.MetaFn.prototype.apply = function(self__, args8722) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args8722)));
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$0 = function() {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$0 ? self__.afn.cljs$core$IFn$_invoke$arity$0() : self__.afn.call(null);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$1 = function(a) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$1 ? self__.afn.cljs$core$IFn$_invoke$arity$1(a) : self__.afn.call(null, a);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$2 = function(a, b) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$2 ? self__.afn.cljs$core$IFn$_invoke$arity$2(a, b) : self__.afn.call(null, a, b);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$3 = function(a, b, c) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$3 ? self__.afn.cljs$core$IFn$_invoke$arity$3(a, b, c) : self__.afn.call(null, a, b, c);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$4 = function(a, b, c, d) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$4 ? self__.afn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : self__.afn.call(null, a, b, c, d);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$5 = function(a, b, c, d, e) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$5 ? self__.afn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : self__.afn.call(null, a, b, c, d, e);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$6 = function(a, b, c, d, e, f) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$6 ? self__.afn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : self__.afn.call(null, a, b, c, d, e, f);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$7 = function(a, b, c, d, e, f, g) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$7 ? self__.afn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : self__.afn.call(null, a, b, c, d, e, f, g);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$8 = function(a, b, c, d, e, f, g, h) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$8 ? self__.afn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : self__.afn.call(null, a, b, c, d, e, f, g, h);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$9 = function(a, b, c, d, e, f, g, h, i) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$9 ? self__.afn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : self__.afn.call(null, a, b, c, d, e, f, g, h, i);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$10 = function(a, b, c, d, e, f, g, h, i, j) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$10 ? self__.afn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$11 = function(a, b, c, d, e, f, g, h, i, j, k) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$11 ? self__.afn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$12 = function(a, b, c, d, e, f, g, h, i, j, k, l) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$12 ? self__.afn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$13 = function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$13 ? self__.afn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$14 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$14 ? self__.afn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$15 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$15 ? self__.afn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$16 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$16 ? self__.afn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$17 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$17 ? self__.afn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$18 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$18 ? self__.afn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$19 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$19 ? self__.afn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$20 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
  var self__ = this;
  var _ = this;
  return self__.afn.cljs$core$IFn$_invoke$arity$20 ? self__.afn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : self__.afn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$21 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
  var self__ = this;
  var _ = this;
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$22 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$22(self__.afn, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) : cljs.core.apply.call(null, self__.afn, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
};
cljs.core.MetaFn.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "afn", "afn", 216963467, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null)], null);
};
cljs.core.MetaFn.cljs$lang$type = true;
cljs.core.MetaFn.cljs$lang$ctorStr = "cljs.core/MetaFn";
cljs.core.MetaFn.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/MetaFn");
};
cljs.core.__GT_MetaFn = function cljs$core$__GT_MetaFn(afn, meta) {
  return new cljs.core.MetaFn(afn, meta);
};
cljs.core.with_meta = function cljs$core$with_meta(o, meta) {
  if (goog.isFunction(o)) {
    return new cljs.core.MetaFn(o, meta);
  } else {
    if (o == null) {
      return null;
    } else {
      return cljs.core._with_meta(o, meta);
    }
  }
};
cljs.core.meta = function cljs$core$meta(o) {
  if (function() {
    var and__6144__auto__ = !(o == null);
    if (and__6144__auto__) {
      if (!(o == null)) {
        if (o.cljs$lang$protocol_mask$partition0$ & 131072 || o.cljs$core$IMeta$) {
          return true;
        } else {
          if (!o.cljs$lang$protocol_mask$partition0$) {
            return cljs.core.native_satisfies_QMARK_(cljs.core.IMeta, o);
          } else {
            return false;
          }
        }
      } else {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IMeta, o);
      }
    } else {
      return and__6144__auto__;
    }
  }()) {
    return cljs.core._meta(o);
  } else {
    return null;
  }
};
cljs.core.peek = function cljs$core$peek(coll) {
  if (coll == null) {
    return null;
  } else {
    return cljs.core._peek(coll);
  }
};
cljs.core.pop = function cljs$core$pop(coll) {
  if (coll == null) {
    return null;
  } else {
    return cljs.core._pop(coll);
  }
};
cljs.core.disj = function cljs$core$disj(var_args) {
  var args8728 = [];
  var len__7214__auto___8734 = arguments.length;
  var i__7215__auto___8735 = 0;
  while (true) {
    if (i__7215__auto___8735 < len__7214__auto___8734) {
      args8728.push(arguments[i__7215__auto___8735]);
      var G__8736 = i__7215__auto___8735 + 1;
      i__7215__auto___8735 = G__8736;
      continue;
    } else {
    }
    break;
  }
  var G__8733 = args8728.length;
  switch(G__8733) {
    case 1:
      return cljs.core.disj.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.disj.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8728.slice(2), 0);
      return cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.disj.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return coll;
};
cljs.core.disj.cljs$core$IFn$_invoke$arity$2 = function(coll, k) {
  if (coll == null) {
    return null;
  } else {
    return cljs.core._disjoin(coll, k);
  }
};
cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic = function(coll, k, ks) {
  while (true) {
    if (coll == null) {
      return null;
    } else {
      var ret = cljs.core.disj.cljs$core$IFn$_invoke$arity$2(coll, k);
      if (cljs.core.truth_(ks)) {
        var G__8738 = ret;
        var G__8739 = cljs.core.first(ks);
        var G__8740 = cljs.core.next(ks);
        coll = G__8738;
        k = G__8739;
        ks = G__8740;
        continue;
      } else {
        return ret;
      }
    }
    break;
  }
};
cljs.core.disj.cljs$lang$applyTo = function(seq8729) {
  var G__8730 = cljs.core.first(seq8729);
  var seq8729__$1 = cljs.core.next(seq8729);
  var G__8731 = cljs.core.first(seq8729__$1);
  var seq8729__$2 = cljs.core.next(seq8729__$1);
  return cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(G__8730, G__8731, seq8729__$2);
};
cljs.core.disj.cljs$lang$maxFixedArity = 2;
cljs.core.empty_QMARK_ = function cljs$core$empty_QMARK_(coll) {
  return coll == null || cljs.core.not(cljs.core.seq(coll));
};
cljs.core.coll_QMARK_ = function cljs$core$coll_QMARK_(x) {
  if (x == null) {
    return false;
  } else {
    if (!(x == null)) {
      if (x.cljs$lang$protocol_mask$partition0$ & 8 || x.cljs$core$ICollection$) {
        return true;
      } else {
        if (!x.cljs$lang$protocol_mask$partition0$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.ICollection, x);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.ICollection, x);
    }
  }
};
cljs.core.set_QMARK_ = function cljs$core$set_QMARK_(x) {
  if (x == null) {
    return false;
  } else {
    if (!(x == null)) {
      if (x.cljs$lang$protocol_mask$partition0$ & 4096 || x.cljs$core$ISet$) {
        return true;
      } else {
        if (!x.cljs$lang$protocol_mask$partition0$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.ISet, x);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.ISet, x);
    }
  }
};
cljs.core.associative_QMARK_ = function cljs$core$associative_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 512 || x.cljs$core$IAssociative$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative, x);
  }
};
cljs.core.sequential_QMARK_ = function cljs$core$sequential_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 16777216 || x.cljs$core$ISequential$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.ISequential, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.ISequential, x);
  }
};
cljs.core.sorted_QMARK_ = function cljs$core$sorted_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 268435456 || x.cljs$core$ISorted$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.ISorted, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.ISorted, x);
  }
};
cljs.core.reduceable_QMARK_ = function cljs$core$reduceable_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 524288 || x.cljs$core$IReduce$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IReduce, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IReduce, x);
  }
};
cljs.core.map_QMARK_ = function cljs$core$map_QMARK_(x) {
  if (x == null) {
    return false;
  } else {
    if (!(x == null)) {
      if (x.cljs$lang$protocol_mask$partition0$ & 1024 || x.cljs$core$IMap$) {
        return true;
      } else {
        if (!x.cljs$lang$protocol_mask$partition0$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.IMap, x);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.IMap, x);
    }
  }
};
cljs.core.record_QMARK_ = function cljs$core$record_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 67108864 || x.cljs$core$IRecord$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IRecord, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IRecord, x);
  }
};
cljs.core.vector_QMARK_ = function cljs$core$vector_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 16384 || x.cljs$core$IVector$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IVector, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IVector, x);
  }
};
cljs.core.chunked_seq_QMARK_ = function cljs$core$chunked_seq_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition1$ & 512 || x.cljs$core$IChunkedSeq$) {
      return true;
    } else {
      return false;
    }
  } else {
    return false;
  }
};
cljs.core.js_obj = function cljs$core$js_obj(var_args) {
  var args8761 = [];
  var len__7214__auto___8767 = arguments.length;
  var i__7215__auto___8768 = 0;
  while (true) {
    if (i__7215__auto___8768 < len__7214__auto___8767) {
      args8761.push(arguments[i__7215__auto___8768]);
      var G__8769 = i__7215__auto___8768 + 1;
      i__7215__auto___8768 = G__8769;
      continue;
    } else {
    }
    break;
  }
  var G__8764 = args8761.length;
  switch(G__8764) {
    case 0:
      return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0();
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8761.slice(0), 0);
      return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(argseq__7233__auto__);
  }
};
cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0 = function() {
  return {};
};
cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic = function(keyvals) {
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$2 ? cljs.core.apply.cljs$core$IFn$_invoke$arity$2(goog.object.create, keyvals) : cljs.core.apply.call(null, goog.object.create, keyvals);
};
cljs.core.js_obj.cljs$lang$applyTo = function(seq8762) {
  return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq8762));
};
cljs.core.js_obj.cljs$lang$maxFixedArity = 0;
cljs.core.js_keys = function cljs$core$js_keys(obj) {
  var keys = [];
  var G__8773_8775 = obj;
  var G__8774_8776 = function(G__8773_8775, keys) {
    return function(val, key, obj__$1) {
      return keys.push(key);
    };
  }(G__8773_8775, keys);
  goog.object.forEach(G__8773_8775, G__8774_8776);
  return keys;
};
cljs.core.js_delete = function cljs$core$js_delete(obj, key) {
  return delete obj[key];
};
cljs.core.array_copy = function cljs$core$array_copy(from, i, to, j, len) {
  var i__$1 = i;
  var j__$1 = j;
  var len__$1 = len;
  while (true) {
    if (len__$1 === 0) {
      return to;
    } else {
      to[j__$1] = from[i__$1];
      var G__8777 = i__$1 + 1;
      var G__8778 = j__$1 + 1;
      var G__8779 = len__$1 - 1;
      i__$1 = G__8777;
      j__$1 = G__8778;
      len__$1 = G__8779;
      continue;
    }
    break;
  }
};
cljs.core.array_copy_downward = function cljs$core$array_copy_downward(from, i, to, j, len) {
  var i__$1 = i + (len - 1);
  var j__$1 = j + (len - 1);
  var len__$1 = len;
  while (true) {
    if (len__$1 === 0) {
      return to;
    } else {
      to[j__$1] = from[i__$1];
      var G__8780 = i__$1 - 1;
      var G__8781 = j__$1 - 1;
      var G__8782 = len__$1 - 1;
      i__$1 = G__8780;
      j__$1 = G__8781;
      len__$1 = G__8782;
      continue;
    }
    break;
  }
};
cljs.core.lookup_sentinel = {};
cljs.core.false_QMARK_ = function cljs$core$false_QMARK_(x) {
  return x === false;
};
cljs.core.true_QMARK_ = function cljs$core$true_QMARK_(x) {
  return x === true;
};
cljs.core.undefined_QMARK_ = function cljs$core$undefined_QMARK_(x) {
  return void 0 === x;
};
cljs.core.seq_QMARK_ = function cljs$core$seq_QMARK_(s) {
  if (s == null) {
    return false;
  } else {
    if (!(s == null)) {
      if (s.cljs$lang$protocol_mask$partition0$ & 64 || s.cljs$core$ISeq$) {
        return true;
      } else {
        if (!s.cljs$lang$protocol_mask$partition0$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.ISeq, s);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.ISeq, s);
    }
  }
};
cljs.core.seqable_QMARK_ = function cljs$core$seqable_QMARK_(s) {
  if (!(s == null)) {
    if (s.cljs$lang$protocol_mask$partition0$ & 8388608 || s.cljs$core$ISeqable$) {
      return true;
    } else {
      if (!s.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable, s);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable, s);
  }
};
cljs.core.boolean$ = function cljs$core$boolean(x) {
  if (x == null) {
    return false;
  } else {
    if (x === false) {
      return false;
    } else {
      return true;
    }
  }
};
cljs.core.ifn_QMARK_ = function cljs$core$ifn_QMARK_(f) {
  var or__6156__auto__ = cljs.core.fn_QMARK_(f);
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    if (!(f == null)) {
      if (f.cljs$lang$protocol_mask$partition0$ & 1 || f.cljs$core$IFn$) {
        return true;
      } else {
        if (!f.cljs$lang$protocol_mask$partition0$) {
          return cljs.core.native_satisfies_QMARK_(cljs.core.IFn, f);
        } else {
          return false;
        }
      }
    } else {
      return cljs.core.native_satisfies_QMARK_(cljs.core.IFn, f);
    }
  }
};
cljs.core.integer_QMARK_ = function cljs$core$integer_QMARK_(n) {
  return typeof n === "number" && !isNaN(n) && !(n === Infinity) && parseFloat(n) === parseInt(n, 10);
};
cljs.core.contains_QMARK_ = function cljs$core$contains_QMARK_(coll, v) {
  if (cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll, v, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
    return false;
  } else {
    return true;
  }
};
cljs.core.find = function cljs$core$find(coll, k) {
  if (!(coll == null) && cljs.core.associative_QMARK_(coll) && cljs.core.contains_QMARK_(coll, k)) {
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [k, cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll, k)], null);
  } else {
    return null;
  }
};
cljs.core.distinct_QMARK_ = function cljs$core$distinct_QMARK_(var_args) {
  var args8793 = [];
  var len__7214__auto___8799 = arguments.length;
  var i__7215__auto___8800 = 0;
  while (true) {
    if (i__7215__auto___8800 < len__7214__auto___8799) {
      args8793.push(arguments[i__7215__auto___8800]);
      var G__8801 = i__7215__auto___8800 + 1;
      i__7215__auto___8800 = G__8801;
      continue;
    } else {
    }
    break;
  }
  var G__8798 = args8793.length;
  switch(G__8798) {
    case 1:
      return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8793.slice(2), 0);
      return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return !cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x, y);
};
cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  if (!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x, y)) {
    var s = cljs.core.PersistentHashSet.fromArray([x, y], true);
    var xs = more;
    while (true) {
      var x__$1 = cljs.core.first(xs);
      var etc = cljs.core.next(xs);
      if (cljs.core.truth_(xs)) {
        if (cljs.core.contains_QMARK_(s, x__$1)) {
          return false;
        } else {
          var G__8803 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(s, x__$1);
          var G__8804 = etc;
          s = G__8803;
          xs = G__8804;
          continue;
        }
      } else {
        return true;
      }
      break;
    }
  } else {
    return false;
  }
};
cljs.core.distinct_QMARK_.cljs$lang$applyTo = function(seq8794) {
  var G__8795 = cljs.core.first(seq8794);
  var seq8794__$1 = cljs.core.next(seq8794);
  var G__8796 = cljs.core.first(seq8794__$1);
  var seq8794__$2 = cljs.core.next(seq8794__$1);
  return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(G__8795, G__8796, seq8794__$2);
};
cljs.core.distinct_QMARK_.cljs$lang$maxFixedArity = 2;
cljs.core.compare = function cljs$core$compare(x, y) {
  if (x === y) {
    return 0;
  } else {
    if (x == null) {
      return -1;
    } else {
      if (y == null) {
        return 1;
      } else {
        if (typeof x === "number") {
          if (typeof y === "number") {
            return goog.array.defaultCompare(x, y);
          } else {
            throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x), cljs.core.str(" to "), cljs.core.str(y)].join(""));
          }
        } else {
          if (!(x == null) ? x.cljs$lang$protocol_mask$partition1$ & 2048 || x.cljs$core$IComparable$ ? true : !x.cljs$lang$protocol_mask$partition1$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IComparable, x) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IComparable, x)) {
            return cljs.core._compare(x, y);
          } else {
            if ((typeof x === "string" || cljs.core.array_QMARK_(x) || x === true || x === false) && cljs.core.type(x) === cljs.core.type(y)) {
              return goog.array.defaultCompare(x, y);
            } else {
              throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x), cljs.core.str(" to "), cljs.core.str(y)].join(""));
            }
          }
        }
      }
    }
  }
};
cljs.core.compare_indexed = function cljs$core$compare_indexed(var_args) {
  var args8807 = [];
  var len__7214__auto___8810 = arguments.length;
  var i__7215__auto___8811 = 0;
  while (true) {
    if (i__7215__auto___8811 < len__7214__auto___8810) {
      args8807.push(arguments[i__7215__auto___8811]);
      var G__8812 = i__7215__auto___8811 + 1;
      i__7215__auto___8811 = G__8812;
      continue;
    } else {
    }
    break;
  }
  var G__8809 = args8807.length;
  switch(G__8809) {
    case 2:
      return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 4:
      return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8807.length)].join(""));;
  }
};
cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2 = function(xs, ys) {
  var xl = cljs.core.count(xs);
  var yl = cljs.core.count(ys);
  if (xl < yl) {
    return -1;
  } else {
    if (xl > yl) {
      return 1;
    } else {
      if (xl === 0) {
        return 0;
      } else {
        return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(xs, ys, xl, 0);
      }
    }
  }
};
cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4 = function(xs, ys, len, n) {
  while (true) {
    var d = cljs.core.compare(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(xs, n), cljs.core.nth.cljs$core$IFn$_invoke$arity$2(ys, n));
    if (d === 0 && n + 1 < len) {
      var G__8814 = xs;
      var G__8815 = ys;
      var G__8816 = len;
      var G__8817 = n + 1;
      xs = G__8814;
      ys = G__8815;
      len = G__8816;
      n = G__8817;
      continue;
    } else {
      return d;
    }
    break;
  }
};
cljs.core.compare_indexed.cljs$lang$maxFixedArity = 4;
cljs.core.fn__GT_comparator = function cljs$core$fn__GT_comparator(f) {
  if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(f, cljs.core.compare)) {
    return cljs.core.compare;
  } else {
    return function(x, y) {
      var r = f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y);
      if (typeof r === "number") {
        return r;
      } else {
        if (cljs.core.truth_(r)) {
          return -1;
        } else {
          if (cljs.core.truth_(f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(y, x) : f.call(null, y, x))) {
            return 1;
          } else {
            return 0;
          }
        }
      }
    };
  }
};
cljs.core.sort = function cljs$core$sort(var_args) {
  var args8818 = [];
  var len__7214__auto___8823 = arguments.length;
  var i__7215__auto___8824 = 0;
  while (true) {
    if (i__7215__auto___8824 < len__7214__auto___8823) {
      args8818.push(arguments[i__7215__auto___8824]);
      var G__8825 = i__7215__auto___8824 + 1;
      i__7215__auto___8824 = G__8825;
      continue;
    } else {
    }
    break;
  }
  var G__8820 = args8818.length;
  switch(G__8820) {
    case 1:
      return cljs.core.sort.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8818.length)].join(""));;
  }
};
cljs.core.sort.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(cljs.core.compare, coll);
};
cljs.core.sort.cljs$core$IFn$_invoke$arity$2 = function(comp, coll) {
  if (cljs.core.seq(coll)) {
    var a = cljs.core.to_array.cljs$core$IFn$_invoke$arity$1 ? cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.to_array.call(null, coll);
    var G__8821_8827 = a;
    var G__8822_8828 = cljs.core.fn__GT_comparator(comp);
    goog.array.stableSort(G__8821_8827, G__8822_8828);
    return cljs.core.seq(a);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.sort.cljs$lang$maxFixedArity = 2;
cljs.core.sort_by = function cljs$core$sort_by(var_args) {
  var args8829 = [];
  var len__7214__auto___8832 = arguments.length;
  var i__7215__auto___8833 = 0;
  while (true) {
    if (i__7215__auto___8833 < len__7214__auto___8832) {
      args8829.push(arguments[i__7215__auto___8833]);
      var G__8834 = i__7215__auto___8833 + 1;
      i__7215__auto___8833 = G__8834;
      continue;
    } else {
    }
    break;
  }
  var G__8831 = args8829.length;
  switch(G__8831) {
    case 2:
      return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8829.length)].join(""));;
  }
};
cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2 = function(keyfn, coll) {
  return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(keyfn, cljs.core.compare, coll);
};
cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3 = function(keyfn, comp, coll) {
  return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(function(x, y) {
    return cljs.core.fn__GT_comparator(comp).call(null, keyfn.cljs$core$IFn$_invoke$arity$1 ? keyfn.cljs$core$IFn$_invoke$arity$1(x) : keyfn.call(null, x), keyfn.cljs$core$IFn$_invoke$arity$1 ? keyfn.cljs$core$IFn$_invoke$arity$1(y) : keyfn.call(null, y));
  }, coll);
};
cljs.core.sort_by.cljs$lang$maxFixedArity = 3;
cljs.core.seq_reduce = function cljs$core$seq_reduce(var_args) {
  var args8836 = [];
  var len__7214__auto___8844 = arguments.length;
  var i__7215__auto___8845 = 0;
  while (true) {
    if (i__7215__auto___8845 < len__7214__auto___8844) {
      args8836.push(arguments[i__7215__auto___8845]);
      var G__8846 = i__7215__auto___8845 + 1;
      i__7215__auto___8845 = G__8846;
      continue;
    } else {
    }
    break;
  }
  var G__8838 = args8836.length;
  switch(G__8838) {
    case 2:
      return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8836.length)].join(""));;
  }
};
cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  var temp__4655__auto__ = cljs.core.seq(coll);
  if (temp__4655__auto__) {
    var s = temp__4655__auto__;
    var G__8839 = f;
    var G__8840 = cljs.core.first(s);
    var G__8841 = cljs.core.next(s);
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3 ? cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(G__8839, G__8840, G__8841) : cljs.core.reduce.call(null, G__8839, G__8840, G__8841);
  } else {
    return f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
  }
};
cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3 = function(f, val, coll) {
  var val__$1 = val;
  var coll__$1 = cljs.core.seq(coll);
  while (true) {
    if (coll__$1) {
      var nval = function() {
        var G__8842 = val__$1;
        var G__8843 = cljs.core.first(coll__$1);
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__8842, G__8843) : f.call(null, G__8842, G__8843);
      }();
      if (cljs.core.reduced_QMARK_(nval)) {
        return cljs.core.deref(nval);
      } else {
        var G__8848 = nval;
        var G__8849 = cljs.core.next(coll__$1);
        val__$1 = G__8848;
        coll__$1 = G__8849;
        continue;
      }
    } else {
      return val__$1;
    }
    break;
  }
};
cljs.core.seq_reduce.cljs$lang$maxFixedArity = 3;
cljs.core.shuffle = function cljs$core$shuffle(coll) {
  var a = cljs.core.to_array.cljs$core$IFn$_invoke$arity$1 ? cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.to_array.call(null, coll);
  goog.array.shuffle(a);
  return cljs.core.vec.cljs$core$IFn$_invoke$arity$1 ? cljs.core.vec.cljs$core$IFn$_invoke$arity$1(a) : cljs.core.vec.call(null, a);
};
cljs.core.reduce = function cljs$core$reduce(var_args) {
  var args8850 = [];
  var len__7214__auto___8855 = arguments.length;
  var i__7215__auto___8856 = 0;
  while (true) {
    if (i__7215__auto___8856 < len__7214__auto___8855) {
      args8850.push(arguments[i__7215__auto___8856]);
      var G__8857 = i__7215__auto___8856 + 1;
      i__7215__auto___8856 = G__8857;
      continue;
    } else {
    }
    break;
  }
  var G__8852 = args8850.length;
  switch(G__8852) {
    case 2:
      return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8850.length)].join(""));;
  }
};
cljs.core.reduce.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 524288 || coll.cljs$core$IReduce$ ? true : false : false) {
    return coll.cljs$core$IReduce$_reduce$arity$2(null, f);
  } else {
    if (cljs.core.array_QMARK_(coll)) {
      return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(coll, f);
    } else {
      if (typeof coll === "string") {
        return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(coll, f);
      } else {
        if (cljs.core.native_satisfies_QMARK_(cljs.core.IReduce, coll)) {
          return cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(coll, f);
        } else {
          return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll);
        }
      }
    }
  }
};
cljs.core.reduce.cljs$core$IFn$_invoke$arity$3 = function(f, val, coll) {
  if (!(coll == null) ? coll.cljs$lang$protocol_mask$partition0$ & 524288 || coll.cljs$core$IReduce$ ? true : false : false) {
    return coll.cljs$core$IReduce$_reduce$arity$3(null, f, val);
  } else {
    if (cljs.core.array_QMARK_(coll)) {
      return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(coll, f, val);
    } else {
      if (typeof coll === "string") {
        return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(coll, f, val);
      } else {
        if (cljs.core.native_satisfies_QMARK_(cljs.core.IReduce, coll)) {
          return cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(coll, f, val);
        } else {
          return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, val, coll);
        }
      }
    }
  }
};
cljs.core.reduce.cljs$lang$maxFixedArity = 3;
cljs.core.reduce_kv = function cljs$core$reduce_kv(f, init, coll) {
  if (!(coll == null)) {
    return cljs.core._kv_reduce(coll, f, init);
  } else {
    return init;
  }
};
cljs.core.identity = function cljs$core$identity(x) {
  return x;
};
cljs.core.completing = function cljs$core$completing(var_args) {
  var args8859 = [];
  var len__7214__auto___8862 = arguments.length;
  var i__7215__auto___8863 = 0;
  while (true) {
    if (i__7215__auto___8863 < len__7214__auto___8862) {
      args8859.push(arguments[i__7215__auto___8863]);
      var G__8864 = i__7215__auto___8863 + 1;
      i__7215__auto___8863 = G__8864;
      continue;
    } else {
    }
    break;
  }
  var G__8861 = args8859.length;
  switch(G__8861) {
    case 1:
      return cljs.core.completing.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8859.length)].join(""));;
  }
};
cljs.core.completing.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(f, cljs.core.identity);
};
cljs.core.completing.cljs$core$IFn$_invoke$arity$2 = function(f, cf) {
  return function() {
    var G__8866 = null;
    var G__8866__0 = function() {
      return f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
    };
    var G__8866__1 = function(x) {
      return cf.cljs$core$IFn$_invoke$arity$1 ? cf.cljs$core$IFn$_invoke$arity$1(x) : cf.call(null, x);
    };
    var G__8866__2 = function(x, y) {
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y);
    };
    G__8866 = function(x, y) {
      switch(arguments.length) {
        case 0:
          return G__8866__0.call(this);
        case 1:
          return G__8866__1.call(this, x);
        case 2:
          return G__8866__2.call(this, x, y);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__8866.cljs$core$IFn$_invoke$arity$0 = G__8866__0;
    G__8866.cljs$core$IFn$_invoke$arity$1 = G__8866__1;
    G__8866.cljs$core$IFn$_invoke$arity$2 = G__8866__2;
    return G__8866;
  }();
};
cljs.core.completing.cljs$lang$maxFixedArity = 2;
cljs.core.transduce = function cljs$core$transduce(var_args) {
  var args8867 = [];
  var len__7214__auto___8870 = arguments.length;
  var i__7215__auto___8871 = 0;
  while (true) {
    if (i__7215__auto___8871 < len__7214__auto___8870) {
      args8867.push(arguments[i__7215__auto___8871]);
      var G__8872 = i__7215__auto___8871 + 1;
      i__7215__auto___8871 = G__8872;
      continue;
    } else {
    }
    break;
  }
  var G__8869 = args8867.length;
  switch(G__8869) {
    case 3:
      return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args8867.length)].join(""));;
  }
};
cljs.core.transduce.cljs$core$IFn$_invoke$arity$3 = function(xform, f, coll) {
  return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform, f, f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null), coll);
};
cljs.core.transduce.cljs$core$IFn$_invoke$arity$4 = function(xform, f, init, coll) {
  var f__$1 = xform.cljs$core$IFn$_invoke$arity$1 ? xform.cljs$core$IFn$_invoke$arity$1(f) : xform.call(null, f);
  var ret = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(f__$1, init, coll);
  return f__$1.cljs$core$IFn$_invoke$arity$1 ? f__$1.cljs$core$IFn$_invoke$arity$1(ret) : f__$1.call(null, ret);
};
cljs.core.transduce.cljs$lang$maxFixedArity = 4;
cljs.core._PLUS_ = function cljs$core$_PLUS_(var_args) {
  var args8874 = [];
  var len__7214__auto___8880 = arguments.length;
  var i__7215__auto___8881 = 0;
  while (true) {
    if (i__7215__auto___8881 < len__7214__auto___8880) {
      args8874.push(arguments[i__7215__auto___8881]);
      var G__8882 = i__7215__auto___8881 + 1;
      i__7215__auto___8881 = G__8882;
      continue;
    } else {
    }
    break;
  }
  var G__8879 = args8874.length;
  switch(G__8879) {
    case 0:
      return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8874.slice(2), 0);
      return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0 = function() {
  return 0;
};
cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x + y;
};
cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._PLUS_, x + y, more);
};
cljs.core._PLUS_.cljs$lang$applyTo = function(seq8875) {
  var G__8876 = cljs.core.first(seq8875);
  var seq8875__$1 = cljs.core.next(seq8875);
  var G__8877 = cljs.core.first(seq8875__$1);
  var seq8875__$2 = cljs.core.next(seq8875__$1);
  return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(G__8876, G__8877, seq8875__$2);
};
cljs.core._PLUS_.cljs$lang$maxFixedArity = 2;
cljs.core._ = function cljs$core$_(var_args) {
  var args8884 = [];
  var len__7214__auto___8890 = arguments.length;
  var i__7215__auto___8891 = 0;
  while (true) {
    if (i__7215__auto___8891 < len__7214__auto___8890) {
      args8884.push(arguments[i__7215__auto___8891]);
      var G__8892 = i__7215__auto___8891 + 1;
      i__7215__auto___8891 = G__8892;
      continue;
    } else {
    }
    break;
  }
  var G__8889 = args8884.length;
  switch(G__8889) {
    case 1:
      return cljs.core._.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8884.slice(2), 0);
      return cljs.core._.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return -x;
};
cljs.core._.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x - y;
};
cljs.core._.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._, x - y, more);
};
cljs.core._.cljs$lang$applyTo = function(seq8885) {
  var G__8886 = cljs.core.first(seq8885);
  var seq8885__$1 = cljs.core.next(seq8885);
  var G__8887 = cljs.core.first(seq8885__$1);
  var seq8885__$2 = cljs.core.next(seq8885__$1);
  return cljs.core._.cljs$core$IFn$_invoke$arity$variadic(G__8886, G__8887, seq8885__$2);
};
cljs.core._.cljs$lang$maxFixedArity = 2;
cljs.core._STAR_ = function cljs$core$_STAR_(var_args) {
  var args8894 = [];
  var len__7214__auto___8900 = arguments.length;
  var i__7215__auto___8901 = 0;
  while (true) {
    if (i__7215__auto___8901 < len__7214__auto___8900) {
      args8894.push(arguments[i__7215__auto___8901]);
      var G__8902 = i__7215__auto___8901 + 1;
      i__7215__auto___8901 = G__8902;
      continue;
    } else {
    }
    break;
  }
  var G__8899 = args8894.length;
  switch(G__8899) {
    case 0:
      return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8894.slice(2), 0);
      return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0 = function() {
  return 1;
};
cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x * y;
};
cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._STAR_, x * y, more);
};
cljs.core._STAR_.cljs$lang$applyTo = function(seq8895) {
  var G__8896 = cljs.core.first(seq8895);
  var seq8895__$1 = cljs.core.next(seq8895);
  var G__8897 = cljs.core.first(seq8895__$1);
  var seq8895__$2 = cljs.core.next(seq8895__$1);
  return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(G__8896, G__8897, seq8895__$2);
};
cljs.core._STAR_.cljs$lang$maxFixedArity = 2;
cljs.core._SLASH_ = function cljs$core$_SLASH_(var_args) {
  var args8904 = [];
  var len__7214__auto___8910 = arguments.length;
  var i__7215__auto___8911 = 0;
  while (true) {
    if (i__7215__auto___8911 < len__7214__auto___8910) {
      args8904.push(arguments[i__7215__auto___8911]);
      var G__8912 = i__7215__auto___8911 + 1;
      i__7215__auto___8911 = G__8912;
      continue;
    } else {
    }
    break;
  }
  var G__8909 = args8904.length;
  switch(G__8909) {
    case 1:
      return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8904.slice(2), 0);
      return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return 1 / x;
};
cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x / y;
};
cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._SLASH_, x / y, more);
};
cljs.core._SLASH_.cljs$lang$applyTo = function(seq8905) {
  var G__8906 = cljs.core.first(seq8905);
  var seq8905__$1 = cljs.core.next(seq8905);
  var G__8907 = cljs.core.first(seq8905__$1);
  var seq8905__$2 = cljs.core.next(seq8905__$1);
  return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(G__8906, G__8907, seq8905__$2);
};
cljs.core._SLASH_.cljs$lang$maxFixedArity = 2;
cljs.core._LT_ = function cljs$core$_LT_(var_args) {
  var args8914 = [];
  var len__7214__auto___8920 = arguments.length;
  var i__7215__auto___8921 = 0;
  while (true) {
    if (i__7215__auto___8921 < len__7214__auto___8920) {
      args8914.push(arguments[i__7215__auto___8921]);
      var G__8922 = i__7215__auto___8921 + 1;
      i__7215__auto___8921 = G__8922;
      continue;
    } else {
    }
    break;
  }
  var G__8919 = args8914.length;
  switch(G__8919) {
    case 1:
      return cljs.core._LT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._LT_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8914.slice(2), 0);
      return cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._LT_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._LT_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x < y;
};
cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (x < y) {
      if (cljs.core.next(more)) {
        var G__8924 = y;
        var G__8925 = cljs.core.first(more);
        var G__8926 = cljs.core.next(more);
        x = G__8924;
        y = G__8925;
        more = G__8926;
        continue;
      } else {
        return y < cljs.core.first(more);
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._LT_.cljs$lang$applyTo = function(seq8915) {
  var G__8916 = cljs.core.first(seq8915);
  var seq8915__$1 = cljs.core.next(seq8915);
  var G__8917 = cljs.core.first(seq8915__$1);
  var seq8915__$2 = cljs.core.next(seq8915__$1);
  return cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(G__8916, G__8917, seq8915__$2);
};
cljs.core._LT_.cljs$lang$maxFixedArity = 2;
cljs.core._LT__EQ_ = function cljs$core$_LT__EQ_(var_args) {
  var args8927 = [];
  var len__7214__auto___8933 = arguments.length;
  var i__7215__auto___8934 = 0;
  while (true) {
    if (i__7215__auto___8934 < len__7214__auto___8933) {
      args8927.push(arguments[i__7215__auto___8934]);
      var G__8935 = i__7215__auto___8934 + 1;
      i__7215__auto___8934 = G__8935;
      continue;
    } else {
    }
    break;
  }
  var G__8932 = args8927.length;
  switch(G__8932) {
    case 1:
      return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8927.slice(2), 0);
      return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x <= y;
};
cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (x <= y) {
      if (cljs.core.next(more)) {
        var G__8937 = y;
        var G__8938 = cljs.core.first(more);
        var G__8939 = cljs.core.next(more);
        x = G__8937;
        y = G__8938;
        more = G__8939;
        continue;
      } else {
        return y <= cljs.core.first(more);
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._LT__EQ_.cljs$lang$applyTo = function(seq8928) {
  var G__8929 = cljs.core.first(seq8928);
  var seq8928__$1 = cljs.core.next(seq8928);
  var G__8930 = cljs.core.first(seq8928__$1);
  var seq8928__$2 = cljs.core.next(seq8928__$1);
  return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8929, G__8930, seq8928__$2);
};
cljs.core._LT__EQ_.cljs$lang$maxFixedArity = 2;
cljs.core._GT_ = function cljs$core$_GT_(var_args) {
  var args8940 = [];
  var len__7214__auto___8946 = arguments.length;
  var i__7215__auto___8947 = 0;
  while (true) {
    if (i__7215__auto___8947 < len__7214__auto___8946) {
      args8940.push(arguments[i__7215__auto___8947]);
      var G__8948 = i__7215__auto___8947 + 1;
      i__7215__auto___8947 = G__8948;
      continue;
    } else {
    }
    break;
  }
  var G__8945 = args8940.length;
  switch(G__8945) {
    case 1:
      return cljs.core._GT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._GT_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8940.slice(2), 0);
      return cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._GT_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._GT_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x > y;
};
cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (x > y) {
      if (cljs.core.next(more)) {
        var G__8950 = y;
        var G__8951 = cljs.core.first(more);
        var G__8952 = cljs.core.next(more);
        x = G__8950;
        y = G__8951;
        more = G__8952;
        continue;
      } else {
        return y > cljs.core.first(more);
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._GT_.cljs$lang$applyTo = function(seq8941) {
  var G__8942 = cljs.core.first(seq8941);
  var seq8941__$1 = cljs.core.next(seq8941);
  var G__8943 = cljs.core.first(seq8941__$1);
  var seq8941__$2 = cljs.core.next(seq8941__$1);
  return cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(G__8942, G__8943, seq8941__$2);
};
cljs.core._GT_.cljs$lang$maxFixedArity = 2;
cljs.core._GT__EQ_ = function cljs$core$_GT__EQ_(var_args) {
  var args8953 = [];
  var len__7214__auto___8959 = arguments.length;
  var i__7215__auto___8960 = 0;
  while (true) {
    if (i__7215__auto___8960 < len__7214__auto___8959) {
      args8953.push(arguments[i__7215__auto___8960]);
      var G__8961 = i__7215__auto___8960 + 1;
      i__7215__auto___8960 = G__8961;
      continue;
    } else {
    }
    break;
  }
  var G__8958 = args8953.length;
  switch(G__8958) {
    case 1:
      return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8953.slice(2), 0);
      return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x >= y;
};
cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (x >= y) {
      if (cljs.core.next(more)) {
        var G__8963 = y;
        var G__8964 = cljs.core.first(more);
        var G__8965 = cljs.core.next(more);
        x = G__8963;
        y = G__8964;
        more = G__8965;
        continue;
      } else {
        return y >= cljs.core.first(more);
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._GT__EQ_.cljs$lang$applyTo = function(seq8954) {
  var G__8955 = cljs.core.first(seq8954);
  var seq8954__$1 = cljs.core.next(seq8954);
  var G__8956 = cljs.core.first(seq8954__$1);
  var seq8954__$2 = cljs.core.next(seq8954__$1);
  return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8955, G__8956, seq8954__$2);
};
cljs.core._GT__EQ_.cljs$lang$maxFixedArity = 2;
cljs.core.dec = function cljs$core$dec(x) {
  return x - 1;
};
cljs.core.max = function cljs$core$max(var_args) {
  var args8966 = [];
  var len__7214__auto___8972 = arguments.length;
  var i__7215__auto___8973 = 0;
  while (true) {
    if (i__7215__auto___8973 < len__7214__auto___8972) {
      args8966.push(arguments[i__7215__auto___8973]);
      var G__8974 = i__7215__auto___8973 + 1;
      i__7215__auto___8973 = G__8974;
      continue;
    } else {
    }
    break;
  }
  var G__8971 = args8966.length;
  switch(G__8971) {
    case 1:
      return cljs.core.max.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.max.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8966.slice(2), 0);
      return cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.max.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.max.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  var x__6487__auto__ = x;
  var y__6488__auto__ = y;
  return x__6487__auto__ > y__6488__auto__ ? x__6487__auto__ : y__6488__auto__;
};
cljs.core.max.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.max, function() {
    var x__6487__auto__ = x;
    var y__6488__auto__ = y;
    return x__6487__auto__ > y__6488__auto__ ? x__6487__auto__ : y__6488__auto__;
  }(), more);
};
cljs.core.max.cljs$lang$applyTo = function(seq8967) {
  var G__8968 = cljs.core.first(seq8967);
  var seq8967__$1 = cljs.core.next(seq8967);
  var G__8969 = cljs.core.first(seq8967__$1);
  var seq8967__$2 = cljs.core.next(seq8967__$1);
  return cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(G__8968, G__8969, seq8967__$2);
};
cljs.core.max.cljs$lang$maxFixedArity = 2;
cljs.core.min = function cljs$core$min(var_args) {
  var args8976 = [];
  var len__7214__auto___8982 = arguments.length;
  var i__7215__auto___8983 = 0;
  while (true) {
    if (i__7215__auto___8983 < len__7214__auto___8982) {
      args8976.push(arguments[i__7215__auto___8983]);
      var G__8984 = i__7215__auto___8983 + 1;
      i__7215__auto___8983 = G__8984;
      continue;
    } else {
    }
    break;
  }
  var G__8981 = args8976.length;
  switch(G__8981) {
    case 1:
      return cljs.core.min.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.min.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8976.slice(2), 0);
      return cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.min.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.min.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  var x__6494__auto__ = x;
  var y__6495__auto__ = y;
  return x__6494__auto__ < y__6495__auto__ ? x__6494__auto__ : y__6495__auto__;
};
cljs.core.min.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.min, function() {
    var x__6494__auto__ = x;
    var y__6495__auto__ = y;
    return x__6494__auto__ < y__6495__auto__ ? x__6494__auto__ : y__6495__auto__;
  }(), more);
};
cljs.core.min.cljs$lang$applyTo = function(seq8977) {
  var G__8978 = cljs.core.first(seq8977);
  var seq8977__$1 = cljs.core.next(seq8977);
  var G__8979 = cljs.core.first(seq8977__$1);
  var seq8977__$2 = cljs.core.next(seq8977__$1);
  return cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(G__8978, G__8979, seq8977__$2);
};
cljs.core.min.cljs$lang$maxFixedArity = 2;
cljs.core.byte$ = function cljs$core$byte(x) {
  return x;
};
cljs.core.char$ = function cljs$core$char(x) {
  if (typeof x === "number") {
    return String.fromCharCode(x);
  } else {
    if (typeof x === "string" && x.length === 1) {
      return x;
    } else {
      throw new Error("Argument to char must be a character or number");
    }
  }
};
cljs.core.short$ = function cljs$core$short(x) {
  return x;
};
cljs.core.float$ = function cljs$core$float(x) {
  return x;
};
cljs.core.double$ = function cljs$core$double(x) {
  return x;
};
cljs.core.unchecked_byte = function cljs$core$unchecked_byte(x) {
  return x;
};
cljs.core.unchecked_char = function cljs$core$unchecked_char(x) {
  return x;
};
cljs.core.unchecked_short = function cljs$core$unchecked_short(x) {
  return x;
};
cljs.core.unchecked_float = function cljs$core$unchecked_float(x) {
  return x;
};
cljs.core.unchecked_double = function cljs$core$unchecked_double(x) {
  return x;
};
cljs.core.unchecked_add = function cljs$core$unchecked_add(var_args) {
  var args8986 = [];
  var len__7214__auto___8992 = arguments.length;
  var i__7215__auto___8993 = 0;
  while (true) {
    if (i__7215__auto___8993 < len__7214__auto___8992) {
      args8986.push(arguments[i__7215__auto___8993]);
      var G__8994 = i__7215__auto___8993 + 1;
      i__7215__auto___8993 = G__8994;
      continue;
    } else {
    }
    break;
  }
  var G__8991 = args8986.length;
  switch(G__8991) {
    case 0:
      return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8986.slice(2), 0);
      return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0 = function() {
  return 0;
};
cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x + y;
};
cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add, x + y, more);
};
cljs.core.unchecked_add.cljs$lang$applyTo = function(seq8987) {
  var G__8988 = cljs.core.first(seq8987);
  var seq8987__$1 = cljs.core.next(seq8987);
  var G__8989 = cljs.core.first(seq8987__$1);
  var seq8987__$2 = cljs.core.next(seq8987__$1);
  return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(G__8988, G__8989, seq8987__$2);
};
cljs.core.unchecked_add.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_add_int = function cljs$core$unchecked_add_int(var_args) {
  var args8996 = [];
  var len__7214__auto___9002 = arguments.length;
  var i__7215__auto___9003 = 0;
  while (true) {
    if (i__7215__auto___9003 < len__7214__auto___9002) {
      args8996.push(arguments[i__7215__auto___9003]);
      var G__9004 = i__7215__auto___9003 + 1;
      i__7215__auto___9003 = G__9004;
      continue;
    } else {
    }
    break;
  }
  var G__9001 = args8996.length;
  switch(G__9001) {
    case 0:
      return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args8996.slice(2), 0);
      return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0 = function() {
  return 0;
};
cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x + y;
};
cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add_int, x + y, more);
};
cljs.core.unchecked_add_int.cljs$lang$applyTo = function(seq8997) {
  var G__8998 = cljs.core.first(seq8997);
  var seq8997__$1 = cljs.core.next(seq8997);
  var G__8999 = cljs.core.first(seq8997__$1);
  var seq8997__$2 = cljs.core.next(seq8997__$1);
  return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(G__8998, G__8999, seq8997__$2);
};
cljs.core.unchecked_add_int.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_dec = function cljs$core$unchecked_dec(x) {
  return x - 1;
};
cljs.core.unchecked_dec_int = function cljs$core$unchecked_dec_int(x) {
  return x - 1;
};
cljs.core.unchecked_divide_int = function cljs$core$unchecked_divide_int(var_args) {
  var args9006 = [];
  var len__7214__auto___9012 = arguments.length;
  var i__7215__auto___9013 = 0;
  while (true) {
    if (i__7215__auto___9013 < len__7214__auto___9012) {
      args9006.push(arguments[i__7215__auto___9013]);
      var G__9014 = i__7215__auto___9013 + 1;
      i__7215__auto___9013 = G__9014;
      continue;
    } else {
    }
    break;
  }
  var G__9011 = args9006.length;
  switch(G__9011) {
    case 1:
      return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9006.slice(2), 0);
      return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return 1 / x;
};
cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x / y;
};
cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_divide_int, x / y, more);
};
cljs.core.unchecked_divide_int.cljs$lang$applyTo = function(seq9007) {
  var G__9008 = cljs.core.first(seq9007);
  var seq9007__$1 = cljs.core.next(seq9007);
  var G__9009 = cljs.core.first(seq9007__$1);
  var seq9007__$2 = cljs.core.next(seq9007__$1);
  return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(G__9008, G__9009, seq9007__$2);
};
cljs.core.unchecked_divide_int.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_inc = function cljs$core$unchecked_inc(x) {
  return x + 1;
};
cljs.core.unchecked_inc_int = function cljs$core$unchecked_inc_int(x) {
  return x + 1;
};
cljs.core.unchecked_multiply = function cljs$core$unchecked_multiply(var_args) {
  var args9016 = [];
  var len__7214__auto___9022 = arguments.length;
  var i__7215__auto___9023 = 0;
  while (true) {
    if (i__7215__auto___9023 < len__7214__auto___9022) {
      args9016.push(arguments[i__7215__auto___9023]);
      var G__9024 = i__7215__auto___9023 + 1;
      i__7215__auto___9023 = G__9024;
      continue;
    } else {
    }
    break;
  }
  var G__9021 = args9016.length;
  switch(G__9021) {
    case 0:
      return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9016.slice(2), 0);
      return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0 = function() {
  return 1;
};
cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x * y;
};
cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply, x * y, more);
};
cljs.core.unchecked_multiply.cljs$lang$applyTo = function(seq9017) {
  var G__9018 = cljs.core.first(seq9017);
  var seq9017__$1 = cljs.core.next(seq9017);
  var G__9019 = cljs.core.first(seq9017__$1);
  var seq9017__$2 = cljs.core.next(seq9017__$1);
  return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(G__9018, G__9019, seq9017__$2);
};
cljs.core.unchecked_multiply.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_multiply_int = function cljs$core$unchecked_multiply_int(var_args) {
  var args9026 = [];
  var len__7214__auto___9032 = arguments.length;
  var i__7215__auto___9033 = 0;
  while (true) {
    if (i__7215__auto___9033 < len__7214__auto___9032) {
      args9026.push(arguments[i__7215__auto___9033]);
      var G__9034 = i__7215__auto___9033 + 1;
      i__7215__auto___9033 = G__9034;
      continue;
    } else {
    }
    break;
  }
  var G__9031 = args9026.length;
  switch(G__9031) {
    case 0:
      return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9026.slice(2), 0);
      return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0 = function() {
  return 1;
};
cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return x;
};
cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x * y;
};
cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply_int, x * y, more);
};
cljs.core.unchecked_multiply_int.cljs$lang$applyTo = function(seq9027) {
  var G__9028 = cljs.core.first(seq9027);
  var seq9027__$1 = cljs.core.next(seq9027);
  var G__9029 = cljs.core.first(seq9027__$1);
  var seq9027__$2 = cljs.core.next(seq9027__$1);
  return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(G__9028, G__9029, seq9027__$2);
};
cljs.core.unchecked_multiply_int.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_negate = function cljs$core$unchecked_negate(x) {
  return -x;
};
cljs.core.unchecked_negate_int = function cljs$core$unchecked_negate_int(x) {
  return -x;
};
cljs.core.unchecked_remainder_int = function cljs$core$unchecked_remainder_int(x, n) {
  return cljs.core.mod.cljs$core$IFn$_invoke$arity$2 ? cljs.core.mod.cljs$core$IFn$_invoke$arity$2(x, n) : cljs.core.mod.call(null, x, n);
};
cljs.core.unchecked_subtract = function cljs$core$unchecked_subtract(var_args) {
  var args9036 = [];
  var len__7214__auto___9042 = arguments.length;
  var i__7215__auto___9043 = 0;
  while (true) {
    if (i__7215__auto___9043 < len__7214__auto___9042) {
      args9036.push(arguments[i__7215__auto___9043]);
      var G__9044 = i__7215__auto___9043 + 1;
      i__7215__auto___9043 = G__9044;
      continue;
    } else {
    }
    break;
  }
  var G__9041 = args9036.length;
  switch(G__9041) {
    case 1:
      return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9036.slice(2), 0);
      return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return -x;
};
cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x - y;
};
cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract, x - y, more);
};
cljs.core.unchecked_subtract.cljs$lang$applyTo = function(seq9037) {
  var G__9038 = cljs.core.first(seq9037);
  var seq9037__$1 = cljs.core.next(seq9037);
  var G__9039 = cljs.core.first(seq9037__$1);
  var seq9037__$2 = cljs.core.next(seq9037__$1);
  return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(G__9038, G__9039, seq9037__$2);
};
cljs.core.unchecked_subtract.cljs$lang$maxFixedArity = 2;
cljs.core.unchecked_subtract_int = function cljs$core$unchecked_subtract_int(var_args) {
  var args9046 = [];
  var len__7214__auto___9052 = arguments.length;
  var i__7215__auto___9053 = 0;
  while (true) {
    if (i__7215__auto___9053 < len__7214__auto___9052) {
      args9046.push(arguments[i__7215__auto___9053]);
      var G__9054 = i__7215__auto___9053 + 1;
      i__7215__auto___9053 = G__9054;
      continue;
    } else {
    }
    break;
  }
  var G__9051 = args9046.length;
  switch(G__9051) {
    case 1:
      return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9046.slice(2), 0);
      return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return -x;
};
cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x - y;
};
cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract_int, x - y, more);
};
cljs.core.unchecked_subtract_int.cljs$lang$applyTo = function(seq9047) {
  var G__9048 = cljs.core.first(seq9047);
  var seq9047__$1 = cljs.core.next(seq9047);
  var G__9049 = cljs.core.first(seq9047__$1);
  var seq9047__$2 = cljs.core.next(seq9047__$1);
  return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(G__9048, G__9049, seq9047__$2);
};
cljs.core.unchecked_subtract_int.cljs$lang$maxFixedArity = 2;
cljs.core.fix = function cljs$core$fix(q) {
  if (q >= 0) {
    return Math.floor(q);
  } else {
    return Math.ceil(q);
  }
};
cljs.core.int$ = function cljs$core$int(x) {
  return x | 0;
};
cljs.core.unchecked_int = function cljs$core$unchecked_int(x) {
  return cljs.core.fix(x);
};
cljs.core.long$ = function cljs$core$long(x) {
  return cljs.core.fix(x);
};
cljs.core.unchecked_long = function cljs$core$unchecked_long(x) {
  return cljs.core.fix(x);
};
cljs.core.booleans = function cljs$core$booleans(x) {
  return x;
};
cljs.core.bytes = function cljs$core$bytes(x) {
  return x;
};
cljs.core.chars = function cljs$core$chars(x) {
  return x;
};
cljs.core.shorts = function cljs$core$shorts(x) {
  return x;
};
cljs.core.ints = function cljs$core$ints(x) {
  return x;
};
cljs.core.floats = function cljs$core$floats(x) {
  return x;
};
cljs.core.doubles = function cljs$core$doubles(x) {
  return x;
};
cljs.core.longs = function cljs$core$longs(x) {
  return x;
};
cljs.core.js_mod = function cljs$core$js_mod(n, d) {
  return n % d;
};
cljs.core.mod = function cljs$core$mod(n, d) {
  return (n % d + d) % d;
};
cljs.core.quot = function cljs$core$quot(n, d) {
  var rem = n % d;
  return cljs.core.fix((n - rem) / d);
};
cljs.core.rem = function cljs$core$rem(n, d) {
  var q = cljs.core.quot(n, d);
  return n - d * q;
};
cljs.core.bit_xor = function cljs$core$bit_xor(var_args) {
  var args9056 = [];
  var len__7214__auto___9062 = arguments.length;
  var i__7215__auto___9063 = 0;
  while (true) {
    if (i__7215__auto___9063 < len__7214__auto___9062) {
      args9056.push(arguments[i__7215__auto___9063]);
      var G__9064 = i__7215__auto___9063 + 1;
      i__7215__auto___9063 = G__9064;
      continue;
    } else {
    }
    break;
  }
  var G__9061 = args9056.length;
  switch(G__9061) {
    case 2:
      return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9056.slice(2), 0);
      return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x ^ y;
};
cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_xor, x ^ y, more);
};
cljs.core.bit_xor.cljs$lang$applyTo = function(seq9057) {
  var G__9058 = cljs.core.first(seq9057);
  var seq9057__$1 = cljs.core.next(seq9057);
  var G__9059 = cljs.core.first(seq9057__$1);
  var seq9057__$2 = cljs.core.next(seq9057__$1);
  return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(G__9058, G__9059, seq9057__$2);
};
cljs.core.bit_xor.cljs$lang$maxFixedArity = 2;
cljs.core.bit_and = function cljs$core$bit_and(var_args) {
  var args9066 = [];
  var len__7214__auto___9072 = arguments.length;
  var i__7215__auto___9073 = 0;
  while (true) {
    if (i__7215__auto___9073 < len__7214__auto___9072) {
      args9066.push(arguments[i__7215__auto___9073]);
      var G__9074 = i__7215__auto___9073 + 1;
      i__7215__auto___9073 = G__9074;
      continue;
    } else {
    }
    break;
  }
  var G__9071 = args9066.length;
  switch(G__9071) {
    case 2:
      return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9066.slice(2), 0);
      return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x & y;
};
cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and, x & y, more);
};
cljs.core.bit_and.cljs$lang$applyTo = function(seq9067) {
  var G__9068 = cljs.core.first(seq9067);
  var seq9067__$1 = cljs.core.next(seq9067);
  var G__9069 = cljs.core.first(seq9067__$1);
  var seq9067__$2 = cljs.core.next(seq9067__$1);
  return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(G__9068, G__9069, seq9067__$2);
};
cljs.core.bit_and.cljs$lang$maxFixedArity = 2;
cljs.core.bit_or = function cljs$core$bit_or(var_args) {
  var args9076 = [];
  var len__7214__auto___9082 = arguments.length;
  var i__7215__auto___9083 = 0;
  while (true) {
    if (i__7215__auto___9083 < len__7214__auto___9082) {
      args9076.push(arguments[i__7215__auto___9083]);
      var G__9084 = i__7215__auto___9083 + 1;
      i__7215__auto___9083 = G__9084;
      continue;
    } else {
    }
    break;
  }
  var G__9081 = args9076.length;
  switch(G__9081) {
    case 2:
      return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9076.slice(2), 0);
      return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x | y;
};
cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_or, x | y, more);
};
cljs.core.bit_or.cljs$lang$applyTo = function(seq9077) {
  var G__9078 = cljs.core.first(seq9077);
  var seq9077__$1 = cljs.core.next(seq9077);
  var G__9079 = cljs.core.first(seq9077__$1);
  var seq9077__$2 = cljs.core.next(seq9077__$1);
  return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(G__9078, G__9079, seq9077__$2);
};
cljs.core.bit_or.cljs$lang$maxFixedArity = 2;
cljs.core.bit_and_not = function cljs$core$bit_and_not(var_args) {
  var args9086 = [];
  var len__7214__auto___9092 = arguments.length;
  var i__7215__auto___9093 = 0;
  while (true) {
    if (i__7215__auto___9093 < len__7214__auto___9092) {
      args9086.push(arguments[i__7215__auto___9093]);
      var G__9094 = i__7215__auto___9093 + 1;
      i__7215__auto___9093 = G__9094;
      continue;
    } else {
    }
    break;
  }
  var G__9091 = args9086.length;
  switch(G__9091) {
    case 2:
      return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9086.slice(2), 0);
      return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return x & ~y;
};
cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and_not, x & ~y, more);
};
cljs.core.bit_and_not.cljs$lang$applyTo = function(seq9087) {
  var G__9088 = cljs.core.first(seq9087);
  var seq9087__$1 = cljs.core.next(seq9087);
  var G__9089 = cljs.core.first(seq9087__$1);
  var seq9087__$2 = cljs.core.next(seq9087__$1);
  return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(G__9088, G__9089, seq9087__$2);
};
cljs.core.bit_and_not.cljs$lang$maxFixedArity = 2;
cljs.core.bit_clear = function cljs$core$bit_clear(x, n) {
  return x & ~(1 << n);
};
cljs.core.bit_flip = function cljs$core$bit_flip(x, n) {
  return x ^ 1 << n;
};
cljs.core.bit_not = function cljs$core$bit_not(x) {
  return ~x;
};
cljs.core.bit_set = function cljs$core$bit_set(x, n) {
  return x | 1 << n;
};
cljs.core.bit_test = function cljs$core$bit_test(x, n) {
  return (x & 1 << n) != 0;
};
cljs.core.bit_shift_left = function cljs$core$bit_shift_left(x, n) {
  return x << n;
};
cljs.core.bit_shift_right = function cljs$core$bit_shift_right(x, n) {
  return x >> n;
};
cljs.core.bit_shift_right_zero_fill = function cljs$core$bit_shift_right_zero_fill(x, n) {
  return x >>> n;
};
cljs.core.unsigned_bit_shift_right = function cljs$core$unsigned_bit_shift_right(x, n) {
  return x >>> n;
};
cljs.core.bit_count = function cljs$core$bit_count(v) {
  var v__$1 = v - (v >> 1 & 1431655765);
  var v__$2 = (v__$1 & 858993459) + (v__$1 >> 2 & 858993459);
  return (v__$2 + (v__$2 >> 4) & 252645135) * 16843009 >> 24;
};
cljs.core._EQ__EQ_ = function cljs$core$_EQ__EQ_(var_args) {
  var args9096 = [];
  var len__7214__auto___9102 = arguments.length;
  var i__7215__auto___9103 = 0;
  while (true) {
    if (i__7215__auto___9103 < len__7214__auto___9102) {
      args9096.push(arguments[i__7215__auto___9103]);
      var G__9104 = i__7215__auto___9103 + 1;
      i__7215__auto___9103 = G__9104;
      continue;
    } else {
    }
    break;
  }
  var G__9101 = args9096.length;
  switch(G__9101) {
    case 1:
      return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9096.slice(2), 0);
      return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return true;
};
cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return cljs.core._equiv(x, y);
};
cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  while (true) {
    if (x === y) {
      if (cljs.core.next(more)) {
        var G__9106 = y;
        var G__9107 = cljs.core.first(more);
        var G__9108 = cljs.core.next(more);
        x = G__9106;
        y = G__9107;
        more = G__9108;
        continue;
      } else {
        return y === cljs.core.first(more);
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core._EQ__EQ_.cljs$lang$applyTo = function(seq9097) {
  var G__9098 = cljs.core.first(seq9097);
  var seq9097__$1 = cljs.core.next(seq9097);
  var G__9099 = cljs.core.first(seq9097__$1);
  var seq9097__$2 = cljs.core.next(seq9097__$1);
  return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__9098, G__9099, seq9097__$2);
};
cljs.core._EQ__EQ_.cljs$lang$maxFixedArity = 2;
cljs.core.pos_QMARK_ = function cljs$core$pos_QMARK_(n) {
  return n > 0;
};
cljs.core.zero_QMARK_ = function cljs$core$zero_QMARK_(n) {
  return n === 0;
};
cljs.core.neg_QMARK_ = function cljs$core$neg_QMARK_(x) {
  return x < 0;
};
cljs.core.nthnext = function cljs$core$nthnext(coll, n) {
  var n__$1 = n;
  var xs = cljs.core.seq(coll);
  while (true) {
    if (xs && n__$1 > 0) {
      var G__9109 = n__$1 - 1;
      var G__9110 = cljs.core.next(xs);
      n__$1 = G__9109;
      xs = G__9110;
      continue;
    } else {
      return xs;
    }
    break;
  }
};
cljs.core.str = function cljs$core$str(var_args) {
  var args9111 = [];
  var len__7214__auto___9116 = arguments.length;
  var i__7215__auto___9117 = 0;
  while (true) {
    if (i__7215__auto___9117 < len__7214__auto___9116) {
      args9111.push(arguments[i__7215__auto___9117]);
      var G__9118 = i__7215__auto___9117 + 1;
      i__7215__auto___9117 = G__9118;
      continue;
    } else {
    }
    break;
  }
  var G__9115 = args9111.length;
  switch(G__9115) {
    case 0:
      return cljs.core.str.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9111.slice(1), 0);
      return cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7233__auto__);
  }
};
cljs.core.str.cljs$core$IFn$_invoke$arity$0 = function() {
  return "";
};
cljs.core.str.cljs$core$IFn$_invoke$arity$1 = function(x) {
  if (x == null) {
    return "";
  } else {
    return [x].join("");
  }
};
cljs.core.str.cljs$core$IFn$_invoke$arity$variadic = function(x, ys) {
  var sb = new goog.string.StringBuffer([cljs.core.str(x)].join(""));
  var more = ys;
  while (true) {
    if (cljs.core.truth_(more)) {
      var G__9120 = sb.append([cljs.core.str(cljs.core.first(more))].join(""));
      var G__9121 = cljs.core.next(more);
      sb = G__9120;
      more = G__9121;
      continue;
    } else {
      return sb.toString();
    }
    break;
  }
};
cljs.core.str.cljs$lang$applyTo = function(seq9112) {
  var G__9113 = cljs.core.first(seq9112);
  var seq9112__$1 = cljs.core.next(seq9112);
  return cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(G__9113, seq9112__$1);
};
cljs.core.str.cljs$lang$maxFixedArity = 1;
cljs.core.subs = function cljs$core$subs(var_args) {
  var args9122 = [];
  var len__7214__auto___9125 = arguments.length;
  var i__7215__auto___9126 = 0;
  while (true) {
    if (i__7215__auto___9126 < len__7214__auto___9125) {
      args9122.push(arguments[i__7215__auto___9126]);
      var G__9127 = i__7215__auto___9126 + 1;
      i__7215__auto___9126 = G__9127;
      continue;
    } else {
    }
    break;
  }
  var G__9124 = args9122.length;
  switch(G__9124) {
    case 2:
      return cljs.core.subs.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.subs.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9122.length)].join(""));;
  }
};
cljs.core.subs.cljs$core$IFn$_invoke$arity$2 = function(s, start) {
  return s.substring(start);
};
cljs.core.subs.cljs$core$IFn$_invoke$arity$3 = function(s, start, end) {
  return s.substring(start, end);
};
cljs.core.subs.cljs$lang$maxFixedArity = 3;
cljs.core.equiv_sequential = function cljs$core$equiv_sequential(x, y) {
  return cljs.core.boolean$(cljs.core.sequential_QMARK_(y) ? cljs.core.counted_QMARK_(x) && cljs.core.counted_QMARK_(y) && !(cljs.core.count(x) === cljs.core.count(y)) ? false : function() {
    var xs = cljs.core.seq(x);
    var ys = cljs.core.seq(y);
    while (true) {
      if (xs == null) {
        return ys == null;
      } else {
        if (ys == null) {
          return false;
        } else {
          if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(xs), cljs.core.first(ys))) {
            var G__9129 = cljs.core.next(xs);
            var G__9130 = cljs.core.next(ys);
            xs = G__9129;
            ys = G__9130;
            continue;
          } else {
            return false;
          }
        }
      }
      break;
    }
  }() : null);
};
cljs.core.hash_coll = function cljs$core$hash_coll(coll) {
  if (cljs.core.seq(coll)) {
    var res = cljs.core.hash(cljs.core.first(coll));
    var s = cljs.core.next(coll);
    while (true) {
      if (s == null) {
        return res;
      } else {
        var G__9131 = cljs.core.hash_combine(res, cljs.core.hash(cljs.core.first(s)));
        var G__9132 = cljs.core.next(s);
        res = G__9131;
        s = G__9132;
        continue;
      }
      break;
    }
  } else {
    return 0;
  }
};
cljs.core.hash_imap = function cljs$core$hash_imap(m) {
  var h = 0;
  var s = cljs.core.seq(m);
  while (true) {
    if (s) {
      var e = cljs.core.first(s);
      var G__9133 = (h + (cljs.core.hash(cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.key.call(null, e)) ^ cljs.core.hash(cljs.core.val.cljs$core$IFn$_invoke$arity$1 ? cljs.core.val.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.val.call(null, e)))) % 4503599627370496;
      var G__9134 = cljs.core.next(s);
      h = G__9133;
      s = G__9134;
      continue;
    } else {
      return h;
    }
    break;
  }
};
cljs.core.hash_iset = function cljs$core$hash_iset(s) {
  var h = 0;
  var s__$1 = cljs.core.seq(s);
  while (true) {
    if (s__$1) {
      var e = cljs.core.first(s__$1);
      var G__9135 = (h + cljs.core.hash(e)) % 4503599627370496;
      var G__9136 = cljs.core.next(s__$1);
      h = G__9135;
      s__$1 = G__9136;
      continue;
    } else {
      return h;
    }
    break;
  }
};
cljs.core.extend_object_BANG_ = function cljs$core$extend_object_BANG_(obj, fn_map) {
  var seq__9143_9149 = cljs.core.seq(fn_map);
  var chunk__9144_9150 = null;
  var count__9145_9151 = 0;
  var i__9146_9152 = 0;
  while (true) {
    if (i__9146_9152 < count__9145_9151) {
      var vec__9147_9153 = chunk__9144_9150.cljs$core$IIndexed$_nth$arity$2(null, i__9146_9152);
      var key_name_9154 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9147_9153, 0, null);
      var f_9155 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9147_9153, 1, null);
      var str_name_9156 = cljs.core.name.cljs$core$IFn$_invoke$arity$1 ? cljs.core.name.cljs$core$IFn$_invoke$arity$1(key_name_9154) : cljs.core.name.call(null, key_name_9154);
      obj[str_name_9156] = f_9155;
      var G__9157 = seq__9143_9149;
      var G__9158 = chunk__9144_9150;
      var G__9159 = count__9145_9151;
      var G__9160 = i__9146_9152 + 1;
      seq__9143_9149 = G__9157;
      chunk__9144_9150 = G__9158;
      count__9145_9151 = G__9159;
      i__9146_9152 = G__9160;
      continue;
    } else {
      var temp__4657__auto___9161 = cljs.core.seq(seq__9143_9149);
      if (temp__4657__auto___9161) {
        var seq__9143_9162__$1 = temp__4657__auto___9161;
        if (cljs.core.chunked_seq_QMARK_(seq__9143_9162__$1)) {
          var c__6959__auto___9163 = cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1 ? cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1(seq__9143_9162__$1) : cljs.core.chunk_first.call(null, seq__9143_9162__$1);
          var G__9164 = cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1 ? cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1(seq__9143_9162__$1) : cljs.core.chunk_rest.call(null, seq__9143_9162__$1);
          var G__9165 = c__6959__auto___9163;
          var G__9166 = cljs.core.count(c__6959__auto___9163);
          var G__9167 = 0;
          seq__9143_9149 = G__9164;
          chunk__9144_9150 = G__9165;
          count__9145_9151 = G__9166;
          i__9146_9152 = G__9167;
          continue;
        } else {
          var vec__9148_9168 = cljs.core.first(seq__9143_9162__$1);
          var key_name_9169 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9148_9168, 0, null);
          var f_9170 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9148_9168, 1, null);
          var str_name_9171 = cljs.core.name.cljs$core$IFn$_invoke$arity$1 ? cljs.core.name.cljs$core$IFn$_invoke$arity$1(key_name_9169) : cljs.core.name.call(null, key_name_9169);
          obj[str_name_9171] = f_9170;
          var G__9172 = cljs.core.next(seq__9143_9162__$1);
          var G__9173 = null;
          var G__9174 = 0;
          var G__9175 = 0;
          seq__9143_9149 = G__9172;
          chunk__9144_9150 = G__9173;
          count__9145_9151 = G__9174;
          i__9146_9152 = G__9175;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return obj;
};
cljs.core.List = function(meta, first, rest, count, __hash) {
  this.meta = meta;
  this.first = first;
  this.rest = rest;
  this.count = count;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 65937646;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.List.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.List.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.List.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.List.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.List(self__.meta, self__.first, self__.rest, self__.count, self__.__hash);
};
cljs.core.List.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.count === 1) {
    return null;
  } else {
    return self__.rest;
  }
};
cljs.core.List.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.count;
};
cljs.core.List.prototype.cljs$core$IStack$_peek$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.first;
};
cljs.core.List.prototype.cljs$core$IStack$_pop$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._rest(coll__$1);
};
cljs.core.List.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.List.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.List.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.List.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.first;
};
cljs.core.List.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.count === 1) {
    return cljs.core.List.EMPTY;
  } else {
    return self__.rest;
  }
};
cljs.core.List.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.List.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.List(meta__$1, self__.first, self__.rest, self__.count, self__.__hash);
};
cljs.core.List.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.List(self__.meta, o, coll__$1, self__.count + 1, null);
};
cljs.core.List.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "first", "first", 996428481, null), new cljs.core.Symbol(null, "rest", "rest", 398835108, null), new cljs.core.Symbol(null, "count", "count", -514511684, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.List.cljs$lang$type = true;
cljs.core.List.cljs$lang$ctorStr = "cljs.core/List";
cljs.core.List.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/List");
};
cljs.core.__GT_List = function cljs$core$__GT_List(meta, first, rest, count, __hash) {
  return new cljs.core.List(meta, first, rest, count, __hash);
};
cljs.core.list_QMARK_ = function cljs$core$list_QMARK_(x) {
  if (!(x == null)) {
    if (x.cljs$lang$protocol_mask$partition0$ & 33554432 || x.cljs$core$IList$) {
      return true;
    } else {
      if (!x.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IList, x);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IList, x);
  }
};
cljs.core.List.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.EmptyList = function(meta) {
  this.meta = meta;
  this.cljs$lang$protocol_mask$partition0$ = 65937614;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.EmptyList.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.EmptyList.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.EmptyList.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.EmptyList.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.EmptyList(self__.meta);
};
cljs.core.EmptyList.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return null;
};
cljs.core.EmptyList.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return 0;
};
cljs.core.EmptyList.prototype.cljs$core$IStack$_peek$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return null;
};
cljs.core.EmptyList.prototype.cljs$core$IStack$_pop$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  throw new Error("Can't pop empty list");
};
cljs.core.EmptyList.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.empty_ordered_hash;
};
cljs.core.EmptyList.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.list_QMARK_(other) || cljs.core.sequential_QMARK_(other)) {
    return cljs.core.seq(other) == null;
  } else {
    return false;
  }
};
cljs.core.EmptyList.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.EmptyList.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return null;
};
cljs.core.EmptyList.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.List.EMPTY;
};
cljs.core.EmptyList.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return null;
};
cljs.core.EmptyList.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.EmptyList(meta__$1);
};
cljs.core.EmptyList.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.List(self__.meta, o, null, 1, null);
};
cljs.core.EmptyList.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null)], null);
};
cljs.core.EmptyList.cljs$lang$type = true;
cljs.core.EmptyList.cljs$lang$ctorStr = "cljs.core/EmptyList";
cljs.core.EmptyList.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/EmptyList");
};
cljs.core.__GT_EmptyList = function cljs$core$__GT_EmptyList(meta) {
  return new cljs.core.EmptyList(meta);
};
cljs.core.List.EMPTY = new cljs.core.EmptyList(null);
cljs.core.EmptyList.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.reversible_QMARK_ = function cljs$core$reversible_QMARK_(coll) {
  if (!(coll == null)) {
    if (coll.cljs$lang$protocol_mask$partition0$ & 134217728 || coll.cljs$core$IReversible$) {
      return true;
    } else {
      if (!coll.cljs$lang$protocol_mask$partition0$) {
        return cljs.core.native_satisfies_QMARK_(cljs.core.IReversible, coll);
      } else {
        return false;
      }
    }
  } else {
    return cljs.core.native_satisfies_QMARK_(cljs.core.IReversible, coll);
  }
};
cljs.core.rseq = function cljs$core$rseq(rev) {
  return cljs.core._rseq(rev);
};
cljs.core.reverse = function cljs$core$reverse(coll) {
  if (cljs.core.reversible_QMARK_(coll)) {
    return cljs.core.rseq(coll);
  } else {
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj, cljs.core.List.EMPTY, coll);
  }
};
cljs.core.list = function cljs$core$list(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___9181 = arguments.length;
  var i__7215__auto___9182 = 0;
  while (true) {
    if (i__7215__auto___9182 < len__7214__auto___9181) {
      args__7221__auto__.push(arguments[i__7215__auto___9182]);
      var G__9183 = i__7215__auto___9182 + 1;
      i__7215__auto___9182 = G__9183;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.list.cljs$core$IFn$_invoke$arity$variadic = function(xs) {
  var arr = xs instanceof cljs.core.IndexedSeq && xs.i === 0 ? xs.arr : function() {
    var arr = [];
    var xs__$1 = xs;
    while (true) {
      if (!(xs__$1 == null)) {
        arr.push(xs__$1.cljs$core$ISeq$_first$arity$1(null));
        var G__9184 = xs__$1.cljs$core$INext$_next$arity$1(null);
        xs__$1 = G__9184;
        continue;
      } else {
        return arr;
      }
      break;
    }
  }();
  var i = arr.length;
  var r = cljs.core.List.EMPTY;
  while (true) {
    if (i > 0) {
      var G__9185 = i - 1;
      var G__9186 = r.cljs$core$ICollection$_conj$arity$2(null, arr[i - 1]);
      i = G__9185;
      r = G__9186;
      continue;
    } else {
      return r;
    }
    break;
  }
};
cljs.core.list.cljs$lang$maxFixedArity = 0;
cljs.core.list.cljs$lang$applyTo = function(seq9180) {
  return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq9180));
};
cljs.core.Cons = function(meta, first, rest, __hash) {
  this.meta = meta;
  this.first = first;
  this.rest = rest;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 65929452;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.Cons.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.Cons.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Cons.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.Cons.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.Cons(self__.meta, self__.first, self__.rest, self__.__hash);
};
cljs.core.Cons.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.rest == null) {
    return null;
  } else {
    return cljs.core.seq(self__.rest);
  }
};
cljs.core.Cons.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.Cons.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.Cons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.Cons.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.first;
};
cljs.core.Cons.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.rest == null) {
    return cljs.core.List.EMPTY;
  } else {
    return self__.rest;
  }
};
cljs.core.Cons.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.Cons.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.Cons(meta__$1, self__.first, self__.rest, self__.__hash);
};
cljs.core.Cons.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.Cons(null, o, coll__$1, null);
};
cljs.core.Cons.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "first", "first", 996428481, null), new cljs.core.Symbol(null, "rest", "rest", 398835108, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.Cons.cljs$lang$type = true;
cljs.core.Cons.cljs$lang$ctorStr = "cljs.core/Cons";
cljs.core.Cons.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Cons");
};
cljs.core.__GT_Cons = function cljs$core$__GT_Cons(meta, first, rest, __hash) {
  return new cljs.core.Cons(meta, first, rest, __hash);
};
cljs.core.Cons.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.cons = function cljs$core$cons(x, coll) {
  if (function() {
    var or__6156__auto__ = coll == null;
    if (or__6156__auto__) {
      return or__6156__auto__;
    } else {
      if (!(coll == null)) {
        if (coll.cljs$lang$protocol_mask$partition0$ & 64 || coll.cljs$core$ISeq$) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    }
  }()) {
    return new cljs.core.Cons(null, x, coll, null);
  } else {
    return new cljs.core.Cons(null, x, cljs.core.seq(coll), null);
  }
};
cljs.core.hash_keyword = function cljs$core$hash_keyword(k) {
  return cljs.core.hash_symbol(k) + 2654435769 | 0;
};
cljs.core.compare_keywords = function cljs$core$compare_keywords(a, b) {
  if (a.fqn === b.fqn) {
    return 0;
  } else {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = cljs.core.not(a.ns);
      if (and__6144__auto__) {
        return b.ns;
      } else {
        return and__6144__auto__;
      }
    }())) {
      return -1;
    } else {
      if (cljs.core.truth_(a.ns)) {
        if (cljs.core.not(b.ns)) {
          return 1;
        } else {
          var nsc = function() {
            var G__9197 = a.ns;
            var G__9198 = b.ns;
            return goog.array.defaultCompare(G__9197, G__9198);
          }();
          if (0 === nsc) {
            var G__9199 = a.name;
            var G__9200 = b.name;
            return goog.array.defaultCompare(G__9199, G__9200);
          } else {
            return nsc;
          }
        }
      } else {
        var G__9201 = a.name;
        var G__9202 = b.name;
        return goog.array.defaultCompare(G__9201, G__9202);
      }
    }
  }
};
cljs.core.Keyword = function(ns, name, fqn, _hash) {
  this.ns = ns;
  this.name = name;
  this.fqn = fqn;
  this._hash = _hash;
  this.cljs$lang$protocol_mask$partition0$ = 2153775105;
  this.cljs$lang$protocol_mask$partition1$ = 4096;
};
cljs.core.Keyword.prototype.toString = function() {
  var self__ = this;
  var _ = this;
  return [cljs.core.str(":"), cljs.core.str(self__.fqn)].join("");
};
cljs.core.Keyword.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Keyword.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(_, other) {
  var self__ = this;
  var ___$1 = this;
  if (other instanceof cljs.core.Keyword) {
    return self__.fqn === other.fqn;
  } else {
    return false;
  }
};
cljs.core.Keyword.prototype.call = function() {
  var G__9204 = null;
  var G__9204__2 = function(self__, coll) {
    var self__ = this;
    var self____$1 = this;
    var kw = self____$1;
    return cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll, kw);
  };
  var G__9204__3 = function(self__, coll, not_found) {
    var self__ = this;
    var self____$1 = this;
    var kw = self____$1;
    return cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll, kw, not_found);
  };
  G__9204 = function(self__, coll, not_found) {
    switch(arguments.length) {
      case 2:
        return G__9204__2.call(this, self__, coll);
      case 3:
        return G__9204__3.call(this, self__, coll, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__9204.cljs$core$IFn$_invoke$arity$2 = G__9204__2;
  G__9204.cljs$core$IFn$_invoke$arity$3 = G__9204__3;
  return G__9204;
}();
cljs.core.Keyword.prototype.apply = function(self__, args9203) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args9203)));
};
cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  var self__ = this;
  var kw = this;
  return cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll, kw);
};
cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$2 = function(coll, not_found) {
  var self__ = this;
  var kw = this;
  return cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll, kw, not_found);
};
cljs.core.Keyword.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  var h__6591__auto__ = self__._hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_keyword(this$__$1);
    self__._hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.Keyword.prototype.cljs$core$INamed$_name$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.name;
};
cljs.core.Keyword.prototype.cljs$core$INamed$_namespace$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.ns;
};
cljs.core.Keyword.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(o, writer, _) {
  var self__ = this;
  var o__$1 = this;
  return cljs.core._write(writer, [cljs.core.str(":"), cljs.core.str(self__.fqn)].join(""));
};
cljs.core.Keyword.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "ns", "ns", 2082130287, null), new cljs.core.Symbol(null, "name", "name", -810760592, null), new cljs.core.Symbol(null, "fqn", "fqn", -1749334463, null), cljs.core.with_meta(new cljs.core.Symbol(null, "_hash", "_hash", -2130838312, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.Keyword.cljs$lang$type = true;
cljs.core.Keyword.cljs$lang$ctorStr = "cljs.core/Keyword";
cljs.core.Keyword.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Keyword");
};
cljs.core.__GT_Keyword = function cljs$core$__GT_Keyword(ns, name, fqn, _hash) {
  return new cljs.core.Keyword(ns, name, fqn, _hash);
};
cljs.core.keyword_QMARK_ = function cljs$core$keyword_QMARK_(x) {
  return x instanceof cljs.core.Keyword;
};
cljs.core.keyword_identical_QMARK_ = function cljs$core$keyword_identical_QMARK_(x, y) {
  if (x === y) {
    return true;
  } else {
    if (x instanceof cljs.core.Keyword && y instanceof cljs.core.Keyword) {
      return x.fqn === y.fqn;
    } else {
      return false;
    }
  }
};
cljs.core.symbol_identical_QMARK_ = function cljs$core$symbol_identical_QMARK_(x, y) {
  if (x === y) {
    return true;
  } else {
    if (x instanceof cljs.core.Symbol && y instanceof cljs.core.Symbol) {
      return x.str === y.str;
    } else {
      return false;
    }
  }
};
cljs.core.namespace = function cljs$core$namespace(x) {
  if (!(x == null) ? x.cljs$lang$protocol_mask$partition1$ & 4096 || x.cljs$core$INamed$ ? true : false : false) {
    return x.cljs$core$INamed$_namespace$arity$1(null);
  } else {
    throw new Error([cljs.core.str("Doesn't support namespace: "), cljs.core.str(x)].join(""));
  }
};
cljs.core.keyword = function cljs$core$keyword(var_args) {
  var args9207 = [];
  var len__7214__auto___9210 = arguments.length;
  var i__7215__auto___9211 = 0;
  while (true) {
    if (i__7215__auto___9211 < len__7214__auto___9210) {
      args9207.push(arguments[i__7215__auto___9211]);
      var G__9212 = i__7215__auto___9211 + 1;
      i__7215__auto___9211 = G__9212;
      continue;
    } else {
    }
    break;
  }
  var G__9209 = args9207.length;
  switch(G__9209) {
    case 1:
      return cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.keyword.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9207.length)].join(""));;
  }
};
cljs.core.keyword.cljs$core$IFn$_invoke$arity$1 = function(name) {
  if (name instanceof cljs.core.Keyword) {
    return name;
  } else {
    if (name instanceof cljs.core.Symbol) {
      return new cljs.core.Keyword(cljs.core.namespace(name), cljs.core.name.cljs$core$IFn$_invoke$arity$1 ? cljs.core.name.cljs$core$IFn$_invoke$arity$1(name) : cljs.core.name.call(null, name), name.str, null);
    } else {
      if (typeof name === "string") {
        var parts = name.split("/");
        if (parts.length === 2) {
          return new cljs.core.Keyword(parts[0], parts[1], name, null);
        } else {
          return new cljs.core.Keyword(null, parts[0], name, null);
        }
      } else {
        return null;
      }
    }
  }
};
cljs.core.keyword.cljs$core$IFn$_invoke$arity$2 = function(ns, name) {
  return new cljs.core.Keyword(ns, name, [cljs.core.str(cljs.core.truth_(ns) ? [cljs.core.str(ns), cljs.core.str("/")].join("") : null), cljs.core.str(name)].join(""), null);
};
cljs.core.keyword.cljs$lang$maxFixedArity = 2;
cljs.core.LazySeq = function(meta, fn, s, __hash) {
  this.meta = meta;
  this.fn = fn;
  this.s = s;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32374988;
  this.cljs$lang$protocol_mask$partition1$ = 1;
};
cljs.core.LazySeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.LazySeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.LazySeq.prototype.sval = function() {
  var self__ = this;
  var coll = this;
  if (self__.fn == null) {
    return self__.s;
  } else {
    self__.s = self__.fn.cljs$core$IFn$_invoke$arity$0 ? self__.fn.cljs$core$IFn$_invoke$arity$0() : self__.fn.call(null);
    self__.fn = null;
    return self__.s;
  }
};
cljs.core.LazySeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.LazySeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  cljs.core._seq(coll__$1);
  if (self__.s == null) {
    return null;
  } else {
    return cljs.core.next(self__.s);
  }
};
cljs.core.LazySeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.LazySeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.LazySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.LazySeq.prototype.cljs$core$IPending$_realized_QMARK_$arity$1 = function(x) {
  var self__ = this;
  var x__$1 = this;
  return cljs.core.not(self__.fn);
};
cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.LazySeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  cljs.core._seq(coll__$1);
  if (self__.s == null) {
    return null;
  } else {
    return cljs.core.first(self__.s);
  }
};
cljs.core.LazySeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  cljs.core._seq(coll__$1);
  if (!(self__.s == null)) {
    return cljs.core.rest(self__.s);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.LazySeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  coll__$1.sval();
  if (self__.s == null) {
    return null;
  } else {
    var ls = self__.s;
    while (true) {
      if (ls instanceof cljs.core.LazySeq) {
        var G__9214 = ls.sval();
        ls = G__9214;
        continue;
      } else {
        self__.s = ls;
        return cljs.core.seq(self__.s);
      }
      break;
    }
  }
};
cljs.core.LazySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.LazySeq(meta__$1, self__.fn, self__.s, self__.__hash);
};
cljs.core.LazySeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.LazySeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), cljs.core.with_meta(new cljs.core.Symbol(null, "fn", "fn", 465265323, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "s", "s", -948495851, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.LazySeq.cljs$lang$type = true;
cljs.core.LazySeq.cljs$lang$ctorStr = "cljs.core/LazySeq";
cljs.core.LazySeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/LazySeq");
};
cljs.core.__GT_LazySeq = function cljs$core$__GT_LazySeq(meta, fn, s, __hash) {
  return new cljs.core.LazySeq(meta, fn, s, __hash);
};
cljs.core.LazySeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.ChunkBuffer = function(buf, end) {
  this.buf = buf;
  this.end = end;
  this.cljs$lang$protocol_mask$partition0$ = 2;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.ChunkBuffer.prototype.add = function(o) {
  var self__ = this;
  var _ = this;
  self__.buf[self__.end] = o;
  return self__.end = self__.end + 1;
};
cljs.core.ChunkBuffer.prototype.chunk = function(o) {
  var self__ = this;
  var _ = this;
  var ret = new cljs.core.ArrayChunk(self__.buf, 0, self__.end);
  self__.buf = null;
  return ret;
};
cljs.core.ChunkBuffer.prototype.cljs$core$ICounted$_count$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.end;
};
cljs.core.ChunkBuffer.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "buf", "buf", 1426618187, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "end", "end", 1372345569, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ChunkBuffer.cljs$lang$type = true;
cljs.core.ChunkBuffer.cljs$lang$ctorStr = "cljs.core/ChunkBuffer";
cljs.core.ChunkBuffer.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ChunkBuffer");
};
cljs.core.__GT_ChunkBuffer = function cljs$core$__GT_ChunkBuffer(buf, end) {
  return new cljs.core.ChunkBuffer(buf, end);
};
cljs.core.chunk_buffer = function cljs$core$chunk_buffer(capacity) {
  return new cljs.core.ChunkBuffer(new Array(capacity), 0);
};
cljs.core.ArrayChunk = function(arr, off, end) {
  this.arr = arr;
  this.off = off;
  this.end = end;
  this.cljs$lang$protocol_mask$partition0$ = 524306;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.ArrayChunk.prototype.cljs$core$ICounted$_count$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.end - self__.off;
};
cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, i) {
  var self__ = this;
  var coll__$1 = this;
  return self__.arr[self__.off + i];
};
cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, i, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (i >= 0 && i < self__.end - self__.off) {
    return self__.arr[self__.off + i];
  } else {
    return not_found;
  }
};
cljs.core.ArrayChunk.prototype.cljs$core$IChunk$ = true;
cljs.core.ArrayChunk.prototype.cljs$core$IChunk$_drop_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.off === self__.end) {
    throw new Error("-drop-first of empty chunk");
  } else {
    return new cljs.core.ArrayChunk(self__.arr, self__.off + 1, self__.end);
  }
};
cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr, f, self__.arr[self__.off], self__.off + 1);
};
cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr, f, start, self__.off);
};
cljs.core.ArrayChunk.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.Symbol(null, "off", "off", -2047994980, null), new cljs.core.Symbol(null, "end", "end", 1372345569, null)], null);
};
cljs.core.ArrayChunk.cljs$lang$type = true;
cljs.core.ArrayChunk.cljs$lang$ctorStr = "cljs.core/ArrayChunk";
cljs.core.ArrayChunk.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayChunk");
};
cljs.core.__GT_ArrayChunk = function cljs$core$__GT_ArrayChunk(arr, off, end) {
  return new cljs.core.ArrayChunk(arr, off, end);
};
cljs.core.array_chunk = function cljs$core$array_chunk(var_args) {
  var args9215 = [];
  var len__7214__auto___9218 = arguments.length;
  var i__7215__auto___9219 = 0;
  while (true) {
    if (i__7215__auto___9219 < len__7214__auto___9218) {
      args9215.push(arguments[i__7215__auto___9219]);
      var G__9220 = i__7215__auto___9219 + 1;
      i__7215__auto___9219 = G__9220;
      continue;
    } else {
    }
    break;
  }
  var G__9217 = args9215.length;
  switch(G__9217) {
    case 1:
      return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9215.length)].join(""));;
  }
};
cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1 = function(arr) {
  return new cljs.core.ArrayChunk(arr, 0, arr.length);
};
cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2 = function(arr, off) {
  return new cljs.core.ArrayChunk(arr, off, arr.length);
};
cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3 = function(arr, off, end) {
  return new cljs.core.ArrayChunk(arr, off, end);
};
cljs.core.array_chunk.cljs$lang$maxFixedArity = 3;
cljs.core.ChunkedCons = function(chunk, more, meta, __hash) {
  this.chunk = chunk;
  this.more = more;
  this.meta = meta;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 31850732;
  this.cljs$lang$protocol_mask$partition1$ = 1536;
};
cljs.core.ChunkedCons.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.ChunkedCons.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.ChunkedCons.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.ChunkedCons.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core._count(self__.chunk) > 1) {
    return new cljs.core.ChunkedCons(cljs.core._drop_first(self__.chunk), self__.more, self__.meta, null);
  } else {
    var more__$1 = cljs.core._seq(self__.more);
    if (more__$1 == null) {
      return null;
    } else {
      return more__$1;
    }
  }
};
cljs.core.ChunkedCons.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.ChunkedCons.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.ChunkedCons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.chunk, 0);
};
cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core._count(self__.chunk) > 1) {
    return new cljs.core.ChunkedCons(cljs.core._drop_first(self__.chunk), self__.more, self__.meta, null);
  } else {
    if (self__.more == null) {
      return cljs.core.List.EMPTY;
    } else {
      return self__.more;
    }
  }
};
cljs.core.ChunkedCons.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.chunk;
};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.more == null) {
    return cljs.core.List.EMPTY;
  } else {
    return self__.more;
  }
};
cljs.core.ChunkedCons.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, m) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.ChunkedCons(self__.chunk, self__.more, m, self__.__hash);
};
cljs.core.ChunkedCons.prototype.cljs$core$ICollection$_conj$arity$2 = function(this$, o) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.cons(o, this$__$1);
};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.more == null) {
    return null;
  } else {
    return self__.more;
  }
};
cljs.core.ChunkedCons.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "chunk", "chunk", 449371907, null), new cljs.core.Symbol(null, "more", "more", -418290273, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ChunkedCons.cljs$lang$type = true;
cljs.core.ChunkedCons.cljs$lang$ctorStr = "cljs.core/ChunkedCons";
cljs.core.ChunkedCons.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ChunkedCons");
};
cljs.core.__GT_ChunkedCons = function cljs$core$__GT_ChunkedCons(chunk, more, meta, __hash) {
  return new cljs.core.ChunkedCons(chunk, more, meta, __hash);
};
cljs.core.ChunkedCons.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.chunk_cons = function cljs$core$chunk_cons(chunk, rest) {
  if (cljs.core._count(chunk) === 0) {
    return rest;
  } else {
    return new cljs.core.ChunkedCons(chunk, rest, null, null);
  }
};
cljs.core.chunk_append = function cljs$core$chunk_append(b, x) {
  return b.add(x);
};
cljs.core.chunk = function cljs$core$chunk(b) {
  return b.chunk();
};
cljs.core.chunk_first = function cljs$core$chunk_first(s) {
  return cljs.core._chunked_first(s);
};
cljs.core.chunk_rest = function cljs$core$chunk_rest(s) {
  return cljs.core._chunked_rest(s);
};
cljs.core.chunk_next = function cljs$core$chunk_next(s) {
  if (!(s == null) ? s.cljs$lang$protocol_mask$partition1$ & 1024 || s.cljs$core$IChunkedNext$ ? true : false : false) {
    return cljs.core._chunked_next(s);
  } else {
    return cljs.core.seq(cljs.core._chunked_rest(s));
  }
};
cljs.core.to_array = function cljs$core$to_array(s) {
  var ary = [];
  var s__$1 = s;
  while (true) {
    if (cljs.core.seq(s__$1)) {
      ary.push(cljs.core.first(s__$1));
      var G__9224 = cljs.core.next(s__$1);
      s__$1 = G__9224;
      continue;
    } else {
      return ary;
    }
    break;
  }
};
cljs.core.to_array_2d = function cljs$core$to_array_2d(coll) {
  var ret = new Array(cljs.core.count(coll));
  var i_9225 = 0;
  var xs_9226 = cljs.core.seq(coll);
  while (true) {
    if (xs_9226) {
      ret[i_9225] = cljs.core.to_array(cljs.core.first(xs_9226));
      var G__9227 = i_9225 + 1;
      var G__9228 = cljs.core.next(xs_9226);
      i_9225 = G__9227;
      xs_9226 = G__9228;
      continue;
    } else {
    }
    break;
  }
  return ret;
};
cljs.core.int_array = function cljs$core$int_array(var_args) {
  var args9229 = [];
  var len__7214__auto___9232 = arguments.length;
  var i__7215__auto___9233 = 0;
  while (true) {
    if (i__7215__auto___9233 < len__7214__auto___9232) {
      args9229.push(arguments[i__7215__auto___9233]);
      var G__9234 = i__7215__auto___9233 + 1;
      i__7215__auto___9233 = G__9234;
      continue;
    } else {
    }
    break;
  }
  var G__9231 = args9229.length;
  switch(G__9231) {
    case 1:
      return cljs.core.int_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9229.length)].join(""));;
  }
};
cljs.core.int_array.cljs$core$IFn$_invoke$arity$1 = function(size_or_seq) {
  if (typeof size_or_seq === "number") {
    return cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(size_or_seq, null);
  } else {
    return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq);
  }
};
cljs.core.int_array.cljs$core$IFn$_invoke$arity$2 = function(size, init_val_or_seq) {
  var a = new Array(size);
  if (cljs.core.seq_QMARK_(init_val_or_seq)) {
    var s = cljs.core.seq(init_val_or_seq);
    var i = 0;
    var s__$1 = s;
    while (true) {
      if (s__$1 && i < size) {
        a[i] = cljs.core.first(s__$1);
        var G__9236 = i + 1;
        var G__9237 = cljs.core.next(s__$1);
        i = G__9236;
        s__$1 = G__9237;
        continue;
      } else {
        return a;
      }
      break;
    }
  } else {
    var n__7059__auto___9238 = size;
    var i_9239 = 0;
    while (true) {
      if (i_9239 < n__7059__auto___9238) {
        a[i_9239] = init_val_or_seq;
        var G__9240 = i_9239 + 1;
        i_9239 = G__9240;
        continue;
      } else {
      }
      break;
    }
    return a;
  }
};
cljs.core.int_array.cljs$lang$maxFixedArity = 2;
cljs.core.long_array = function cljs$core$long_array(var_args) {
  var args9241 = [];
  var len__7214__auto___9244 = arguments.length;
  var i__7215__auto___9245 = 0;
  while (true) {
    if (i__7215__auto___9245 < len__7214__auto___9244) {
      args9241.push(arguments[i__7215__auto___9245]);
      var G__9246 = i__7215__auto___9245 + 1;
      i__7215__auto___9245 = G__9246;
      continue;
    } else {
    }
    break;
  }
  var G__9243 = args9241.length;
  switch(G__9243) {
    case 1:
      return cljs.core.long_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9241.length)].join(""));;
  }
};
cljs.core.long_array.cljs$core$IFn$_invoke$arity$1 = function(size_or_seq) {
  if (typeof size_or_seq === "number") {
    return cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(size_or_seq, null);
  } else {
    return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq);
  }
};
cljs.core.long_array.cljs$core$IFn$_invoke$arity$2 = function(size, init_val_or_seq) {
  var a = new Array(size);
  if (cljs.core.seq_QMARK_(init_val_or_seq)) {
    var s = cljs.core.seq(init_val_or_seq);
    var i = 0;
    var s__$1 = s;
    while (true) {
      if (s__$1 && i < size) {
        a[i] = cljs.core.first(s__$1);
        var G__9248 = i + 1;
        var G__9249 = cljs.core.next(s__$1);
        i = G__9248;
        s__$1 = G__9249;
        continue;
      } else {
        return a;
      }
      break;
    }
  } else {
    var n__7059__auto___9250 = size;
    var i_9251 = 0;
    while (true) {
      if (i_9251 < n__7059__auto___9250) {
        a[i_9251] = init_val_or_seq;
        var G__9252 = i_9251 + 1;
        i_9251 = G__9252;
        continue;
      } else {
      }
      break;
    }
    return a;
  }
};
cljs.core.long_array.cljs$lang$maxFixedArity = 2;
cljs.core.double_array = function cljs$core$double_array(var_args) {
  var args9253 = [];
  var len__7214__auto___9256 = arguments.length;
  var i__7215__auto___9257 = 0;
  while (true) {
    if (i__7215__auto___9257 < len__7214__auto___9256) {
      args9253.push(arguments[i__7215__auto___9257]);
      var G__9258 = i__7215__auto___9257 + 1;
      i__7215__auto___9257 = G__9258;
      continue;
    } else {
    }
    break;
  }
  var G__9255 = args9253.length;
  switch(G__9255) {
    case 1:
      return cljs.core.double_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9253.length)].join(""));;
  }
};
cljs.core.double_array.cljs$core$IFn$_invoke$arity$1 = function(size_or_seq) {
  if (typeof size_or_seq === "number") {
    return cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(size_or_seq, null);
  } else {
    return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq);
  }
};
cljs.core.double_array.cljs$core$IFn$_invoke$arity$2 = function(size, init_val_or_seq) {
  var a = new Array(size);
  if (cljs.core.seq_QMARK_(init_val_or_seq)) {
    var s = cljs.core.seq(init_val_or_seq);
    var i = 0;
    var s__$1 = s;
    while (true) {
      if (s__$1 && i < size) {
        a[i] = cljs.core.first(s__$1);
        var G__9260 = i + 1;
        var G__9261 = cljs.core.next(s__$1);
        i = G__9260;
        s__$1 = G__9261;
        continue;
      } else {
        return a;
      }
      break;
    }
  } else {
    var n__7059__auto___9262 = size;
    var i_9263 = 0;
    while (true) {
      if (i_9263 < n__7059__auto___9262) {
        a[i_9263] = init_val_or_seq;
        var G__9264 = i_9263 + 1;
        i_9263 = G__9264;
        continue;
      } else {
      }
      break;
    }
    return a;
  }
};
cljs.core.double_array.cljs$lang$maxFixedArity = 2;
cljs.core.object_array = function cljs$core$object_array(var_args) {
  var args9265 = [];
  var len__7214__auto___9268 = arguments.length;
  var i__7215__auto___9269 = 0;
  while (true) {
    if (i__7215__auto___9269 < len__7214__auto___9268) {
      args9265.push(arguments[i__7215__auto___9269]);
      var G__9270 = i__7215__auto___9269 + 1;
      i__7215__auto___9269 = G__9270;
      continue;
    } else {
    }
    break;
  }
  var G__9267 = args9265.length;
  switch(G__9267) {
    case 1:
      return cljs.core.object_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9265.length)].join(""));;
  }
};
cljs.core.object_array.cljs$core$IFn$_invoke$arity$1 = function(size_or_seq) {
  if (typeof size_or_seq === "number") {
    return cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(size_or_seq, null);
  } else {
    return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq);
  }
};
cljs.core.object_array.cljs$core$IFn$_invoke$arity$2 = function(size, init_val_or_seq) {
  var a = new Array(size);
  if (cljs.core.seq_QMARK_(init_val_or_seq)) {
    var s = cljs.core.seq(init_val_or_seq);
    var i = 0;
    var s__$1 = s;
    while (true) {
      if (s__$1 && i < size) {
        a[i] = cljs.core.first(s__$1);
        var G__9272 = i + 1;
        var G__9273 = cljs.core.next(s__$1);
        i = G__9272;
        s__$1 = G__9273;
        continue;
      } else {
        return a;
      }
      break;
    }
  } else {
    var n__7059__auto___9274 = size;
    var i_9275 = 0;
    while (true) {
      if (i_9275 < n__7059__auto___9274) {
        a[i_9275] = init_val_or_seq;
        var G__9276 = i_9275 + 1;
        i_9275 = G__9276;
        continue;
      } else {
      }
      break;
    }
    return a;
  }
};
cljs.core.object_array.cljs$lang$maxFixedArity = 2;
cljs.core.bounded_count = function cljs$core$bounded_count(s, n) {
  if (cljs.core.counted_QMARK_(s)) {
    return cljs.core.count(s);
  } else {
    var s__$1 = s;
    var i = n;
    var sum = 0;
    while (true) {
      if (i > 0 && cljs.core.seq(s__$1)) {
        var G__9277 = cljs.core.next(s__$1);
        var G__9278 = i - 1;
        var G__9279 = sum + 1;
        s__$1 = G__9277;
        i = G__9278;
        sum = G__9279;
        continue;
      } else {
        return sum;
      }
      break;
    }
  }
};
cljs.core.spread = function cljs$core$spread(arglist) {
  if (arglist == null) {
    return null;
  } else {
    if (cljs.core.next(arglist) == null) {
      return cljs.core.seq(cljs.core.first(arglist));
    } else {
      return cljs.core.cons(cljs.core.first(arglist), cljs$core$spread(cljs.core.next(arglist)));
    }
  }
};
cljs.core.concat = function cljs$core$concat(var_args) {
  var args9281 = [];
  var len__7214__auto___9293 = arguments.length;
  var i__7215__auto___9294 = 0;
  while (true) {
    if (i__7215__auto___9294 < len__7214__auto___9293) {
      args9281.push(arguments[i__7215__auto___9294]);
      var G__9295 = i__7215__auto___9294 + 1;
      i__7215__auto___9294 = G__9295;
      continue;
    } else {
    }
    break;
  }
  var G__9286 = args9281.length;
  switch(G__9286) {
    case 0:
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9281.slice(2), 0);
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.concat.cljs$core$IFn$_invoke$arity$0 = function() {
  return new cljs.core.LazySeq(null, function() {
    return null;
  }, null, null);
};
cljs.core.concat.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return new cljs.core.LazySeq(null, function() {
    return x;
  }, null, null);
};
cljs.core.concat.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return new cljs.core.LazySeq(null, function() {
    var s = cljs.core.seq(x);
    if (s) {
      if (cljs.core.chunked_seq_QMARK_(s)) {
        return cljs.core.chunk_cons(cljs.core.chunk_first(s), cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.chunk_rest(s), y));
      } else {
        return cljs.core.cons(cljs.core.first(s), cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(s), y));
      }
    } else {
      return y;
    }
  }, null, null);
};
cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic = function(x, y, zs) {
  var cat = function cljs$core$cat(xys, zs__$1) {
    return new cljs.core.LazySeq(null, function() {
      var xys__$1 = cljs.core.seq(xys);
      if (xys__$1) {
        if (cljs.core.chunked_seq_QMARK_(xys__$1)) {
          return cljs.core.chunk_cons(cljs.core.chunk_first(xys__$1), cljs$core$cat(cljs.core.chunk_rest(xys__$1), zs__$1));
        } else {
          return cljs.core.cons(cljs.core.first(xys__$1), cljs$core$cat(cljs.core.rest(xys__$1), zs__$1));
        }
      } else {
        if (cljs.core.truth_(zs__$1)) {
          return cljs$core$cat(cljs.core.first(zs__$1), cljs.core.next(zs__$1));
        } else {
          return null;
        }
      }
    }, null, null);
  };
  return cat(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(x, y), zs);
};
cljs.core.concat.cljs$lang$applyTo = function(seq9282) {
  var G__9283 = cljs.core.first(seq9282);
  var seq9282__$1 = cljs.core.next(seq9282);
  var G__9284 = cljs.core.first(seq9282__$1);
  var seq9282__$2 = cljs.core.next(seq9282__$1);
  return cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(G__9283, G__9284, seq9282__$2);
};
cljs.core.concat.cljs$lang$maxFixedArity = 2;
cljs.core.list_STAR_ = function cljs$core$list_STAR_(var_args) {
  var args9297 = [];
  var len__7214__auto___9305 = arguments.length;
  var i__7215__auto___9306 = 0;
  while (true) {
    if (i__7215__auto___9306 < len__7214__auto___9305) {
      args9297.push(arguments[i__7215__auto___9306]);
      var G__9307 = i__7215__auto___9306 + 1;
      i__7215__auto___9306 = G__9307;
      continue;
    } else {
    }
    break;
  }
  var G__9304 = args9297.length;
  switch(G__9304) {
    case 1:
      return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9297.slice(4), 0);
      return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], argseq__7233__auto__);
  }
};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1 = function(args) {
  return cljs.core.seq(args);
};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2 = function(a, args) {
  return cljs.core.cons(a, args);
};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3 = function(a, b, args) {
  return cljs.core.cons(a, cljs.core.cons(b, args));
};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4 = function(a, b, c, args) {
  return cljs.core.cons(a, cljs.core.cons(b, cljs.core.cons(c, args)));
};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic = function(a, b, c, d, more) {
  return cljs.core.cons(a, cljs.core.cons(b, cljs.core.cons(c, cljs.core.cons(d, cljs.core.spread(more)))));
};
cljs.core.list_STAR_.cljs$lang$applyTo = function(seq9298) {
  var G__9299 = cljs.core.first(seq9298);
  var seq9298__$1 = cljs.core.next(seq9298);
  var G__9300 = cljs.core.first(seq9298__$1);
  var seq9298__$2 = cljs.core.next(seq9298__$1);
  var G__9301 = cljs.core.first(seq9298__$2);
  var seq9298__$3 = cljs.core.next(seq9298__$2);
  var G__9302 = cljs.core.first(seq9298__$3);
  var seq9298__$4 = cljs.core.next(seq9298__$3);
  return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(G__9299, G__9300, G__9301, G__9302, seq9298__$4);
};
cljs.core.list_STAR_.cljs$lang$maxFixedArity = 4;
cljs.core.transient$ = function cljs$core$transient(coll) {
  return cljs.core._as_transient(coll);
};
cljs.core.persistent_BANG_ = function cljs$core$persistent_BANG_(tcoll) {
  return cljs.core._persistent_BANG_(tcoll);
};
cljs.core.conj_BANG_ = function cljs$core$conj_BANG_(var_args) {
  var args9309 = [];
  var len__7214__auto___9315 = arguments.length;
  var i__7215__auto___9316 = 0;
  while (true) {
    if (i__7215__auto___9316 < len__7214__auto___9315) {
      args9309.push(arguments[i__7215__auto___9316]);
      var G__9317 = i__7215__auto___9316 + 1;
      i__7215__auto___9316 = G__9317;
      continue;
    } else {
    }
    break;
  }
  var G__9314 = args9309.length;
  switch(G__9314) {
    case 0:
      return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9309.slice(2), 0);
      return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.transient$(cljs.core.PersistentVector.EMPTY);
};
cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return coll;
};
cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2 = function(tcoll, val) {
  return cljs.core._conj_BANG_(tcoll, val);
};
cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(tcoll, val, vals) {
  while (true) {
    var ntcoll = cljs.core._conj_BANG_(tcoll, val);
    if (cljs.core.truth_(vals)) {
      var G__9319 = ntcoll;
      var G__9320 = cljs.core.first(vals);
      var G__9321 = cljs.core.next(vals);
      tcoll = G__9319;
      val = G__9320;
      vals = G__9321;
      continue;
    } else {
      return ntcoll;
    }
    break;
  }
};
cljs.core.conj_BANG_.cljs$lang$applyTo = function(seq9310) {
  var G__9311 = cljs.core.first(seq9310);
  var seq9310__$1 = cljs.core.next(seq9310);
  var G__9312 = cljs.core.first(seq9310__$1);
  var seq9310__$2 = cljs.core.next(seq9310__$1);
  return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9311, G__9312, seq9310__$2);
};
cljs.core.conj_BANG_.cljs$lang$maxFixedArity = 2;
cljs.core.assoc_BANG_ = function cljs$core$assoc_BANG_(var_args) {
  var args9322 = [];
  var len__7214__auto___9329 = arguments.length;
  var i__7215__auto___9330 = 0;
  while (true) {
    if (i__7215__auto___9330 < len__7214__auto___9329) {
      args9322.push(arguments[i__7215__auto___9330]);
      var G__9331 = i__7215__auto___9330 + 1;
      i__7215__auto___9330 = G__9331;
      continue;
    } else {
    }
    break;
  }
  var G__9328 = args9322.length;
  switch(G__9328) {
    case 3:
      return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9322.slice(3), 0);
      return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3 = function(tcoll, key, val) {
  return cljs.core._assoc_BANG_(tcoll, key, val);
};
cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(tcoll, key, val, kvs) {
  while (true) {
    var ntcoll = cljs.core._assoc_BANG_(tcoll, key, val);
    if (cljs.core.truth_(kvs)) {
      var G__9333 = ntcoll;
      var G__9334 = cljs.core.first(kvs);
      var G__9335 = cljs.core.second(kvs);
      var G__9336 = cljs.core.nnext(kvs);
      tcoll = G__9333;
      key = G__9334;
      val = G__9335;
      kvs = G__9336;
      continue;
    } else {
      return ntcoll;
    }
    break;
  }
};
cljs.core.assoc_BANG_.cljs$lang$applyTo = function(seq9323) {
  var G__9324 = cljs.core.first(seq9323);
  var seq9323__$1 = cljs.core.next(seq9323);
  var G__9325 = cljs.core.first(seq9323__$1);
  var seq9323__$2 = cljs.core.next(seq9323__$1);
  var G__9326 = cljs.core.first(seq9323__$2);
  var seq9323__$3 = cljs.core.next(seq9323__$2);
  return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9324, G__9325, G__9326, seq9323__$3);
};
cljs.core.assoc_BANG_.cljs$lang$maxFixedArity = 3;
cljs.core.dissoc_BANG_ = function cljs$core$dissoc_BANG_(var_args) {
  var args9337 = [];
  var len__7214__auto___9343 = arguments.length;
  var i__7215__auto___9344 = 0;
  while (true) {
    if (i__7215__auto___9344 < len__7214__auto___9343) {
      args9337.push(arguments[i__7215__auto___9344]);
      var G__9345 = i__7215__auto___9344 + 1;
      i__7215__auto___9344 = G__9345;
      continue;
    } else {
    }
    break;
  }
  var G__9342 = args9337.length;
  switch(G__9342) {
    case 2:
      return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9337.slice(2), 0);
      return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2 = function(tcoll, key) {
  return cljs.core._dissoc_BANG_(tcoll, key);
};
cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(tcoll, key, ks) {
  while (true) {
    var ntcoll = cljs.core._dissoc_BANG_(tcoll, key);
    if (cljs.core.truth_(ks)) {
      var G__9347 = ntcoll;
      var G__9348 = cljs.core.first(ks);
      var G__9349 = cljs.core.next(ks);
      tcoll = G__9347;
      key = G__9348;
      ks = G__9349;
      continue;
    } else {
      return ntcoll;
    }
    break;
  }
};
cljs.core.dissoc_BANG_.cljs$lang$applyTo = function(seq9338) {
  var G__9339 = cljs.core.first(seq9338);
  var seq9338__$1 = cljs.core.next(seq9338);
  var G__9340 = cljs.core.first(seq9338__$1);
  var seq9338__$2 = cljs.core.next(seq9338__$1);
  return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9339, G__9340, seq9338__$2);
};
cljs.core.dissoc_BANG_.cljs$lang$maxFixedArity = 2;
cljs.core.pop_BANG_ = function cljs$core$pop_BANG_(tcoll) {
  return cljs.core._pop_BANG_(tcoll);
};
cljs.core.disj_BANG_ = function cljs$core$disj_BANG_(var_args) {
  var args9350 = [];
  var len__7214__auto___9356 = arguments.length;
  var i__7215__auto___9357 = 0;
  while (true) {
    if (i__7215__auto___9357 < len__7214__auto___9356) {
      args9350.push(arguments[i__7215__auto___9357]);
      var G__9358 = i__7215__auto___9357 + 1;
      i__7215__auto___9357 = G__9358;
      continue;
    } else {
    }
    break;
  }
  var G__9355 = args9350.length;
  switch(G__9355) {
    case 2:
      return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9350.slice(2), 0);
      return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2 = function(tcoll, val) {
  return cljs.core._disjoin_BANG_(tcoll, val);
};
cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(tcoll, val, vals) {
  while (true) {
    var ntcoll = cljs.core._disjoin_BANG_(tcoll, val);
    if (cljs.core.truth_(vals)) {
      var G__9360 = ntcoll;
      var G__9361 = cljs.core.first(vals);
      var G__9362 = cljs.core.next(vals);
      tcoll = G__9360;
      val = G__9361;
      vals = G__9362;
      continue;
    } else {
      return ntcoll;
    }
    break;
  }
};
cljs.core.disj_BANG_.cljs$lang$applyTo = function(seq9351) {
  var G__9352 = cljs.core.first(seq9351);
  var seq9351__$1 = cljs.core.next(seq9351);
  var G__9353 = cljs.core.first(seq9351__$1);
  var seq9351__$2 = cljs.core.next(seq9351__$1);
  return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9352, G__9353, seq9351__$2);
};
cljs.core.disj_BANG_.cljs$lang$maxFixedArity = 2;
cljs.core.apply_to = function cljs$core$apply_to(f, argc, args) {
  var args__$1 = cljs.core.seq(args);
  if (argc === 0) {
    return f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
  } else {
    var a7103 = cljs.core._first(args__$1);
    var args__$2 = cljs.core._rest(args__$1);
    if (argc === 1) {
      if (f.cljs$core$IFn$_invoke$arity$1) {
        return f.cljs$core$IFn$_invoke$arity$1(a7103);
      } else {
        return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(a7103) : f.call(null, a7103);
      }
    } else {
      var b7104 = cljs.core._first(args__$2);
      var args__$3 = cljs.core._rest(args__$2);
      if (argc === 2) {
        if (f.cljs$core$IFn$_invoke$arity$2) {
          return f.cljs$core$IFn$_invoke$arity$2(a7103, b7104);
        } else {
          return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(a7103, b7104) : f.call(null, a7103, b7104);
        }
      } else {
        var c7105 = cljs.core._first(args__$3);
        var args__$4 = cljs.core._rest(args__$3);
        if (argc === 3) {
          if (f.cljs$core$IFn$_invoke$arity$3) {
            return f.cljs$core$IFn$_invoke$arity$3(a7103, b7104, c7105);
          } else {
            return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(a7103, b7104, c7105) : f.call(null, a7103, b7104, c7105);
          }
        } else {
          var d7106 = cljs.core._first(args__$4);
          var args__$5 = cljs.core._rest(args__$4);
          if (argc === 4) {
            if (f.cljs$core$IFn$_invoke$arity$4) {
              return f.cljs$core$IFn$_invoke$arity$4(a7103, b7104, c7105, d7106);
            } else {
              return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(a7103, b7104, c7105, d7106) : f.call(null, a7103, b7104, c7105, d7106);
            }
          } else {
            var e7107 = cljs.core._first(args__$5);
            var args__$6 = cljs.core._rest(args__$5);
            if (argc === 5) {
              if (f.cljs$core$IFn$_invoke$arity$5) {
                return f.cljs$core$IFn$_invoke$arity$5(a7103, b7104, c7105, d7106, e7107);
              } else {
                return f.cljs$core$IFn$_invoke$arity$5 ? f.cljs$core$IFn$_invoke$arity$5(a7103, b7104, c7105, d7106, e7107) : f.call(null, a7103, b7104, c7105, d7106, e7107);
              }
            } else {
              var f7108 = cljs.core._first(args__$6);
              var args__$7 = cljs.core._rest(args__$6);
              if (argc === 6) {
                if (f.cljs$core$IFn$_invoke$arity$6) {
                  return f.cljs$core$IFn$_invoke$arity$6(a7103, b7104, c7105, d7106, e7107, f7108);
                } else {
                  return f.cljs$core$IFn$_invoke$arity$6 ? f.cljs$core$IFn$_invoke$arity$6(a7103, b7104, c7105, d7106, e7107, f7108) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108);
                }
              } else {
                var g7109 = cljs.core._first(args__$7);
                var args__$8 = cljs.core._rest(args__$7);
                if (argc === 7) {
                  if (f.cljs$core$IFn$_invoke$arity$7) {
                    return f.cljs$core$IFn$_invoke$arity$7(a7103, b7104, c7105, d7106, e7107, f7108, g7109);
                  } else {
                    return f.cljs$core$IFn$_invoke$arity$7 ? f.cljs$core$IFn$_invoke$arity$7(a7103, b7104, c7105, d7106, e7107, f7108, g7109) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109);
                  }
                } else {
                  var h7110 = cljs.core._first(args__$8);
                  var args__$9 = cljs.core._rest(args__$8);
                  if (argc === 8) {
                    if (f.cljs$core$IFn$_invoke$arity$8) {
                      return f.cljs$core$IFn$_invoke$arity$8(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110);
                    } else {
                      return f.cljs$core$IFn$_invoke$arity$8 ? f.cljs$core$IFn$_invoke$arity$8(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110);
                    }
                  } else {
                    var i7111 = cljs.core._first(args__$9);
                    var args__$10 = cljs.core._rest(args__$9);
                    if (argc === 9) {
                      if (f.cljs$core$IFn$_invoke$arity$9) {
                        return f.cljs$core$IFn$_invoke$arity$9(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111);
                      } else {
                        return f.cljs$core$IFn$_invoke$arity$9 ? f.cljs$core$IFn$_invoke$arity$9(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111);
                      }
                    } else {
                      var j7112 = cljs.core._first(args__$10);
                      var args__$11 = cljs.core._rest(args__$10);
                      if (argc === 10) {
                        if (f.cljs$core$IFn$_invoke$arity$10) {
                          return f.cljs$core$IFn$_invoke$arity$10(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112);
                        } else {
                          return f.cljs$core$IFn$_invoke$arity$10 ? f.cljs$core$IFn$_invoke$arity$10(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112);
                        }
                      } else {
                        var k7113 = cljs.core._first(args__$11);
                        var args__$12 = cljs.core._rest(args__$11);
                        if (argc === 11) {
                          if (f.cljs$core$IFn$_invoke$arity$11) {
                            return f.cljs$core$IFn$_invoke$arity$11(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113);
                          } else {
                            return f.cljs$core$IFn$_invoke$arity$11 ? f.cljs$core$IFn$_invoke$arity$11(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113);
                          }
                        } else {
                          var l7114 = cljs.core._first(args__$12);
                          var args__$13 = cljs.core._rest(args__$12);
                          if (argc === 12) {
                            if (f.cljs$core$IFn$_invoke$arity$12) {
                              return f.cljs$core$IFn$_invoke$arity$12(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114);
                            } else {
                              return f.cljs$core$IFn$_invoke$arity$12 ? f.cljs$core$IFn$_invoke$arity$12(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114);
                            }
                          } else {
                            var m7115 = cljs.core._first(args__$13);
                            var args__$14 = cljs.core._rest(args__$13);
                            if (argc === 13) {
                              if (f.cljs$core$IFn$_invoke$arity$13) {
                                return f.cljs$core$IFn$_invoke$arity$13(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115);
                              } else {
                                return f.cljs$core$IFn$_invoke$arity$13 ? f.cljs$core$IFn$_invoke$arity$13(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115);
                              }
                            } else {
                              var n7116 = cljs.core._first(args__$14);
                              var args__$15 = cljs.core._rest(args__$14);
                              if (argc === 14) {
                                if (f.cljs$core$IFn$_invoke$arity$14) {
                                  return f.cljs$core$IFn$_invoke$arity$14(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116);
                                } else {
                                  return f.cljs$core$IFn$_invoke$arity$14 ? f.cljs$core$IFn$_invoke$arity$14(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116);
                                }
                              } else {
                                var o7117 = cljs.core._first(args__$15);
                                var args__$16 = cljs.core._rest(args__$15);
                                if (argc === 15) {
                                  if (f.cljs$core$IFn$_invoke$arity$15) {
                                    return f.cljs$core$IFn$_invoke$arity$15(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117);
                                  } else {
                                    return f.cljs$core$IFn$_invoke$arity$15 ? f.cljs$core$IFn$_invoke$arity$15(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117);
                                  }
                                } else {
                                  var p7118 = cljs.core._first(args__$16);
                                  var args__$17 = cljs.core._rest(args__$16);
                                  if (argc === 16) {
                                    if (f.cljs$core$IFn$_invoke$arity$16) {
                                      return f.cljs$core$IFn$_invoke$arity$16(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118);
                                    } else {
                                      return f.cljs$core$IFn$_invoke$arity$16 ? f.cljs$core$IFn$_invoke$arity$16(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118);
                                    }
                                  } else {
                                    var q7119 = cljs.core._first(args__$17);
                                    var args__$18 = cljs.core._rest(args__$17);
                                    if (argc === 17) {
                                      if (f.cljs$core$IFn$_invoke$arity$17) {
                                        return f.cljs$core$IFn$_invoke$arity$17(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119);
                                      } else {
                                        return f.cljs$core$IFn$_invoke$arity$17 ? f.cljs$core$IFn$_invoke$arity$17(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119);
                                      }
                                    } else {
                                      var r7120 = cljs.core._first(args__$18);
                                      var args__$19 = cljs.core._rest(args__$18);
                                      if (argc === 18) {
                                        if (f.cljs$core$IFn$_invoke$arity$18) {
                                          return f.cljs$core$IFn$_invoke$arity$18(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120);
                                        } else {
                                          return f.cljs$core$IFn$_invoke$arity$18 ? f.cljs$core$IFn$_invoke$arity$18(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120);
                                        }
                                      } else {
                                        var s7121 = cljs.core._first(args__$19);
                                        var args__$20 = cljs.core._rest(args__$19);
                                        if (argc === 19) {
                                          if (f.cljs$core$IFn$_invoke$arity$19) {
                                            return f.cljs$core$IFn$_invoke$arity$19(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121);
                                          } else {
                                            return f.cljs$core$IFn$_invoke$arity$19 ? f.cljs$core$IFn$_invoke$arity$19(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121);
                                          }
                                        } else {
                                          var t7122 = cljs.core._first(args__$20);
                                          var args__$21 = cljs.core._rest(args__$20);
                                          if (argc === 20) {
                                            if (f.cljs$core$IFn$_invoke$arity$20) {
                                              return f.cljs$core$IFn$_invoke$arity$20(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121, t7122);
                                            } else {
                                              return f.cljs$core$IFn$_invoke$arity$20 ? f.cljs$core$IFn$_invoke$arity$20(a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121, t7122) : f.call(null, a7103, b7104, c7105, d7106, e7107, f7108, g7109, h7110, i7111, j7112, k7113, l7114, m7115, n7116, o7117, p7118, q7119, r7120, s7121, t7122);
                                            }
                                          } else {
                                            throw new Error("Only up to 20 arguments supported on functions");
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
cljs.core.apply = function cljs$core$apply(var_args) {
  var args9363 = [];
  var len__7214__auto___9372 = arguments.length;
  var i__7215__auto___9373 = 0;
  while (true) {
    if (i__7215__auto___9373 < len__7214__auto___9372) {
      args9363.push(arguments[i__7215__auto___9373]);
      var G__9374 = i__7215__auto___9373 + 1;
      i__7215__auto___9373 = G__9374;
      continue;
    } else {
    }
    break;
  }
  var G__9371 = args9363.length;
  switch(G__9371) {
    case 2:
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9363.slice(5), 0);
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], argseq__7233__auto__);
  }
};
cljs.core.apply.cljs$core$IFn$_invoke$arity$2 = function(f, args) {
  var fixed_arity = f.cljs$lang$maxFixedArity;
  if (f.cljs$lang$applyTo) {
    var bc = cljs.core.bounded_count(args, fixed_arity + 1);
    if (bc <= fixed_arity) {
      return cljs.core.apply_to(f, bc, args);
    } else {
      return f.cljs$lang$applyTo(args);
    }
  } else {
    return f.apply(f, cljs.core.to_array(args));
  }
};
cljs.core.apply.cljs$core$IFn$_invoke$arity$3 = function(f, x, args) {
  var arglist = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(x, args);
  var fixed_arity = f.cljs$lang$maxFixedArity;
  if (f.cljs$lang$applyTo) {
    var bc = cljs.core.bounded_count(arglist, fixed_arity + 1);
    if (bc <= fixed_arity) {
      return cljs.core.apply_to(f, bc, arglist);
    } else {
      return f.cljs$lang$applyTo(arglist);
    }
  } else {
    return f.apply(f, cljs.core.to_array(arglist));
  }
};
cljs.core.apply.cljs$core$IFn$_invoke$arity$4 = function(f, x, y, args) {
  var arglist = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(x, y, args);
  var fixed_arity = f.cljs$lang$maxFixedArity;
  if (f.cljs$lang$applyTo) {
    var bc = cljs.core.bounded_count(arglist, fixed_arity + 1);
    if (bc <= fixed_arity) {
      return cljs.core.apply_to(f, bc, arglist);
    } else {
      return f.cljs$lang$applyTo(arglist);
    }
  } else {
    return f.apply(f, cljs.core.to_array(arglist));
  }
};
cljs.core.apply.cljs$core$IFn$_invoke$arity$5 = function(f, x, y, z, args) {
  var arglist = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(x, y, z, args);
  var fixed_arity = f.cljs$lang$maxFixedArity;
  if (f.cljs$lang$applyTo) {
    var bc = cljs.core.bounded_count(arglist, fixed_arity + 1);
    if (bc <= fixed_arity) {
      return cljs.core.apply_to(f, bc, arglist);
    } else {
      return f.cljs$lang$applyTo(arglist);
    }
  } else {
    return f.apply(f, cljs.core.to_array(arglist));
  }
};
cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic = function(f, a, b, c, d, args) {
  var arglist = cljs.core.cons(a, cljs.core.cons(b, cljs.core.cons(c, cljs.core.cons(d, cljs.core.spread(args)))));
  var fixed_arity = f.cljs$lang$maxFixedArity;
  if (f.cljs$lang$applyTo) {
    var bc = cljs.core.bounded_count(arglist, fixed_arity + 1);
    if (bc <= fixed_arity) {
      return cljs.core.apply_to(f, bc, arglist);
    } else {
      return f.cljs$lang$applyTo(arglist);
    }
  } else {
    return f.apply(f, cljs.core.to_array(arglist));
  }
};
cljs.core.apply.cljs$lang$applyTo = function(seq9364) {
  var G__9365 = cljs.core.first(seq9364);
  var seq9364__$1 = cljs.core.next(seq9364);
  var G__9366 = cljs.core.first(seq9364__$1);
  var seq9364__$2 = cljs.core.next(seq9364__$1);
  var G__9367 = cljs.core.first(seq9364__$2);
  var seq9364__$3 = cljs.core.next(seq9364__$2);
  var G__9368 = cljs.core.first(seq9364__$3);
  var seq9364__$4 = cljs.core.next(seq9364__$3);
  var G__9369 = cljs.core.first(seq9364__$4);
  var seq9364__$5 = cljs.core.next(seq9364__$4);
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(G__9365, G__9366, G__9367, G__9368, G__9369, seq9364__$5);
};
cljs.core.apply.cljs$lang$maxFixedArity = 5;
cljs.core.vary_meta = function cljs$core$vary_meta(var_args) {
  var args9376 = [];
  var len__7214__auto___9401 = arguments.length;
  var i__7215__auto___9402 = 0;
  while (true) {
    if (i__7215__auto___9402 < len__7214__auto___9401) {
      args9376.push(arguments[i__7215__auto___9402]);
      var G__9403 = i__7215__auto___9402 + 1;
      i__7215__auto___9402 = G__9403;
      continue;
    } else {
    }
    break;
  }
  var G__9385 = args9376.length;
  switch(G__9385) {
    case 2:
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    case 6:
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9376.slice(6), 0);
      return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], argseq__7233__auto__);
  }
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2 = function(obj, f) {
  return cljs.core.with_meta(obj, function() {
    var G__9386 = cljs.core.meta(obj);
    return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9386) : f.call(null, G__9386);
  }());
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3 = function(obj, f, a) {
  return cljs.core.with_meta(obj, function() {
    var G__9387 = cljs.core.meta(obj);
    var G__9388 = a;
    return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9387, G__9388) : f.call(null, G__9387, G__9388);
  }());
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4 = function(obj, f, a, b) {
  return cljs.core.with_meta(obj, function() {
    var G__9389 = cljs.core.meta(obj);
    var G__9390 = a;
    var G__9391 = b;
    return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9389, G__9390, G__9391) : f.call(null, G__9389, G__9390, G__9391);
  }());
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5 = function(obj, f, a, b, c) {
  return cljs.core.with_meta(obj, function() {
    var G__9392 = cljs.core.meta(obj);
    var G__9393 = a;
    var G__9394 = b;
    var G__9395 = c;
    return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(G__9392, G__9393, G__9394, G__9395) : f.call(null, G__9392, G__9393, G__9394, G__9395);
  }());
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6 = function(obj, f, a, b, c, d) {
  return cljs.core.with_meta(obj, function() {
    var G__9396 = cljs.core.meta(obj);
    var G__9397 = a;
    var G__9398 = b;
    var G__9399 = c;
    var G__9400 = d;
    return f.cljs$core$IFn$_invoke$arity$5 ? f.cljs$core$IFn$_invoke$arity$5(G__9396, G__9397, G__9398, G__9399, G__9400) : f.call(null, G__9396, G__9397, G__9398, G__9399, G__9400);
  }());
};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic = function(obj, f, a, b, c, d, args) {
  return cljs.core.with_meta(obj, cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, cljs.core.meta(obj), a, b, c, cljs.core.array_seq([d, args], 0)));
};
cljs.core.vary_meta.cljs$lang$applyTo = function(seq9377) {
  var G__9378 = cljs.core.first(seq9377);
  var seq9377__$1 = cljs.core.next(seq9377);
  var G__9379 = cljs.core.first(seq9377__$1);
  var seq9377__$2 = cljs.core.next(seq9377__$1);
  var G__9380 = cljs.core.first(seq9377__$2);
  var seq9377__$3 = cljs.core.next(seq9377__$2);
  var G__9381 = cljs.core.first(seq9377__$3);
  var seq9377__$4 = cljs.core.next(seq9377__$3);
  var G__9382 = cljs.core.first(seq9377__$4);
  var seq9377__$5 = cljs.core.next(seq9377__$4);
  var G__9383 = cljs.core.first(seq9377__$5);
  var seq9377__$6 = cljs.core.next(seq9377__$5);
  return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(G__9378, G__9379, G__9380, G__9381, G__9382, G__9383, seq9377__$6);
};
cljs.core.vary_meta.cljs$lang$maxFixedArity = 6;
cljs.core.not_EQ_ = function cljs$core$not_EQ_(var_args) {
  var args9405 = [];
  var len__7214__auto___9411 = arguments.length;
  var i__7215__auto___9412 = 0;
  while (true) {
    if (i__7215__auto___9412 < len__7214__auto___9411) {
      args9405.push(arguments[i__7215__auto___9412]);
      var G__9413 = i__7215__auto___9412 + 1;
      i__7215__auto___9412 = G__9413;
      continue;
    } else {
    }
    break;
  }
  var G__9410 = args9405.length;
  switch(G__9410) {
    case 1:
      return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9405.slice(2), 0);
      return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return false;
};
cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return !cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x, y);
};
cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic = function(x, y, more) {
  return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core._EQ_, x, y, more));
};
cljs.core.not_EQ_.cljs$lang$applyTo = function(seq9406) {
  var G__9407 = cljs.core.first(seq9406);
  var seq9406__$1 = cljs.core.next(seq9406);
  var G__9408 = cljs.core.first(seq9406__$1);
  var seq9406__$2 = cljs.core.next(seq9406__$1);
  return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(G__9407, G__9408, seq9406__$2);
};
cljs.core.not_EQ_.cljs$lang$maxFixedArity = 2;
cljs.core.not_empty = function cljs$core$not_empty(coll) {
  if (cljs.core.seq(coll)) {
    return coll;
  } else {
    return null;
  }
};
cljs.core.nil_iter = function cljs$core$nil_iter() {
  if (typeof cljs.core.t_cljs$core9418 !== "undefined") {
  } else {
    cljs.core.t_cljs$core9418 = function(nil_iter, meta9419) {
      this.nil_iter = nil_iter;
      this.meta9419 = meta9419;
      this.cljs$lang$protocol_mask$partition0$ = 393216;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    cljs.core.t_cljs$core9418.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_9420, meta9419__$1) {
      var self__ = this;
      var _9420__$1 = this;
      return new cljs.core.t_cljs$core9418(self__.nil_iter, meta9419__$1);
    };
    cljs.core.t_cljs$core9418.prototype.cljs$core$IMeta$_meta$arity$1 = function(_9420) {
      var self__ = this;
      var _9420__$1 = this;
      return self__.meta9419;
    };
    cljs.core.t_cljs$core9418.prototype.hasNext = function() {
      var self__ = this;
      var _ = this;
      return false;
    };
    cljs.core.t_cljs$core9418.prototype.next = function() {
      var self__ = this;
      var _ = this;
      return new Error("No such element");
    };
    cljs.core.t_cljs$core9418.prototype.remove = function() {
      var self__ = this;
      var _ = this;
      return new Error("Unsupported operation");
    };
    cljs.core.t_cljs$core9418.getBasis = function() {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "nil-iter", "nil-iter", 1101030523, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "arglists", "arglists", 1661989754), cljs.core.list(new cljs.core.Symbol(null, "quote", "quote", 1377916282, null), cljs.core.list(cljs.core.PersistentVector.EMPTY))], null)), new cljs.core.Symbol(null, "meta9419", "meta9419", 124336654, null)], 
      null);
    };
    cljs.core.t_cljs$core9418.cljs$lang$type = true;
    cljs.core.t_cljs$core9418.cljs$lang$ctorStr = "cljs.core/t_cljs$core9418";
    cljs.core.t_cljs$core9418.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
      return cljs.core._write(writer__6755__auto__, "cljs.core/t_cljs$core9418");
    };
    cljs.core.__GT_t_cljs$core9418 = function cljs$core$nil_iter_$___GT_t_cljs$core9418(nil_iter__$1, meta9419) {
      return new cljs.core.t_cljs$core9418(nil_iter__$1, meta9419);
    };
  }
  return new cljs.core.t_cljs$core9418(cljs$core$nil_iter, cljs.core.PersistentArrayMap.EMPTY);
};
cljs.core.StringIter = function(s, i) {
  this.s = s;
  this.i = i;
};
cljs.core.StringIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.i < self__.s.length;
};
cljs.core.StringIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var ret = self__.s.charAt(self__.i);
  self__.i = self__.i + 1;
  return ret;
};
cljs.core.StringIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.StringIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "s", "s", -948495851, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.StringIter.cljs$lang$type = true;
cljs.core.StringIter.cljs$lang$ctorStr = "cljs.core/StringIter";
cljs.core.StringIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/StringIter");
};
cljs.core.__GT_StringIter = function cljs$core$__GT_StringIter(s, i) {
  return new cljs.core.StringIter(s, i);
};
cljs.core.string_iter = function cljs$core$string_iter(x) {
  return new cljs.core.StringIter(x, 0);
};
cljs.core.ArrayIter = function(arr, i) {
  this.arr = arr;
  this.i = i;
};
cljs.core.ArrayIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.i < self__.arr.length;
};
cljs.core.ArrayIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var ret = self__.arr[self__.i];
  self__.i = self__.i + 1;
  return ret;
};
cljs.core.ArrayIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.ArrayIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ArrayIter.cljs$lang$type = true;
cljs.core.ArrayIter.cljs$lang$ctorStr = "cljs.core/ArrayIter";
cljs.core.ArrayIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayIter");
};
cljs.core.__GT_ArrayIter = function cljs$core$__GT_ArrayIter(arr, i) {
  return new cljs.core.ArrayIter(arr, i);
};
cljs.core.array_iter = function cljs$core$array_iter(x) {
  return new cljs.core.ArrayIter(x, 0);
};
cljs.core.INIT = {};
cljs.core.START = {};
cljs.core.SeqIter = function(_seq, _next) {
  this._seq = _seq;
  this._next = _next;
};
cljs.core.SeqIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  if (self__._seq === cljs.core.INIT) {
    self__._seq = cljs.core.START;
    self__._next = cljs.core.seq(self__._next);
  } else {
    if (self__._seq === self__._next) {
      self__._next = cljs.core.next(self__._seq);
    } else {
    }
  }
  return !(self__._next == null);
};
cljs.core.SeqIter.prototype.next = function() {
  var self__ = this;
  var this$ = this;
  if (cljs.core.not(this$.hasNext())) {
    throw new Error("No such element");
  } else {
    self__._seq = self__._next;
    return cljs.core.first(self__._next);
  }
};
cljs.core.SeqIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.SeqIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "_seq", "_seq", -449557847, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "_next", "_next", 101877036, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.SeqIter.cljs$lang$type = true;
cljs.core.SeqIter.cljs$lang$ctorStr = "cljs.core/SeqIter";
cljs.core.SeqIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/SeqIter");
};
cljs.core.__GT_SeqIter = function cljs$core$__GT_SeqIter(_seq, _next) {
  return new cljs.core.SeqIter(_seq, _next);
};
cljs.core.seq_iter = function cljs$core$seq_iter(coll) {
  return new cljs.core.SeqIter(cljs.core.INIT, coll);
};
cljs.core.iter = function cljs$core$iter(coll) {
  if (coll == null) {
    return cljs.core.nil_iter();
  } else {
    if (typeof coll === "string") {
      return cljs.core.string_iter(coll);
    } else {
      if (cljs.core.array_QMARK_(coll)) {
        return cljs.core.array_iter(coll);
      } else {
        if (cljs.core.iterable_QMARK_(coll)) {
          return cljs.core._iterator(coll);
        } else {
          if (cljs.core.seqable_QMARK_(coll)) {
            return cljs.core.seq_iter(coll);
          } else {
            throw new Error([cljs.core.str("Cannot create iterator from "), cljs.core.str(coll)].join(""));
          }
        }
      }
    }
  }
};
cljs.core.lazy_transformer = function cljs$core$lazy_transformer(stepper) {
  return new cljs.core.LazyTransformer(stepper, null, null, null);
};
cljs.core.Stepper = function(xform, iter) {
  this.xform = xform;
  this.iter = iter;
};
cljs.core.Stepper.prototype.step = function(lt) {
  var self__ = this;
  var this$ = this;
  while (true) {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = !(lt.stepper == null);
      if (and__6144__auto__) {
        return self__.iter.hasNext();
      } else {
        return and__6144__auto__;
      }
    }())) {
      if (cljs.core.reduced_QMARK_(function() {
        var G__9421 = lt;
        var G__9422 = self__.iter.next();
        return self__.xform.cljs$core$IFn$_invoke$arity$2 ? self__.xform.cljs$core$IFn$_invoke$arity$2(G__9421, G__9422) : self__.xform.call(null, G__9421, G__9422);
      }())) {
        if (lt.rest == null) {
        } else {
          lt.rest.stepper = null;
        }
      } else {
        continue;
      }
    } else {
    }
    break;
  }
  if (lt.stepper == null) {
    return null;
  } else {
    return self__.xform.cljs$core$IFn$_invoke$arity$1 ? self__.xform.cljs$core$IFn$_invoke$arity$1(lt) : self__.xform.call(null, lt);
  }
};
cljs.core.Stepper.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "xform", "xform", -85179481, null), new cljs.core.Symbol(null, "iter", "iter", -1346195486, null)], null);
};
cljs.core.Stepper.cljs$lang$type = true;
cljs.core.Stepper.cljs$lang$ctorStr = "cljs.core/Stepper";
cljs.core.Stepper.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Stepper");
};
cljs.core.__GT_Stepper = function cljs$core$__GT_Stepper(xform, iter) {
  return new cljs.core.Stepper(xform, iter);
};
cljs.core.stepper = function cljs$core$stepper(xform, iter) {
  var stepfn = function() {
    var cljs$core$stepper_$_stepfn = null;
    var cljs$core$stepper_$_stepfn__1 = function(result) {
      var lt = cljs.core.reduced_QMARK_(result) ? cljs.core.deref(result) : result;
      lt.stepper = null;
      return result;
    };
    var cljs$core$stepper_$_stepfn__2 = function(result, input) {
      var lt = result;
      lt.first = input;
      lt.rest = cljs.core.lazy_transformer(lt.stepper);
      lt.stepper = null;
      return lt.rest;
    };
    cljs$core$stepper_$_stepfn = function(result, input) {
      switch(arguments.length) {
        case 1:
          return cljs$core$stepper_$_stepfn__1.call(this, result);
        case 2:
          return cljs$core$stepper_$_stepfn__2.call(this, result, input);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$stepper_$_stepfn.cljs$core$IFn$_invoke$arity$1 = cljs$core$stepper_$_stepfn__1;
    cljs$core$stepper_$_stepfn.cljs$core$IFn$_invoke$arity$2 = cljs$core$stepper_$_stepfn__2;
    return cljs$core$stepper_$_stepfn;
  }();
  return new cljs.core.Stepper(xform.cljs$core$IFn$_invoke$arity$1 ? xform.cljs$core$IFn$_invoke$arity$1(stepfn) : xform.call(null, stepfn), iter);
};
cljs.core.MultiStepper = function(xform, iters, nexts) {
  this.xform = xform;
  this.iters = iters;
  this.nexts = nexts;
};
cljs.core.MultiStepper.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  var iters__$1 = cljs.core.seq(self__.iters);
  while (true) {
    if (!(iters__$1 == null)) {
      var iter = cljs.core.first(iters__$1);
      if (cljs.core.not(iter.hasNext())) {
        return false;
      } else {
        var G__9423 = cljs.core.next(iters__$1);
        iters__$1 = G__9423;
        continue;
      }
    } else {
      return true;
    }
    break;
  }
};
cljs.core.MultiStepper.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var n__7059__auto___9424 = self__.iters.length;
  var i_9425 = 0;
  while (true) {
    if (i_9425 < n__7059__auto___9424) {
      self__.nexts[i_9425] = self__.iters[i_9425].next();
      var G__9426 = i_9425 + 1;
      i_9425 = G__9426;
      continue;
    } else {
    }
    break;
  }
  return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(self__.nexts, 0);
};
cljs.core.MultiStepper.prototype.step = function(lt) {
  var self__ = this;
  var this$ = this;
  while (true) {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = !(lt.stepper == null);
      if (and__6144__auto__) {
        return this$.hasNext();
      } else {
        return and__6144__auto__;
      }
    }())) {
      if (cljs.core.reduced_QMARK_(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(self__.xform, cljs.core.cons(lt, this$.next())))) {
        if (lt.rest == null) {
        } else {
          lt.rest.stepper = null;
        }
      } else {
        continue;
      }
    } else {
    }
    break;
  }
  if (lt.stepper == null) {
    return null;
  } else {
    return self__.xform.cljs$core$IFn$_invoke$arity$1 ? self__.xform.cljs$core$IFn$_invoke$arity$1(lt) : self__.xform.call(null, lt);
  }
};
cljs.core.MultiStepper.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "xform", "xform", -85179481, null), new cljs.core.Symbol(null, "iters", "iters", 719353031, null), new cljs.core.Symbol(null, "nexts", "nexts", -1683579407, null)], null);
};
cljs.core.MultiStepper.cljs$lang$type = true;
cljs.core.MultiStepper.cljs$lang$ctorStr = "cljs.core/MultiStepper";
cljs.core.MultiStepper.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/MultiStepper");
};
cljs.core.__GT_MultiStepper = function cljs$core$__GT_MultiStepper(xform, iters, nexts) {
  return new cljs.core.MultiStepper(xform, iters, nexts);
};
cljs.core.multi_stepper = function cljs$core$multi_stepper(var_args) {
  var args9427 = [];
  var len__7214__auto___9430 = arguments.length;
  var i__7215__auto___9431 = 0;
  while (true) {
    if (i__7215__auto___9431 < len__7214__auto___9430) {
      args9427.push(arguments[i__7215__auto___9431]);
      var G__9432 = i__7215__auto___9431 + 1;
      i__7215__auto___9431 = G__9432;
      continue;
    } else {
    }
    break;
  }
  var G__9429 = args9427.length;
  switch(G__9429) {
    case 2:
      return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9427.length)].join(""));;
  }
};
cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2 = function(xform, iters) {
  return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(xform, iters, new Array(iters.length));
};
cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3 = function(xform, iters, nexts) {
  var stepfn = function() {
    var cljs$core$stepfn = null;
    var cljs$core$stepfn__1 = function(result) {
      var lt = cljs.core.reduced_QMARK_(result) ? cljs.core.deref(result) : result;
      lt.stepper = null;
      return lt;
    };
    var cljs$core$stepfn__2 = function(result, input) {
      var lt = result;
      lt.first = input;
      lt.rest = cljs.core.lazy_transformer(lt.stepper);
      lt.stepper = null;
      return lt.rest;
    };
    cljs$core$stepfn = function(result, input) {
      switch(arguments.length) {
        case 1:
          return cljs$core$stepfn__1.call(this, result);
        case 2:
          return cljs$core$stepfn__2.call(this, result, input);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$stepfn.cljs$core$IFn$_invoke$arity$1 = cljs$core$stepfn__1;
    cljs$core$stepfn.cljs$core$IFn$_invoke$arity$2 = cljs$core$stepfn__2;
    return cljs$core$stepfn;
  }();
  return new cljs.core.MultiStepper(xform.cljs$core$IFn$_invoke$arity$1 ? xform.cljs$core$IFn$_invoke$arity$1(stepfn) : xform.call(null, stepfn), iters, nexts);
};
cljs.core.multi_stepper.cljs$lang$maxFixedArity = 3;
cljs.core.LazyTransformer = function(stepper, first, rest, meta) {
  this.stepper = stepper;
  this.first = first;
  this.rest = rest;
  this.meta = meta;
  this.cljs$lang$protocol_mask$partition0$ = 31719628;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.LazyTransformer.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(this$, new_meta) {
  var self__ = this;
  var this$__$1 = this;
  return new cljs.core.LazyTransformer(self__.stepper, self__.first, self__.rest, new_meta);
};
cljs.core.LazyTransformer.prototype.cljs$core$ICollection$_conj$arity$2 = function(this$, o) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.cons(o, cljs.core._seq(this$__$1));
};
cljs.core.LazyTransformer.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.List.EMPTY;
};
cljs.core.LazyTransformer.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(this$, other) {
  var self__ = this;
  var this$__$1 = this;
  var s = cljs.core._seq(this$__$1);
  if (!(s == null)) {
    return cljs.core.equiv_sequential(this$__$1, other);
  } else {
    return cljs.core.sequential_QMARK_(other) && cljs.core.seq(other) == null;
  }
};
cljs.core.LazyTransformer.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.hash_ordered_coll(this$__$1);
};
cljs.core.LazyTransformer.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.stepper == null) {
  } else {
    self__.stepper.step(this$__$1);
  }
  if (self__.rest == null) {
    return null;
  } else {
    return this$__$1;
  }
};
cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_first$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.stepper == null) {
  } else {
    cljs.core._seq(this$__$1);
  }
  if (self__.rest == null) {
    return null;
  } else {
    return self__.first;
  }
};
cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_rest$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.stepper == null) {
  } else {
    cljs.core._seq(this$__$1);
  }
  if (self__.rest == null) {
    return cljs.core.List.EMPTY;
  } else {
    return self__.rest;
  }
};
cljs.core.LazyTransformer.prototype.cljs$core$INext$_next$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.stepper == null) {
  } else {
    cljs.core._seq(this$__$1);
  }
  if (self__.rest == null) {
    return null;
  } else {
    return cljs.core._seq(self__.rest);
  }
};
cljs.core.LazyTransformer.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "stepper", "stepper", 1159163296, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "first", "first", 996428481, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), 
  cljs.core.with_meta(new cljs.core.Symbol(null, "rest", "rest", 398835108, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null)], null);
};
cljs.core.LazyTransformer.cljs$lang$type = true;
cljs.core.LazyTransformer.cljs$lang$ctorStr = "cljs.core/LazyTransformer";
cljs.core.LazyTransformer.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/LazyTransformer");
};
cljs.core.__GT_LazyTransformer = function cljs$core$__GT_LazyTransformer(stepper, first, rest, meta) {
  return new cljs.core.LazyTransformer(stepper, first, rest, meta);
};
cljs.core.LazyTransformer.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.LazyTransformer.create = function(xform, coll) {
  return new cljs.core.LazyTransformer(cljs.core.stepper(xform, cljs.core.iter(coll)), null, null, null);
};
cljs.core.LazyTransformer.createMulti = function(xform, colls) {
  var iters = [];
  var seq__9434_9438 = cljs.core.seq(colls);
  var chunk__9435_9439 = null;
  var count__9436_9440 = 0;
  var i__9437_9441 = 0;
  while (true) {
    if (i__9437_9441 < count__9436_9440) {
      var coll_9442 = chunk__9435_9439.cljs$core$IIndexed$_nth$arity$2(null, i__9437_9441);
      iters.push(cljs.core.iter(coll_9442));
      var G__9443 = seq__9434_9438;
      var G__9444 = chunk__9435_9439;
      var G__9445 = count__9436_9440;
      var G__9446 = i__9437_9441 + 1;
      seq__9434_9438 = G__9443;
      chunk__9435_9439 = G__9444;
      count__9436_9440 = G__9445;
      i__9437_9441 = G__9446;
      continue;
    } else {
      var temp__4657__auto___9447 = cljs.core.seq(seq__9434_9438);
      if (temp__4657__auto___9447) {
        var seq__9434_9448__$1 = temp__4657__auto___9447;
        if (cljs.core.chunked_seq_QMARK_(seq__9434_9448__$1)) {
          var c__6959__auto___9449 = cljs.core.chunk_first(seq__9434_9448__$1);
          var G__9450 = cljs.core.chunk_rest(seq__9434_9448__$1);
          var G__9451 = c__6959__auto___9449;
          var G__9452 = cljs.core.count(c__6959__auto___9449);
          var G__9453 = 0;
          seq__9434_9438 = G__9450;
          chunk__9435_9439 = G__9451;
          count__9436_9440 = G__9452;
          i__9437_9441 = G__9453;
          continue;
        } else {
          var coll_9454 = cljs.core.first(seq__9434_9448__$1);
          iters.push(cljs.core.iter(coll_9454));
          var G__9455 = cljs.core.next(seq__9434_9448__$1);
          var G__9456 = null;
          var G__9457 = 0;
          var G__9458 = 0;
          seq__9434_9438 = G__9455;
          chunk__9435_9439 = G__9456;
          count__9436_9440 = G__9457;
          i__9437_9441 = G__9458;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return new cljs.core.LazyTransformer(cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(xform, iters, new Array(iters.length)), null, null, null);
};
cljs.core.sequence = function cljs$core$sequence(var_args) {
  var args9459 = [];
  var len__7214__auto___9465 = arguments.length;
  var i__7215__auto___9466 = 0;
  while (true) {
    if (i__7215__auto___9466 < len__7214__auto___9465) {
      args9459.push(arguments[i__7215__auto___9466]);
      var G__9467 = i__7215__auto___9466 + 1;
      i__7215__auto___9466 = G__9467;
      continue;
    } else {
    }
    break;
  }
  var G__9464 = args9459.length;
  switch(G__9464) {
    case 1:
      return cljs.core.sequence.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9459.slice(2), 0);
      return cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.sequence.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  if (cljs.core.seq_QMARK_(coll)) {
    return coll;
  } else {
    var or__6156__auto__ = cljs.core.seq(coll);
    if (or__6156__auto__) {
      return or__6156__auto__;
    } else {
      return cljs.core.List.EMPTY;
    }
  }
};
cljs.core.sequence.cljs$core$IFn$_invoke$arity$2 = function(xform, coll) {
  return cljs.core.LazyTransformer.create(xform, coll);
};
cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic = function(xform, coll, colls) {
  return cljs.core.LazyTransformer.createMulti(xform, cljs.core.to_array(cljs.core.cons(coll, colls)));
};
cljs.core.sequence.cljs$lang$applyTo = function(seq9460) {
  var G__9461 = cljs.core.first(seq9460);
  var seq9460__$1 = cljs.core.next(seq9460);
  var G__9462 = cljs.core.first(seq9460__$1);
  var seq9460__$2 = cljs.core.next(seq9460__$1);
  return cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(G__9461, G__9462, seq9460__$2);
};
cljs.core.sequence.cljs$lang$maxFixedArity = 2;
cljs.core.every_QMARK_ = function cljs$core$every_QMARK_(pred, coll) {
  while (true) {
    if (cljs.core.seq(coll) == null) {
      return true;
    } else {
      if (cljs.core.truth_(function() {
        var G__9470 = cljs.core.first(coll);
        return pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(G__9470) : pred.call(null, G__9470);
      }())) {
        var G__9471 = pred;
        var G__9472 = cljs.core.next(coll);
        pred = G__9471;
        coll = G__9472;
        continue;
      } else {
        return false;
      }
    }
    break;
  }
};
cljs.core.not_every_QMARK_ = function cljs$core$not_every_QMARK_(pred, coll) {
  return !cljs.core.every_QMARK_(pred, coll);
};
cljs.core.some = function cljs$core$some(pred, coll) {
  while (true) {
    if (cljs.core.seq(coll)) {
      var or__6156__auto__ = function() {
        var G__9476 = cljs.core.first(coll);
        return pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(G__9476) : pred.call(null, G__9476);
      }();
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var G__9477 = pred;
        var G__9478 = cljs.core.next(coll);
        pred = G__9477;
        coll = G__9478;
        continue;
      }
    } else {
      return null;
    }
    break;
  }
};
cljs.core.not_any_QMARK_ = function cljs$core$not_any_QMARK_(pred, coll) {
  return cljs.core.not(cljs.core.some(pred, coll));
};
cljs.core.even_QMARK_ = function cljs$core$even_QMARK_(n) {
  if (cljs.core.integer_QMARK_(n)) {
    return (n & 1) === 0;
  } else {
    throw new Error([cljs.core.str("Argument must be an integer: "), cljs.core.str(n)].join(""));
  }
};
cljs.core.odd_QMARK_ = function cljs$core$odd_QMARK_(n) {
  return !cljs.core.even_QMARK_(n);
};
cljs.core.complement = function cljs$core$complement(f) {
  return function() {
    var G__9479 = null;
    var G__9479__0 = function() {
      return cljs.core.not(f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));
    };
    var G__9479__1 = function(x) {
      return cljs.core.not(f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x));
    };
    var G__9479__2 = function(x, y) {
      return cljs.core.not(f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y));
    };
    var G__9479__3 = function() {
      var G__9480__delegate = function(x, y, zs) {
        return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(f, x, y, zs));
      };
      var G__9480 = function(x, y, var_args) {
        var zs = null;
        if (arguments.length > 2) {
          var G__9481__i = 0, G__9481__a = new Array(arguments.length - 2);
          while (G__9481__i < G__9481__a.length) {
            G__9481__a[G__9481__i] = arguments[G__9481__i + 2];
            ++G__9481__i;
          }
          zs = new cljs.core.IndexedSeq(G__9481__a, 0);
        }
        return G__9480__delegate.call(this, x, y, zs);
      };
      G__9480.cljs$lang$maxFixedArity = 2;
      G__9480.cljs$lang$applyTo = function(arglist__9482) {
        var x = cljs.core.first(arglist__9482);
        arglist__9482 = cljs.core.next(arglist__9482);
        var y = cljs.core.first(arglist__9482);
        var zs = cljs.core.rest(arglist__9482);
        return G__9480__delegate(x, y, zs);
      };
      G__9480.cljs$core$IFn$_invoke$arity$variadic = G__9480__delegate;
      return G__9480;
    }();
    G__9479 = function(x, y, var_args) {
      var zs = var_args;
      switch(arguments.length) {
        case 0:
          return G__9479__0.call(this);
        case 1:
          return G__9479__1.call(this, x);
        case 2:
          return G__9479__2.call(this, x, y);
        default:
          var G__9483 = null;
          if (arguments.length > 2) {
            var G__9484__i = 0, G__9484__a = new Array(arguments.length - 2);
            while (G__9484__i < G__9484__a.length) {
              G__9484__a[G__9484__i] = arguments[G__9484__i + 2];
              ++G__9484__i;
            }
            G__9483 = new cljs.core.IndexedSeq(G__9484__a, 0);
          }
          return G__9479__3.cljs$core$IFn$_invoke$arity$variadic(x, y, G__9483);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9479.cljs$lang$maxFixedArity = 2;
    G__9479.cljs$lang$applyTo = G__9479__3.cljs$lang$applyTo;
    G__9479.cljs$core$IFn$_invoke$arity$0 = G__9479__0;
    G__9479.cljs$core$IFn$_invoke$arity$1 = G__9479__1;
    G__9479.cljs$core$IFn$_invoke$arity$2 = G__9479__2;
    G__9479.cljs$core$IFn$_invoke$arity$variadic = G__9479__3.cljs$core$IFn$_invoke$arity$variadic;
    return G__9479;
  }();
};
cljs.core.constantly = function cljs$core$constantly(x) {
  return function() {
    var G__9485__delegate = function(args) {
      return x;
    };
    var G__9485 = function(var_args) {
      var args = null;
      if (arguments.length > 0) {
        var G__9486__i = 0, G__9486__a = new Array(arguments.length - 0);
        while (G__9486__i < G__9486__a.length) {
          G__9486__a[G__9486__i] = arguments[G__9486__i + 0];
          ++G__9486__i;
        }
        args = new cljs.core.IndexedSeq(G__9486__a, 0);
      }
      return G__9485__delegate.call(this, args);
    };
    G__9485.cljs$lang$maxFixedArity = 0;
    G__9485.cljs$lang$applyTo = function(arglist__9487) {
      var args = cljs.core.seq(arglist__9487);
      return G__9485__delegate(args);
    };
    G__9485.cljs$core$IFn$_invoke$arity$variadic = G__9485__delegate;
    return G__9485;
  }();
};
cljs.core.comp = function cljs$core$comp(var_args) {
  var args9488 = [];
  var len__7214__auto___9515 = arguments.length;
  var i__7215__auto___9516 = 0;
  while (true) {
    if (i__7215__auto___9516 < len__7214__auto___9515) {
      args9488.push(arguments[i__7215__auto___9516]);
      var G__9517 = i__7215__auto___9516 + 1;
      i__7215__auto___9516 = G__9517;
      continue;
    } else {
    }
    break;
  }
  var G__9494 = args9488.length;
  switch(G__9494) {
    case 0:
      return cljs.core.comp.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.comp.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.comp.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9488.slice(3), 0);
      return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.comp.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.identity;
};
cljs.core.comp.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return f;
};
cljs.core.comp.cljs$core$IFn$_invoke$arity$2 = function(f, g) {
  return function() {
    var G__9519 = null;
    var G__9519__0 = function() {
      var G__9495 = g.cljs$core$IFn$_invoke$arity$0 ? g.cljs$core$IFn$_invoke$arity$0() : g.call(null);
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9495) : f.call(null, G__9495);
    };
    var G__9519__1 = function(x) {
      var G__9496 = g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(x) : g.call(null, x);
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9496) : f.call(null, G__9496);
    };
    var G__9519__2 = function(x, y) {
      var G__9497 = g.cljs$core$IFn$_invoke$arity$2 ? g.cljs$core$IFn$_invoke$arity$2(x, y) : g.call(null, x, y);
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9497) : f.call(null, G__9497);
    };
    var G__9519__3 = function(x, y, z) {
      var G__9498 = g.cljs$core$IFn$_invoke$arity$3 ? g.cljs$core$IFn$_invoke$arity$3(x, y, z) : g.call(null, x, y, z);
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9498) : f.call(null, G__9498);
    };
    var G__9519__4 = function() {
      var G__9520__delegate = function(x, y, z, args) {
        var G__9499 = cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g, x, y, z, args);
        return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9499) : f.call(null, G__9499);
      };
      var G__9520 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9521__i = 0, G__9521__a = new Array(arguments.length - 3);
          while (G__9521__i < G__9521__a.length) {
            G__9521__a[G__9521__i] = arguments[G__9521__i + 3];
            ++G__9521__i;
          }
          args = new cljs.core.IndexedSeq(G__9521__a, 0);
        }
        return G__9520__delegate.call(this, x, y, z, args);
      };
      G__9520.cljs$lang$maxFixedArity = 3;
      G__9520.cljs$lang$applyTo = function(arglist__9522) {
        var x = cljs.core.first(arglist__9522);
        arglist__9522 = cljs.core.next(arglist__9522);
        var y = cljs.core.first(arglist__9522);
        arglist__9522 = cljs.core.next(arglist__9522);
        var z = cljs.core.first(arglist__9522);
        var args = cljs.core.rest(arglist__9522);
        return G__9520__delegate(x, y, z, args);
      };
      G__9520.cljs$core$IFn$_invoke$arity$variadic = G__9520__delegate;
      return G__9520;
    }();
    G__9519 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__9519__0.call(this);
        case 1:
          return G__9519__1.call(this, x);
        case 2:
          return G__9519__2.call(this, x, y);
        case 3:
          return G__9519__3.call(this, x, y, z);
        default:
          var G__9523 = null;
          if (arguments.length > 3) {
            var G__9524__i = 0, G__9524__a = new Array(arguments.length - 3);
            while (G__9524__i < G__9524__a.length) {
              G__9524__a[G__9524__i] = arguments[G__9524__i + 3];
              ++G__9524__i;
            }
            G__9523 = new cljs.core.IndexedSeq(G__9524__a, 0);
          }
          return G__9519__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9523);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9519.cljs$lang$maxFixedArity = 3;
    G__9519.cljs$lang$applyTo = G__9519__4.cljs$lang$applyTo;
    G__9519.cljs$core$IFn$_invoke$arity$0 = G__9519__0;
    G__9519.cljs$core$IFn$_invoke$arity$1 = G__9519__1;
    G__9519.cljs$core$IFn$_invoke$arity$2 = G__9519__2;
    G__9519.cljs$core$IFn$_invoke$arity$3 = G__9519__3;
    G__9519.cljs$core$IFn$_invoke$arity$variadic = G__9519__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9519;
  }();
};
cljs.core.comp.cljs$core$IFn$_invoke$arity$3 = function(f, g, h) {
  return function() {
    var G__9525 = null;
    var G__9525__0 = function() {
      var G__9501 = function() {
        var G__9502 = h.cljs$core$IFn$_invoke$arity$0 ? h.cljs$core$IFn$_invoke$arity$0() : h.call(null);
        return g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(G__9502) : g.call(null, G__9502);
      }();
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9501) : f.call(null, G__9501);
    };
    var G__9525__1 = function(x) {
      var G__9504 = function() {
        var G__9505 = h.cljs$core$IFn$_invoke$arity$1 ? h.cljs$core$IFn$_invoke$arity$1(x) : h.call(null, x);
        return g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(G__9505) : g.call(null, G__9505);
      }();
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9504) : f.call(null, G__9504);
    };
    var G__9525__2 = function(x, y) {
      var G__9507 = function() {
        var G__9508 = h.cljs$core$IFn$_invoke$arity$2 ? h.cljs$core$IFn$_invoke$arity$2(x, y) : h.call(null, x, y);
        return g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(G__9508) : g.call(null, G__9508);
      }();
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9507) : f.call(null, G__9507);
    };
    var G__9525__3 = function(x, y, z) {
      var G__9510 = function() {
        var G__9511 = h.cljs$core$IFn$_invoke$arity$3 ? h.cljs$core$IFn$_invoke$arity$3(x, y, z) : h.call(null, x, y, z);
        return g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(G__9511) : g.call(null, G__9511);
      }();
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9510) : f.call(null, G__9510);
    };
    var G__9525__4 = function() {
      var G__9526__delegate = function(x, y, z, args) {
        var G__9513 = function() {
          var G__9514 = cljs.core.apply.cljs$core$IFn$_invoke$arity$5(h, x, y, z, args);
          return g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(G__9514) : g.call(null, G__9514);
        }();
        return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9513) : f.call(null, G__9513);
      };
      var G__9526 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9527__i = 0, G__9527__a = new Array(arguments.length - 3);
          while (G__9527__i < G__9527__a.length) {
            G__9527__a[G__9527__i] = arguments[G__9527__i + 3];
            ++G__9527__i;
          }
          args = new cljs.core.IndexedSeq(G__9527__a, 0);
        }
        return G__9526__delegate.call(this, x, y, z, args);
      };
      G__9526.cljs$lang$maxFixedArity = 3;
      G__9526.cljs$lang$applyTo = function(arglist__9528) {
        var x = cljs.core.first(arglist__9528);
        arglist__9528 = cljs.core.next(arglist__9528);
        var y = cljs.core.first(arglist__9528);
        arglist__9528 = cljs.core.next(arglist__9528);
        var z = cljs.core.first(arglist__9528);
        var args = cljs.core.rest(arglist__9528);
        return G__9526__delegate(x, y, z, args);
      };
      G__9526.cljs$core$IFn$_invoke$arity$variadic = G__9526__delegate;
      return G__9526;
    }();
    G__9525 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__9525__0.call(this);
        case 1:
          return G__9525__1.call(this, x);
        case 2:
          return G__9525__2.call(this, x, y);
        case 3:
          return G__9525__3.call(this, x, y, z);
        default:
          var G__9529 = null;
          if (arguments.length > 3) {
            var G__9530__i = 0, G__9530__a = new Array(arguments.length - 3);
            while (G__9530__i < G__9530__a.length) {
              G__9530__a[G__9530__i] = arguments[G__9530__i + 3];
              ++G__9530__i;
            }
            G__9529 = new cljs.core.IndexedSeq(G__9530__a, 0);
          }
          return G__9525__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9529);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9525.cljs$lang$maxFixedArity = 3;
    G__9525.cljs$lang$applyTo = G__9525__4.cljs$lang$applyTo;
    G__9525.cljs$core$IFn$_invoke$arity$0 = G__9525__0;
    G__9525.cljs$core$IFn$_invoke$arity$1 = G__9525__1;
    G__9525.cljs$core$IFn$_invoke$arity$2 = G__9525__2;
    G__9525.cljs$core$IFn$_invoke$arity$3 = G__9525__3;
    G__9525.cljs$core$IFn$_invoke$arity$variadic = G__9525__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9525;
  }();
};
cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic = function(f1, f2, f3, fs) {
  var fs__$1 = cljs.core.reverse(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(f1, f2, f3, fs));
  return function(fs__$1) {
    return function() {
      var G__9531__delegate = function(args) {
        var ret = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.first(fs__$1), args);
        var fs__$2 = cljs.core.next(fs__$1);
        while (true) {
          if (fs__$2) {
            var G__9532 = cljs.core.first(fs__$2).call(null, ret);
            var G__9533 = cljs.core.next(fs__$2);
            ret = G__9532;
            fs__$2 = G__9533;
            continue;
          } else {
            return ret;
          }
          break;
        }
      };
      var G__9531 = function(var_args) {
        var args = null;
        if (arguments.length > 0) {
          var G__9534__i = 0, G__9534__a = new Array(arguments.length - 0);
          while (G__9534__i < G__9534__a.length) {
            G__9534__a[G__9534__i] = arguments[G__9534__i + 0];
            ++G__9534__i;
          }
          args = new cljs.core.IndexedSeq(G__9534__a, 0);
        }
        return G__9531__delegate.call(this, args);
      };
      G__9531.cljs$lang$maxFixedArity = 0;
      G__9531.cljs$lang$applyTo = function(arglist__9535) {
        var args = cljs.core.seq(arglist__9535);
        return G__9531__delegate(args);
      };
      G__9531.cljs$core$IFn$_invoke$arity$variadic = G__9531__delegate;
      return G__9531;
    }();
  }(fs__$1);
};
cljs.core.comp.cljs$lang$applyTo = function(seq9489) {
  var G__9490 = cljs.core.first(seq9489);
  var seq9489__$1 = cljs.core.next(seq9489);
  var G__9491 = cljs.core.first(seq9489__$1);
  var seq9489__$2 = cljs.core.next(seq9489__$1);
  var G__9492 = cljs.core.first(seq9489__$2);
  var seq9489__$3 = cljs.core.next(seq9489__$2);
  return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(G__9490, G__9491, G__9492, seq9489__$3);
};
cljs.core.comp.cljs$lang$maxFixedArity = 3;
cljs.core.partial = function cljs$core$partial(var_args) {
  var args9536 = [];
  var len__7214__auto___9544 = arguments.length;
  var i__7215__auto___9545 = 0;
  while (true) {
    if (i__7215__auto___9545 < len__7214__auto___9544) {
      args9536.push(arguments[i__7215__auto___9545]);
      var G__9546 = i__7215__auto___9545 + 1;
      i__7215__auto___9545 = G__9546;
      continue;
    } else {
    }
    break;
  }
  var G__9543 = args9536.length;
  switch(G__9543) {
    case 1:
      return cljs.core.partial.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.partial.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.partial.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.partial.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9536.slice(4), 0);
      return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], argseq__7233__auto__);
  }
};
cljs.core.partial.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return f;
};
cljs.core.partial.cljs$core$IFn$_invoke$arity$2 = function(f, arg1) {
  return function() {
    var G__9548 = null;
    var G__9548__0 = function() {
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(arg1) : f.call(null, arg1);
    };
    var G__9548__1 = function(x) {
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(arg1, x) : f.call(null, arg1, x);
    };
    var G__9548__2 = function(x, y) {
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(arg1, x, y) : f.call(null, arg1, x, y);
    };
    var G__9548__3 = function(x, y, z) {
      return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(arg1, x, y, z) : f.call(null, arg1, x, y, z);
    };
    var G__9548__4 = function() {
      var G__9549__delegate = function(x, y, z, args) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, arg1, x, y, z, cljs.core.array_seq([args], 0));
      };
      var G__9549 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9550__i = 0, G__9550__a = new Array(arguments.length - 3);
          while (G__9550__i < G__9550__a.length) {
            G__9550__a[G__9550__i] = arguments[G__9550__i + 3];
            ++G__9550__i;
          }
          args = new cljs.core.IndexedSeq(G__9550__a, 0);
        }
        return G__9549__delegate.call(this, x, y, z, args);
      };
      G__9549.cljs$lang$maxFixedArity = 3;
      G__9549.cljs$lang$applyTo = function(arglist__9551) {
        var x = cljs.core.first(arglist__9551);
        arglist__9551 = cljs.core.next(arglist__9551);
        var y = cljs.core.first(arglist__9551);
        arglist__9551 = cljs.core.next(arglist__9551);
        var z = cljs.core.first(arglist__9551);
        var args = cljs.core.rest(arglist__9551);
        return G__9549__delegate(x, y, z, args);
      };
      G__9549.cljs$core$IFn$_invoke$arity$variadic = G__9549__delegate;
      return G__9549;
    }();
    G__9548 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__9548__0.call(this);
        case 1:
          return G__9548__1.call(this, x);
        case 2:
          return G__9548__2.call(this, x, y);
        case 3:
          return G__9548__3.call(this, x, y, z);
        default:
          var G__9552 = null;
          if (arguments.length > 3) {
            var G__9553__i = 0, G__9553__a = new Array(arguments.length - 3);
            while (G__9553__i < G__9553__a.length) {
              G__9553__a[G__9553__i] = arguments[G__9553__i + 3];
              ++G__9553__i;
            }
            G__9552 = new cljs.core.IndexedSeq(G__9553__a, 0);
          }
          return G__9548__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9552);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9548.cljs$lang$maxFixedArity = 3;
    G__9548.cljs$lang$applyTo = G__9548__4.cljs$lang$applyTo;
    G__9548.cljs$core$IFn$_invoke$arity$0 = G__9548__0;
    G__9548.cljs$core$IFn$_invoke$arity$1 = G__9548__1;
    G__9548.cljs$core$IFn$_invoke$arity$2 = G__9548__2;
    G__9548.cljs$core$IFn$_invoke$arity$3 = G__9548__3;
    G__9548.cljs$core$IFn$_invoke$arity$variadic = G__9548__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9548;
  }();
};
cljs.core.partial.cljs$core$IFn$_invoke$arity$3 = function(f, arg1, arg2) {
  return function() {
    var G__9554 = null;
    var G__9554__0 = function() {
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(arg1, arg2) : f.call(null, arg1, arg2);
    };
    var G__9554__1 = function(x) {
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(arg1, arg2, x) : f.call(null, arg1, arg2, x);
    };
    var G__9554__2 = function(x, y) {
      return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(arg1, arg2, x, y) : f.call(null, arg1, arg2, x, y);
    };
    var G__9554__3 = function(x, y, z) {
      return f.cljs$core$IFn$_invoke$arity$5 ? f.cljs$core$IFn$_invoke$arity$5(arg1, arg2, x, y, z) : f.call(null, arg1, arg2, x, y, z);
    };
    var G__9554__4 = function() {
      var G__9555__delegate = function(x, y, z, args) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, arg1, arg2, x, y, cljs.core.array_seq([z, args], 0));
      };
      var G__9555 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9556__i = 0, G__9556__a = new Array(arguments.length - 3);
          while (G__9556__i < G__9556__a.length) {
            G__9556__a[G__9556__i] = arguments[G__9556__i + 3];
            ++G__9556__i;
          }
          args = new cljs.core.IndexedSeq(G__9556__a, 0);
        }
        return G__9555__delegate.call(this, x, y, z, args);
      };
      G__9555.cljs$lang$maxFixedArity = 3;
      G__9555.cljs$lang$applyTo = function(arglist__9557) {
        var x = cljs.core.first(arglist__9557);
        arglist__9557 = cljs.core.next(arglist__9557);
        var y = cljs.core.first(arglist__9557);
        arglist__9557 = cljs.core.next(arglist__9557);
        var z = cljs.core.first(arglist__9557);
        var args = cljs.core.rest(arglist__9557);
        return G__9555__delegate(x, y, z, args);
      };
      G__9555.cljs$core$IFn$_invoke$arity$variadic = G__9555__delegate;
      return G__9555;
    }();
    G__9554 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__9554__0.call(this);
        case 1:
          return G__9554__1.call(this, x);
        case 2:
          return G__9554__2.call(this, x, y);
        case 3:
          return G__9554__3.call(this, x, y, z);
        default:
          var G__9558 = null;
          if (arguments.length > 3) {
            var G__9559__i = 0, G__9559__a = new Array(arguments.length - 3);
            while (G__9559__i < G__9559__a.length) {
              G__9559__a[G__9559__i] = arguments[G__9559__i + 3];
              ++G__9559__i;
            }
            G__9558 = new cljs.core.IndexedSeq(G__9559__a, 0);
          }
          return G__9554__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9558);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9554.cljs$lang$maxFixedArity = 3;
    G__9554.cljs$lang$applyTo = G__9554__4.cljs$lang$applyTo;
    G__9554.cljs$core$IFn$_invoke$arity$0 = G__9554__0;
    G__9554.cljs$core$IFn$_invoke$arity$1 = G__9554__1;
    G__9554.cljs$core$IFn$_invoke$arity$2 = G__9554__2;
    G__9554.cljs$core$IFn$_invoke$arity$3 = G__9554__3;
    G__9554.cljs$core$IFn$_invoke$arity$variadic = G__9554__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9554;
  }();
};
cljs.core.partial.cljs$core$IFn$_invoke$arity$4 = function(f, arg1, arg2, arg3) {
  return function() {
    var G__9560 = null;
    var G__9560__0 = function() {
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(arg1, arg2, arg3) : f.call(null, arg1, arg2, arg3);
    };
    var G__9560__1 = function(x) {
      return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(arg1, arg2, arg3, x) : f.call(null, arg1, arg2, arg3, x);
    };
    var G__9560__2 = function(x, y) {
      return f.cljs$core$IFn$_invoke$arity$5 ? f.cljs$core$IFn$_invoke$arity$5(arg1, arg2, arg3, x, y) : f.call(null, arg1, arg2, arg3, x, y);
    };
    var G__9560__3 = function(x, y, z) {
      return f.cljs$core$IFn$_invoke$arity$6 ? f.cljs$core$IFn$_invoke$arity$6(arg1, arg2, arg3, x, y, z) : f.call(null, arg1, arg2, arg3, x, y, z);
    };
    var G__9560__4 = function() {
      var G__9561__delegate = function(x, y, z, args) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, arg1, arg2, arg3, x, cljs.core.array_seq([y, z, args], 0));
      };
      var G__9561 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9562__i = 0, G__9562__a = new Array(arguments.length - 3);
          while (G__9562__i < G__9562__a.length) {
            G__9562__a[G__9562__i] = arguments[G__9562__i + 3];
            ++G__9562__i;
          }
          args = new cljs.core.IndexedSeq(G__9562__a, 0);
        }
        return G__9561__delegate.call(this, x, y, z, args);
      };
      G__9561.cljs$lang$maxFixedArity = 3;
      G__9561.cljs$lang$applyTo = function(arglist__9563) {
        var x = cljs.core.first(arglist__9563);
        arglist__9563 = cljs.core.next(arglist__9563);
        var y = cljs.core.first(arglist__9563);
        arglist__9563 = cljs.core.next(arglist__9563);
        var z = cljs.core.first(arglist__9563);
        var args = cljs.core.rest(arglist__9563);
        return G__9561__delegate(x, y, z, args);
      };
      G__9561.cljs$core$IFn$_invoke$arity$variadic = G__9561__delegate;
      return G__9561;
    }();
    G__9560 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__9560__0.call(this);
        case 1:
          return G__9560__1.call(this, x);
        case 2:
          return G__9560__2.call(this, x, y);
        case 3:
          return G__9560__3.call(this, x, y, z);
        default:
          var G__9564 = null;
          if (arguments.length > 3) {
            var G__9565__i = 0, G__9565__a = new Array(arguments.length - 3);
            while (G__9565__i < G__9565__a.length) {
              G__9565__a[G__9565__i] = arguments[G__9565__i + 3];
              ++G__9565__i;
            }
            G__9564 = new cljs.core.IndexedSeq(G__9565__a, 0);
          }
          return G__9560__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9564);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9560.cljs$lang$maxFixedArity = 3;
    G__9560.cljs$lang$applyTo = G__9560__4.cljs$lang$applyTo;
    G__9560.cljs$core$IFn$_invoke$arity$0 = G__9560__0;
    G__9560.cljs$core$IFn$_invoke$arity$1 = G__9560__1;
    G__9560.cljs$core$IFn$_invoke$arity$2 = G__9560__2;
    G__9560.cljs$core$IFn$_invoke$arity$3 = G__9560__3;
    G__9560.cljs$core$IFn$_invoke$arity$variadic = G__9560__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9560;
  }();
};
cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic = function(f, arg1, arg2, arg3, more) {
  return function() {
    var G__9566__delegate = function(args) {
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, arg1, arg2, arg3, cljs.core.concat.cljs$core$IFn$_invoke$arity$2(more, args));
    };
    var G__9566 = function(var_args) {
      var args = null;
      if (arguments.length > 0) {
        var G__9567__i = 0, G__9567__a = new Array(arguments.length - 0);
        while (G__9567__i < G__9567__a.length) {
          G__9567__a[G__9567__i] = arguments[G__9567__i + 0];
          ++G__9567__i;
        }
        args = new cljs.core.IndexedSeq(G__9567__a, 0);
      }
      return G__9566__delegate.call(this, args);
    };
    G__9566.cljs$lang$maxFixedArity = 0;
    G__9566.cljs$lang$applyTo = function(arglist__9568) {
      var args = cljs.core.seq(arglist__9568);
      return G__9566__delegate(args);
    };
    G__9566.cljs$core$IFn$_invoke$arity$variadic = G__9566__delegate;
    return G__9566;
  }();
};
cljs.core.partial.cljs$lang$applyTo = function(seq9537) {
  var G__9538 = cljs.core.first(seq9537);
  var seq9537__$1 = cljs.core.next(seq9537);
  var G__9539 = cljs.core.first(seq9537__$1);
  var seq9537__$2 = cljs.core.next(seq9537__$1);
  var G__9540 = cljs.core.first(seq9537__$2);
  var seq9537__$3 = cljs.core.next(seq9537__$2);
  var G__9541 = cljs.core.first(seq9537__$3);
  var seq9537__$4 = cljs.core.next(seq9537__$3);
  return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(G__9538, G__9539, G__9540, G__9541, seq9537__$4);
};
cljs.core.partial.cljs$lang$maxFixedArity = 4;
cljs.core.fnil = function cljs$core$fnil(var_args) {
  var args9569 = [];
  var len__7214__auto___9588 = arguments.length;
  var i__7215__auto___9589 = 0;
  while (true) {
    if (i__7215__auto___9589 < len__7214__auto___9588) {
      args9569.push(arguments[i__7215__auto___9589]);
      var G__9590 = i__7215__auto___9589 + 1;
      i__7215__auto___9589 = G__9590;
      continue;
    } else {
    }
    break;
  }
  var G__9571 = args9569.length;
  switch(G__9571) {
    case 2:
      return cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.fnil.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.fnil.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9569.length)].join(""));;
  }
};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$2 = function(f, x) {
  return function() {
    var G__9592 = null;
    var G__9592__1 = function(a) {
      var G__9572 = a == null ? x : a;
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9572) : f.call(null, G__9572);
    };
    var G__9592__2 = function(a, b) {
      var G__9573 = a == null ? x : a;
      var G__9574 = b;
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9573, G__9574) : f.call(null, G__9573, G__9574);
    };
    var G__9592__3 = function(a, b, c) {
      var G__9575 = a == null ? x : a;
      var G__9576 = b;
      var G__9577 = c;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9575, G__9576, G__9577) : f.call(null, G__9575, G__9576, G__9577);
    };
    var G__9592__4 = function() {
      var G__9593__delegate = function(a, b, c, ds) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, a == null ? x : a, b, c, ds);
      };
      var G__9593 = function(a, b, c, var_args) {
        var ds = null;
        if (arguments.length > 3) {
          var G__9594__i = 0, G__9594__a = new Array(arguments.length - 3);
          while (G__9594__i < G__9594__a.length) {
            G__9594__a[G__9594__i] = arguments[G__9594__i + 3];
            ++G__9594__i;
          }
          ds = new cljs.core.IndexedSeq(G__9594__a, 0);
        }
        return G__9593__delegate.call(this, a, b, c, ds);
      };
      G__9593.cljs$lang$maxFixedArity = 3;
      G__9593.cljs$lang$applyTo = function(arglist__9595) {
        var a = cljs.core.first(arglist__9595);
        arglist__9595 = cljs.core.next(arglist__9595);
        var b = cljs.core.first(arglist__9595);
        arglist__9595 = cljs.core.next(arglist__9595);
        var c = cljs.core.first(arglist__9595);
        var ds = cljs.core.rest(arglist__9595);
        return G__9593__delegate(a, b, c, ds);
      };
      G__9593.cljs$core$IFn$_invoke$arity$variadic = G__9593__delegate;
      return G__9593;
    }();
    G__9592 = function(a, b, c, var_args) {
      var ds = var_args;
      switch(arguments.length) {
        case 1:
          return G__9592__1.call(this, a);
        case 2:
          return G__9592__2.call(this, a, b);
        case 3:
          return G__9592__3.call(this, a, b, c);
        default:
          var G__9596 = null;
          if (arguments.length > 3) {
            var G__9597__i = 0, G__9597__a = new Array(arguments.length - 3);
            while (G__9597__i < G__9597__a.length) {
              G__9597__a[G__9597__i] = arguments[G__9597__i + 3];
              ++G__9597__i;
            }
            G__9596 = new cljs.core.IndexedSeq(G__9597__a, 0);
          }
          return G__9592__4.cljs$core$IFn$_invoke$arity$variadic(a, b, c, G__9596);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9592.cljs$lang$maxFixedArity = 3;
    G__9592.cljs$lang$applyTo = G__9592__4.cljs$lang$applyTo;
    G__9592.cljs$core$IFn$_invoke$arity$1 = G__9592__1;
    G__9592.cljs$core$IFn$_invoke$arity$2 = G__9592__2;
    G__9592.cljs$core$IFn$_invoke$arity$3 = G__9592__3;
    G__9592.cljs$core$IFn$_invoke$arity$variadic = G__9592__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9592;
  }();
};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$3 = function(f, x, y) {
  return function() {
    var G__9598 = null;
    var G__9598__2 = function(a, b) {
      var G__9578 = a == null ? x : a;
      var G__9579 = b == null ? y : b;
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9578, G__9579) : f.call(null, G__9578, G__9579);
    };
    var G__9598__3 = function(a, b, c) {
      var G__9580 = a == null ? x : a;
      var G__9581 = b == null ? y : b;
      var G__9582 = c;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9580, G__9581, G__9582) : f.call(null, G__9580, G__9581, G__9582);
    };
    var G__9598__4 = function() {
      var G__9599__delegate = function(a, b, c, ds) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, a == null ? x : a, b == null ? y : b, c, ds);
      };
      var G__9599 = function(a, b, c, var_args) {
        var ds = null;
        if (arguments.length > 3) {
          var G__9600__i = 0, G__9600__a = new Array(arguments.length - 3);
          while (G__9600__i < G__9600__a.length) {
            G__9600__a[G__9600__i] = arguments[G__9600__i + 3];
            ++G__9600__i;
          }
          ds = new cljs.core.IndexedSeq(G__9600__a, 0);
        }
        return G__9599__delegate.call(this, a, b, c, ds);
      };
      G__9599.cljs$lang$maxFixedArity = 3;
      G__9599.cljs$lang$applyTo = function(arglist__9601) {
        var a = cljs.core.first(arglist__9601);
        arglist__9601 = cljs.core.next(arglist__9601);
        var b = cljs.core.first(arglist__9601);
        arglist__9601 = cljs.core.next(arglist__9601);
        var c = cljs.core.first(arglist__9601);
        var ds = cljs.core.rest(arglist__9601);
        return G__9599__delegate(a, b, c, ds);
      };
      G__9599.cljs$core$IFn$_invoke$arity$variadic = G__9599__delegate;
      return G__9599;
    }();
    G__9598 = function(a, b, c, var_args) {
      var ds = var_args;
      switch(arguments.length) {
        case 2:
          return G__9598__2.call(this, a, b);
        case 3:
          return G__9598__3.call(this, a, b, c);
        default:
          var G__9602 = null;
          if (arguments.length > 3) {
            var G__9603__i = 0, G__9603__a = new Array(arguments.length - 3);
            while (G__9603__i < G__9603__a.length) {
              G__9603__a[G__9603__i] = arguments[G__9603__i + 3];
              ++G__9603__i;
            }
            G__9602 = new cljs.core.IndexedSeq(G__9603__a, 0);
          }
          return G__9598__4.cljs$core$IFn$_invoke$arity$variadic(a, b, c, G__9602);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9598.cljs$lang$maxFixedArity = 3;
    G__9598.cljs$lang$applyTo = G__9598__4.cljs$lang$applyTo;
    G__9598.cljs$core$IFn$_invoke$arity$2 = G__9598__2;
    G__9598.cljs$core$IFn$_invoke$arity$3 = G__9598__3;
    G__9598.cljs$core$IFn$_invoke$arity$variadic = G__9598__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9598;
  }();
};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$4 = function(f, x, y, z) {
  return function() {
    var G__9604 = null;
    var G__9604__2 = function(a, b) {
      var G__9583 = a == null ? x : a;
      var G__9584 = b == null ? y : b;
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9583, G__9584) : f.call(null, G__9583, G__9584);
    };
    var G__9604__3 = function(a, b, c) {
      var G__9585 = a == null ? x : a;
      var G__9586 = b == null ? y : b;
      var G__9587 = c == null ? z : c;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9585, G__9586, G__9587) : f.call(null, G__9585, G__9586, G__9587);
    };
    var G__9604__4 = function() {
      var G__9605__delegate = function(a, b, c, ds) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, a == null ? x : a, b == null ? y : b, c == null ? z : c, ds);
      };
      var G__9605 = function(a, b, c, var_args) {
        var ds = null;
        if (arguments.length > 3) {
          var G__9606__i = 0, G__9606__a = new Array(arguments.length - 3);
          while (G__9606__i < G__9606__a.length) {
            G__9606__a[G__9606__i] = arguments[G__9606__i + 3];
            ++G__9606__i;
          }
          ds = new cljs.core.IndexedSeq(G__9606__a, 0);
        }
        return G__9605__delegate.call(this, a, b, c, ds);
      };
      G__9605.cljs$lang$maxFixedArity = 3;
      G__9605.cljs$lang$applyTo = function(arglist__9607) {
        var a = cljs.core.first(arglist__9607);
        arglist__9607 = cljs.core.next(arglist__9607);
        var b = cljs.core.first(arglist__9607);
        arglist__9607 = cljs.core.next(arglist__9607);
        var c = cljs.core.first(arglist__9607);
        var ds = cljs.core.rest(arglist__9607);
        return G__9605__delegate(a, b, c, ds);
      };
      G__9605.cljs$core$IFn$_invoke$arity$variadic = G__9605__delegate;
      return G__9605;
    }();
    G__9604 = function(a, b, c, var_args) {
      var ds = var_args;
      switch(arguments.length) {
        case 2:
          return G__9604__2.call(this, a, b);
        case 3:
          return G__9604__3.call(this, a, b, c);
        default:
          var G__9608 = null;
          if (arguments.length > 3) {
            var G__9609__i = 0, G__9609__a = new Array(arguments.length - 3);
            while (G__9609__i < G__9609__a.length) {
              G__9609__a[G__9609__i] = arguments[G__9609__i + 3];
              ++G__9609__i;
            }
            G__9608 = new cljs.core.IndexedSeq(G__9609__a, 0);
          }
          return G__9604__4.cljs$core$IFn$_invoke$arity$variadic(a, b, c, G__9608);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__9604.cljs$lang$maxFixedArity = 3;
    G__9604.cljs$lang$applyTo = G__9604__4.cljs$lang$applyTo;
    G__9604.cljs$core$IFn$_invoke$arity$2 = G__9604__2;
    G__9604.cljs$core$IFn$_invoke$arity$3 = G__9604__3;
    G__9604.cljs$core$IFn$_invoke$arity$variadic = G__9604__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__9604;
  }();
};
cljs.core.fnil.cljs$lang$maxFixedArity = 4;
cljs.core.map_indexed = function cljs$core$map_indexed(var_args) {
  var args9610 = [];
  var len__7214__auto___9643 = arguments.length;
  var i__7215__auto___9644 = 0;
  while (true) {
    if (i__7215__auto___9644 < len__7214__auto___9643) {
      args9610.push(arguments[i__7215__auto___9644]);
      var G__9645 = i__7215__auto___9644 + 1;
      i__7215__auto___9644 = G__9645;
      continue;
    } else {
    }
    break;
  }
  var G__9612 = args9610.length;
  switch(G__9612) {
    case 1:
      return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9610.length)].join(""));;
  }
};
cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function(rf) {
    var i = cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1 ? cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1(-1) : cljs.core.volatile_BANG_.call(null, -1);
    return function(i) {
      return function() {
        var G__9647 = null;
        var G__9647__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9647__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9647__2 = function(result, input) {
          var G__9615 = result;
          var G__9616 = function() {
            var G__9617 = cljs.core._vreset_BANG_(i, cljs.core._deref(i) + 1);
            var G__9618 = input;
            return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9617, G__9618) : f.call(null, G__9617, G__9618);
          }();
          return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(G__9615, G__9616) : rf.call(null, G__9615, G__9616);
        };
        G__9647 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9647__0.call(this);
            case 1:
              return G__9647__1.call(this, result);
            case 2:
              return G__9647__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9647.cljs$core$IFn$_invoke$arity$0 = G__9647__0;
        G__9647.cljs$core$IFn$_invoke$arity$1 = G__9647__1;
        G__9647.cljs$core$IFn$_invoke$arity$2 = G__9647__2;
        return G__9647;
      }();
    }(i);
  };
};
cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  var mapi = function cljs$core$mapi(idx, coll__$1) {
    return new cljs.core.LazySeq(null, function() {
      var temp__4657__auto__ = cljs.core.seq(coll__$1);
      if (temp__4657__auto__) {
        var s = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(s)) {
          var c = cljs.core.chunk_first(s);
          var size = cljs.core.count(c);
          var b = cljs.core.chunk_buffer(size);
          var n__7059__auto___9648 = size;
          var i_9649 = 0;
          while (true) {
            if (i_9649 < n__7059__auto___9648) {
              cljs.core.chunk_append(b, function() {
                var G__9639 = idx + i_9649;
                var G__9640 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9649);
                return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9639, G__9640) : f.call(null, G__9639, G__9640);
              }());
              var G__9650 = i_9649 + 1;
              i_9649 = G__9650;
              continue;
            } else {
            }
            break;
          }
          return cljs.core.chunk_cons(cljs.core.chunk(b), cljs$core$mapi(idx + size, cljs.core.chunk_rest(s)));
        } else {
          return cljs.core.cons(function() {
            var G__9641 = idx;
            var G__9642 = cljs.core.first(s);
            return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9641, G__9642) : f.call(null, G__9641, G__9642);
          }(), cljs$core$mapi(idx + 1, cljs.core.rest(s)));
        }
      } else {
        return null;
      }
    }, null, null);
  };
  return mapi(0, coll);
};
cljs.core.map_indexed.cljs$lang$maxFixedArity = 2;
cljs.core.keep = function cljs$core$keep(var_args) {
  var args9651 = [];
  var len__7214__auto___9656 = arguments.length;
  var i__7215__auto___9657 = 0;
  while (true) {
    if (i__7215__auto___9657 < len__7214__auto___9656) {
      args9651.push(arguments[i__7215__auto___9657]);
      var G__9658 = i__7215__auto___9657 + 1;
      i__7215__auto___9657 = G__9658;
      continue;
    } else {
    }
    break;
  }
  var G__9653 = args9651.length;
  switch(G__9653) {
    case 1:
      return cljs.core.keep.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.keep.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9651.length)].join(""));;
  }
};
cljs.core.keep.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function(rf) {
    return function() {
      var G__9660 = null;
      var G__9660__0 = function() {
        return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
      };
      var G__9660__1 = function(result) {
        return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
      };
      var G__9660__2 = function(result, input) {
        var v = f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(input) : f.call(null, input);
        if (v == null) {
          return result;
        } else {
          return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v);
        }
      };
      G__9660 = function(result, input) {
        switch(arguments.length) {
          case 0:
            return G__9660__0.call(this);
          case 1:
            return G__9660__1.call(this, result);
          case 2:
            return G__9660__2.call(this, result, input);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__9660.cljs$core$IFn$_invoke$arity$0 = G__9660__0;
      G__9660.cljs$core$IFn$_invoke$arity$1 = G__9660__1;
      G__9660.cljs$core$IFn$_invoke$arity$2 = G__9660__2;
      return G__9660;
    }();
  };
};
cljs.core.keep.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      if (cljs.core.chunked_seq_QMARK_(s)) {
        var c = cljs.core.chunk_first(s);
        var size = cljs.core.count(c);
        var b = cljs.core.chunk_buffer(size);
        var n__7059__auto___9661 = size;
        var i_9662 = 0;
        while (true) {
          if (i_9662 < n__7059__auto___9661) {
            var x_9663 = function() {
              var G__9654 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9662);
              return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9654) : f.call(null, G__9654);
            }();
            if (x_9663 == null) {
            } else {
              cljs.core.chunk_append(b, x_9663);
            }
            var G__9664 = i_9662 + 1;
            i_9662 = G__9664;
            continue;
          } else {
          }
          break;
        }
        return cljs.core.chunk_cons(cljs.core.chunk(b), cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f, cljs.core.chunk_rest(s)));
      } else {
        var x = function() {
          var G__9655 = cljs.core.first(s);
          return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9655) : f.call(null, G__9655);
        }();
        if (x == null) {
          return cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f, cljs.core.rest(s));
        } else {
          return cljs.core.cons(x, cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f, cljs.core.rest(s)));
        }
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.keep.cljs$lang$maxFixedArity = 2;
cljs.core.Atom = function(state, meta, validator, watches) {
  this.state = state;
  this.meta = meta;
  this.validator = validator;
  this.watches = watches;
  this.cljs$lang$protocol_mask$partition1$ = 16386;
  this.cljs$lang$protocol_mask$partition0$ = 6455296;
};
cljs.core.Atom.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Atom.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(o, other) {
  var self__ = this;
  var o__$1 = this;
  return o__$1 === other;
};
cljs.core.Atom.prototype.cljs$core$IDeref$_deref$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.state;
};
cljs.core.Atom.prototype.cljs$core$IMeta$_meta$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.meta;
};
cljs.core.Atom.prototype.cljs$core$IWatchable$_notify_watches$arity$3 = function(this$, oldval, newval) {
  var self__ = this;
  var this$__$1 = this;
  var seq__9665 = cljs.core.seq(self__.watches);
  var chunk__9666 = null;
  var count__9667 = 0;
  var i__9668 = 0;
  while (true) {
    if (i__9668 < count__9667) {
      var vec__9669 = chunk__9666.cljs$core$IIndexed$_nth$arity$2(null, i__9668);
      var key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9669, 0, null);
      var f = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9669, 1, null);
      f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(key, this$__$1, oldval, newval) : f.call(null, key, this$__$1, oldval, newval);
      var G__9671 = seq__9665;
      var G__9672 = chunk__9666;
      var G__9673 = count__9667;
      var G__9674 = i__9668 + 1;
      seq__9665 = G__9671;
      chunk__9666 = G__9672;
      count__9667 = G__9673;
      i__9668 = G__9674;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__9665);
      if (temp__4657__auto__) {
        var seq__9665__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__9665__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__9665__$1);
          var G__9675 = cljs.core.chunk_rest(seq__9665__$1);
          var G__9676 = c__6959__auto__;
          var G__9677 = cljs.core.count(c__6959__auto__);
          var G__9678 = 0;
          seq__9665 = G__9675;
          chunk__9666 = G__9676;
          count__9667 = G__9677;
          i__9668 = G__9678;
          continue;
        } else {
          var vec__9670 = cljs.core.first(seq__9665__$1);
          var key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9670, 0, null);
          var f = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9670, 1, null);
          f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(key, this$__$1, oldval, newval) : f.call(null, key, this$__$1, oldval, newval);
          var G__9679 = cljs.core.next(seq__9665__$1);
          var G__9680 = null;
          var G__9681 = 0;
          var G__9682 = 0;
          seq__9665 = G__9679;
          chunk__9666 = G__9680;
          count__9667 = G__9681;
          i__9668 = G__9682;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.Atom.prototype.cljs$core$IWatchable$_add_watch$arity$3 = function(this$, key, f) {
  var self__ = this;
  var this$__$1 = this;
  this$__$1.watches = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.watches, key, f);
  return this$__$1;
};
cljs.core.Atom.prototype.cljs$core$IWatchable$_remove_watch$arity$2 = function(this$, key) {
  var self__ = this;
  var this$__$1 = this;
  return this$__$1.watches = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.watches, key);
};
cljs.core.Atom.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return goog.getUid(this$__$1);
};
cljs.core.Atom.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "state", "state", -348086572, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "validator", "validator", -325659154, null), new cljs.core.Symbol(null, "watches", "watches", 1367433992, null)], null);
};
cljs.core.Atom.cljs$lang$type = true;
cljs.core.Atom.cljs$lang$ctorStr = "cljs.core/Atom";
cljs.core.Atom.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Atom");
};
cljs.core.__GT_Atom = function cljs$core$__GT_Atom(state, meta, validator, watches) {
  return new cljs.core.Atom(state, meta, validator, watches);
};
cljs.core.atom = function cljs$core$atom(var_args) {
  var args9683 = [];
  var len__7214__auto___9691 = arguments.length;
  var i__7215__auto___9692 = 0;
  while (true) {
    if (i__7215__auto___9692 < len__7214__auto___9691) {
      args9683.push(arguments[i__7215__auto___9692]);
      var G__9693 = i__7215__auto___9692 + 1;
      i__7215__auto___9692 = G__9693;
      continue;
    } else {
    }
    break;
  }
  var G__9687 = args9683.length;
  switch(G__9687) {
    case 1:
      return cljs.core.atom.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9683.slice(1), 0);
      return cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7233__auto__);
  }
};
cljs.core.atom.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return new cljs.core.Atom(x, null, null, null);
};
cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic = function(x, p__9688) {
  var map__9689 = p__9688;
  var map__9689__$1 = (!(map__9689 == null) ? map__9689.cljs$lang$protocol_mask$partition0$ & 64 || map__9689.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map, map__9689) : map__9689;
  var meta = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__9689__$1, new cljs.core.Keyword(null, "meta", "meta", 1499536964));
  var validator = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__9689__$1, new cljs.core.Keyword(null, "validator", "validator", -1966190681));
  return new cljs.core.Atom(x, meta, validator, null);
};
cljs.core.atom.cljs$lang$applyTo = function(seq9684) {
  var G__9685 = cljs.core.first(seq9684);
  var seq9684__$1 = cljs.core.next(seq9684);
  return cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(G__9685, seq9684__$1);
};
cljs.core.atom.cljs$lang$maxFixedArity = 1;
cljs.core.reset_BANG_ = function cljs$core$reset_BANG_(a, new_value) {
  if (a instanceof cljs.core.Atom) {
    var validate = a.validator;
    if (validate == null) {
    } else {
      if (cljs.core.truth_(validate.cljs$core$IFn$_invoke$arity$1 ? validate.cljs$core$IFn$_invoke$arity$1(new_value) : validate.call(null, new_value))) {
      } else {
        throw new Error([cljs.core.str("Assert failed: "), cljs.core.str("Validator rejected reference state"), cljs.core.str("\n"), cljs.core.str(function() {
          var G__9696 = cljs.core.list(new cljs.core.Symbol(null, "validate", "validate", 1439230700, null), new cljs.core.Symbol(null, "new-value", "new-value", -1567397401, null));
          return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9696) : cljs.core.pr_str.call(null, G__9696);
        }())].join(""));
      }
    }
    var old_value = a.state;
    a.state = new_value;
    if (a.watches == null) {
    } else {
      cljs.core._notify_watches(a, old_value, new_value);
    }
    return new_value;
  } else {
    return cljs.core._reset_BANG_(a, new_value);
  }
};
cljs.core.swap_BANG_ = function cljs$core$swap_BANG_(var_args) {
  var args9697 = [];
  var len__7214__auto___9711 = arguments.length;
  var i__7215__auto___9712 = 0;
  while (true) {
    if (i__7215__auto___9712 < len__7214__auto___9711) {
      args9697.push(arguments[i__7215__auto___9712]);
      var G__9713 = i__7215__auto___9712 + 1;
      i__7215__auto___9712 = G__9713;
      continue;
    } else {
    }
    break;
  }
  var G__9704 = args9697.length;
  switch(G__9704) {
    case 2:
      return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9697.slice(4), 0);
      return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], argseq__7233__auto__);
  }
};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2 = function(a, f) {
  if (a instanceof cljs.core.Atom) {
    return cljs.core.reset_BANG_(a, function() {
      var G__9705 = a.state;
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9705) : f.call(null, G__9705);
    }());
  } else {
    return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(a, f);
  }
};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3 = function(a, f, x) {
  if (a instanceof cljs.core.Atom) {
    return cljs.core.reset_BANG_(a, function() {
      var G__9706 = a.state;
      var G__9707 = x;
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9706, G__9707) : f.call(null, G__9706, G__9707);
    }());
  } else {
    return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(a, f, x);
  }
};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4 = function(a, f, x, y) {
  if (a instanceof cljs.core.Atom) {
    return cljs.core.reset_BANG_(a, function() {
      var G__9708 = a.state;
      var G__9709 = x;
      var G__9710 = y;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9708, G__9709, G__9710) : f.call(null, G__9708, G__9709, G__9710);
    }());
  } else {
    return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(a, f, x, y);
  }
};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(a, f, x, y, more) {
  if (a instanceof cljs.core.Atom) {
    return cljs.core.reset_BANG_(a, cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, a.state, x, y, more));
  } else {
    return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(a, f, x, y, more);
  }
};
cljs.core.swap_BANG_.cljs$lang$applyTo = function(seq9698) {
  var G__9699 = cljs.core.first(seq9698);
  var seq9698__$1 = cljs.core.next(seq9698);
  var G__9700 = cljs.core.first(seq9698__$1);
  var seq9698__$2 = cljs.core.next(seq9698__$1);
  var G__9701 = cljs.core.first(seq9698__$2);
  var seq9698__$3 = cljs.core.next(seq9698__$2);
  var G__9702 = cljs.core.first(seq9698__$3);
  var seq9698__$4 = cljs.core.next(seq9698__$3);
  return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9699, G__9700, G__9701, G__9702, seq9698__$4);
};
cljs.core.swap_BANG_.cljs$lang$maxFixedArity = 4;
cljs.core.compare_and_set_BANG_ = function cljs$core$compare_and_set_BANG_(a, oldval, newval) {
  if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(a.cljs$core$IDeref$_deref$arity$1(null), oldval)) {
    cljs.core.reset_BANG_(a, newval);
    return true;
  } else {
    return false;
  }
};
cljs.core.set_validator_BANG_ = function cljs$core$set_validator_BANG_(iref, val) {
  return iref.validator = val;
};
cljs.core.get_validator = function cljs$core$get_validator(iref) {
  return iref.validator;
};
cljs.core.Volatile = function(state) {
  this.state = state;
  this.cljs$lang$protocol_mask$partition0$ = 32768;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.Volatile.prototype.cljs$core$IVolatile$ = true;
cljs.core.Volatile.prototype.cljs$core$IVolatile$_vreset_BANG_$arity$2 = function(_, new_state) {
  var self__ = this;
  var ___$1 = this;
  return self__.state = new_state;
};
cljs.core.Volatile.prototype.cljs$core$IDeref$_deref$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return self__.state;
};
cljs.core.Volatile.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "state", "state", -348086572, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.Volatile.cljs$lang$type = true;
cljs.core.Volatile.cljs$lang$ctorStr = "cljs.core/Volatile";
cljs.core.Volatile.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Volatile");
};
cljs.core.__GT_Volatile = function cljs$core$__GT_Volatile(state) {
  return new cljs.core.Volatile(state);
};
cljs.core.volatile_BANG_ = function cljs$core$volatile_BANG_(val) {
  return new cljs.core.Volatile(val);
};
cljs.core.volatile_QMARK_ = function cljs$core$volatile_QMARK_(x) {
  return x instanceof cljs.core.Volatile;
};
cljs.core.vreset_BANG_ = function cljs$core$vreset_BANG_(vol, newval) {
  return cljs.core._vreset_BANG_(vol, newval);
};
cljs.core.keep_indexed = function cljs$core$keep_indexed(var_args) {
  var args9715 = [];
  var len__7214__auto___9746 = arguments.length;
  var i__7215__auto___9747 = 0;
  while (true) {
    if (i__7215__auto___9747 < len__7214__auto___9746) {
      args9715.push(arguments[i__7215__auto___9747]);
      var G__9748 = i__7215__auto___9747 + 1;
      i__7215__auto___9747 = G__9748;
      continue;
    } else {
    }
    break;
  }
  var G__9717 = args9715.length;
  switch(G__9717) {
    case 1:
      return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9715.length)].join(""));;
  }
};
cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function(rf) {
    var ia = cljs.core.volatile_BANG_(-1);
    return function(ia) {
      return function() {
        var G__9750 = null;
        var G__9750__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9750__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9750__2 = function(result, input) {
          var i = cljs.core._vreset_BANG_(ia, cljs.core._deref(ia) + 1);
          var v = f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(i, input) : f.call(null, i, input);
          if (v == null) {
            return result;
          } else {
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v);
          }
        };
        G__9750 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9750__0.call(this);
            case 1:
              return G__9750__1.call(this, result);
            case 2:
              return G__9750__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9750.cljs$core$IFn$_invoke$arity$0 = G__9750__0;
        G__9750.cljs$core$IFn$_invoke$arity$1 = G__9750__1;
        G__9750.cljs$core$IFn$_invoke$arity$2 = G__9750__2;
        return G__9750;
      }();
    }(ia);
  };
};
cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  var keepi = function cljs$core$keepi(idx, coll__$1) {
    return new cljs.core.LazySeq(null, function() {
      var temp__4657__auto__ = cljs.core.seq(coll__$1);
      if (temp__4657__auto__) {
        var s = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(s)) {
          var c = cljs.core.chunk_first(s);
          var size = cljs.core.count(c);
          var b = cljs.core.chunk_buffer(size);
          var n__7059__auto___9751 = size;
          var i_9752 = 0;
          while (true) {
            if (i_9752 < n__7059__auto___9751) {
              var x_9753 = function() {
                var G__9742 = idx + i_9752;
                var G__9743 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9752);
                return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9742, G__9743) : f.call(null, G__9742, G__9743);
              }();
              if (x_9753 == null) {
              } else {
                cljs.core.chunk_append(b, x_9753);
              }
              var G__9754 = i_9752 + 1;
              i_9752 = G__9754;
              continue;
            } else {
            }
            break;
          }
          return cljs.core.chunk_cons(cljs.core.chunk(b), cljs$core$keepi(idx + size, cljs.core.chunk_rest(s)));
        } else {
          var x = function() {
            var G__9744 = idx;
            var G__9745 = cljs.core.first(s);
            return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9744, G__9745) : f.call(null, G__9744, G__9745);
          }();
          if (x == null) {
            return cljs$core$keepi(idx + 1, cljs.core.rest(s));
          } else {
            return cljs.core.cons(x, cljs$core$keepi(idx + 1, cljs.core.rest(s)));
          }
        }
      } else {
        return null;
      }
    }, null, null);
  };
  return keepi(0, coll);
};
cljs.core.keep_indexed.cljs$lang$maxFixedArity = 2;
cljs.core.every_pred = function cljs$core$every_pred(var_args) {
  var args9761 = [];
  var len__7214__auto___9768 = arguments.length;
  var i__7215__auto___9769 = 0;
  while (true) {
    if (i__7215__auto___9769 < len__7214__auto___9768) {
      args9761.push(arguments[i__7215__auto___9769]);
      var G__9770 = i__7215__auto___9769 + 1;
      i__7215__auto___9769 = G__9770;
      continue;
    } else {
    }
    break;
  }
  var G__9767 = args9761.length;
  switch(G__9767) {
    case 1:
      return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9761.slice(3), 0);
      return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1 = function(p) {
  return function() {
    var cljs$core$ep1 = null;
    var cljs$core$ep1__0 = function() {
      return true;
    };
    var cljs$core$ep1__1 = function(x) {
      return cljs.core.boolean$(p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x));
    };
    var cljs$core$ep1__2 = function(x, y) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          return p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(y) : p.call(null, y);
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep1__3 = function(x, y, z) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(y) : p.call(null, y);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            return p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(z) : p.call(null, z);
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep1__4 = function() {
      var G__9772__delegate = function(x, y, z, args) {
        return cljs.core.boolean$(function() {
          var and__6144__auto__ = cljs$core$ep1.cljs$core$IFn$_invoke$arity$3(x, y, z);
          if (cljs.core.truth_(and__6144__auto__)) {
            return cljs.core.every_QMARK_(p, args);
          } else {
            return and__6144__auto__;
          }
        }());
      };
      var G__9772 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9773__i = 0, G__9773__a = new Array(arguments.length - 3);
          while (G__9773__i < G__9773__a.length) {
            G__9773__a[G__9773__i] = arguments[G__9773__i + 3];
            ++G__9773__i;
          }
          args = new cljs.core.IndexedSeq(G__9773__a, 0);
        }
        return G__9772__delegate.call(this, x, y, z, args);
      };
      G__9772.cljs$lang$maxFixedArity = 3;
      G__9772.cljs$lang$applyTo = function(arglist__9774) {
        var x = cljs.core.first(arglist__9774);
        arglist__9774 = cljs.core.next(arglist__9774);
        var y = cljs.core.first(arglist__9774);
        arglist__9774 = cljs.core.next(arglist__9774);
        var z = cljs.core.first(arglist__9774);
        var args = cljs.core.rest(arglist__9774);
        return G__9772__delegate(x, y, z, args);
      };
      G__9772.cljs$core$IFn$_invoke$arity$variadic = G__9772__delegate;
      return G__9772;
    }();
    cljs$core$ep1 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$ep1__0.call(this);
        case 1:
          return cljs$core$ep1__1.call(this, x);
        case 2:
          return cljs$core$ep1__2.call(this, x, y);
        case 3:
          return cljs$core$ep1__3.call(this, x, y, z);
        default:
          var G__9775 = null;
          if (arguments.length > 3) {
            var G__9776__i = 0, G__9776__a = new Array(arguments.length - 3);
            while (G__9776__i < G__9776__a.length) {
              G__9776__a[G__9776__i] = arguments[G__9776__i + 3];
              ++G__9776__i;
            }
            G__9775 = new cljs.core.IndexedSeq(G__9776__a, 0);
          }
          return cljs$core$ep1__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9775);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$ep1.cljs$lang$maxFixedArity = 3;
    cljs$core$ep1.cljs$lang$applyTo = cljs$core$ep1__4.cljs$lang$applyTo;
    cljs$core$ep1.cljs$core$IFn$_invoke$arity$0 = cljs$core$ep1__0;
    cljs$core$ep1.cljs$core$IFn$_invoke$arity$1 = cljs$core$ep1__1;
    cljs$core$ep1.cljs$core$IFn$_invoke$arity$2 = cljs$core$ep1__2;
    cljs$core$ep1.cljs$core$IFn$_invoke$arity$3 = cljs$core$ep1__3;
    cljs$core$ep1.cljs$core$IFn$_invoke$arity$variadic = cljs$core$ep1__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$ep1;
  }();
};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2 = function(p1, p2) {
  return function() {
    var cljs$core$ep2 = null;
    var cljs$core$ep2__0 = function() {
      return true;
    };
    var cljs$core$ep2__1 = function(x) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep2__2 = function(x, y) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            var and__6144__auto____$2 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
            if (cljs.core.truth_(and__6144__auto____$2)) {
              return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
            } else {
              return and__6144__auto____$2;
            }
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep2__3 = function(x, y, z) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            var and__6144__auto____$2 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(z) : p1.call(null, z);
            if (cljs.core.truth_(and__6144__auto____$2)) {
              var and__6144__auto____$3 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
              if (cljs.core.truth_(and__6144__auto____$3)) {
                var and__6144__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
                if (cljs.core.truth_(and__6144__auto____$4)) {
                  return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(z) : p2.call(null, z);
                } else {
                  return and__6144__auto____$4;
                }
              } else {
                return and__6144__auto____$3;
              }
            } else {
              return and__6144__auto____$2;
            }
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep2__4 = function() {
      var G__9777__delegate = function(x, y, z, args) {
        return cljs.core.boolean$(function() {
          var and__6144__auto__ = cljs$core$ep2.cljs$core$IFn$_invoke$arity$3(x, y, z);
          if (cljs.core.truth_(and__6144__auto__)) {
            return cljs.core.every_QMARK_(function(and__6144__auto__) {
              return function(p1__9755_SHARP_) {
                var and__6144__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(p1__9755_SHARP_) : p1.call(null, p1__9755_SHARP_);
                if (cljs.core.truth_(and__6144__auto____$1)) {
                  return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(p1__9755_SHARP_) : p2.call(null, p1__9755_SHARP_);
                } else {
                  return and__6144__auto____$1;
                }
              };
            }(and__6144__auto__), args);
          } else {
            return and__6144__auto__;
          }
        }());
      };
      var G__9777 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9778__i = 0, G__9778__a = new Array(arguments.length - 3);
          while (G__9778__i < G__9778__a.length) {
            G__9778__a[G__9778__i] = arguments[G__9778__i + 3];
            ++G__9778__i;
          }
          args = new cljs.core.IndexedSeq(G__9778__a, 0);
        }
        return G__9777__delegate.call(this, x, y, z, args);
      };
      G__9777.cljs$lang$maxFixedArity = 3;
      G__9777.cljs$lang$applyTo = function(arglist__9779) {
        var x = cljs.core.first(arglist__9779);
        arglist__9779 = cljs.core.next(arglist__9779);
        var y = cljs.core.first(arglist__9779);
        arglist__9779 = cljs.core.next(arglist__9779);
        var z = cljs.core.first(arglist__9779);
        var args = cljs.core.rest(arglist__9779);
        return G__9777__delegate(x, y, z, args);
      };
      G__9777.cljs$core$IFn$_invoke$arity$variadic = G__9777__delegate;
      return G__9777;
    }();
    cljs$core$ep2 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$ep2__0.call(this);
        case 1:
          return cljs$core$ep2__1.call(this, x);
        case 2:
          return cljs$core$ep2__2.call(this, x, y);
        case 3:
          return cljs$core$ep2__3.call(this, x, y, z);
        default:
          var G__9780 = null;
          if (arguments.length > 3) {
            var G__9781__i = 0, G__9781__a = new Array(arguments.length - 3);
            while (G__9781__i < G__9781__a.length) {
              G__9781__a[G__9781__i] = arguments[G__9781__i + 3];
              ++G__9781__i;
            }
            G__9780 = new cljs.core.IndexedSeq(G__9781__a, 0);
          }
          return cljs$core$ep2__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9780);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$ep2.cljs$lang$maxFixedArity = 3;
    cljs$core$ep2.cljs$lang$applyTo = cljs$core$ep2__4.cljs$lang$applyTo;
    cljs$core$ep2.cljs$core$IFn$_invoke$arity$0 = cljs$core$ep2__0;
    cljs$core$ep2.cljs$core$IFn$_invoke$arity$1 = cljs$core$ep2__1;
    cljs$core$ep2.cljs$core$IFn$_invoke$arity$2 = cljs$core$ep2__2;
    cljs$core$ep2.cljs$core$IFn$_invoke$arity$3 = cljs$core$ep2__3;
    cljs$core$ep2.cljs$core$IFn$_invoke$arity$variadic = cljs$core$ep2__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$ep2;
  }();
};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3 = function(p1, p2, p3) {
  return function() {
    var cljs$core$ep3 = null;
    var cljs$core$ep3__0 = function() {
      return true;
    };
    var cljs$core$ep3__1 = function(x) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep3__2 = function(x, y) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            var and__6144__auto____$2 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
            if (cljs.core.truth_(and__6144__auto____$2)) {
              var and__6144__auto____$3 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
              if (cljs.core.truth_(and__6144__auto____$3)) {
                var and__6144__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
                if (cljs.core.truth_(and__6144__auto____$4)) {
                  return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(y) : p3.call(null, y);
                } else {
                  return and__6144__auto____$4;
                }
              } else {
                return and__6144__auto____$3;
              }
            } else {
              return and__6144__auto____$2;
            }
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep3__3 = function(x, y, z) {
      return cljs.core.boolean$(function() {
        var and__6144__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
          if (cljs.core.truth_(and__6144__auto____$1)) {
            var and__6144__auto____$2 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
            if (cljs.core.truth_(and__6144__auto____$2)) {
              var and__6144__auto____$3 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
              if (cljs.core.truth_(and__6144__auto____$3)) {
                var and__6144__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
                if (cljs.core.truth_(and__6144__auto____$4)) {
                  var and__6144__auto____$5 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(y) : p3.call(null, y);
                  if (cljs.core.truth_(and__6144__auto____$5)) {
                    var and__6144__auto____$6 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(z) : p1.call(null, z);
                    if (cljs.core.truth_(and__6144__auto____$6)) {
                      var and__6144__auto____$7 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(z) : p2.call(null, z);
                      if (cljs.core.truth_(and__6144__auto____$7)) {
                        return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(z) : p3.call(null, z);
                      } else {
                        return and__6144__auto____$7;
                      }
                    } else {
                      return and__6144__auto____$6;
                    }
                  } else {
                    return and__6144__auto____$5;
                  }
                } else {
                  return and__6144__auto____$4;
                }
              } else {
                return and__6144__auto____$3;
              }
            } else {
              return and__6144__auto____$2;
            }
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }());
    };
    var cljs$core$ep3__4 = function() {
      var G__9782__delegate = function(x, y, z, args) {
        return cljs.core.boolean$(function() {
          var and__6144__auto__ = cljs$core$ep3.cljs$core$IFn$_invoke$arity$3(x, y, z);
          if (cljs.core.truth_(and__6144__auto__)) {
            return cljs.core.every_QMARK_(function(and__6144__auto__) {
              return function(p1__9756_SHARP_) {
                var and__6144__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(p1__9756_SHARP_) : p1.call(null, p1__9756_SHARP_);
                if (cljs.core.truth_(and__6144__auto____$1)) {
                  var and__6144__auto____$2 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(p1__9756_SHARP_) : p2.call(null, p1__9756_SHARP_);
                  if (cljs.core.truth_(and__6144__auto____$2)) {
                    return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(p1__9756_SHARP_) : p3.call(null, p1__9756_SHARP_);
                  } else {
                    return and__6144__auto____$2;
                  }
                } else {
                  return and__6144__auto____$1;
                }
              };
            }(and__6144__auto__), args);
          } else {
            return and__6144__auto__;
          }
        }());
      };
      var G__9782 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9783__i = 0, G__9783__a = new Array(arguments.length - 3);
          while (G__9783__i < G__9783__a.length) {
            G__9783__a[G__9783__i] = arguments[G__9783__i + 3];
            ++G__9783__i;
          }
          args = new cljs.core.IndexedSeq(G__9783__a, 0);
        }
        return G__9782__delegate.call(this, x, y, z, args);
      };
      G__9782.cljs$lang$maxFixedArity = 3;
      G__9782.cljs$lang$applyTo = function(arglist__9784) {
        var x = cljs.core.first(arglist__9784);
        arglist__9784 = cljs.core.next(arglist__9784);
        var y = cljs.core.first(arglist__9784);
        arglist__9784 = cljs.core.next(arglist__9784);
        var z = cljs.core.first(arglist__9784);
        var args = cljs.core.rest(arglist__9784);
        return G__9782__delegate(x, y, z, args);
      };
      G__9782.cljs$core$IFn$_invoke$arity$variadic = G__9782__delegate;
      return G__9782;
    }();
    cljs$core$ep3 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$ep3__0.call(this);
        case 1:
          return cljs$core$ep3__1.call(this, x);
        case 2:
          return cljs$core$ep3__2.call(this, x, y);
        case 3:
          return cljs$core$ep3__3.call(this, x, y, z);
        default:
          var G__9785 = null;
          if (arguments.length > 3) {
            var G__9786__i = 0, G__9786__a = new Array(arguments.length - 3);
            while (G__9786__i < G__9786__a.length) {
              G__9786__a[G__9786__i] = arguments[G__9786__i + 3];
              ++G__9786__i;
            }
            G__9785 = new cljs.core.IndexedSeq(G__9786__a, 0);
          }
          return cljs$core$ep3__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9785);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$ep3.cljs$lang$maxFixedArity = 3;
    cljs$core$ep3.cljs$lang$applyTo = cljs$core$ep3__4.cljs$lang$applyTo;
    cljs$core$ep3.cljs$core$IFn$_invoke$arity$0 = cljs$core$ep3__0;
    cljs$core$ep3.cljs$core$IFn$_invoke$arity$1 = cljs$core$ep3__1;
    cljs$core$ep3.cljs$core$IFn$_invoke$arity$2 = cljs$core$ep3__2;
    cljs$core$ep3.cljs$core$IFn$_invoke$arity$3 = cljs$core$ep3__3;
    cljs$core$ep3.cljs$core$IFn$_invoke$arity$variadic = cljs$core$ep3__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$ep3;
  }();
};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic = function(p1, p2, p3, ps) {
  var ps__$1 = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(p1, p2, p3, ps);
  return function(ps__$1) {
    return function() {
      var cljs$core$epn = null;
      var cljs$core$epn__0 = function() {
        return true;
      };
      var cljs$core$epn__1 = function(x) {
        return cljs.core.every_QMARK_(function(ps__$1) {
          return function(p1__9757_SHARP_) {
            return p1__9757_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9757_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9757_SHARP_.call(null, x);
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$epn__2 = function(x, y) {
        return cljs.core.every_QMARK_(function(ps__$1) {
          return function(p1__9758_SHARP_) {
            var and__6144__auto__ = p1__9758_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9758_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9758_SHARP_.call(null, x);
            if (cljs.core.truth_(and__6144__auto__)) {
              return p1__9758_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9758_SHARP_.cljs$core$IFn$_invoke$arity$1(y) : p1__9758_SHARP_.call(null, y);
            } else {
              return and__6144__auto__;
            }
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$epn__3 = function(x, y, z) {
        return cljs.core.every_QMARK_(function(ps__$1) {
          return function(p1__9759_SHARP_) {
            var and__6144__auto__ = p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9759_SHARP_.call(null, x);
            if (cljs.core.truth_(and__6144__auto__)) {
              var and__6144__auto____$1 = p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1(y) : p1__9759_SHARP_.call(null, y);
              if (cljs.core.truth_(and__6144__auto____$1)) {
                return p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9759_SHARP_.cljs$core$IFn$_invoke$arity$1(z) : p1__9759_SHARP_.call(null, z);
              } else {
                return and__6144__auto____$1;
              }
            } else {
              return and__6144__auto__;
            }
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$epn__4 = function() {
        var G__9787__delegate = function(x, y, z, args) {
          return cljs.core.boolean$(function() {
            var and__6144__auto__ = cljs$core$epn.cljs$core$IFn$_invoke$arity$3(x, y, z);
            if (cljs.core.truth_(and__6144__auto__)) {
              return cljs.core.every_QMARK_(function(and__6144__auto__, ps__$1) {
                return function(p1__9760_SHARP_) {
                  return cljs.core.every_QMARK_(p1__9760_SHARP_, args);
                };
              }(and__6144__auto__, ps__$1), ps__$1);
            } else {
              return and__6144__auto__;
            }
          }());
        };
        var G__9787 = function(x, y, z, var_args) {
          var args = null;
          if (arguments.length > 3) {
            var G__9788__i = 0, G__9788__a = new Array(arguments.length - 3);
            while (G__9788__i < G__9788__a.length) {
              G__9788__a[G__9788__i] = arguments[G__9788__i + 3];
              ++G__9788__i;
            }
            args = new cljs.core.IndexedSeq(G__9788__a, 0);
          }
          return G__9787__delegate.call(this, x, y, z, args);
        };
        G__9787.cljs$lang$maxFixedArity = 3;
        G__9787.cljs$lang$applyTo = function(arglist__9789) {
          var x = cljs.core.first(arglist__9789);
          arglist__9789 = cljs.core.next(arglist__9789);
          var y = cljs.core.first(arglist__9789);
          arglist__9789 = cljs.core.next(arglist__9789);
          var z = cljs.core.first(arglist__9789);
          var args = cljs.core.rest(arglist__9789);
          return G__9787__delegate(x, y, z, args);
        };
        G__9787.cljs$core$IFn$_invoke$arity$variadic = G__9787__delegate;
        return G__9787;
      }();
      cljs$core$epn = function(x, y, z, var_args) {
        var args = var_args;
        switch(arguments.length) {
          case 0:
            return cljs$core$epn__0.call(this);
          case 1:
            return cljs$core$epn__1.call(this, x);
          case 2:
            return cljs$core$epn__2.call(this, x, y);
          case 3:
            return cljs$core$epn__3.call(this, x, y, z);
          default:
            var G__9790 = null;
            if (arguments.length > 3) {
              var G__9791__i = 0, G__9791__a = new Array(arguments.length - 3);
              while (G__9791__i < G__9791__a.length) {
                G__9791__a[G__9791__i] = arguments[G__9791__i + 3];
                ++G__9791__i;
              }
              G__9790 = new cljs.core.IndexedSeq(G__9791__a, 0);
            }
            return cljs$core$epn__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9790);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      cljs$core$epn.cljs$lang$maxFixedArity = 3;
      cljs$core$epn.cljs$lang$applyTo = cljs$core$epn__4.cljs$lang$applyTo;
      cljs$core$epn.cljs$core$IFn$_invoke$arity$0 = cljs$core$epn__0;
      cljs$core$epn.cljs$core$IFn$_invoke$arity$1 = cljs$core$epn__1;
      cljs$core$epn.cljs$core$IFn$_invoke$arity$2 = cljs$core$epn__2;
      cljs$core$epn.cljs$core$IFn$_invoke$arity$3 = cljs$core$epn__3;
      cljs$core$epn.cljs$core$IFn$_invoke$arity$variadic = cljs$core$epn__4.cljs$core$IFn$_invoke$arity$variadic;
      return cljs$core$epn;
    }();
  }(ps__$1);
};
cljs.core.every_pred.cljs$lang$applyTo = function(seq9762) {
  var G__9763 = cljs.core.first(seq9762);
  var seq9762__$1 = cljs.core.next(seq9762);
  var G__9764 = cljs.core.first(seq9762__$1);
  var seq9762__$2 = cljs.core.next(seq9762__$1);
  var G__9765 = cljs.core.first(seq9762__$2);
  var seq9762__$3 = cljs.core.next(seq9762__$2);
  return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(G__9763, G__9764, G__9765, seq9762__$3);
};
cljs.core.every_pred.cljs$lang$maxFixedArity = 3;
cljs.core.some_fn = function cljs$core$some_fn(var_args) {
  var args9798 = [];
  var len__7214__auto___9805 = arguments.length;
  var i__7215__auto___9806 = 0;
  while (true) {
    if (i__7215__auto___9806 < len__7214__auto___9805) {
      args9798.push(arguments[i__7215__auto___9806]);
      var G__9807 = i__7215__auto___9806 + 1;
      i__7215__auto___9806 = G__9807;
      continue;
    } else {
    }
    break;
  }
  var G__9804 = args9798.length;
  switch(G__9804) {
    case 1:
      return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9798.slice(3), 0);
      return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1 = function(p) {
  return function() {
    var cljs$core$sp1 = null;
    var cljs$core$sp1__0 = function() {
      return null;
    };
    var cljs$core$sp1__1 = function(x) {
      return p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x);
    };
    var cljs$core$sp1__2 = function(x, y) {
      var or__6156__auto__ = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(y) : p.call(null, y);
      }
    };
    var cljs$core$sp1__3 = function(x, y, z) {
      var or__6156__auto__ = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(x) : p.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(y) : p.call(null, y);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          return p.cljs$core$IFn$_invoke$arity$1 ? p.cljs$core$IFn$_invoke$arity$1(z) : p.call(null, z);
        }
      }
    };
    var cljs$core$sp1__4 = function() {
      var G__9809__delegate = function(x, y, z, args) {
        var or__6156__auto__ = cljs$core$sp1.cljs$core$IFn$_invoke$arity$3(x, y, z);
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.some(p, args);
        }
      };
      var G__9809 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9810__i = 0, G__9810__a = new Array(arguments.length - 3);
          while (G__9810__i < G__9810__a.length) {
            G__9810__a[G__9810__i] = arguments[G__9810__i + 3];
            ++G__9810__i;
          }
          args = new cljs.core.IndexedSeq(G__9810__a, 0);
        }
        return G__9809__delegate.call(this, x, y, z, args);
      };
      G__9809.cljs$lang$maxFixedArity = 3;
      G__9809.cljs$lang$applyTo = function(arglist__9811) {
        var x = cljs.core.first(arglist__9811);
        arglist__9811 = cljs.core.next(arglist__9811);
        var y = cljs.core.first(arglist__9811);
        arglist__9811 = cljs.core.next(arglist__9811);
        var z = cljs.core.first(arglist__9811);
        var args = cljs.core.rest(arglist__9811);
        return G__9809__delegate(x, y, z, args);
      };
      G__9809.cljs$core$IFn$_invoke$arity$variadic = G__9809__delegate;
      return G__9809;
    }();
    cljs$core$sp1 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$sp1__0.call(this);
        case 1:
          return cljs$core$sp1__1.call(this, x);
        case 2:
          return cljs$core$sp1__2.call(this, x, y);
        case 3:
          return cljs$core$sp1__3.call(this, x, y, z);
        default:
          var G__9812 = null;
          if (arguments.length > 3) {
            var G__9813__i = 0, G__9813__a = new Array(arguments.length - 3);
            while (G__9813__i < G__9813__a.length) {
              G__9813__a[G__9813__i] = arguments[G__9813__i + 3];
              ++G__9813__i;
            }
            G__9812 = new cljs.core.IndexedSeq(G__9813__a, 0);
          }
          return cljs$core$sp1__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9812);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$sp1.cljs$lang$maxFixedArity = 3;
    cljs$core$sp1.cljs$lang$applyTo = cljs$core$sp1__4.cljs$lang$applyTo;
    cljs$core$sp1.cljs$core$IFn$_invoke$arity$0 = cljs$core$sp1__0;
    cljs$core$sp1.cljs$core$IFn$_invoke$arity$1 = cljs$core$sp1__1;
    cljs$core$sp1.cljs$core$IFn$_invoke$arity$2 = cljs$core$sp1__2;
    cljs$core$sp1.cljs$core$IFn$_invoke$arity$3 = cljs$core$sp1__3;
    cljs$core$sp1.cljs$core$IFn$_invoke$arity$variadic = cljs$core$sp1__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$sp1;
  }();
};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2 = function(p1, p2) {
  return function() {
    var cljs$core$sp2 = null;
    var cljs$core$sp2__0 = function() {
      return null;
    };
    var cljs$core$sp2__1 = function(x) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
      }
    };
    var cljs$core$sp2__2 = function(x, y) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          var or__6156__auto____$2 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
          if (cljs.core.truth_(or__6156__auto____$2)) {
            return or__6156__auto____$2;
          } else {
            return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
          }
        }
      }
    };
    var cljs$core$sp2__3 = function(x, y, z) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          var or__6156__auto____$2 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(z) : p1.call(null, z);
          if (cljs.core.truth_(or__6156__auto____$2)) {
            return or__6156__auto____$2;
          } else {
            var or__6156__auto____$3 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
            if (cljs.core.truth_(or__6156__auto____$3)) {
              return or__6156__auto____$3;
            } else {
              var or__6156__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
              if (cljs.core.truth_(or__6156__auto____$4)) {
                return or__6156__auto____$4;
              } else {
                return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(z) : p2.call(null, z);
              }
            }
          }
        }
      }
    };
    var cljs$core$sp2__4 = function() {
      var G__9814__delegate = function(x, y, z, args) {
        var or__6156__auto__ = cljs$core$sp2.cljs$core$IFn$_invoke$arity$3(x, y, z);
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.some(function(or__6156__auto__) {
            return function(p1__9792_SHARP_) {
              var or__6156__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(p1__9792_SHARP_) : p1.call(null, p1__9792_SHARP_);
              if (cljs.core.truth_(or__6156__auto____$1)) {
                return or__6156__auto____$1;
              } else {
                return p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(p1__9792_SHARP_) : p2.call(null, p1__9792_SHARP_);
              }
            };
          }(or__6156__auto__), args);
        }
      };
      var G__9814 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9815__i = 0, G__9815__a = new Array(arguments.length - 3);
          while (G__9815__i < G__9815__a.length) {
            G__9815__a[G__9815__i] = arguments[G__9815__i + 3];
            ++G__9815__i;
          }
          args = new cljs.core.IndexedSeq(G__9815__a, 0);
        }
        return G__9814__delegate.call(this, x, y, z, args);
      };
      G__9814.cljs$lang$maxFixedArity = 3;
      G__9814.cljs$lang$applyTo = function(arglist__9816) {
        var x = cljs.core.first(arglist__9816);
        arglist__9816 = cljs.core.next(arglist__9816);
        var y = cljs.core.first(arglist__9816);
        arglist__9816 = cljs.core.next(arglist__9816);
        var z = cljs.core.first(arglist__9816);
        var args = cljs.core.rest(arglist__9816);
        return G__9814__delegate(x, y, z, args);
      };
      G__9814.cljs$core$IFn$_invoke$arity$variadic = G__9814__delegate;
      return G__9814;
    }();
    cljs$core$sp2 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$sp2__0.call(this);
        case 1:
          return cljs$core$sp2__1.call(this, x);
        case 2:
          return cljs$core$sp2__2.call(this, x, y);
        case 3:
          return cljs$core$sp2__3.call(this, x, y, z);
        default:
          var G__9817 = null;
          if (arguments.length > 3) {
            var G__9818__i = 0, G__9818__a = new Array(arguments.length - 3);
            while (G__9818__i < G__9818__a.length) {
              G__9818__a[G__9818__i] = arguments[G__9818__i + 3];
              ++G__9818__i;
            }
            G__9817 = new cljs.core.IndexedSeq(G__9818__a, 0);
          }
          return cljs$core$sp2__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9817);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$sp2.cljs$lang$maxFixedArity = 3;
    cljs$core$sp2.cljs$lang$applyTo = cljs$core$sp2__4.cljs$lang$applyTo;
    cljs$core$sp2.cljs$core$IFn$_invoke$arity$0 = cljs$core$sp2__0;
    cljs$core$sp2.cljs$core$IFn$_invoke$arity$1 = cljs$core$sp2__1;
    cljs$core$sp2.cljs$core$IFn$_invoke$arity$2 = cljs$core$sp2__2;
    cljs$core$sp2.cljs$core$IFn$_invoke$arity$3 = cljs$core$sp2__3;
    cljs$core$sp2.cljs$core$IFn$_invoke$arity$variadic = cljs$core$sp2__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$sp2;
  }();
};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3 = function(p1, p2, p3) {
  return function() {
    var cljs$core$sp3 = null;
    var cljs$core$sp3__0 = function() {
      return null;
    };
    var cljs$core$sp3__1 = function(x) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
        }
      }
    };
    var cljs$core$sp3__2 = function(x, y) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          var or__6156__auto____$2 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
          if (cljs.core.truth_(or__6156__auto____$2)) {
            return or__6156__auto____$2;
          } else {
            var or__6156__auto____$3 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
            if (cljs.core.truth_(or__6156__auto____$3)) {
              return or__6156__auto____$3;
            } else {
              var or__6156__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
              if (cljs.core.truth_(or__6156__auto____$4)) {
                return or__6156__auto____$4;
              } else {
                return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(y) : p3.call(null, y);
              }
            }
          }
        }
      }
    };
    var cljs$core$sp3__3 = function(x, y, z) {
      var or__6156__auto__ = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(x) : p1.call(null, x);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(x) : p2.call(null, x);
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          var or__6156__auto____$2 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(x) : p3.call(null, x);
          if (cljs.core.truth_(or__6156__auto____$2)) {
            return or__6156__auto____$2;
          } else {
            var or__6156__auto____$3 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(y) : p1.call(null, y);
            if (cljs.core.truth_(or__6156__auto____$3)) {
              return or__6156__auto____$3;
            } else {
              var or__6156__auto____$4 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(y) : p2.call(null, y);
              if (cljs.core.truth_(or__6156__auto____$4)) {
                return or__6156__auto____$4;
              } else {
                var or__6156__auto____$5 = p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(y) : p3.call(null, y);
                if (cljs.core.truth_(or__6156__auto____$5)) {
                  return or__6156__auto____$5;
                } else {
                  var or__6156__auto____$6 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(z) : p1.call(null, z);
                  if (cljs.core.truth_(or__6156__auto____$6)) {
                    return or__6156__auto____$6;
                  } else {
                    var or__6156__auto____$7 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(z) : p2.call(null, z);
                    if (cljs.core.truth_(or__6156__auto____$7)) {
                      return or__6156__auto____$7;
                    } else {
                      return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(z) : p3.call(null, z);
                    }
                  }
                }
              }
            }
          }
        }
      }
    };
    var cljs$core$sp3__4 = function() {
      var G__9819__delegate = function(x, y, z, args) {
        var or__6156__auto__ = cljs$core$sp3.cljs$core$IFn$_invoke$arity$3(x, y, z);
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.some(function(or__6156__auto__) {
            return function(p1__9793_SHARP_) {
              var or__6156__auto____$1 = p1.cljs$core$IFn$_invoke$arity$1 ? p1.cljs$core$IFn$_invoke$arity$1(p1__9793_SHARP_) : p1.call(null, p1__9793_SHARP_);
              if (cljs.core.truth_(or__6156__auto____$1)) {
                return or__6156__auto____$1;
              } else {
                var or__6156__auto____$2 = p2.cljs$core$IFn$_invoke$arity$1 ? p2.cljs$core$IFn$_invoke$arity$1(p1__9793_SHARP_) : p2.call(null, p1__9793_SHARP_);
                if (cljs.core.truth_(or__6156__auto____$2)) {
                  return or__6156__auto____$2;
                } else {
                  return p3.cljs$core$IFn$_invoke$arity$1 ? p3.cljs$core$IFn$_invoke$arity$1(p1__9793_SHARP_) : p3.call(null, p1__9793_SHARP_);
                }
              }
            };
          }(or__6156__auto__), args);
        }
      };
      var G__9819 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__9820__i = 0, G__9820__a = new Array(arguments.length - 3);
          while (G__9820__i < G__9820__a.length) {
            G__9820__a[G__9820__i] = arguments[G__9820__i + 3];
            ++G__9820__i;
          }
          args = new cljs.core.IndexedSeq(G__9820__a, 0);
        }
        return G__9819__delegate.call(this, x, y, z, args);
      };
      G__9819.cljs$lang$maxFixedArity = 3;
      G__9819.cljs$lang$applyTo = function(arglist__9821) {
        var x = cljs.core.first(arglist__9821);
        arglist__9821 = cljs.core.next(arglist__9821);
        var y = cljs.core.first(arglist__9821);
        arglist__9821 = cljs.core.next(arglist__9821);
        var z = cljs.core.first(arglist__9821);
        var args = cljs.core.rest(arglist__9821);
        return G__9819__delegate(x, y, z, args);
      };
      G__9819.cljs$core$IFn$_invoke$arity$variadic = G__9819__delegate;
      return G__9819;
    }();
    cljs$core$sp3 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return cljs$core$sp3__0.call(this);
        case 1:
          return cljs$core$sp3__1.call(this, x);
        case 2:
          return cljs$core$sp3__2.call(this, x, y);
        case 3:
          return cljs$core$sp3__3.call(this, x, y, z);
        default:
          var G__9822 = null;
          if (arguments.length > 3) {
            var G__9823__i = 0, G__9823__a = new Array(arguments.length - 3);
            while (G__9823__i < G__9823__a.length) {
              G__9823__a[G__9823__i] = arguments[G__9823__i + 3];
              ++G__9823__i;
            }
            G__9822 = new cljs.core.IndexedSeq(G__9823__a, 0);
          }
          return cljs$core$sp3__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9822);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    cljs$core$sp3.cljs$lang$maxFixedArity = 3;
    cljs$core$sp3.cljs$lang$applyTo = cljs$core$sp3__4.cljs$lang$applyTo;
    cljs$core$sp3.cljs$core$IFn$_invoke$arity$0 = cljs$core$sp3__0;
    cljs$core$sp3.cljs$core$IFn$_invoke$arity$1 = cljs$core$sp3__1;
    cljs$core$sp3.cljs$core$IFn$_invoke$arity$2 = cljs$core$sp3__2;
    cljs$core$sp3.cljs$core$IFn$_invoke$arity$3 = cljs$core$sp3__3;
    cljs$core$sp3.cljs$core$IFn$_invoke$arity$variadic = cljs$core$sp3__4.cljs$core$IFn$_invoke$arity$variadic;
    return cljs$core$sp3;
  }();
};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic = function(p1, p2, p3, ps) {
  var ps__$1 = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(p1, p2, p3, ps);
  return function(ps__$1) {
    return function() {
      var cljs$core$spn = null;
      var cljs$core$spn__0 = function() {
        return null;
      };
      var cljs$core$spn__1 = function(x) {
        return cljs.core.some(function(ps__$1) {
          return function(p1__9794_SHARP_) {
            return p1__9794_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9794_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9794_SHARP_.call(null, x);
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$spn__2 = function(x, y) {
        return cljs.core.some(function(ps__$1) {
          return function(p1__9795_SHARP_) {
            var or__6156__auto__ = p1__9795_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9795_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9795_SHARP_.call(null, x);
            if (cljs.core.truth_(or__6156__auto__)) {
              return or__6156__auto__;
            } else {
              return p1__9795_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9795_SHARP_.cljs$core$IFn$_invoke$arity$1(y) : p1__9795_SHARP_.call(null, y);
            }
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$spn__3 = function(x, y, z) {
        return cljs.core.some(function(ps__$1) {
          return function(p1__9796_SHARP_) {
            var or__6156__auto__ = p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p1__9796_SHARP_.call(null, x);
            if (cljs.core.truth_(or__6156__auto__)) {
              return or__6156__auto__;
            } else {
              var or__6156__auto____$1 = p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1(y) : p1__9796_SHARP_.call(null, y);
              if (cljs.core.truth_(or__6156__auto____$1)) {
                return or__6156__auto____$1;
              } else {
                return p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p1__9796_SHARP_.cljs$core$IFn$_invoke$arity$1(z) : p1__9796_SHARP_.call(null, z);
              }
            }
          };
        }(ps__$1), ps__$1);
      };
      var cljs$core$spn__4 = function() {
        var G__9824__delegate = function(x, y, z, args) {
          var or__6156__auto__ = cljs$core$spn.cljs$core$IFn$_invoke$arity$3(x, y, z);
          if (cljs.core.truth_(or__6156__auto__)) {
            return or__6156__auto__;
          } else {
            return cljs.core.some(function(or__6156__auto__, ps__$1) {
              return function(p1__9797_SHARP_) {
                return cljs.core.some(p1__9797_SHARP_, args);
              };
            }(or__6156__auto__, ps__$1), ps__$1);
          }
        };
        var G__9824 = function(x, y, z, var_args) {
          var args = null;
          if (arguments.length > 3) {
            var G__9825__i = 0, G__9825__a = new Array(arguments.length - 3);
            while (G__9825__i < G__9825__a.length) {
              G__9825__a[G__9825__i] = arguments[G__9825__i + 3];
              ++G__9825__i;
            }
            args = new cljs.core.IndexedSeq(G__9825__a, 0);
          }
          return G__9824__delegate.call(this, x, y, z, args);
        };
        G__9824.cljs$lang$maxFixedArity = 3;
        G__9824.cljs$lang$applyTo = function(arglist__9826) {
          var x = cljs.core.first(arglist__9826);
          arglist__9826 = cljs.core.next(arglist__9826);
          var y = cljs.core.first(arglist__9826);
          arglist__9826 = cljs.core.next(arglist__9826);
          var z = cljs.core.first(arglist__9826);
          var args = cljs.core.rest(arglist__9826);
          return G__9824__delegate(x, y, z, args);
        };
        G__9824.cljs$core$IFn$_invoke$arity$variadic = G__9824__delegate;
        return G__9824;
      }();
      cljs$core$spn = function(x, y, z, var_args) {
        var args = var_args;
        switch(arguments.length) {
          case 0:
            return cljs$core$spn__0.call(this);
          case 1:
            return cljs$core$spn__1.call(this, x);
          case 2:
            return cljs$core$spn__2.call(this, x, y);
          case 3:
            return cljs$core$spn__3.call(this, x, y, z);
          default:
            var G__9827 = null;
            if (arguments.length > 3) {
              var G__9828__i = 0, G__9828__a = new Array(arguments.length - 3);
              while (G__9828__i < G__9828__a.length) {
                G__9828__a[G__9828__i] = arguments[G__9828__i + 3];
                ++G__9828__i;
              }
              G__9827 = new cljs.core.IndexedSeq(G__9828__a, 0);
            }
            return cljs$core$spn__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__9827);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      cljs$core$spn.cljs$lang$maxFixedArity = 3;
      cljs$core$spn.cljs$lang$applyTo = cljs$core$spn__4.cljs$lang$applyTo;
      cljs$core$spn.cljs$core$IFn$_invoke$arity$0 = cljs$core$spn__0;
      cljs$core$spn.cljs$core$IFn$_invoke$arity$1 = cljs$core$spn__1;
      cljs$core$spn.cljs$core$IFn$_invoke$arity$2 = cljs$core$spn__2;
      cljs$core$spn.cljs$core$IFn$_invoke$arity$3 = cljs$core$spn__3;
      cljs$core$spn.cljs$core$IFn$_invoke$arity$variadic = cljs$core$spn__4.cljs$core$IFn$_invoke$arity$variadic;
      return cljs$core$spn;
    }();
  }(ps__$1);
};
cljs.core.some_fn.cljs$lang$applyTo = function(seq9799) {
  var G__9800 = cljs.core.first(seq9799);
  var seq9799__$1 = cljs.core.next(seq9799);
  var G__9801 = cljs.core.first(seq9799__$1);
  var seq9799__$2 = cljs.core.next(seq9799__$1);
  var G__9802 = cljs.core.first(seq9799__$2);
  var seq9799__$3 = cljs.core.next(seq9799__$2);
  return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(G__9800, G__9801, G__9802, seq9799__$3);
};
cljs.core.some_fn.cljs$lang$maxFixedArity = 3;
cljs.core.map = function cljs$core$map(var_args) {
  var args9830 = [];
  var len__7214__auto___9850 = arguments.length;
  var i__7215__auto___9851 = 0;
  while (true) {
    if (i__7215__auto___9851 < len__7214__auto___9850) {
      args9830.push(arguments[i__7215__auto___9851]);
      var G__9852 = i__7215__auto___9851 + 1;
      i__7215__auto___9851 = G__9852;
      continue;
    } else {
    }
    break;
  }
  var G__9837 = args9830.length;
  switch(G__9837) {
    case 1:
      return cljs.core.map.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.map.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.map.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.map.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9830.slice(4), 0);
      return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], argseq__7233__auto__);
  }
};
cljs.core.map.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function(rf) {
    return function() {
      var G__9854 = null;
      var G__9854__0 = function() {
        return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
      };
      var G__9854__1 = function(result) {
        return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
      };
      var G__9854__2 = function(result, input) {
        var G__9838 = result;
        var G__9839 = f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(input) : f.call(null, input);
        return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(G__9838, G__9839) : rf.call(null, G__9838, G__9839);
      };
      var G__9854__3 = function() {
        var G__9855__delegate = function(result, input, inputs) {
          var G__9840 = result;
          var G__9841 = cljs.core.apply.cljs$core$IFn$_invoke$arity$3(f, input, inputs);
          return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(G__9840, G__9841) : rf.call(null, G__9840, G__9841);
        };
        var G__9855 = function(result, input, var_args) {
          var inputs = null;
          if (arguments.length > 2) {
            var G__9856__i = 0, G__9856__a = new Array(arguments.length - 2);
            while (G__9856__i < G__9856__a.length) {
              G__9856__a[G__9856__i] = arguments[G__9856__i + 2];
              ++G__9856__i;
            }
            inputs = new cljs.core.IndexedSeq(G__9856__a, 0);
          }
          return G__9855__delegate.call(this, result, input, inputs);
        };
        G__9855.cljs$lang$maxFixedArity = 2;
        G__9855.cljs$lang$applyTo = function(arglist__9857) {
          var result = cljs.core.first(arglist__9857);
          arglist__9857 = cljs.core.next(arglist__9857);
          var input = cljs.core.first(arglist__9857);
          var inputs = cljs.core.rest(arglist__9857);
          return G__9855__delegate(result, input, inputs);
        };
        G__9855.cljs$core$IFn$_invoke$arity$variadic = G__9855__delegate;
        return G__9855;
      }();
      G__9854 = function(result, input, var_args) {
        var inputs = var_args;
        switch(arguments.length) {
          case 0:
            return G__9854__0.call(this);
          case 1:
            return G__9854__1.call(this, result);
          case 2:
            return G__9854__2.call(this, result, input);
          default:
            var G__9858 = null;
            if (arguments.length > 2) {
              var G__9859__i = 0, G__9859__a = new Array(arguments.length - 2);
              while (G__9859__i < G__9859__a.length) {
                G__9859__a[G__9859__i] = arguments[G__9859__i + 2];
                ++G__9859__i;
              }
              G__9858 = new cljs.core.IndexedSeq(G__9859__a, 0);
            }
            return G__9854__3.cljs$core$IFn$_invoke$arity$variadic(result, input, G__9858);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__9854.cljs$lang$maxFixedArity = 2;
      G__9854.cljs$lang$applyTo = G__9854__3.cljs$lang$applyTo;
      G__9854.cljs$core$IFn$_invoke$arity$0 = G__9854__0;
      G__9854.cljs$core$IFn$_invoke$arity$1 = G__9854__1;
      G__9854.cljs$core$IFn$_invoke$arity$2 = G__9854__2;
      G__9854.cljs$core$IFn$_invoke$arity$variadic = G__9854__3.cljs$core$IFn$_invoke$arity$variadic;
      return G__9854;
    }();
  };
};
cljs.core.map.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      if (cljs.core.chunked_seq_QMARK_(s)) {
        var c = cljs.core.chunk_first(s);
        var size = cljs.core.count(c);
        var b = cljs.core.chunk_buffer(size);
        var n__7059__auto___9860 = size;
        var i_9861 = 0;
        while (true) {
          if (i_9861 < n__7059__auto___9860) {
            cljs.core.chunk_append(b, function() {
              var G__9842 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9861);
              return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9842) : f.call(null, G__9842);
            }());
            var G__9862 = i_9861 + 1;
            i_9861 = G__9862;
            continue;
          } else {
          }
          break;
        }
        return cljs.core.chunk_cons(cljs.core.chunk(b), cljs.core.map.cljs$core$IFn$_invoke$arity$2(f, cljs.core.chunk_rest(s)));
      } else {
        return cljs.core.cons(function() {
          var G__9843 = cljs.core.first(s);
          return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__9843) : f.call(null, G__9843);
        }(), cljs.core.map.cljs$core$IFn$_invoke$arity$2(f, cljs.core.rest(s)));
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.map.cljs$core$IFn$_invoke$arity$3 = function(f, c1, c2) {
  return new cljs.core.LazySeq(null, function() {
    var s1 = cljs.core.seq(c1);
    var s2 = cljs.core.seq(c2);
    if (s1 && s2) {
      return cljs.core.cons(function() {
        var G__9844 = cljs.core.first(s1);
        var G__9845 = cljs.core.first(s2);
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__9844, G__9845) : f.call(null, G__9844, G__9845);
      }(), cljs.core.map.cljs$core$IFn$_invoke$arity$3(f, cljs.core.rest(s1), cljs.core.rest(s2)));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.map.cljs$core$IFn$_invoke$arity$4 = function(f, c1, c2, c3) {
  return new cljs.core.LazySeq(null, function() {
    var s1 = cljs.core.seq(c1);
    var s2 = cljs.core.seq(c2);
    var s3 = cljs.core.seq(c3);
    if (s1 && s2 && s3) {
      return cljs.core.cons(function() {
        var G__9846 = cljs.core.first(s1);
        var G__9847 = cljs.core.first(s2);
        var G__9848 = cljs.core.first(s3);
        return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__9846, G__9847, G__9848) : f.call(null, G__9846, G__9847, G__9848);
      }(), cljs.core.map.cljs$core$IFn$_invoke$arity$4(f, cljs.core.rest(s1), cljs.core.rest(s2), cljs.core.rest(s3)));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.map.cljs$core$IFn$_invoke$arity$variadic = function(f, c1, c2, c3, colls) {
  var step = function cljs$core$step(cs) {
    return new cljs.core.LazySeq(null, function() {
      var ss = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq, cs);
      if (cljs.core.every_QMARK_(cljs.core.identity, ss)) {
        return cljs.core.cons(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first, ss), cljs$core$step(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest, ss)));
      } else {
        return null;
      }
    }, null, null);
  };
  return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(step) {
    return function(p1__9829_SHARP_) {
      return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f, p1__9829_SHARP_);
    };
  }(step), step(cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(colls, c3, cljs.core.array_seq([c2, c1], 0))));
};
cljs.core.map.cljs$lang$applyTo = function(seq9831) {
  var G__9832 = cljs.core.first(seq9831);
  var seq9831__$1 = cljs.core.next(seq9831);
  var G__9833 = cljs.core.first(seq9831__$1);
  var seq9831__$2 = cljs.core.next(seq9831__$1);
  var G__9834 = cljs.core.first(seq9831__$2);
  var seq9831__$3 = cljs.core.next(seq9831__$2);
  var G__9835 = cljs.core.first(seq9831__$3);
  var seq9831__$4 = cljs.core.next(seq9831__$3);
  return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(G__9832, G__9833, G__9834, G__9835, seq9831__$4);
};
cljs.core.map.cljs$lang$maxFixedArity = 4;
cljs.core.take = function cljs$core$take(var_args) {
  var args9863 = [];
  var len__7214__auto___9868 = arguments.length;
  var i__7215__auto___9869 = 0;
  while (true) {
    if (i__7215__auto___9869 < len__7214__auto___9868) {
      args9863.push(arguments[i__7215__auto___9869]);
      var G__9870 = i__7215__auto___9869 + 1;
      i__7215__auto___9869 = G__9870;
      continue;
    } else {
    }
    break;
  }
  var G__9865 = args9863.length;
  switch(G__9865) {
    case 1:
      return cljs.core.take.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.take.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9863.length)].join(""));;
  }
};
cljs.core.take.cljs$core$IFn$_invoke$arity$1 = function(n) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__9866 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9866) : cljs.core.pr_str.call(null, G__9866);
    }())].join(""));
  }
  return function(rf) {
    var na = cljs.core.volatile_BANG_(n);
    return function(na) {
      return function() {
        var G__9872 = null;
        var G__9872__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9872__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9872__2 = function(result, input) {
          var n__$1 = cljs.core.deref(na);
          var nn = cljs.core._vreset_BANG_(na, cljs.core._deref(na) - 1);
          var result__$1 = n__$1 > 0 ? rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input) : result;
          if (!(nn > 0)) {
            return cljs.core.ensure_reduced(result__$1);
          } else {
            return result__$1;
          }
        };
        G__9872 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9872__0.call(this);
            case 1:
              return G__9872__1.call(this, result);
            case 2:
              return G__9872__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9872.cljs$core$IFn$_invoke$arity$0 = G__9872__0;
        G__9872.cljs$core$IFn$_invoke$arity$1 = G__9872__1;
        G__9872.cljs$core$IFn$_invoke$arity$2 = G__9872__2;
        return G__9872;
      }();
    }(na);
  };
};
cljs.core.take.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__9867 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9867) : cljs.core.pr_str.call(null, G__9867);
    }())].join(""));
  }
  return new cljs.core.LazySeq(null, function() {
    if (n > 0) {
      var temp__4657__auto__ = cljs.core.seq(coll);
      if (temp__4657__auto__) {
        var s = temp__4657__auto__;
        return cljs.core.cons(cljs.core.first(s), cljs.core.take.cljs$core$IFn$_invoke$arity$2(n - 1, cljs.core.rest(s)));
      } else {
        return null;
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.take.cljs$lang$maxFixedArity = 2;
cljs.core.drop = function cljs$core$drop(var_args) {
  var args9873 = [];
  var len__7214__auto___9878 = arguments.length;
  var i__7215__auto___9879 = 0;
  while (true) {
    if (i__7215__auto___9879 < len__7214__auto___9878) {
      args9873.push(arguments[i__7215__auto___9879]);
      var G__9880 = i__7215__auto___9879 + 1;
      i__7215__auto___9879 = G__9880;
      continue;
    } else {
    }
    break;
  }
  var G__9875 = args9873.length;
  switch(G__9875) {
    case 1:
      return cljs.core.drop.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9873.length)].join(""));;
  }
};
cljs.core.drop.cljs$core$IFn$_invoke$arity$1 = function(n) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__9876 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9876) : cljs.core.pr_str.call(null, G__9876);
    }())].join(""));
  }
  return function(rf) {
    var na = cljs.core.volatile_BANG_(n);
    return function(na) {
      return function() {
        var G__9882 = null;
        var G__9882__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9882__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9882__2 = function(result, input) {
          var n__$1 = cljs.core.deref(na);
          cljs.core._vreset_BANG_(na, cljs.core._deref(na) - 1);
          if (n__$1 > 0) {
            return result;
          } else {
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          }
        };
        G__9882 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9882__0.call(this);
            case 1:
              return G__9882__1.call(this, result);
            case 2:
              return G__9882__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9882.cljs$core$IFn$_invoke$arity$0 = G__9882__0;
        G__9882.cljs$core$IFn$_invoke$arity$1 = G__9882__1;
        G__9882.cljs$core$IFn$_invoke$arity$2 = G__9882__2;
        return G__9882;
      }();
    }(na);
  };
};
cljs.core.drop.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__9877 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9877) : cljs.core.pr_str.call(null, G__9877);
    }())].join(""));
  }
  var step = function(n__$1, coll__$1) {
    while (true) {
      var s = cljs.core.seq(coll__$1);
      if (n__$1 > 0 && s) {
        var G__9883 = n__$1 - 1;
        var G__9884 = cljs.core.rest(s);
        n__$1 = G__9883;
        coll__$1 = G__9884;
        continue;
      } else {
        return s;
      }
      break;
    }
  };
  return new cljs.core.LazySeq(null, function(step) {
    return function() {
      return step(n, coll);
    };
  }(step), null, null);
};
cljs.core.drop.cljs$lang$maxFixedArity = 2;
cljs.core.drop_last = function cljs$core$drop_last(var_args) {
  var args9885 = [];
  var len__7214__auto___9888 = arguments.length;
  var i__7215__auto___9889 = 0;
  while (true) {
    if (i__7215__auto___9889 < len__7214__auto___9888) {
      args9885.push(arguments[i__7215__auto___9889]);
      var G__9890 = i__7215__auto___9889 + 1;
      i__7215__auto___9889 = G__9890;
      continue;
    } else {
    }
    break;
  }
  var G__9887 = args9885.length;
  switch(G__9887) {
    case 1:
      return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9885.length)].join(""));;
  }
};
cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1 = function(s) {
  return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(1, s);
};
cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2 = function(n, s) {
  return cljs.core.map.cljs$core$IFn$_invoke$arity$3(function(x, _) {
    return x;
  }, s, cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n, s));
};
cljs.core.drop_last.cljs$lang$maxFixedArity = 2;
cljs.core.take_last = function cljs$core$take_last(n, coll) {
  var s = cljs.core.seq(coll);
  var lead = cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n, coll));
  while (true) {
    if (lead) {
      var G__9892 = cljs.core.next(s);
      var G__9893 = cljs.core.next(lead);
      s = G__9892;
      lead = G__9893;
      continue;
    } else {
      return s;
    }
    break;
  }
};
cljs.core.drop_while = function cljs$core$drop_while(var_args) {
  var args9894 = [];
  var len__7214__auto___9899 = arguments.length;
  var i__7215__auto___9900 = 0;
  while (true) {
    if (i__7215__auto___9900 < len__7214__auto___9899) {
      args9894.push(arguments[i__7215__auto___9900]);
      var G__9901 = i__7215__auto___9900 + 1;
      i__7215__auto___9900 = G__9901;
      continue;
    } else {
    }
    break;
  }
  var G__9896 = args9894.length;
  switch(G__9896) {
    case 1:
      return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9894.length)].join(""));;
  }
};
cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1 = function(pred) {
  return function(rf) {
    var da = cljs.core.volatile_BANG_(true);
    return function(da) {
      return function() {
        var G__9903 = null;
        var G__9903__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9903__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9903__2 = function(result, input) {
          var drop_QMARK_ = cljs.core.deref(da);
          if (cljs.core.truth_(function() {
            var and__6144__auto__ = drop_QMARK_;
            if (cljs.core.truth_(and__6144__auto__)) {
              return pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(input) : pred.call(null, input);
            } else {
              return and__6144__auto__;
            }
          }())) {
            return result;
          } else {
            cljs.core.vreset_BANG_(da, null);
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          }
        };
        G__9903 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9903__0.call(this);
            case 1:
              return G__9903__1.call(this, result);
            case 2:
              return G__9903__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9903.cljs$core$IFn$_invoke$arity$0 = G__9903__0;
        G__9903.cljs$core$IFn$_invoke$arity$1 = G__9903__1;
        G__9903.cljs$core$IFn$_invoke$arity$2 = G__9903__2;
        return G__9903;
      }();
    }(da);
  };
};
cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2 = function(pred, coll) {
  var step = function(pred__$1, coll__$1) {
    while (true) {
      var s = cljs.core.seq(coll__$1);
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = s;
        if (and__6144__auto__) {
          var G__9898 = cljs.core.first(s);
          return pred__$1.cljs$core$IFn$_invoke$arity$1 ? pred__$1.cljs$core$IFn$_invoke$arity$1(G__9898) : pred__$1.call(null, G__9898);
        } else {
          return and__6144__auto__;
        }
      }())) {
        var G__9904 = pred__$1;
        var G__9905 = cljs.core.rest(s);
        pred__$1 = G__9904;
        coll__$1 = G__9905;
        continue;
      } else {
        return s;
      }
      break;
    }
  };
  return new cljs.core.LazySeq(null, function(step) {
    return function() {
      return step(pred, coll);
    };
  }(step), null, null);
};
cljs.core.drop_while.cljs$lang$maxFixedArity = 2;
cljs.core.cycle = function cljs$core$cycle(coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(s, cljs$core$cycle(s));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.split_at = function cljs$core$split_at(n, coll) {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, coll), cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n, coll)], null);
};
cljs.core.repeat = function cljs$core$repeat(var_args) {
  var args9906 = [];
  var len__7214__auto___9909 = arguments.length;
  var i__7215__auto___9910 = 0;
  while (true) {
    if (i__7215__auto___9910 < len__7214__auto___9909) {
      args9906.push(arguments[i__7215__auto___9910]);
      var G__9911 = i__7215__auto___9910 + 1;
      i__7215__auto___9910 = G__9911;
      continue;
    } else {
    }
    break;
  }
  var G__9908 = args9906.length;
  switch(G__9908) {
    case 1:
      return cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9906.length)].join(""));;
  }
};
cljs.core.repeat.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return new cljs.core.LazySeq(null, function() {
    return cljs.core.cons(x, cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x));
  }, null, null);
};
cljs.core.repeat.cljs$core$IFn$_invoke$arity$2 = function(n, x) {
  return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x));
};
cljs.core.repeat.cljs$lang$maxFixedArity = 2;
cljs.core.replicate = function cljs$core$replicate(n, x) {
  return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x));
};
cljs.core.repeatedly = function cljs$core$repeatedly(var_args) {
  var args9913 = [];
  var len__7214__auto___9916 = arguments.length;
  var i__7215__auto___9917 = 0;
  while (true) {
    if (i__7215__auto___9917 < len__7214__auto___9916) {
      args9913.push(arguments[i__7215__auto___9917]);
      var G__9918 = i__7215__auto___9917 + 1;
      i__7215__auto___9917 = G__9918;
      continue;
    } else {
    }
    break;
  }
  var G__9915 = args9913.length;
  switch(G__9915) {
    case 1:
      return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9913.length)].join(""));;
  }
};
cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return new cljs.core.LazySeq(null, function() {
    return cljs.core.cons(f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null), cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(f));
  }, null, null);
};
cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2 = function(n, f) {
  return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(f));
};
cljs.core.repeatedly.cljs$lang$maxFixedArity = 2;
cljs.core.iterate = function cljs$core$iterate(f, x) {
  return cljs.core.cons(x, new cljs.core.LazySeq(null, function() {
    return cljs$core$iterate(f, f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x));
  }, null, null));
};
cljs.core.interleave = function cljs$core$interleave(var_args) {
  var args9922 = [];
  var len__7214__auto___9928 = arguments.length;
  var i__7215__auto___9929 = 0;
  while (true) {
    if (i__7215__auto___9929 < len__7214__auto___9928) {
      args9922.push(arguments[i__7215__auto___9929]);
      var G__9930 = i__7215__auto___9929 + 1;
      i__7215__auto___9929 = G__9930;
      continue;
    } else {
    }
    break;
  }
  var G__9927 = args9922.length;
  switch(G__9927) {
    case 2:
      return cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9922.slice(2), 0);
      return cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
cljs.core.interleave.cljs$core$IFn$_invoke$arity$2 = function(c1, c2) {
  return new cljs.core.LazySeq(null, function() {
    var s1 = cljs.core.seq(c1);
    var s2 = cljs.core.seq(c2);
    if (s1 && s2) {
      return cljs.core.cons(cljs.core.first(s1), cljs.core.cons(cljs.core.first(s2), cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(s1), cljs.core.rest(s2))));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic = function(c1, c2, colls) {
  return new cljs.core.LazySeq(null, function() {
    var ss = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq, cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(colls, c2, cljs.core.array_seq([c1], 0)));
    if (cljs.core.every_QMARK_(cljs.core.identity, ss)) {
      return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first, ss), cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.interleave, cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest, ss)));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.interleave.cljs$lang$applyTo = function(seq9923) {
  var G__9924 = cljs.core.first(seq9923);
  var seq9923__$1 = cljs.core.next(seq9923);
  var G__9925 = cljs.core.first(seq9923__$1);
  var seq9923__$2 = cljs.core.next(seq9923__$1);
  return cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(G__9924, G__9925, seq9923__$2);
};
cljs.core.interleave.cljs$lang$maxFixedArity = 2;
cljs.core.interpose = function cljs$core$interpose(var_args) {
  var args9932 = [];
  var len__7214__auto___9935 = arguments.length;
  var i__7215__auto___9936 = 0;
  while (true) {
    if (i__7215__auto___9936 < len__7214__auto___9935) {
      args9932.push(arguments[i__7215__auto___9936]);
      var G__9937 = i__7215__auto___9936 + 1;
      i__7215__auto___9936 = G__9937;
      continue;
    } else {
    }
    break;
  }
  var G__9934 = args9932.length;
  switch(G__9934) {
    case 1:
      return cljs.core.interpose.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9932.length)].join(""));;
  }
};
cljs.core.interpose.cljs$core$IFn$_invoke$arity$1 = function(sep) {
  return function(rf) {
    var started = cljs.core.volatile_BANG_(false);
    return function(started) {
      return function() {
        var G__9939 = null;
        var G__9939__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__9939__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__9939__2 = function(result, input) {
          if (cljs.core.truth_(cljs.core.deref(started))) {
            var sepr = rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, sep) : rf.call(null, result, sep);
            if (cljs.core.reduced_QMARK_(sepr)) {
              return sepr;
            } else {
              return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(sepr, input) : rf.call(null, sepr, input);
            }
          } else {
            cljs.core.vreset_BANG_(started, true);
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          }
        };
        G__9939 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__9939__0.call(this);
            case 1:
              return G__9939__1.call(this, result);
            case 2:
              return G__9939__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__9939.cljs$core$IFn$_invoke$arity$0 = G__9939__0;
        G__9939.cljs$core$IFn$_invoke$arity$1 = G__9939__1;
        G__9939.cljs$core$IFn$_invoke$arity$2 = G__9939__2;
        return G__9939;
      }();
    }(started);
  };
};
cljs.core.interpose.cljs$core$IFn$_invoke$arity$2 = function(sep, coll) {
  return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(1, cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(sep), coll));
};
cljs.core.interpose.cljs$lang$maxFixedArity = 2;
cljs.core.flatten1 = function cljs$core$flatten1(colls) {
  var cat = function cljs$core$flatten1_$_cat(coll, colls__$1) {
    return new cljs.core.LazySeq(null, function() {
      var temp__4655__auto__ = cljs.core.seq(coll);
      if (temp__4655__auto__) {
        var coll__$1 = temp__4655__auto__;
        return cljs.core.cons(cljs.core.first(coll__$1), cljs$core$flatten1_$_cat(cljs.core.rest(coll__$1), colls__$1));
      } else {
        if (cljs.core.seq(colls__$1)) {
          return cljs$core$flatten1_$_cat(cljs.core.first(colls__$1), cljs.core.rest(colls__$1));
        } else {
          return null;
        }
      }
    }, null, null);
  };
  return cat(null, colls);
};
cljs.core.mapcat = function cljs$core$mapcat(var_args) {
  var args9948 = [];
  var len__7214__auto___9953 = arguments.length;
  var i__7215__auto___9954 = 0;
  while (true) {
    if (i__7215__auto___9954 < len__7214__auto___9953) {
      args9948.push(arguments[i__7215__auto___9954]);
      var G__9955 = i__7215__auto___9954 + 1;
      i__7215__auto___9954 = G__9955;
      continue;
    } else {
    }
    break;
  }
  var G__9952 = args9948.length;
  switch(G__9952) {
    case 1:
      return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9948.slice(1), 0);
      return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7233__auto__);
  }
};
cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$1(f), cljs.core.cat);
};
cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic = function(f, colls) {
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.concat, cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.map, f, colls));
};
cljs.core.mapcat.cljs$lang$applyTo = function(seq9949) {
  var G__9950 = cljs.core.first(seq9949);
  var seq9949__$1 = cljs.core.next(seq9949);
  return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(G__9950, seq9949__$1);
};
cljs.core.mapcat.cljs$lang$maxFixedArity = 1;
cljs.core.filter = function cljs$core$filter(var_args) {
  var args9957 = [];
  var len__7214__auto___9961 = arguments.length;
  var i__7215__auto___9962 = 0;
  while (true) {
    if (i__7215__auto___9962 < len__7214__auto___9961) {
      args9957.push(arguments[i__7215__auto___9962]);
      var G__9963 = i__7215__auto___9962 + 1;
      i__7215__auto___9962 = G__9963;
      continue;
    } else {
    }
    break;
  }
  var G__9959 = args9957.length;
  switch(G__9959) {
    case 1:
      return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9957.length)].join(""));;
  }
};
cljs.core.filter.cljs$core$IFn$_invoke$arity$1 = function(pred) {
  return function(rf) {
    return function() {
      var G__9965 = null;
      var G__9965__0 = function() {
        return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
      };
      var G__9965__1 = function(result) {
        return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
      };
      var G__9965__2 = function(result, input) {
        if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(input) : pred.call(null, input))) {
          return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
        } else {
          return result;
        }
      };
      G__9965 = function(result, input) {
        switch(arguments.length) {
          case 0:
            return G__9965__0.call(this);
          case 1:
            return G__9965__1.call(this, result);
          case 2:
            return G__9965__2.call(this, result, input);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__9965.cljs$core$IFn$_invoke$arity$0 = G__9965__0;
      G__9965.cljs$core$IFn$_invoke$arity$1 = G__9965__1;
      G__9965.cljs$core$IFn$_invoke$arity$2 = G__9965__2;
      return G__9965;
    }();
  };
};
cljs.core.filter.cljs$core$IFn$_invoke$arity$2 = function(pred, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      if (cljs.core.chunked_seq_QMARK_(s)) {
        var c = cljs.core.chunk_first(s);
        var size = cljs.core.count(c);
        var b = cljs.core.chunk_buffer(size);
        var n__7059__auto___9966 = size;
        var i_9967 = 0;
        while (true) {
          if (i_9967 < n__7059__auto___9966) {
            if (cljs.core.truth_(function() {
              var G__9960 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9967);
              return pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(G__9960) : pred.call(null, G__9960);
            }())) {
              cljs.core.chunk_append(b, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c, i_9967));
            } else {
            }
            var G__9968 = i_9967 + 1;
            i_9967 = G__9968;
            continue;
          } else {
          }
          break;
        }
        return cljs.core.chunk_cons(cljs.core.chunk(b), cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred, cljs.core.chunk_rest(s)));
      } else {
        var f = cljs.core.first(s);
        var r = cljs.core.rest(s);
        if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(f) : pred.call(null, f))) {
          return cljs.core.cons(f, cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred, r));
        } else {
          return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred, r);
        }
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.filter.cljs$lang$maxFixedArity = 2;
cljs.core.remove = function cljs$core$remove(var_args) {
  var args9969 = [];
  var len__7214__auto___9972 = arguments.length;
  var i__7215__auto___9973 = 0;
  while (true) {
    if (i__7215__auto___9973 < len__7214__auto___9972) {
      args9969.push(arguments[i__7215__auto___9973]);
      var G__9974 = i__7215__auto___9973 + 1;
      i__7215__auto___9973 = G__9974;
      continue;
    } else {
    }
    break;
  }
  var G__9971 = args9969.length;
  switch(G__9971) {
    case 1:
      return cljs.core.remove.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.remove.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9969.length)].join(""));;
  }
};
cljs.core.remove.cljs$core$IFn$_invoke$arity$1 = function(pred) {
  return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(cljs.core.complement(pred));
};
cljs.core.remove.cljs$core$IFn$_invoke$arity$2 = function(pred, coll) {
  return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(cljs.core.complement(pred), coll);
};
cljs.core.remove.cljs$lang$maxFixedArity = 2;
cljs.core.tree_seq = function cljs$core$tree_seq(branch_QMARK_, children, root) {
  var walk = function cljs$core$tree_seq_$_walk(node) {
    return new cljs.core.LazySeq(null, function() {
      return cljs.core.cons(node, cljs.core.truth_(branch_QMARK_.cljs$core$IFn$_invoke$arity$1 ? branch_QMARK_.cljs$core$IFn$_invoke$arity$1(node) : branch_QMARK_.call(null, node)) ? cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(cljs$core$tree_seq_$_walk, cljs.core.array_seq([children.cljs$core$IFn$_invoke$arity$1 ? children.cljs$core$IFn$_invoke$arity$1(node) : children.call(null, node)], 0)) : null);
    }, null, null);
  };
  return walk(root);
};
cljs.core.flatten = function cljs$core$flatten(x) {
  return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(p1__9976_SHARP_) {
    return !cljs.core.sequential_QMARK_(p1__9976_SHARP_);
  }, cljs.core.rest(cljs.core.tree_seq(cljs.core.sequential_QMARK_, cljs.core.seq, x)));
};
cljs.core.into = function cljs$core$into(var_args) {
  var args9977 = [];
  var len__7214__auto___9982 = arguments.length;
  var i__7215__auto___9983 = 0;
  while (true) {
    if (i__7215__auto___9983 < len__7214__auto___9982) {
      args9977.push(arguments[i__7215__auto___9983]);
      var G__9984 = i__7215__auto___9983 + 1;
      i__7215__auto___9983 = G__9984;
      continue;
    } else {
    }
    break;
  }
  var G__9979 = args9977.length;
  switch(G__9979) {
    case 2:
      return cljs.core.into.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.into.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9977.length)].join(""));;
  }
};
cljs.core.into.cljs$core$IFn$_invoke$arity$2 = function(to, from) {
  if (!(to == null)) {
    if (!(to == null) ? to.cljs$lang$protocol_mask$partition1$ & 4 || to.cljs$core$IEditableCollection$ ? true : false : false) {
      return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_, cljs.core.transient$(to), from)), cljs.core.meta(to));
    } else {
      return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj, to, from);
    }
  } else {
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj, cljs.core.List.EMPTY, from);
  }
};
cljs.core.into.cljs$core$IFn$_invoke$arity$3 = function(to, xform, from) {
  if (!(to == null) ? to.cljs$lang$protocol_mask$partition1$ & 4 || to.cljs$core$IEditableCollection$ ? true : false : false) {
    return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform, cljs.core.conj_BANG_, cljs.core.transient$(to), from)), cljs.core.meta(to));
  } else {
    return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform, cljs.core.conj, to, from);
  }
};
cljs.core.into.cljs$lang$maxFixedArity = 3;
cljs.core.mapv = function cljs$core$mapv(var_args) {
  var args9986 = [];
  var len__7214__auto___9994 = arguments.length;
  var i__7215__auto___9995 = 0;
  while (true) {
    if (i__7215__auto___9995 < len__7214__auto___9994) {
      args9986.push(arguments[i__7215__auto___9995]);
      var G__9996 = i__7215__auto___9995 + 1;
      i__7215__auto___9995 = G__9996;
      continue;
    } else {
    }
    break;
  }
  var G__9993 = args9986.length;
  switch(G__9993) {
    case 2:
      return cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.mapv.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.mapv.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args9986.slice(4), 0);
      return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], argseq__7233__auto__);
  }
};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(v, o) {
    return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(v, f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(o) : f.call(null, o));
  }, cljs.core.transient$(cljs.core.PersistentVector.EMPTY), coll));
};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$3 = function(f, c1, c2) {
  return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY, cljs.core.map.cljs$core$IFn$_invoke$arity$3(f, c1, c2));
};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$4 = function(f, c1, c2, c3) {
  return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY, cljs.core.map.cljs$core$IFn$_invoke$arity$4(f, c1, c2, c3));
};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic = function(f, c1, c2, c3, colls) {
  return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY, cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.map, f, c1, c2, c3, cljs.core.array_seq([colls], 0)));
};
cljs.core.mapv.cljs$lang$applyTo = function(seq9987) {
  var G__9988 = cljs.core.first(seq9987);
  var seq9987__$1 = cljs.core.next(seq9987);
  var G__9989 = cljs.core.first(seq9987__$1);
  var seq9987__$2 = cljs.core.next(seq9987__$1);
  var G__9990 = cljs.core.first(seq9987__$2);
  var seq9987__$3 = cljs.core.next(seq9987__$2);
  var G__9991 = cljs.core.first(seq9987__$3);
  var seq9987__$4 = cljs.core.next(seq9987__$3);
  return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(G__9988, G__9989, G__9990, G__9991, seq9987__$4);
};
cljs.core.mapv.cljs$lang$maxFixedArity = 4;
cljs.core.filterv = function cljs$core$filterv(pred, coll) {
  return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(v, o) {
    if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(o) : pred.call(null, o))) {
      return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(v, o);
    } else {
      return v;
    }
  }, cljs.core.transient$(cljs.core.PersistentVector.EMPTY), coll));
};
cljs.core.partition = function cljs$core$partition(var_args) {
  var args9998 = [];
  var len__7214__auto___10001 = arguments.length;
  var i__7215__auto___10002 = 0;
  while (true) {
    if (i__7215__auto___10002 < len__7214__auto___10001) {
      args9998.push(arguments[i__7215__auto___10002]);
      var G__10003 = i__7215__auto___10002 + 1;
      i__7215__auto___10002 = G__10003;
      continue;
    } else {
    }
    break;
  }
  var G__10000 = args9998.length;
  switch(G__10000) {
    case 2:
      return cljs.core.partition.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.partition.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9998.length)].join(""));;
  }
};
cljs.core.partition.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(n, n, coll);
};
cljs.core.partition.cljs$core$IFn$_invoke$arity$3 = function(n, step, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      var p = cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, s);
      if (n === cljs.core.count(p)) {
        return cljs.core.cons(p, cljs.core.partition.cljs$core$IFn$_invoke$arity$3(n, step, cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step, s)));
      } else {
        return null;
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.partition.cljs$core$IFn$_invoke$arity$4 = function(n, step, pad, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      var p = cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, s);
      if (n === cljs.core.count(p)) {
        return cljs.core.cons(p, cljs.core.partition.cljs$core$IFn$_invoke$arity$4(n, step, pad, cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step, s)));
      } else {
        return cljs.core._conj(cljs.core.List.EMPTY, cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, cljs.core.concat.cljs$core$IFn$_invoke$arity$2(p, pad)));
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.partition.cljs$lang$maxFixedArity = 4;
cljs.core.get_in = function cljs$core$get_in(var_args) {
  var args10005 = [];
  var len__7214__auto___10009 = arguments.length;
  var i__7215__auto___10010 = 0;
  while (true) {
    if (i__7215__auto___10010 < len__7214__auto___10009) {
      args10005.push(arguments[i__7215__auto___10010]);
      var G__10011 = i__7215__auto___10010 + 1;
      i__7215__auto___10010 = G__10011;
      continue;
    } else {
    }
    break;
  }
  var G__10007 = args10005.length;
  switch(G__10007) {
    case 2:
      return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10005.length)].join(""));;
  }
};
cljs.core.get_in.cljs$core$IFn$_invoke$arity$2 = function(m, ks) {
  return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(m, ks, null);
};
cljs.core.get_in.cljs$core$IFn$_invoke$arity$3 = function(m, ks, not_found) {
  var sentinel = cljs.core.lookup_sentinel;
  var m__$1 = m;
  var ks__$1 = cljs.core.seq(ks);
  while (true) {
    if (ks__$1) {
      if (!(!(m__$1 == null) ? m__$1.cljs$lang$protocol_mask$partition0$ & 256 || m__$1.cljs$core$ILookup$ ? true : !m__$1.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.ILookup, m__$1) : false : cljs.core.native_satisfies_QMARK_(cljs.core.ILookup, m__$1))) {
        return not_found;
      } else {
        var m__$2 = cljs.core.get.cljs$core$IFn$_invoke$arity$3(m__$1, cljs.core.first(ks__$1), sentinel);
        if (sentinel === m__$2) {
          return not_found;
        } else {
          var G__10013 = sentinel;
          var G__10014 = m__$2;
          var G__10015 = cljs.core.next(ks__$1);
          sentinel = G__10013;
          m__$1 = G__10014;
          ks__$1 = G__10015;
          continue;
        }
      }
    } else {
      return m__$1;
    }
    break;
  }
};
cljs.core.get_in.cljs$lang$maxFixedArity = 3;
cljs.core.assoc_in = function cljs$core$assoc_in(m, p__10016, v) {
  var vec__10021 = p__10016;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10021, 0, null);
  var ks = cljs.core.nthnext(vec__10021, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs$core$assoc_in(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, v));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, v);
  }
};
cljs.core.update_in = function cljs$core$update_in(var_args) {
  var args10022 = [];
  var len__7214__auto___10052 = arguments.length;
  var i__7215__auto___10053 = 0;
  while (true) {
    if (i__7215__auto___10053 < len__7214__auto___10052) {
      args10022.push(arguments[i__7215__auto___10053]);
      var G__10054 = i__7215__auto___10053 + 1;
      i__7215__auto___10053 = G__10054;
      continue;
    } else {
    }
    break;
  }
  var G__10031 = args10022.length;
  switch(G__10031) {
    case 3:
      return cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    case 6:
      return cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10022.slice(6), 0);
      return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], argseq__7233__auto__);
  }
};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$3 = function(m, p__10032, f) {
  var vec__10033 = p__10032;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10033, 0, null);
  var ks = cljs.core.nthnext(vec__10033, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, f));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
      var G__10034 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
      return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__10034) : f.call(null, G__10034);
    }());
  }
};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$4 = function(m, p__10035, f, a) {
  var vec__10036 = p__10035;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10036, 0, null);
  var ks = cljs.core.nthnext(vec__10036, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, f, a));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
      var G__10037 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
      var G__10038 = a;
      return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__10037, G__10038) : f.call(null, G__10037, G__10038);
    }());
  }
};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$5 = function(m, p__10039, f, a, b) {
  var vec__10040 = p__10039;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10040, 0, null);
  var ks = cljs.core.nthnext(vec__10040, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, f, a, b));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
      var G__10041 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
      var G__10042 = a;
      var G__10043 = b;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10041, G__10042, G__10043) : f.call(null, G__10041, G__10042, G__10043);
    }());
  }
};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$6 = function(m, p__10044, f, a, b, c) {
  var vec__10045 = p__10044;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10045, 0, null);
  var ks = cljs.core.nthnext(vec__10045, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, f, a, b, c));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
      var G__10046 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
      var G__10047 = a;
      var G__10048 = b;
      var G__10049 = c;
      return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(G__10046, G__10047, G__10048, G__10049) : f.call(null, G__10046, G__10047, G__10048, G__10049);
    }());
  }
};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic = function(m, p__10050, f, a, b, c, args) {
  var vec__10051 = p__10050;
  var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10051, 0, null);
  var ks = cljs.core.nthnext(vec__10051, 1);
  if (cljs.core.truth_(ks)) {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.update_in, cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), ks, f, a, cljs.core.array_seq([b, c, args], 0)));
  } else {
    return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), a, b, c, cljs.core.array_seq([args], 0)));
  }
};
cljs.core.update_in.cljs$lang$applyTo = function(seq10023) {
  var G__10024 = cljs.core.first(seq10023);
  var seq10023__$1 = cljs.core.next(seq10023);
  var G__10025 = cljs.core.first(seq10023__$1);
  var seq10023__$2 = cljs.core.next(seq10023__$1);
  var G__10026 = cljs.core.first(seq10023__$2);
  var seq10023__$3 = cljs.core.next(seq10023__$2);
  var G__10027 = cljs.core.first(seq10023__$3);
  var seq10023__$4 = cljs.core.next(seq10023__$3);
  var G__10028 = cljs.core.first(seq10023__$4);
  var seq10023__$5 = cljs.core.next(seq10023__$4);
  var G__10029 = cljs.core.first(seq10023__$5);
  var seq10023__$6 = cljs.core.next(seq10023__$5);
  return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(G__10024, G__10025, G__10026, G__10027, G__10028, G__10029, seq10023__$6);
};
cljs.core.update_in.cljs$lang$maxFixedArity = 6;
cljs.core.update = function cljs$core$update(var_args) {
  var args10056 = [];
  var len__7214__auto___10076 = arguments.length;
  var i__7215__auto___10077 = 0;
  while (true) {
    if (i__7215__auto___10077 < len__7214__auto___10076) {
      args10056.push(arguments[i__7215__auto___10077]);
      var G__10078 = i__7215__auto___10077 + 1;
      i__7215__auto___10077 = G__10078;
      continue;
    } else {
    }
    break;
  }
  var G__10065 = args10056.length;
  switch(G__10065) {
    case 3:
      return cljs.core.update.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.update.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core.update.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    case 6:
      return cljs.core.update.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10056.slice(6), 0);
      return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], argseq__7233__auto__);
  }
};
cljs.core.update.cljs$core$IFn$_invoke$arity$3 = function(m, k, f) {
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
    var G__10066 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
    return f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__10066) : f.call(null, G__10066);
  }());
};
cljs.core.update.cljs$core$IFn$_invoke$arity$4 = function(m, k, f, x) {
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
    var G__10067 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
    var G__10068 = x;
    return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__10067, G__10068) : f.call(null, G__10067, G__10068);
  }());
};
cljs.core.update.cljs$core$IFn$_invoke$arity$5 = function(m, k, f, x, y) {
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
    var G__10069 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
    var G__10070 = x;
    var G__10071 = y;
    return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10069, G__10070, G__10071) : f.call(null, G__10069, G__10070, G__10071);
  }());
};
cljs.core.update.cljs$core$IFn$_invoke$arity$6 = function(m, k, f, x, y, z) {
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
    var G__10072 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
    var G__10073 = x;
    var G__10074 = y;
    var G__10075 = z;
    return f.cljs$core$IFn$_invoke$arity$4 ? f.cljs$core$IFn$_invoke$arity$4(G__10072, G__10073, G__10074, G__10075) : f.call(null, G__10072, G__10073, G__10074, G__10075);
  }());
};
cljs.core.update.cljs$core$IFn$_invoke$arity$variadic = function(m, k, f, x, y, z, more) {
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f, cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k), x, y, z, cljs.core.array_seq([more], 0)));
};
cljs.core.update.cljs$lang$applyTo = function(seq10057) {
  var G__10058 = cljs.core.first(seq10057);
  var seq10057__$1 = cljs.core.next(seq10057);
  var G__10059 = cljs.core.first(seq10057__$1);
  var seq10057__$2 = cljs.core.next(seq10057__$1);
  var G__10060 = cljs.core.first(seq10057__$2);
  var seq10057__$3 = cljs.core.next(seq10057__$2);
  var G__10061 = cljs.core.first(seq10057__$3);
  var seq10057__$4 = cljs.core.next(seq10057__$3);
  var G__10062 = cljs.core.first(seq10057__$4);
  var seq10057__$5 = cljs.core.next(seq10057__$4);
  var G__10063 = cljs.core.first(seq10057__$5);
  var seq10057__$6 = cljs.core.next(seq10057__$5);
  return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(G__10058, G__10059, G__10060, G__10061, G__10062, G__10063, seq10057__$6);
};
cljs.core.update.cljs$lang$maxFixedArity = 6;
cljs.core.VectorNode = function(edit, arr) {
  this.edit = edit;
  this.arr = arr;
};
cljs.core.VectorNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "edit", "edit", -1302639, null), new cljs.core.Symbol(null, "arr", "arr", 2115492975, null)], null);
};
cljs.core.VectorNode.cljs$lang$type = true;
cljs.core.VectorNode.cljs$lang$ctorStr = "cljs.core/VectorNode";
cljs.core.VectorNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/VectorNode");
};
cljs.core.__GT_VectorNode = function cljs$core$__GT_VectorNode(edit, arr) {
  return new cljs.core.VectorNode(edit, arr);
};
cljs.core.pv_fresh_node = function cljs$core$pv_fresh_node(edit) {
  return new cljs.core.VectorNode(edit, [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]);
};
cljs.core.pv_aget = function cljs$core$pv_aget(node, idx) {
  return node.arr[idx];
};
cljs.core.pv_aset = function cljs$core$pv_aset(node, idx, val) {
  return node.arr[idx] = val;
};
cljs.core.pv_clone_node = function cljs$core$pv_clone_node(node) {
  return new cljs.core.VectorNode(node.edit, cljs.core.aclone(node.arr));
};
cljs.core.tail_off = function cljs$core$tail_off(pv) {
  var cnt = pv.cnt;
  if (cnt < 32) {
    return 0;
  } else {
    return cnt - 1 >>> 5 << 5;
  }
};
cljs.core.new_path = function cljs$core$new_path(edit, level, node) {
  var ll = level;
  var ret = node;
  while (true) {
    if (ll === 0) {
      return ret;
    } else {
      var embed = ret;
      var r = cljs.core.pv_fresh_node(edit);
      var _ = cljs.core.pv_aset(r, 0, embed);
      var G__10080 = ll - 5;
      var G__10081 = r;
      ll = G__10080;
      ret = G__10081;
      continue;
    }
    break;
  }
};
cljs.core.push_tail = function cljs$core$push_tail(pv, level, parent, tailnode) {
  var ret = cljs.core.pv_clone_node(parent);
  var subidx = pv.cnt - 1 >>> level & 31;
  if (5 === level) {
    cljs.core.pv_aset(ret, subidx, tailnode);
    return ret;
  } else {
    var child = cljs.core.pv_aget(parent, subidx);
    if (!(child == null)) {
      var node_to_insert = cljs$core$push_tail(pv, level - 5, child, tailnode);
      cljs.core.pv_aset(ret, subidx, node_to_insert);
      return ret;
    } else {
      var node_to_insert = cljs.core.new_path(null, level - 5, tailnode);
      cljs.core.pv_aset(ret, subidx, node_to_insert);
      return ret;
    }
  }
};
cljs.core.vector_index_out_of_bounds = function cljs$core$vector_index_out_of_bounds(i, cnt) {
  throw new Error([cljs.core.str("No item "), cljs.core.str(i), cljs.core.str(" in vector of length "), cljs.core.str(cnt)].join(""));
};
cljs.core.first_array_for_longvec = function cljs$core$first_array_for_longvec(pv) {
  var node = pv.root;
  var level = pv.shift;
  while (true) {
    if (level > 0) {
      var G__10086 = cljs.core.pv_aget(node, 0);
      var G__10087 = level - 5;
      node = G__10086;
      level = G__10087;
      continue;
    } else {
      return node.arr;
    }
    break;
  }
};
cljs.core.unchecked_array_for = function cljs$core$unchecked_array_for(pv, i) {
  if (i >= cljs.core.tail_off(pv)) {
    return pv.tail;
  } else {
    var node = pv.root;
    var level = pv.shift;
    while (true) {
      if (level > 0) {
        var G__10088 = cljs.core.pv_aget(node, i >>> level & 31);
        var G__10089 = level - 5;
        node = G__10088;
        level = G__10089;
        continue;
      } else {
        return node.arr;
      }
      break;
    }
  }
};
cljs.core.array_for = function cljs$core$array_for(pv, i) {
  if (0 <= i && i < pv.cnt) {
    return cljs.core.unchecked_array_for(pv, i);
  } else {
    return cljs.core.vector_index_out_of_bounds(i, pv.cnt);
  }
};
cljs.core.do_assoc = function cljs$core$do_assoc(pv, level, node, i, val) {
  var ret = cljs.core.pv_clone_node(node);
  if (level === 0) {
    cljs.core.pv_aset(ret, i & 31, val);
    return ret;
  } else {
    var subidx = i >>> level & 31;
    cljs.core.pv_aset(ret, subidx, cljs$core$do_assoc(pv, level - 5, cljs.core.pv_aget(node, subidx), i, val));
    return ret;
  }
};
cljs.core.pop_tail = function cljs$core$pop_tail(pv, level, node) {
  var subidx = pv.cnt - 2 >>> level & 31;
  if (level > 5) {
    var new_child = cljs$core$pop_tail(pv, level - 5, cljs.core.pv_aget(node, subidx));
    if (new_child == null && subidx === 0) {
      return null;
    } else {
      var ret = cljs.core.pv_clone_node(node);
      cljs.core.pv_aset(ret, subidx, new_child);
      return ret;
    }
  } else {
    if (subidx === 0) {
      return null;
    } else {
      var ret = cljs.core.pv_clone_node(node);
      cljs.core.pv_aset(ret, subidx, null);
      return ret;
    }
  }
};
cljs.core.RangedIterator = function(i, base, arr, v, start, end) {
  this.i = i;
  this.base = base;
  this.arr = arr;
  this.v = v;
  this.start = start;
  this.end = end;
};
cljs.core.RangedIterator.prototype.hasNext = function() {
  var self__ = this;
  var this$ = this;
  return self__.i < self__.end;
};
cljs.core.RangedIterator.prototype.next = function() {
  var self__ = this;
  var this$ = this;
  if (self__.i - self__.base === 32) {
    self__.arr = cljs.core.unchecked_array_for(self__.v, self__.i);
    self__.base = self__.base + 32;
  } else {
  }
  var ret = self__.arr[self__.i & 31];
  self__.i = self__.i + 1;
  return ret;
};
cljs.core.RangedIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "base", "base", 1825810849, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, 
  "arr", "arr", 2115492975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "v", "v", 1661996586, null), new cljs.core.Symbol(null, "start", "start", 1285322546, null), new cljs.core.Symbol(null, "end", "end", 1372345569, null)], null);
};
cljs.core.RangedIterator.cljs$lang$type = true;
cljs.core.RangedIterator.cljs$lang$ctorStr = "cljs.core/RangedIterator";
cljs.core.RangedIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/RangedIterator");
};
cljs.core.__GT_RangedIterator = function cljs$core$__GT_RangedIterator(i, base, arr, v, start, end) {
  return new cljs.core.RangedIterator(i, base, arr, v, start, end);
};
cljs.core.ranged_iterator = function cljs$core$ranged_iterator(v, start, end) {
  var i = start;
  return new cljs.core.RangedIterator(i, i - i % 32, start < cljs.core.count(v) ? cljs.core.unchecked_array_for(v, i) : null, v, start, end);
};
cljs.core.PersistentVector = function(meta, cnt, shift, root, tail, __hash) {
  this.meta = meta;
  this.cnt = cnt;
  this.shift = shift;
  this.root = root;
  this.tail = tail;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 167668511;
  this.cljs$lang$protocol_mask$partition1$ = 8196;
};
cljs.core.PersistentVector.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentVector.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (typeof k === "number") {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1, k, not_found);
  } else {
    return not_found;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(v, f, init) {
  var self__ = this;
  var v__$1 = this;
  var i = 0;
  var init__$1 = init;
  while (true) {
    if (i < self__.cnt) {
      var arr = cljs.core.unchecked_array_for(v__$1, i);
      var len = arr.length;
      var init__$2 = function() {
        var j = 0;
        var init__$2 = init__$1;
        while (true) {
          if (j < len) {
            var init__$3 = function() {
              var G__10099 = init__$2;
              var G__10100 = j + i;
              var G__10101 = arr[j];
              return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10099, G__10100, G__10101) : f.call(null, G__10099, G__10100, G__10101);
            }();
            if (cljs.core.reduced_QMARK_(init__$3)) {
              return init__$3;
            } else {
              var G__10108 = j + 1;
              var G__10109 = init__$3;
              j = G__10108;
              init__$2 = G__10109;
              continue;
            }
          } else {
            return init__$2;
          }
          break;
        }
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10110 = i + len;
        var G__10111 = init__$2;
        i = G__10110;
        init__$1 = G__10111;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, n) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_for(coll__$1, n)[n & 31];
};
cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, n, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (0 <= n && n < self__.cnt) {
    return cljs.core.unchecked_array_for(coll__$1, n)[n & 31];
  } else {
    return not_found;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IVector$_assoc_n$arity$3 = function(coll, n, val) {
  var self__ = this;
  var coll__$1 = this;
  if (0 <= n && n < self__.cnt) {
    if (cljs.core.tail_off(coll__$1) <= n) {
      var new_tail = cljs.core.aclone(self__.tail);
      new_tail[n & 31] = val;
      return new cljs.core.PersistentVector(self__.meta, self__.cnt, self__.shift, self__.root, new_tail, null);
    } else {
      return new cljs.core.PersistentVector(self__.meta, self__.cnt, self__.shift, cljs.core.do_assoc(coll__$1, self__.shift, self__.root, n, val), self__.tail, null);
    }
  } else {
    if (n === self__.cnt) {
      return cljs.core._conj(coll__$1, val);
    } else {
      throw new Error([cljs.core.str("Index "), cljs.core.str(n), cljs.core.str(" out of bounds  [0,"), cljs.core.str(self__.cnt), cljs.core.str("]")].join(""));
    }
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IIterable$ = true;
cljs.core.PersistentVector.prototype.cljs$core$IIterable$_iterator$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.ranged_iterator(this$__$1, 0, self__.cnt);
};
cljs.core.PersistentVector.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentVector.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentVector(self__.meta, self__.cnt, self__.shift, self__.root, self__.tail, self__.__hash);
};
cljs.core.PersistentVector.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.cnt;
};
cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_key$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1, 0);
};
cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_val$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1, 1);
};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_peek$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1, self__.cnt - 1);
  } else {
    return null;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_pop$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt === 0) {
    throw new Error("Can't pop empty vector");
  } else {
    if (1 === self__.cnt) {
      return cljs.core._with_meta(cljs.core.PersistentVector.EMPTY, self__.meta);
    } else {
      if (1 < self__.cnt - cljs.core.tail_off(coll__$1)) {
        return new cljs.core.PersistentVector(self__.meta, self__.cnt - 1, self__.shift, self__.root, self__.tail.slice(0, -1), null);
      } else {
        var new_tail = cljs.core.unchecked_array_for(coll__$1, self__.cnt - 2);
        var nr = cljs.core.pop_tail(coll__$1, self__.shift, self__.root);
        var new_root = nr == null ? cljs.core.PersistentVector.EMPTY_NODE : nr;
        var cnt_1 = self__.cnt - 1;
        if (5 < self__.shift && cljs.core.pv_aget(new_root, 1) == null) {
          return new cljs.core.PersistentVector(self__.meta, cnt_1, self__.shift - 5, cljs.core.pv_aget(new_root, 0), new_tail, null);
        } else {
          return new cljs.core.PersistentVector(self__.meta, cnt_1, self__.shift, new_root, new_tail, null);
        }
      }
    }
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IReversible$_rseq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    return new cljs.core.RSeq(coll__$1, self__.cnt - 1, null);
  } else {
    return null;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  if (other instanceof cljs.core.PersistentVector) {
    if (self__.cnt === cljs.core.count(other)) {
      var me_iter = cljs.core._iterator(coll__$1);
      var you_iter = cljs.core._iterator(other);
      while (true) {
        if (cljs.core.truth_(me_iter.hasNext())) {
          var x = me_iter.next();
          var y = you_iter.next();
          if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x, y)) {
            continue;
          } else {
            return false;
          }
        } else {
          return true;
        }
        break;
      }
    } else {
      return false;
    }
  } else {
    return cljs.core.equiv_sequential(coll__$1, other);
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IEditableCollection$_as_transient$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.TransientVector(self__.cnt, self__.shift, cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1 ? cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1(self__.root) : cljs.core.tv_editable_root.call(null, self__.root), cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1 ? cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1(self__.tail) : cljs.core.tv_editable_tail.call(null, self__.tail));
};
cljs.core.PersistentVector.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY, self__.meta);
};
cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$2 = function(v, f) {
  var self__ = this;
  var v__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(v__$1, f);
};
cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$3 = function(v, f, init) {
  var self__ = this;
  var v__$1 = this;
  var i = 0;
  var init__$1 = init;
  while (true) {
    if (i < self__.cnt) {
      var arr = cljs.core.unchecked_array_for(v__$1, i);
      var len = arr.length;
      var init__$2 = function() {
        var j = 0;
        var init__$2 = init__$1;
        while (true) {
          if (j < len) {
            var init__$3 = function() {
              var G__10102 = init__$2;
              var G__10103 = arr[j];
              return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__10102, G__10103) : f.call(null, G__10102, G__10103);
            }();
            if (cljs.core.reduced_QMARK_(init__$3)) {
              return init__$3;
            } else {
              var G__10112 = j + 1;
              var G__10113 = init__$3;
              j = G__10112;
              init__$2 = G__10113;
              continue;
            }
          } else {
            return init__$2;
          }
          break;
        }
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10114 = i + len;
        var G__10115 = init__$2;
        i = G__10114;
        init__$1 = G__10115;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, k, v) {
  var self__ = this;
  var coll__$1 = this;
  if (typeof k === "number") {
    return cljs.core._assoc_n(coll__$1, k, v);
  } else {
    throw new Error("Vector's key for assoc must be a number.");
  }
};
cljs.core.PersistentVector.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt === 0) {
    return null;
  } else {
    if (self__.cnt <= 32) {
      return new cljs.core.IndexedSeq(self__.tail, 0);
    } else {
      var G__10104 = coll__$1;
      var G__10105 = cljs.core.first_array_for_longvec(coll__$1);
      var G__10106 = 0;
      var G__10107 = 0;
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10104, G__10105, G__10106, G__10107) : cljs.core.chunked_seq.call(null, G__10104, G__10105, G__10106, G__10107);
    }
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentVector(meta__$1, self__.cnt, self__.shift, self__.root, self__.tail, self__.__hash);
};
cljs.core.PersistentVector.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt - cljs.core.tail_off(coll__$1) < 32) {
    var len = self__.tail.length;
    var new_tail = new Array(len + 1);
    var n__7059__auto___10116 = len;
    var i_10117 = 0;
    while (true) {
      if (i_10117 < n__7059__auto___10116) {
        new_tail[i_10117] = self__.tail[i_10117];
        var G__10118 = i_10117 + 1;
        i_10117 = G__10118;
        continue;
      } else {
      }
      break;
    }
    new_tail[len] = o;
    return new cljs.core.PersistentVector(self__.meta, self__.cnt + 1, self__.shift, self__.root, new_tail, null);
  } else {
    var root_overflow_QMARK_ = self__.cnt >>> 5 > 1 << self__.shift;
    var new_shift = root_overflow_QMARK_ ? self__.shift + 5 : self__.shift;
    var new_root = root_overflow_QMARK_ ? function() {
      var n_r = cljs.core.pv_fresh_node(null);
      cljs.core.pv_aset(n_r, 0, self__.root);
      cljs.core.pv_aset(n_r, 1, cljs.core.new_path(null, self__.shift, new cljs.core.VectorNode(null, self__.tail)));
      return n_r;
    }() : cljs.core.push_tail(coll__$1, self__.shift, self__.root, new cljs.core.VectorNode(null, self__.tail));
    return new cljs.core.PersistentVector(self__.meta, self__.cnt + 1, new_shift, new_root, [o], null);
  }
};
cljs.core.PersistentVector.prototype.call = function() {
  var G__10119 = null;
  var G__10119__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$IIndexed$_nth$arity$2(null, k);
  };
  var G__10119__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$IIndexed$_nth$arity$3(null, k, not_found);
  };
  G__10119 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10119__2.call(this, self__, k);
      case 3:
        return G__10119__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10119.cljs$core$IFn$_invoke$arity$2 = G__10119__2;
  G__10119.cljs$core$IFn$_invoke$arity$3 = G__10119__3;
  return G__10119;
}();
cljs.core.PersistentVector.prototype.apply = function(self__, args10098) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10098)));
};
cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$IIndexed$_nth$arity$2(null, k);
};
cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$IIndexed$_nth$arity$3(null, k, not_found);
};
cljs.core.PersistentVector.getBasis = function() {
  return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.Symbol(null, "shift", "shift", -1657295705, null), new cljs.core.Symbol(null, "root", "root", 1191874074, null), new cljs.core.Symbol(null, "tail", "tail", 494507963, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 
  1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentVector.cljs$lang$type = true;
cljs.core.PersistentVector.cljs$lang$ctorStr = "cljs.core/PersistentVector";
cljs.core.PersistentVector.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentVector");
};
cljs.core.__GT_PersistentVector = function cljs$core$__GT_PersistentVector(meta, cnt, shift, root, tail, __hash) {
  return new cljs.core.PersistentVector(meta, cnt, shift, root, tail, __hash);
};
cljs.core.PersistentVector.EMPTY_NODE = new cljs.core.VectorNode(null, [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]);
cljs.core.PersistentVector.EMPTY = new cljs.core.PersistentVector(null, 0, 5, cljs.core.PersistentVector.EMPTY_NODE, [], cljs.core.empty_ordered_hash);
cljs.core.PersistentVector.fromArray = function(xs, no_clone) {
  var l = xs.length;
  var xs__$1 = no_clone ? xs : cljs.core.aclone(xs);
  if (l < 32) {
    return new cljs.core.PersistentVector(null, l, 5, cljs.core.PersistentVector.EMPTY_NODE, xs__$1, null);
  } else {
    var node = xs__$1.slice(0, 32);
    var v = new cljs.core.PersistentVector(null, 32, 5, cljs.core.PersistentVector.EMPTY_NODE, node, null);
    var i = 32;
    var out = v.cljs$core$IEditableCollection$_as_transient$arity$1(null);
    while (true) {
      if (i < l) {
        var G__10120 = i + 1;
        var G__10121 = cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(out, xs__$1[i]);
        i = G__10120;
        out = G__10121;
        continue;
      } else {
        return cljs.core.persistent_BANG_(out);
      }
      break;
    }
  }
};
cljs.core.PersistentVector.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.vec = function cljs$core$vec(coll) {
  if (cljs.core.array_QMARK_(coll)) {
    return cljs.core.PersistentVector.fromArray(coll, true);
  } else {
    return cljs.core._persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_, cljs.core._as_transient(cljs.core.PersistentVector.EMPTY), coll));
  }
};
cljs.core.vector = function cljs$core$vector(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10123 = arguments.length;
  var i__7215__auto___10124 = 0;
  while (true) {
    if (i__7215__auto___10124 < len__7214__auto___10123) {
      args__7221__auto__.push(arguments[i__7215__auto___10124]);
      var G__10125 = i__7215__auto___10124 + 1;
      i__7215__auto___10124 = G__10125;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic = function(args) {
  if (args instanceof cljs.core.IndexedSeq && args.i === 0) {
    return cljs.core.PersistentVector.fromArray(args.arr, true);
  } else {
    return cljs.core.vec(args);
  }
};
cljs.core.vector.cljs$lang$maxFixedArity = 0;
cljs.core.vector.cljs$lang$applyTo = function(seq10122) {
  return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10122));
};
cljs.core.ChunkedSeq = function(vec, node, i, off, meta, __hash) {
  this.vec = vec;
  this.node = node;
  this.i = i;
  this.off = off;
  this.meta = meta;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32375020;
  this.cljs$lang$protocol_mask$partition1$ = 1536;
};
cljs.core.ChunkedSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.ChunkedSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.ChunkedSeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.off + 1 < self__.node.length) {
    var s = function() {
      var G__10126 = self__.vec;
      var G__10127 = self__.node;
      var G__10128 = self__.i;
      var G__10129 = self__.off + 1;
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10126, G__10127, G__10128, G__10129) : cljs.core.chunked_seq.call(null, G__10126, G__10127, G__10128, G__10129);
    }();
    if (s == null) {
      return null;
    } else {
      return s;
    }
  } else {
    return cljs.core._chunked_next(coll__$1);
  }
};
cljs.core.ChunkedSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.ChunkedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY, self__.meta);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(function() {
    var G__10130 = self__.vec;
    var G__10131 = self__.i + self__.off;
    var G__10132 = cljs.core.count(self__.vec);
    return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3 ? cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(G__10130, G__10131, G__10132) : cljs.core.subvec.call(null, G__10130, G__10131, G__10132);
  }(), f);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(function() {
    var G__10133 = self__.vec;
    var G__10134 = self__.i + self__.off;
    var G__10135 = cljs.core.count(self__.vec);
    return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3 ? cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(G__10133, G__10134, G__10135) : cljs.core.subvec.call(null, G__10133, G__10134, G__10135);
  }(), f, start);
};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.node[self__.off];
};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.off + 1 < self__.node.length) {
    var s = function() {
      var G__10136 = self__.vec;
      var G__10137 = self__.node;
      var G__10138 = self__.i;
      var G__10139 = self__.off + 1;
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10136, G__10137, G__10138, G__10139) : cljs.core.chunked_seq.call(null, G__10136, G__10137, G__10138, G__10139);
    }();
    if (s == null) {
      return cljs.core.List.EMPTY;
    } else {
      return s;
    }
  } else {
    return cljs.core._chunked_rest(coll__$1);
  }
};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(self__.node, self__.off);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var end = self__.i + self__.node.length;
  if (end < cljs.core._count(self__.vec)) {
    var G__10140 = self__.vec;
    var G__10141 = cljs.core.unchecked_array_for(self__.vec, end);
    var G__10142 = end;
    var G__10143 = 0;
    return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10140, G__10141, G__10142, G__10143) : cljs.core.chunked_seq.call(null, G__10140, G__10141, G__10142, G__10143);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.ChunkedSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, m) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(self__.vec, self__.node, self__.i, self__.off, m) : cljs.core.chunked_seq.call(null, self__.vec, self__.node, self__.i, self__.off, m);
};
cljs.core.ChunkedSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var end = self__.i + self__.node.length;
  if (end < cljs.core._count(self__.vec)) {
    var G__10144 = self__.vec;
    var G__10145 = cljs.core.unchecked_array_for(self__.vec, end);
    var G__10146 = end;
    var G__10147 = 0;
    return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10144, G__10145, G__10146, G__10147) : cljs.core.chunked_seq.call(null, G__10144, G__10145, G__10146, G__10147);
  } else {
    return null;
  }
};
cljs.core.ChunkedSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "vec", "vec", 982683596, null), new cljs.core.Symbol(null, "node", "node", -2073234571, null), new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.Symbol(null, "off", "off", -2047994980, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 
  1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ChunkedSeq.cljs$lang$type = true;
cljs.core.ChunkedSeq.cljs$lang$ctorStr = "cljs.core/ChunkedSeq";
cljs.core.ChunkedSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ChunkedSeq");
};
cljs.core.__GT_ChunkedSeq = function cljs$core$__GT_ChunkedSeq(vec, node, i, off, meta, __hash) {
  return new cljs.core.ChunkedSeq(vec, node, i, off, meta, __hash);
};
cljs.core.ChunkedSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.chunked_seq = function cljs$core$chunked_seq(var_args) {
  var args10148 = [];
  var len__7214__auto___10151 = arguments.length;
  var i__7215__auto___10152 = 0;
  while (true) {
    if (i__7215__auto___10152 < len__7214__auto___10151) {
      args10148.push(arguments[i__7215__auto___10152]);
      var G__10153 = i__7215__auto___10152 + 1;
      i__7215__auto___10152 = G__10153;
      continue;
    } else {
    }
    break;
  }
  var G__10150 = args10148.length;
  switch(G__10150) {
    case 3:
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10148.length)].join(""));;
  }
};
cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3 = function(vec, i, off) {
  return new cljs.core.ChunkedSeq(vec, cljs.core.array_for(vec, i), i, off, null, null);
};
cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4 = function(vec, node, i, off) {
  return new cljs.core.ChunkedSeq(vec, node, i, off, null, null);
};
cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5 = function(vec, node, i, off, meta) {
  return new cljs.core.ChunkedSeq(vec, node, i, off, meta, null);
};
cljs.core.chunked_seq.cljs$lang$maxFixedArity = 5;
cljs.core.Subvec = function(meta, v, start, end, __hash) {
  this.meta = meta;
  this.v = v;
  this.start = start;
  this.end = end;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 167666463;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.Subvec.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.Subvec.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (typeof k === "number") {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1, k, not_found);
  } else {
    return not_found;
  }
};
cljs.core.Subvec.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(coll, f, init) {
  var self__ = this;
  var coll__$1 = this;
  var i = self__.start;
  var j = 0;
  var init__$1 = init;
  while (true) {
    if (i < self__.end) {
      var init__$2 = function() {
        var G__10156 = init__$1;
        var G__10157 = j;
        var G__10158 = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v, i);
        return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10156, G__10157, G__10158) : f.call(null, G__10156, G__10157, G__10158);
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10175 = i + 1;
        var G__10176 = j + 1;
        var G__10177 = init__$2;
        i = G__10175;
        j = G__10176;
        init__$1 = G__10177;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, n) {
  var self__ = this;
  var coll__$1 = this;
  if (n < 0 || self__.end <= self__.start + n) {
    return cljs.core.vector_index_out_of_bounds(n, self__.end - self__.start);
  } else {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v, self__.start + n);
  }
};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, n, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (n < 0 || self__.end <= self__.start + n) {
    return not_found;
  } else {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(self__.v, self__.start + n, not_found);
  }
};
cljs.core.Subvec.prototype.cljs$core$IVector$_assoc_n$arity$3 = function(coll, n, val) {
  var self__ = this;
  var coll__$1 = this;
  var v_pos = self__.start + n;
  var G__10159 = self__.meta;
  var G__10160 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.v, v_pos, val);
  var G__10161 = self__.start;
  var G__10162 = function() {
    var x__6487__auto__ = self__.end;
    var y__6488__auto__ = v_pos + 1;
    return x__6487__auto__ > y__6488__auto__ ? x__6487__auto__ : y__6488__auto__;
  }();
  var G__10163 = null;
  return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5 ? cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10159, G__10160, G__10161, G__10162, G__10163) : cljs.core.build_subvec.call(null, G__10159, G__10160, G__10161, G__10162, G__10163);
};
cljs.core.Subvec.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.Subvec.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.Subvec(self__.meta, self__.v, self__.start, self__.end, self__.__hash);
};
cljs.core.Subvec.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.end - self__.start;
};
cljs.core.Subvec.prototype.cljs$core$IStack$_peek$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v, self__.end - 1);
};
cljs.core.Subvec.prototype.cljs$core$IStack$_pop$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.start === self__.end) {
    throw new Error("Can't pop empty vector");
  } else {
    var G__10164 = self__.meta;
    var G__10165 = self__.v;
    var G__10166 = self__.start;
    var G__10167 = self__.end - 1;
    var G__10168 = null;
    return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5 ? cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10164, G__10165, G__10166, G__10167, G__10168) : cljs.core.build_subvec.call(null, G__10164, G__10165, G__10166, G__10167, G__10168);
  }
};
cljs.core.Subvec.prototype.cljs$core$IReversible$_rseq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (!(self__.start === self__.end)) {
    return new cljs.core.RSeq(coll__$1, self__.end - self__.start - 1, null);
  } else {
    return null;
  }
};
cljs.core.Subvec.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.Subvec.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.Subvec.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY, self__.meta);
};
cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(coll__$1, f);
};
cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start__$1) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(coll__$1, f, start__$1);
};
cljs.core.Subvec.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, key, val) {
  var self__ = this;
  var coll__$1 = this;
  if (typeof key === "number") {
    return cljs.core._assoc_n(coll__$1, key, val);
  } else {
    throw new Error("Subvec's key for assoc must be a number.");
  }
};
cljs.core.Subvec.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var subvec_seq = function(coll__$1) {
    return function cljs$core$subvec_seq(i) {
      if (i === self__.end) {
        return null;
      } else {
        return cljs.core.cons(cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v, i), new cljs.core.LazySeq(null, function(coll__$1) {
          return function() {
            return cljs$core$subvec_seq(i + 1);
          };
        }(coll__$1), null, null));
      }
    };
  }(coll__$1);
  return subvec_seq(self__.start);
};
cljs.core.Subvec.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5 ? cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(meta__$1, self__.v, self__.start, self__.end, self__.__hash) : cljs.core.build_subvec.call(null, meta__$1, self__.v, self__.start, self__.end, self__.__hash);
};
cljs.core.Subvec.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  var G__10170 = self__.meta;
  var G__10171 = cljs.core._assoc_n(self__.v, self__.end, o);
  var G__10172 = self__.start;
  var G__10173 = self__.end + 1;
  var G__10174 = null;
  return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5 ? cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10170, G__10171, G__10172, G__10173, G__10174) : cljs.core.build_subvec.call(null, G__10170, G__10171, G__10172, G__10173, G__10174);
};
cljs.core.Subvec.prototype.call = function() {
  var G__10178 = null;
  var G__10178__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$IIndexed$_nth$arity$2(null, k);
  };
  var G__10178__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$IIndexed$_nth$arity$3(null, k, not_found);
  };
  G__10178 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10178__2.call(this, self__, k);
      case 3:
        return G__10178__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10178.cljs$core$IFn$_invoke$arity$2 = G__10178__2;
  G__10178.cljs$core$IFn$_invoke$arity$3 = G__10178__3;
  return G__10178;
}();
cljs.core.Subvec.prototype.apply = function(self__, args10155) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10155)));
};
cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$IIndexed$_nth$arity$2(null, k);
};
cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$IIndexed$_nth$arity$3(null, k, not_found);
};
cljs.core.Subvec.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "v", "v", 1661996586, null), new cljs.core.Symbol(null, "start", "start", 1285322546, null), new cljs.core.Symbol(null, "end", "end", 1372345569, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null))], null);
};
cljs.core.Subvec.cljs$lang$type = true;
cljs.core.Subvec.cljs$lang$ctorStr = "cljs.core/Subvec";
cljs.core.Subvec.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Subvec");
};
cljs.core.__GT_Subvec = function cljs$core$__GT_Subvec(meta, v, start, end, __hash) {
  return new cljs.core.Subvec(meta, v, start, end, __hash);
};
cljs.core.Subvec.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.build_subvec = function cljs$core$build_subvec(meta, v, start, end, __hash) {
  while (true) {
    if (v instanceof cljs.core.Subvec) {
      var G__10179 = meta;
      var G__10180 = v.v;
      var G__10181 = v.start + start;
      var G__10182 = v.start + end;
      var G__10183 = __hash;
      meta = G__10179;
      v = G__10180;
      start = G__10181;
      end = G__10182;
      __hash = G__10183;
      continue;
    } else {
      var c = cljs.core.count(v);
      if (start < 0 || end < 0 || start > c || end > c) {
        throw new Error("Index out of bounds");
      } else {
      }
      return new cljs.core.Subvec(meta, v, start, end, __hash);
    }
    break;
  }
};
cljs.core.subvec = function cljs$core$subvec(var_args) {
  var args10184 = [];
  var len__7214__auto___10187 = arguments.length;
  var i__7215__auto___10188 = 0;
  while (true) {
    if (i__7215__auto___10188 < len__7214__auto___10187) {
      args10184.push(arguments[i__7215__auto___10188]);
      var G__10189 = i__7215__auto___10188 + 1;
      i__7215__auto___10188 = G__10189;
      continue;
    } else {
    }
    break;
  }
  var G__10186 = args10184.length;
  switch(G__10186) {
    case 2:
      return cljs.core.subvec.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10184.length)].join(""));;
  }
};
cljs.core.subvec.cljs$core$IFn$_invoke$arity$2 = function(v, start) {
  return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(v, start, cljs.core.count(v));
};
cljs.core.subvec.cljs$core$IFn$_invoke$arity$3 = function(v, start, end) {
  return cljs.core.build_subvec(null, v, start, end, null);
};
cljs.core.subvec.cljs$lang$maxFixedArity = 3;
cljs.core.tv_ensure_editable = function cljs$core$tv_ensure_editable(edit, node) {
  if (edit === node.edit) {
    return node;
  } else {
    return new cljs.core.VectorNode(edit, cljs.core.aclone(node.arr));
  }
};
cljs.core.tv_editable_root = function cljs$core$tv_editable_root(node) {
  return new cljs.core.VectorNode({}, cljs.core.aclone(node.arr));
};
cljs.core.tv_editable_tail = function cljs$core$tv_editable_tail(tl) {
  var ret = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
  cljs.core.array_copy(tl, 0, ret, 0, tl.length);
  return ret;
};
cljs.core.tv_push_tail = function cljs$core$tv_push_tail(tv, level, parent, tail_node) {
  var ret = cljs.core.tv_ensure_editable(tv.root.edit, parent);
  var subidx = tv.cnt - 1 >>> level & 31;
  cljs.core.pv_aset(ret, subidx, level === 5 ? tail_node : function() {
    var child = cljs.core.pv_aget(ret, subidx);
    if (!(child == null)) {
      return cljs$core$tv_push_tail(tv, level - 5, child, tail_node);
    } else {
      return cljs.core.new_path(tv.root.edit, level - 5, tail_node);
    }
  }());
  return ret;
};
cljs.core.tv_pop_tail = function cljs$core$tv_pop_tail(tv, level, node) {
  var node__$1 = cljs.core.tv_ensure_editable(tv.root.edit, node);
  var subidx = tv.cnt - 2 >>> level & 31;
  if (level > 5) {
    var new_child = cljs$core$tv_pop_tail(tv, level - 5, cljs.core.pv_aget(node__$1, subidx));
    if (new_child == null && subidx === 0) {
      return null;
    } else {
      cljs.core.pv_aset(node__$1, subidx, new_child);
      return node__$1;
    }
  } else {
    if (subidx === 0) {
      return null;
    } else {
      cljs.core.pv_aset(node__$1, subidx, null);
      return node__$1;
    }
  }
};
cljs.core.unchecked_editable_array_for = function cljs$core$unchecked_editable_array_for(tv, i) {
  if (i >= cljs.core.tail_off(tv)) {
    return tv.tail;
  } else {
    var root = tv.root;
    var node = root;
    var level = tv.shift;
    while (true) {
      if (level > 0) {
        var G__10202 = cljs.core.tv_ensure_editable(root.edit, cljs.core.pv_aget(node, i >>> level & 31));
        var G__10203 = level - 5;
        node = G__10202;
        level = G__10203;
        continue;
      } else {
        return node.arr;
      }
      break;
    }
  }
};
cljs.core.TransientVector = function(cnt, shift, root, tail) {
  this.cnt = cnt;
  this.shift = shift;
  this.root = root;
  this.tail = tail;
  this.cljs$lang$protocol_mask$partition1$ = 88;
  this.cljs$lang$protocol_mask$partition0$ = 275;
};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2 = function(tcoll, o) {
  var self__ = this;
  var tcoll__$1 = this;
  if (self__.root.edit) {
    if (self__.cnt - cljs.core.tail_off(tcoll__$1) < 32) {
      self__.tail[self__.cnt & 31] = o;
      self__.cnt = self__.cnt + 1;
      return tcoll__$1;
    } else {
      var tail_node = new cljs.core.VectorNode(self__.root.edit, self__.tail);
      var new_tail = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
      new_tail[0] = o;
      self__.tail = new_tail;
      if (self__.cnt >>> 5 > 1 << self__.shift) {
        var new_root_array = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
        var new_shift = self__.shift + 5;
        new_root_array[0] = self__.root;
        new_root_array[1] = cljs.core.new_path(self__.root.edit, self__.shift, tail_node);
        self__.root = new cljs.core.VectorNode(self__.root.edit, new_root_array);
        self__.shift = new_shift;
        self__.cnt = self__.cnt + 1;
        return tcoll__$1;
      } else {
        var new_root = cljs.core.tv_push_tail(tcoll__$1, self__.shift, self__.root, tail_node);
        self__.root = new_root;
        self__.cnt = self__.cnt + 1;
        return tcoll__$1;
      }
    }
  } else {
    throw new Error("conj! after persistent!");
  }
};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  if (self__.root.edit) {
    self__.root.edit = null;
    var len = self__.cnt - cljs.core.tail_off(tcoll__$1);
    var trimmed_tail = new Array(len);
    cljs.core.array_copy(self__.tail, 0, trimmed_tail, 0, len);
    return new cljs.core.PersistentVector(null, self__.cnt, self__.shift, self__.root, trimmed_tail, null);
  } else {
    throw new Error("persistent! called twice");
  }
};
cljs.core.TransientVector.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3 = function(tcoll, key, val) {
  var self__ = this;
  var tcoll__$1 = this;
  if (typeof key === "number") {
    return cljs.core._assoc_n_BANG_(tcoll__$1, key, val);
  } else {
    throw new Error("TransientVector's key for assoc! must be a number.");
  }
};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3 = function(tcoll, n, val) {
  var self__ = this;
  var tcoll__$1 = this;
  if (self__.root.edit) {
    if (0 <= n && n < self__.cnt) {
      if (cljs.core.tail_off(tcoll__$1) <= n) {
        self__.tail[n & 31] = val;
        return tcoll__$1;
      } else {
        var new_root = function(tcoll__$1) {
          return function cljs$core$go(level, node) {
            var node__$1 = cljs.core.tv_ensure_editable(self__.root.edit, node);
            if (level === 0) {
              cljs.core.pv_aset(node__$1, n & 31, val);
              return node__$1;
            } else {
              var subidx = n >>> level & 31;
              cljs.core.pv_aset(node__$1, subidx, cljs$core$go(level - 5, cljs.core.pv_aget(node__$1, subidx)));
              return node__$1;
            }
          };
        }(tcoll__$1).call(null, self__.shift, self__.root);
        self__.root = new_root;
        return tcoll__$1;
      }
    } else {
      if (n === self__.cnt) {
        return cljs.core._conj_BANG_(tcoll__$1, val);
      } else {
        throw new Error([cljs.core.str("Index "), cljs.core.str(n), cljs.core.str(" out of bounds for TransientVector of length"), cljs.core.str(self__.cnt)].join(""));
      }
    }
  } else {
    throw new Error("assoc! after persistent!");
  }
};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_pop_BANG_$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  if (self__.root.edit) {
    if (self__.cnt === 0) {
      throw new Error("Can't pop empty vector");
    } else {
      if (1 === self__.cnt) {
        self__.cnt = 0;
        return tcoll__$1;
      } else {
        if ((self__.cnt - 1 & 31) > 0) {
          self__.cnt = self__.cnt - 1;
          return tcoll__$1;
        } else {
          var new_tail = cljs.core.unchecked_editable_array_for(tcoll__$1, self__.cnt - 2);
          var new_root = function() {
            var nr = cljs.core.tv_pop_tail(tcoll__$1, self__.shift, self__.root);
            if (!(nr == null)) {
              return nr;
            } else {
              return new cljs.core.VectorNode(self__.root.edit, [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]);
            }
          }();
          if (5 < self__.shift && cljs.core.pv_aget(new_root, 1) == null) {
            var new_root__$1 = cljs.core.tv_ensure_editable(self__.root.edit, cljs.core.pv_aget(new_root, 0));
            self__.root = new_root__$1;
            self__.shift = self__.shift - 5;
            self__.cnt = self__.cnt - 1;
            self__.tail = new_tail;
            return tcoll__$1;
          } else {
            self__.root = new_root;
            self__.cnt = self__.cnt - 1;
            self__.tail = new_tail;
            return tcoll__$1;
          }
        }
      }
    }
  } else {
    throw new Error("pop! after persistent!");
  }
};
cljs.core.TransientVector.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.root.edit) {
    return self__.cnt;
  } else {
    throw new Error("count after persistent!");
  }
};
cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, n) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.root.edit) {
    return cljs.core.array_for(coll__$1, n)[n & 31];
  } else {
    throw new Error("nth after persistent!");
  }
};
cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, n, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (0 <= n && n < self__.cnt) {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1, n);
  } else {
    return not_found;
  }
};
cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (typeof k === "number") {
    return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1, k, not_found);
  } else {
    return not_found;
  }
};
cljs.core.TransientVector.prototype.call = function() {
  var G__10207 = null;
  var G__10207__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10207__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10207 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10207__2.call(this, self__, k);
      case 3:
        return G__10207__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10207.cljs$core$IFn$_invoke$arity$2 = G__10207__2;
  G__10207.cljs$core$IFn$_invoke$arity$3 = G__10207__3;
  return G__10207;
}();
cljs.core.TransientVector.prototype.apply = function(self__, args10204) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10204)));
};
cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.TransientVector.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "shift", "shift", -1657295705, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, 
  "root", "root", 1191874074, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "tail", "tail", 494507963, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.TransientVector.cljs$lang$type = true;
cljs.core.TransientVector.cljs$lang$ctorStr = "cljs.core/TransientVector";
cljs.core.TransientVector.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/TransientVector");
};
cljs.core.__GT_TransientVector = function cljs$core$__GT_TransientVector(cnt, shift, root, tail) {
  return new cljs.core.TransientVector(cnt, shift, root, tail);
};
cljs.core.PersistentQueueIter = function(fseq, riter) {
  this.fseq = fseq;
  this.riter = riter;
};
cljs.core.PersistentQueueIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  var or__6156__auto__ = cljs.core.some_QMARK_(self__.fseq) && cljs.core.seq(self__.fseq);
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    var and__6144__auto__ = cljs.core.some_QMARK_(self__.riter);
    if (and__6144__auto__) {
      return self__.riter.hasNext();
    } else {
      return and__6144__auto__;
    }
  }
};
cljs.core.PersistentQueueIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (cljs.core.some_QMARK_(self__.fseq)) {
    var ret = cljs.core.first(self__.fseq);
    self__.fseq = cljs.core.next(self__.fseq);
    return ret;
  } else {
    if (cljs.core.some_QMARK_(self__.riter) && self__.riter.hasNext()) {
      return self__.riter.next();
    } else {
      throw new Error("No such element");
    }
  }
};
cljs.core.PersistentQueueIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.PersistentQueueIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "fseq", "fseq", -1466412450, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "riter", "riter", -237834262, null)], null);
};
cljs.core.PersistentQueueIter.cljs$lang$type = true;
cljs.core.PersistentQueueIter.cljs$lang$ctorStr = "cljs.core/PersistentQueueIter";
cljs.core.PersistentQueueIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentQueueIter");
};
cljs.core.__GT_PersistentQueueIter = function cljs$core$__GT_PersistentQueueIter(fseq, riter) {
  return new cljs.core.PersistentQueueIter(fseq, riter);
};
cljs.core.PersistentQueueSeq = function(meta, front, rear, __hash) {
  this.meta = meta;
  this.front = front;
  this.rear = rear;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 31850572;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.PersistentQueueSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentQueueSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.first(self__.front);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var temp__4655__auto__ = cljs.core.next(self__.front);
  if (temp__4655__auto__) {
    var f1 = temp__4655__auto__;
    return new cljs.core.PersistentQueueSeq(self__.meta, f1, self__.rear, null);
  } else {
    if (self__.rear == null) {
      return cljs.core._empty(coll__$1);
    } else {
      return new cljs.core.PersistentQueueSeq(self__.meta, self__.rear, null, null);
    }
  }
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentQueueSeq(meta__$1, self__.front, self__.rear, self__.__hash);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.PersistentQueueSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "front", "front", 117022539, null), new cljs.core.Symbol(null, "rear", "rear", -900164830, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentQueueSeq.cljs$lang$type = true;
cljs.core.PersistentQueueSeq.cljs$lang$ctorStr = "cljs.core/PersistentQueueSeq";
cljs.core.PersistentQueueSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentQueueSeq");
};
cljs.core.__GT_PersistentQueueSeq = function cljs$core$__GT_PersistentQueueSeq(meta, front, rear, __hash) {
  return new cljs.core.PersistentQueueSeq(meta, front, rear, __hash);
};
cljs.core.PersistentQueueSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.PersistentQueue = function(meta, count, front, rear, __hash) {
  this.meta = meta;
  this.count = count;
  this.front = front;
  this.rear = rear;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 31858766;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.PersistentQueue.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentQueue.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentQueue.prototype.cljs$core$IIterable$ = true;
cljs.core.PersistentQueue.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentQueueIter(self__.front, cljs.core._iterator(self__.rear));
};
cljs.core.PersistentQueue.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentQueue.prototype.cljs$core$ICloneable$_clone$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentQueue(self__.meta, self__.count, self__.front, self__.rear, self__.__hash);
};
cljs.core.PersistentQueue.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.count;
};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_peek$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.first(self__.front);
};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_pop$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.truth_(self__.front)) {
    var temp__4655__auto__ = cljs.core.next(self__.front);
    if (temp__4655__auto__) {
      var f1 = temp__4655__auto__;
      return new cljs.core.PersistentQueue(self__.meta, self__.count - 1, f1, self__.rear, null);
    } else {
      return new cljs.core.PersistentQueue(self__.meta, self__.count - 1, cljs.core.seq(self__.rear), cljs.core.PersistentVector.EMPTY, null);
    }
  } else {
    return coll__$1;
  }
};
cljs.core.PersistentQueue.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentQueue.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.PersistentQueue.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.PersistentQueue.EMPTY, self__.meta);
};
cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.first(self__.front);
};
cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.rest(cljs.core.seq(coll__$1));
};
cljs.core.PersistentQueue.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var rear__$1 = cljs.core.seq(self__.rear);
  if (cljs.core.truth_(function() {
    var or__6156__auto__ = self__.front;
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return rear__$1;
    }
  }())) {
    return new cljs.core.PersistentQueueSeq(null, self__.front, cljs.core.seq(rear__$1), null);
  } else {
    return null;
  }
};
cljs.core.PersistentQueue.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentQueue(meta__$1, self__.count, self__.front, self__.rear, self__.__hash);
};
cljs.core.PersistentQueue.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.truth_(self__.front)) {
    return new cljs.core.PersistentQueue(self__.meta, self__.count + 1, self__.front, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(function() {
      var or__6156__auto__ = self__.rear;
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return cljs.core.PersistentVector.EMPTY;
      }
    }(), o), null);
  } else {
    return new cljs.core.PersistentQueue(self__.meta, self__.count + 1, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(self__.front, o), cljs.core.PersistentVector.EMPTY, null);
  }
};
cljs.core.PersistentQueue.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "count", "count", -514511684, null), new cljs.core.Symbol(null, "front", "front", 117022539, null), new cljs.core.Symbol(null, "rear", "rear", -900164830, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentQueue.cljs$lang$type = true;
cljs.core.PersistentQueue.cljs$lang$ctorStr = "cljs.core/PersistentQueue";
cljs.core.PersistentQueue.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentQueue");
};
cljs.core.__GT_PersistentQueue = function cljs$core$__GT_PersistentQueue(meta, count, front, rear, __hash) {
  return new cljs.core.PersistentQueue(meta, count, front, rear, __hash);
};
cljs.core.PersistentQueue.EMPTY = new cljs.core.PersistentQueue(null, 0, null, cljs.core.PersistentVector.EMPTY, cljs.core.empty_ordered_hash);
cljs.core.PersistentQueue.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.NeverEquiv = function() {
  this.cljs$lang$protocol_mask$partition0$ = 2097152;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.NeverEquiv.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.NeverEquiv.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(o, other) {
  var self__ = this;
  var o__$1 = this;
  return false;
};
cljs.core.NeverEquiv.getBasis = function() {
  return cljs.core.PersistentVector.EMPTY;
};
cljs.core.NeverEquiv.cljs$lang$type = true;
cljs.core.NeverEquiv.cljs$lang$ctorStr = "cljs.core/NeverEquiv";
cljs.core.NeverEquiv.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/NeverEquiv");
};
cljs.core.__GT_NeverEquiv = function cljs$core$__GT_NeverEquiv() {
  return new cljs.core.NeverEquiv;
};
cljs.core.never_equiv = new cljs.core.NeverEquiv;
cljs.core.equiv_map = function cljs$core$equiv_map(x, y) {
  return cljs.core.boolean$(cljs.core.map_QMARK_(y) ? cljs.core.count(x) === cljs.core.count(y) ? cljs.core.every_QMARK_(cljs.core.identity, cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(xkv) {
    return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(y, cljs.core.first(xkv), cljs.core.never_equiv), cljs.core.second(xkv));
  }, x)) : null : null);
};
cljs.core.scan_array = function cljs$core$scan_array(incr, k, array) {
  var len = array.length;
  var i = 0;
  while (true) {
    if (i < len) {
      if (k === array[i]) {
        return i;
      } else {
        var G__10208 = i + incr;
        i = G__10208;
        continue;
      }
    } else {
      return null;
    }
    break;
  }
};
cljs.core.obj_map_compare_keys = function cljs$core$obj_map_compare_keys(a, b) {
  var a__$1 = cljs.core.hash(a);
  var b__$1 = cljs.core.hash(b);
  if (a__$1 < b__$1) {
    return -1;
  } else {
    if (a__$1 > b__$1) {
      return 1;
    } else {
      return 0;
    }
  }
};
cljs.core.obj_map__GT_hash_map = function cljs$core$obj_map__GT_hash_map(m, k, v) {
  var ks = m.keys;
  var len = ks.length;
  var so = m.strobj;
  var mm = cljs.core.meta(m);
  var i = 0;
  var out = cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);
  while (true) {
    if (i < len) {
      var k__$1 = ks[i];
      var G__10209 = i + 1;
      var G__10210 = cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out, k__$1, so[k__$1]);
      i = G__10209;
      out = G__10210;
      continue;
    } else {
      return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out, k, v)), mm);
    }
    break;
  }
};
cljs.core.obj_clone = function cljs$core$obj_clone(obj, ks) {
  var new_obj = {};
  var l = ks.length;
  var i_10215 = 0;
  while (true) {
    if (i_10215 < l) {
      var k_10216 = ks[i_10215];
      new_obj[k_10216] = obj[k_10216];
      var G__10217 = i_10215 + 1;
      i_10215 = G__10217;
      continue;
    } else {
    }
    break;
  }
  return new_obj;
};
cljs.core.ObjMap = function(meta, keys, strobj, update_count, __hash) {
  this.meta = meta;
  this.keys = keys;
  this.strobj = strobj;
  this.update_count = update_count;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 16123663;
  this.cljs$lang$protocol_mask$partition1$ = 4;
};
cljs.core.ObjMap.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.ObjMap.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (goog.isString(k) && !(cljs.core.scan_array(1, k, self__.keys) == null)) {
    return self__.strobj[k];
  } else {
    return not_found;
  }
};
cljs.core.ObjMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(coll, f, init) {
  var self__ = this;
  var coll__$1 = this;
  var len = self__.keys.length;
  var keys__$1 = self__.keys.sort(cljs.core.obj_map_compare_keys);
  var init__$1 = init;
  while (true) {
    if (cljs.core.seq(keys__$1)) {
      var k = cljs.core.first(keys__$1);
      var init__$2 = function() {
        var G__10220 = init__$1;
        var G__10221 = k;
        var G__10222 = self__.strobj[k];
        return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10220, G__10221, G__10222) : f.call(null, G__10220, G__10221, G__10222);
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10223 = cljs.core.rest(keys__$1);
        var G__10224 = init__$2;
        keys__$1 = G__10223;
        init__$1 = G__10224;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.ObjMap.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.ObjMap.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.keys.length;
};
cljs.core.ObjMap.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.ObjMap.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_map(coll__$1, other);
};
cljs.core.ObjMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.transient$(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY, coll__$1));
};
cljs.core.ObjMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.ObjMap.EMPTY, self__.meta);
};
cljs.core.ObjMap.prototype.cljs$core$IMap$_dissoc$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  if (goog.isString(k) && !(cljs.core.scan_array(1, k, self__.keys) == null)) {
    var new_keys = cljs.core.aclone(self__.keys);
    var new_strobj = cljs.core.obj_clone(self__.strobj, self__.keys);
    new_keys.splice(cljs.core.scan_array(1, k, new_keys), 1);
    delete new_strobj[k];
    return new cljs.core.ObjMap(self__.meta, new_keys, new_strobj, self__.update_count + 1, null);
  } else {
    return coll__$1;
  }
};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, k, v) {
  var self__ = this;
  var coll__$1 = this;
  if (goog.isString(k)) {
    if (self__.update_count > cljs.core.ObjMap.HASHMAP_THRESHOLD || self__.keys.length >= cljs.core.ObjMap.HASHMAP_THRESHOLD) {
      return cljs.core.obj_map__GT_hash_map(coll__$1, k, v);
    } else {
      if (!(cljs.core.scan_array(1, k, self__.keys) == null)) {
        var new_strobj = cljs.core.obj_clone(self__.strobj, self__.keys);
        new_strobj[k] = v;
        return new cljs.core.ObjMap(self__.meta, self__.keys, new_strobj, self__.update_count + 1, null);
      } else {
        var new_strobj = cljs.core.obj_clone(self__.strobj, self__.keys);
        var new_keys = cljs.core.aclone(self__.keys);
        new_strobj[k] = v;
        new_keys.push(k);
        return new cljs.core.ObjMap(self__.meta, new_keys, new_strobj, self__.update_count + 1, null);
      }
    }
  } else {
    return cljs.core.obj_map__GT_hash_map(coll__$1, k, v);
  }
};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  if (goog.isString(k) && !(cljs.core.scan_array(1, k, self__.keys) == null)) {
    return true;
  } else {
    return false;
  }
};
cljs.core.ObjMap.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.keys.length > 0) {
    return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(coll__$1) {
      return function(p1__10218_SHARP_) {
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [p1__10218_SHARP_, self__.strobj[p1__10218_SHARP_]], null);
      };
    }(coll__$1), self__.keys.sort(cljs.core.obj_map_compare_keys));
  } else {
    return null;
  }
};
cljs.core.ObjMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.ObjMap(meta__$1, self__.keys, self__.strobj, self__.update_count, self__.__hash);
};
cljs.core.ObjMap.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.vector_QMARK_(entry)) {
    return cljs.core._assoc(coll__$1, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 1));
  } else {
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj, coll__$1, entry);
  }
};
cljs.core.ObjMap.prototype.call = function() {
  var G__10225 = null;
  var G__10225__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10225__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10225 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10225__2.call(this, self__, k);
      case 3:
        return G__10225__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10225.cljs$core$IFn$_invoke$arity$2 = G__10225__2;
  G__10225.cljs$core$IFn$_invoke$arity$3 = G__10225__3;
  return G__10225;
}();
cljs.core.ObjMap.prototype.apply = function(self__, args10219) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10219)));
};
cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.ObjMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "keys", "keys", -1586012071, null), new cljs.core.Symbol(null, "strobj", "strobj", 1088091283, null), new cljs.core.Symbol(null, "update-count", "update-count", -411982269, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ObjMap.cljs$lang$type = true;
cljs.core.ObjMap.cljs$lang$ctorStr = "cljs.core/ObjMap";
cljs.core.ObjMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ObjMap");
};
cljs.core.__GT_ObjMap = function cljs$core$__GT_ObjMap(meta, keys, strobj, update_count, __hash) {
  return new cljs.core.ObjMap(meta, keys, strobj, update_count, __hash);
};
cljs.core.ObjMap.EMPTY = new cljs.core.ObjMap(null, [], {}, 0, cljs.core.empty_unordered_hash);
cljs.core.ObjMap.HASHMAP_THRESHOLD = 8;
cljs.core.ObjMap.fromObject = function(ks, obj) {
  return new cljs.core.ObjMap(null, ks, obj, 0, null);
};
cljs.core.RecordIter = function(i, record, base_count, fields, ext_map_iter) {
  this.i = i;
  this.record = record;
  this.base_count = base_count;
  this.fields = fields;
  this.ext_map_iter = ext_map_iter;
};
cljs.core.RecordIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  var or__6156__auto__ = self__.i < self__.base_count;
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    return self__.ext_map_iter.hasNext();
  }
};
cljs.core.RecordIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (self__.i < self__.base_count) {
    var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$2(self__.fields, self__.i);
    self__.i = self__.i + 1;
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [k, cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(self__.record, k)], null);
  } else {
    return self__.ext_map_iter.next();
  }
};
cljs.core.RecordIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.RecordIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "record", "record", 861424668, null), new cljs.core.Symbol(null, "base-count", "base-count", -1180647182, null), new cljs.core.Symbol(null, "fields", "fields", -291534703, null), new cljs.core.Symbol(null, 
  "ext-map-iter", "ext-map-iter", -1215982757, null)], null);
};
cljs.core.RecordIter.cljs$lang$type = true;
cljs.core.RecordIter.cljs$lang$ctorStr = "cljs.core/RecordIter";
cljs.core.RecordIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/RecordIter");
};
cljs.core.__GT_RecordIter = function cljs$core$__GT_RecordIter(i, record, base_count, fields, ext_map_iter) {
  return new cljs.core.RecordIter(i, record, base_count, fields, ext_map_iter);
};
cljs.core.ES6EntriesIterator = function(s) {
  this.s = s;
};
cljs.core.ES6EntriesIterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (!(self__.s == null)) {
    var vec__10228 = cljs.core.first(self__.s);
    var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10228, 0, null);
    var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10228, 1, null);
    self__.s = cljs.core.next(self__.s);
    return {"value":[k, v], "done":false};
  } else {
    return {"value":null, "done":true};
  }
};
cljs.core.ES6EntriesIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "s", "s", -948495851, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ES6EntriesIterator.cljs$lang$type = true;
cljs.core.ES6EntriesIterator.cljs$lang$ctorStr = "cljs.core/ES6EntriesIterator";
cljs.core.ES6EntriesIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ES6EntriesIterator");
};
cljs.core.__GT_ES6EntriesIterator = function cljs$core$__GT_ES6EntriesIterator(s) {
  return new cljs.core.ES6EntriesIterator(s);
};
cljs.core.es6_entries_iterator = function cljs$core$es6_entries_iterator(coll) {
  return new cljs.core.ES6EntriesIterator(cljs.core.seq(coll));
};
cljs.core.ES6SetEntriesIterator = function(s) {
  this.s = s;
};
cljs.core.ES6SetEntriesIterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (!(self__.s == null)) {
    var x = cljs.core.first(self__.s);
    self__.s = cljs.core.next(self__.s);
    return {"value":[x, x], "done":false};
  } else {
    return {"value":null, "done":true};
  }
};
cljs.core.ES6SetEntriesIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "s", "s", -948495851, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ES6SetEntriesIterator.cljs$lang$type = true;
cljs.core.ES6SetEntriesIterator.cljs$lang$ctorStr = "cljs.core/ES6SetEntriesIterator";
cljs.core.ES6SetEntriesIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ES6SetEntriesIterator");
};
cljs.core.__GT_ES6SetEntriesIterator = function cljs$core$__GT_ES6SetEntriesIterator(s) {
  return new cljs.core.ES6SetEntriesIterator(s);
};
cljs.core.es6_set_entries_iterator = function cljs$core$es6_set_entries_iterator(coll) {
  return new cljs.core.ES6SetEntriesIterator(cljs.core.seq(coll));
};
cljs.core.array_index_of_nil_QMARK_ = function cljs$core$array_index_of_nil_QMARK_(arr) {
  var len = arr.length;
  var i = 0;
  while (true) {
    if (len <= i) {
      return -1;
    } else {
      if (arr[i] == null) {
        return i;
      } else {
        var G__10229 = i + 2;
        i = G__10229;
        continue;
      }
    }
    break;
  }
};
cljs.core.array_index_of_keyword_QMARK_ = function cljs$core$array_index_of_keyword_QMARK_(arr, k) {
  var len = arr.length;
  var kstr = k.fqn;
  var i = 0;
  while (true) {
    if (len <= i) {
      return -1;
    } else {
      if (arr[i] instanceof cljs.core.Keyword && kstr === arr[i].fqn) {
        return i;
      } else {
        var G__10230 = i + 2;
        i = G__10230;
        continue;
      }
    }
    break;
  }
};
cljs.core.array_index_of_symbol_QMARK_ = function cljs$core$array_index_of_symbol_QMARK_(arr, k) {
  var len = arr.length;
  var kstr = k.str;
  var i = 0;
  while (true) {
    if (len <= i) {
      return -1;
    } else {
      if (arr[i] instanceof cljs.core.Symbol && kstr === arr[i].str) {
        return i;
      } else {
        var G__10231 = i + 2;
        i = G__10231;
        continue;
      }
    }
    break;
  }
};
cljs.core.array_index_of_identical_QMARK_ = function cljs$core$array_index_of_identical_QMARK_(arr, k) {
  var len = arr.length;
  var i = 0;
  while (true) {
    if (len <= i) {
      return -1;
    } else {
      if (k === arr[i]) {
        return i;
      } else {
        var G__10232 = i + 2;
        i = G__10232;
        continue;
      }
    }
    break;
  }
};
cljs.core.array_index_of_equiv_QMARK_ = function cljs$core$array_index_of_equiv_QMARK_(arr, k) {
  var len = arr.length;
  var i = 0;
  while (true) {
    if (len <= i) {
      return -1;
    } else {
      if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(k, arr[i])) {
        return i;
      } else {
        var G__10233 = i + 2;
        i = G__10233;
        continue;
      }
    }
    break;
  }
};
cljs.core.array_index_of = function cljs$core$array_index_of(arr, k) {
  if (k instanceof cljs.core.Keyword) {
    return cljs.core.array_index_of_keyword_QMARK_(arr, k);
  } else {
    if (goog.isString(k) || typeof k === "number") {
      return cljs.core.array_index_of_identical_QMARK_(arr, k);
    } else {
      if (k instanceof cljs.core.Symbol) {
        return cljs.core.array_index_of_symbol_QMARK_(arr, k);
      } else {
        if (k == null) {
          return cljs.core.array_index_of_nil_QMARK_(arr);
        } else {
          return cljs.core.array_index_of_equiv_QMARK_(arr, k);
        }
      }
    }
  }
};
cljs.core.array_map_index_of = function cljs$core$array_map_index_of(m, k) {
  return cljs.core.array_index_of(m.arr, k);
};
cljs.core.array_extend_kv = function cljs$core$array_extend_kv(arr, k, v) {
  var l = arr.length;
  var narr = new Array(l + 2);
  var i_10234 = 0;
  while (true) {
    if (i_10234 < l) {
      narr[i_10234] = arr[i_10234];
      var G__10235 = i_10234 + 1;
      i_10234 = G__10235;
      continue;
    } else {
    }
    break;
  }
  narr[l] = k;
  narr[l + 1] = v;
  return narr;
};
cljs.core.array_map_extend_kv = function cljs$core$array_map_extend_kv(m, k, v) {
  return cljs.core.array_extend_kv(m.arr, k, v);
};
cljs.core.PersistentArrayMapSeq = function(arr, i, _meta) {
  this.arr = arr;
  this.i = i;
  this._meta = _meta;
  this.cljs$lang$protocol_mask$partition0$ = 32374990;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.PersistentArrayMapSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentArrayMapSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__._meta;
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.i < self__.arr.length - 2) {
    return new cljs.core.PersistentArrayMapSeq(self__.arr, self__.i + 2, self__._meta);
  } else {
    return null;
  }
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return (self__.arr.length - self__.i) / 2;
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.hash_ordered_coll(coll__$1);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__._meta);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.arr[self__.i], self__.arr[self__.i + 1]], null);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.i < self__.arr.length - 2) {
    return new cljs.core.PersistentArrayMapSeq(self__.arr, self__.i + 2, self__._meta);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, new_meta) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentArrayMapSeq(self__.arr, self__.i, new_meta);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.PersistentArrayMapSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.Symbol(null, "_meta", "_meta", -1716892533, null)], null);
};
cljs.core.PersistentArrayMapSeq.cljs$lang$type = true;
cljs.core.PersistentArrayMapSeq.cljs$lang$ctorStr = "cljs.core/PersistentArrayMapSeq";
cljs.core.PersistentArrayMapSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentArrayMapSeq");
};
cljs.core.__GT_PersistentArrayMapSeq = function cljs$core$__GT_PersistentArrayMapSeq(arr, i, _meta) {
  return new cljs.core.PersistentArrayMapSeq(arr, i, _meta);
};
cljs.core.PersistentArrayMapSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.persistent_array_map_seq = function cljs$core$persistent_array_map_seq(arr, i, _meta) {
  if (i <= arr.length - 2) {
    return new cljs.core.PersistentArrayMapSeq(arr, i, _meta);
  } else {
    return null;
  }
};
cljs.core.PersistentArrayMapIterator = function(arr, i, cnt) {
  this.arr = arr;
  this.i = i;
  this.cnt = cnt;
};
cljs.core.PersistentArrayMapIterator.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.i < self__.cnt;
};
cljs.core.PersistentArrayMapIterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var ret = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.arr[self__.i], self__.arr[self__.i + 1]], null);
  self__.i = self__.i + 2;
  return ret;
};
cljs.core.PersistentArrayMapIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null)], null);
};
cljs.core.PersistentArrayMapIterator.cljs$lang$type = true;
cljs.core.PersistentArrayMapIterator.cljs$lang$ctorStr = "cljs.core/PersistentArrayMapIterator";
cljs.core.PersistentArrayMapIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentArrayMapIterator");
};
cljs.core.__GT_PersistentArrayMapIterator = function cljs$core$__GT_PersistentArrayMapIterator(arr, i, cnt) {
  return new cljs.core.PersistentArrayMapIterator(arr, i, cnt);
};
cljs.core.PersistentArrayMap = function(meta, cnt, arr, __hash) {
  this.meta = meta;
  this.cnt = cnt;
  this.arr = arr;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 16647951;
  this.cljs$lang$protocol_mask$partition1$ = 8196;
};
cljs.core.PersistentArrayMap.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentArrayMap.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentArrayMap.prototype.keys = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1 ? cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.keys.call(null, coll));
};
cljs.core.PersistentArrayMap.prototype.entries = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_entries_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentArrayMap.prototype.values = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1 ? cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.vals.call(null, coll));
};
cljs.core.PersistentArrayMap.prototype.has = function(k) {
  var self__ = this;
  var coll = this;
  return cljs.core.contains_QMARK_(coll, k);
};
cljs.core.PersistentArrayMap.prototype.get = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentArrayMap.prototype.forEach = function(f) {
  var self__ = this;
  var coll = this;
  var seq__10237 = cljs.core.seq(coll);
  var chunk__10238 = null;
  var count__10239 = 0;
  var i__10240 = 0;
  while (true) {
    if (i__10240 < count__10239) {
      var vec__10241 = chunk__10238.cljs$core$IIndexed$_nth$arity$2(null, i__10240);
      var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10241, 0, null);
      var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10241, 1, null);
      f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
      var G__10250 = seq__10237;
      var G__10251 = chunk__10238;
      var G__10252 = count__10239;
      var G__10253 = i__10240 + 1;
      seq__10237 = G__10250;
      chunk__10238 = G__10251;
      count__10239 = G__10252;
      i__10240 = G__10253;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10237);
      if (temp__4657__auto__) {
        var seq__10237__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10237__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10237__$1);
          var G__10254 = cljs.core.chunk_rest(seq__10237__$1);
          var G__10255 = c__6959__auto__;
          var G__10256 = cljs.core.count(c__6959__auto__);
          var G__10257 = 0;
          seq__10237 = G__10254;
          chunk__10238 = G__10255;
          count__10239 = G__10256;
          i__10240 = G__10257;
          continue;
        } else {
          var vec__10242 = cljs.core.first(seq__10237__$1);
          var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10242, 0, null);
          var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10242, 1, null);
          f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
          var G__10258 = cljs.core.next(seq__10237__$1);
          var G__10259 = null;
          var G__10260 = 0;
          var G__10261 = 0;
          seq__10237 = G__10258;
          chunk__10238 = G__10259;
          count__10239 = G__10260;
          i__10240 = G__10261;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  var idx = cljs.core.array_map_index_of(coll__$1, k);
  if (idx === -1) {
    return not_found;
  } else {
    return self__.arr[idx + 1];
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(coll, f, init) {
  var self__ = this;
  var coll__$1 = this;
  var len = self__.arr.length;
  var i = 0;
  var init__$1 = init;
  while (true) {
    if (i < len) {
      var init__$2 = function() {
        var G__10243 = init__$1;
        var G__10244 = self__.arr[i];
        var G__10245 = self__.arr[i + 1];
        return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10243, G__10244, G__10245) : f.call(null, G__10243, G__10244, G__10245);
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10262 = i + 2;
        var G__10263 = init__$2;
        i = G__10262;
        init__$1 = G__10263;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$ = true;
cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$_iterator$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return new cljs.core.PersistentArrayMapIterator(self__.arr, 0, self__.cnt * 2);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentArrayMap(self__.meta, self__.cnt, self__.arr, self__.__hash);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.cnt;
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  if (!(other == null) ? other.cljs$lang$protocol_mask$partition0$ & 1024 || other.cljs$core$IMap$ ? true : false : false) {
    var alen = self__.arr.length;
    var other__$1 = other;
    if (self__.cnt === other__$1.cljs$core$ICounted$_count$arity$1(null)) {
      var i = 0;
      while (true) {
        if (i < alen) {
          var v = other__$1.cljs$core$ILookup$_lookup$arity$3(null, self__.arr[i], cljs.core.lookup_sentinel);
          if (!(v === cljs.core.lookup_sentinel)) {
            if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.arr[i + 1], v)) {
              var G__10264 = i + 2;
              i = G__10264;
              continue;
            } else {
              return false;
            }
          } else {
            return false;
          }
        } else {
          return true;
        }
        break;
      }
    } else {
      return false;
    }
  } else {
    return cljs.core.equiv_map(coll__$1, other);
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.TransientArrayMap({}, self__.arr.length, cljs.core.aclone(self__.arr));
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._with_meta(cljs.core.PersistentArrayMap.EMPTY, self__.meta);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMap$_dissoc$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  var idx = cljs.core.array_map_index_of(coll__$1, k);
  if (idx >= 0) {
    var len = self__.arr.length;
    var new_len = len - 2;
    if (new_len === 0) {
      return cljs.core._empty(coll__$1);
    } else {
      var new_arr = new Array(new_len);
      var s = 0;
      var d = 0;
      while (true) {
        if (s >= len) {
          return new cljs.core.PersistentArrayMap(self__.meta, self__.cnt - 1, new_arr, null);
        } else {
          if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(k, self__.arr[s])) {
            var G__10265 = s + 2;
            var G__10266 = d;
            s = G__10265;
            d = G__10266;
            continue;
          } else {
            new_arr[d] = self__.arr[s];
            new_arr[d + 1] = self__.arr[s + 1];
            var G__10267 = s + 2;
            var G__10268 = d + 2;
            s = G__10267;
            d = G__10268;
            continue;
          }
        }
        break;
      }
    }
  } else {
    return coll__$1;
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, k, v) {
  var self__ = this;
  var coll__$1 = this;
  var idx = cljs.core.array_map_index_of(coll__$1, k);
  if (idx === -1) {
    if (self__.cnt < cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD) {
      var arr__$1 = cljs.core.array_map_extend_kv(coll__$1, k, v);
      return new cljs.core.PersistentArrayMap(self__.meta, self__.cnt + 1, arr__$1, null);
    } else {
      return cljs.core._with_meta(cljs.core._assoc(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY, coll__$1), k, v), self__.meta);
    }
  } else {
    if (v === self__.arr[idx + 1]) {
      return coll__$1;
    } else {
      var arr__$1 = function() {
        var G__10249 = cljs.core.aclone(self__.arr);
        G__10249[idx + 1] = v;
        return G__10249;
      }();
      return new cljs.core.PersistentArrayMap(self__.meta, self__.cnt, arr__$1, null);
    }
  }
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return !(cljs.core.array_map_index_of(coll__$1, k) === -1);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.persistent_array_map_seq(self__.arr, 0, null);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentArrayMap(meta__$1, self__.cnt, self__.arr, self__.__hash);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.vector_QMARK_(entry)) {
    return cljs.core._assoc(coll__$1, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 1));
  } else {
    var ret = coll__$1;
    var es = cljs.core.seq(entry);
    while (true) {
      if (es == null) {
        return ret;
      } else {
        var e = cljs.core.first(es);
        if (cljs.core.vector_QMARK_(e)) {
          var G__10269 = cljs.core._assoc(ret, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 1));
          var G__10270 = cljs.core.next(es);
          ret = G__10269;
          es = G__10270;
          continue;
        } else {
          throw new Error("conj on a map takes map entries or seqables of map entries");
        }
      }
      break;
    }
  }
};
cljs.core.PersistentArrayMap.prototype.call = function() {
  var G__10271 = null;
  var G__10271__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10271__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10271 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10271__2.call(this, self__, k);
      case 3:
        return G__10271__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10271.cljs$core$IFn$_invoke$arity$2 = G__10271__2;
  G__10271.cljs$core$IFn$_invoke$arity$3 = G__10271__3;
  return G__10271;
}();
cljs.core.PersistentArrayMap.prototype.apply = function(self__, args10236) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10236)));
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentArrayMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentArrayMap.cljs$lang$type = true;
cljs.core.PersistentArrayMap.cljs$lang$ctorStr = "cljs.core/PersistentArrayMap";
cljs.core.PersistentArrayMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentArrayMap");
};
cljs.core.__GT_PersistentArrayMap = function cljs$core$__GT_PersistentArrayMap(meta, cnt, arr, __hash) {
  return new cljs.core.PersistentArrayMap(meta, cnt, arr, __hash);
};
cljs.core.PersistentArrayMap.EMPTY = new cljs.core.PersistentArrayMap(null, 0, [], cljs.core.empty_unordered_hash);
cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD = 8;
cljs.core.PersistentArrayMap.fromArray = function(arr, no_clone, no_check) {
  var arr__$1 = no_clone ? arr : cljs.core.aclone(arr);
  var arr__$2 = no_check ? arr__$1 : function() {
    var ret = [];
    var i_10272 = 0;
    while (true) {
      if (i_10272 < arr__$1.length) {
        var k_10273 = arr__$1[i_10272];
        var v_10274 = arr__$1[i_10272 + 1];
        var idx_10275 = cljs.core.array_index_of(ret, k_10273);
        if (idx_10275 === -1) {
          ret.push(k_10273);
          ret.push(v_10274);
        } else {
        }
        var G__10276 = i_10272 + 2;
        i_10272 = G__10276;
        continue;
      } else {
      }
      break;
    }
    return ret;
  }();
  var cnt = arr__$2.length / 2;
  return new cljs.core.PersistentArrayMap(null, cnt, arr__$2, null);
};
cljs.core.PersistentArrayMap.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.TransientArrayMap = function(editable_QMARK_, len, arr) {
  this.editable_QMARK_ = editable_QMARK_;
  this.len = len;
  this.arr = arr;
  this.cljs$lang$protocol_mask$partition0$ = 258;
  this.cljs$lang$protocol_mask$partition1$ = 56;
};
cljs.core.TransientArrayMap.prototype.cljs$core$ICounted$_count$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    return cljs.core.quot(self__.len, 2);
  } else {
    throw new Error("count after persistent!");
  }
};
cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(tcoll, k) {
  var self__ = this;
  var tcoll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(tcoll__$1, k, null);
};
cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(tcoll, k, not_found) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    var idx = cljs.core.array_map_index_of(tcoll__$1, k);
    if (idx === -1) {
      return not_found;
    } else {
      return self__.arr[idx + 1];
    }
  } else {
    throw new Error("lookup after persistent!");
  }
};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2 = function(tcoll, o) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 2048 || o.cljs$core$IMapEntry$ ? true : !o.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry, o) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry, o)) {
      return cljs.core._assoc_BANG_(tcoll__$1, cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(o) : cljs.core.key.call(null, o), cljs.core.val.cljs$core$IFn$_invoke$arity$1 ? cljs.core.val.cljs$core$IFn$_invoke$arity$1(o) : cljs.core.val.call(null, o));
    } else {
      var es = cljs.core.seq(o);
      var tcoll__$2 = tcoll__$1;
      while (true) {
        var temp__4655__auto__ = cljs.core.first(es);
        if (cljs.core.truth_(temp__4655__auto__)) {
          var e = temp__4655__auto__;
          var G__10279 = cljs.core.next(es);
          var G__10280 = cljs.core._assoc_BANG_(tcoll__$2, cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.key.call(null, e), cljs.core.val.cljs$core$IFn$_invoke$arity$1 ? cljs.core.val.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.val.call(null, e));
          es = G__10279;
          tcoll__$2 = G__10280;
          continue;
        } else {
          return tcoll__$2;
        }
        break;
      }
    }
  } else {
    throw new Error("conj! after persistent!");
  }
};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    self__.editable_QMARK_ = false;
    return new cljs.core.PersistentArrayMap(null, cljs.core.quot(self__.len, 2), self__.arr, null);
  } else {
    throw new Error("persistent! called twice");
  }
};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3 = function(tcoll, key, val) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    var idx = cljs.core.array_map_index_of(tcoll__$1, key);
    if (idx === -1) {
      if (self__.len + 2 <= 2 * cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD) {
        self__.len = self__.len + 2;
        self__.arr.push(key);
        self__.arr.push(val);
        return tcoll__$1;
      } else {
        return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2 ? cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2(self__.len, self__.arr) : cljs.core.array__GT_transient_hash_map.call(null, self__.len, self__.arr), key, val);
      }
    } else {
      if (val === self__.arr[idx + 1]) {
        return tcoll__$1;
      } else {
        self__.arr[idx + 1] = val;
        return tcoll__$1;
      }
    }
  } else {
    throw new Error("assoc! after persistent!");
  }
};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2 = function(tcoll, key) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core.truth_(self__.editable_QMARK_)) {
    var idx = cljs.core.array_map_index_of(tcoll__$1, key);
    if (idx >= 0) {
      self__.arr[idx] = self__.arr[self__.len - 2];
      self__.arr[idx + 1] = self__.arr[self__.len - 1];
      var G__10278_10281 = self__.arr;
      G__10278_10281.pop();
      G__10278_10281.pop();
      self__.len = self__.len - 2;
    } else {
    }
    return tcoll__$1;
  } else {
    throw new Error("dissoc! after persistent!");
  }
};
cljs.core.TransientArrayMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "editable?", "editable?", -164945806, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "len", "len", -1230778691, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), 
  new cljs.core.Symbol(null, "arr", "arr", 2115492975, null)], null);
};
cljs.core.TransientArrayMap.cljs$lang$type = true;
cljs.core.TransientArrayMap.cljs$lang$ctorStr = "cljs.core/TransientArrayMap";
cljs.core.TransientArrayMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/TransientArrayMap");
};
cljs.core.__GT_TransientArrayMap = function cljs$core$__GT_TransientArrayMap(editable_QMARK_, len, arr) {
  return new cljs.core.TransientArrayMap(editable_QMARK_, len, arr);
};
cljs.core.array__GT_transient_hash_map = function cljs$core$array__GT_transient_hash_map(len, arr) {
  var out = cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);
  var i = 0;
  while (true) {
    if (i < len) {
      var G__10282 = cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out, arr[i], arr[i + 1]);
      var G__10283 = i + 2;
      out = G__10282;
      i = G__10283;
      continue;
    } else {
      return out;
    }
    break;
  }
};
cljs.core.Box = function(val) {
  this.val = val;
};
cljs.core.Box.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "val", "val", 1769233139, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.Box.cljs$lang$type = true;
cljs.core.Box.cljs$lang$ctorStr = "cljs.core/Box";
cljs.core.Box.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Box");
};
cljs.core.__GT_Box = function cljs$core$__GT_Box(val) {
  return new cljs.core.Box(val);
};
cljs.core.key_test = function cljs$core$key_test(key, other) {
  if (key === other) {
    return true;
  } else {
    if (cljs.core.keyword_identical_QMARK_(key, other)) {
      return true;
    } else {
      return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(key, other);
    }
  }
};
cljs.core.mask = function cljs$core$mask(hash, shift) {
  return hash >>> shift & 31;
};
cljs.core.clone_and_set = function cljs$core$clone_and_set(var_args) {
  var args10284 = [];
  var len__7214__auto___10289 = arguments.length;
  var i__7215__auto___10290 = 0;
  while (true) {
    if (i__7215__auto___10290 < len__7214__auto___10289) {
      args10284.push(arguments[i__7215__auto___10290]);
      var G__10291 = i__7215__auto___10290 + 1;
      i__7215__auto___10290 = G__10291;
      continue;
    } else {
    }
    break;
  }
  var G__10286 = args10284.length;
  switch(G__10286) {
    case 3:
      return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 5:
      return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10284.length)].join(""));;
  }
};
cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3 = function(arr, i, a) {
  var G__10287 = cljs.core.aclone(arr);
  G__10287[i] = a;
  return G__10287;
};
cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5 = function(arr, i, a, j, b) {
  var G__10288 = cljs.core.aclone(arr);
  G__10288[i] = a;
  G__10288[j] = b;
  return G__10288;
};
cljs.core.clone_and_set.cljs$lang$maxFixedArity = 5;
cljs.core.remove_pair = function cljs$core$remove_pair(arr, i) {
  var new_arr = new Array(arr.length - 2);
  cljs.core.array_copy(arr, 0, new_arr, 0, 2 * i);
  cljs.core.array_copy(arr, 2 * (i + 1), new_arr, 2 * i, new_arr.length - 2 * i);
  return new_arr;
};
cljs.core.bitmap_indexed_node_index = function cljs$core$bitmap_indexed_node_index(bitmap, bit) {
  return cljs.core.bit_count(bitmap & bit - 1);
};
cljs.core.bitpos = function cljs$core$bitpos(hash, shift) {
  return 1 << (hash >>> shift & 31);
};
cljs.core.edit_and_set = function cljs$core$edit_and_set(var_args) {
  var args10293 = [];
  var len__7214__auto___10296 = arguments.length;
  var i__7215__auto___10297 = 0;
  while (true) {
    if (i__7215__auto___10297 < len__7214__auto___10296) {
      args10293.push(arguments[i__7215__auto___10297]);
      var G__10298 = i__7215__auto___10297 + 1;
      i__7215__auto___10297 = G__10298;
      continue;
    } else {
    }
    break;
  }
  var G__10295 = args10293.length;
  switch(G__10295) {
    case 4:
      return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 6:
      return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10293.length)].join(""));;
  }
};
cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4 = function(inode, edit, i, a) {
  var editable = inode.ensure_editable(edit);
  editable.arr[i] = a;
  return editable;
};
cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6 = function(inode, edit, i, a, j, b) {
  var editable = inode.ensure_editable(edit);
  editable.arr[i] = a;
  editable.arr[j] = b;
  return editable;
};
cljs.core.edit_and_set.cljs$lang$maxFixedArity = 6;
cljs.core.inode_kv_reduce = function cljs$core$inode_kv_reduce(arr, f, init) {
  var len = arr.length;
  var i = 0;
  var init__$1 = init;
  while (true) {
    if (i < len) {
      var init__$2 = function() {
        var k = arr[i];
        if (!(k == null)) {
          var G__10303 = init__$1;
          var G__10304 = k;
          var G__10305 = arr[i + 1];
          return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10303, G__10304, G__10305) : f.call(null, G__10303, G__10304, G__10305);
        } else {
          var node = arr[i + 1];
          if (!(node == null)) {
            return node.kv_reduce(f, init__$1);
          } else {
            return init__$1;
          }
        }
      }();
      if (cljs.core.reduced_QMARK_(init__$2)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
      } else {
        var G__10306 = i + 2;
        var G__10307 = init__$2;
        i = G__10306;
        init__$1 = G__10307;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.NodeIterator = function(arr, i, next_entry, next_iter) {
  this.arr = arr;
  this.i = i;
  this.next_entry = next_entry;
  this.next_iter = next_iter;
};
cljs.core.NodeIterator.prototype.advance = function() {
  var self__ = this;
  var this$ = this;
  var len = self__.arr.length;
  while (true) {
    if (self__.i < len) {
      var key = self__.arr[self__.i];
      var node_or_val = self__.arr[self__.i + 1];
      var found = cljs.core.some_QMARK_(key) ? self__.next_entry = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [key, node_or_val], null) : cljs.core.some_QMARK_(node_or_val) ? function() {
        var new_iter = cljs.core._iterator(node_or_val);
        if (new_iter.hasNext()) {
          return self__.next_iter = new_iter;
        } else {
          return false;
        }
      }() : false;
      self__.i = self__.i + 2;
      if (found) {
        return true;
      } else {
        continue;
      }
    } else {
      return false;
    }
    break;
  }
};
cljs.core.NodeIterator.prototype.hasNext = function() {
  var self__ = this;
  var this$ = this;
  var or__6156__auto__ = cljs.core.some_QMARK_(self__.next_entry);
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    var or__6156__auto____$1 = cljs.core.some_QMARK_(self__.next_iter);
    if (or__6156__auto____$1) {
      return or__6156__auto____$1;
    } else {
      return this$.advance();
    }
  }
};
cljs.core.NodeIterator.prototype.next = function() {
  var self__ = this;
  var this$ = this;
  if (cljs.core.some_QMARK_(self__.next_entry)) {
    var ret = self__.next_entry;
    self__.next_entry = null;
    return ret;
  } else {
    if (cljs.core.some_QMARK_(self__.next_iter)) {
      var ret = self__.next_iter.next();
      if (self__.next_iter.hasNext()) {
      } else {
        self__.next_iter = null;
      }
      return ret;
    } else {
      if (this$.advance()) {
        return this$.next();
      } else {
        throw new Error("No such element");
      }
    }
  }
};
cljs.core.NodeIterator.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.NodeIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "next-entry", "next-entry", 1091342476, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "next-iter", "next-iter", 1526626239, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.NodeIterator.cljs$lang$type = true;
cljs.core.NodeIterator.cljs$lang$ctorStr = "cljs.core/NodeIterator";
cljs.core.NodeIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/NodeIterator");
};
cljs.core.__GT_NodeIterator = function cljs$core$__GT_NodeIterator(arr, i, next_entry, next_iter) {
  return new cljs.core.NodeIterator(arr, i, next_entry, next_iter);
};
cljs.core.BitmapIndexedNode = function(edit, bitmap, arr) {
  this.edit = edit;
  this.bitmap = bitmap;
  this.arr = arr;
};
cljs.core.BitmapIndexedNode.prototype.ensure_editable = function(e) {
  var self__ = this;
  var inode = this;
  if (e === self__.edit) {
    return inode;
  } else {
    var n = cljs.core.bit_count(self__.bitmap);
    var new_arr = new Array(n < 0 ? 4 : 2 * (n + 1));
    cljs.core.array_copy(self__.arr, 0, new_arr, 0, 2 * n);
    return new cljs.core.BitmapIndexedNode(e, self__.bitmap, new_arr);
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_without_BANG_ = function(edit__$1, shift, hash, key, removed_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  if ((self__.bitmap & bit) === 0) {
    return inode;
  } else {
    var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      var n = val_or_node.inode_without_BANG_(edit__$1, shift + 5, hash, key, removed_leaf_QMARK_);
      if (n === val_or_node) {
        return inode;
      } else {
        if (!(n == null)) {
          return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, 2 * idx + 1, n);
        } else {
          if (self__.bitmap === bit) {
            return null;
          } else {
            return inode.edit_and_remove_pair(edit__$1, bit, idx);
          }
        }
      }
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        removed_leaf_QMARK_[0] = true;
        return inode.edit_and_remove_pair(edit__$1, bit, idx);
      } else {
        return inode;
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.edit_and_remove_pair = function(e, bit, i) {
  var self__ = this;
  var inode = this;
  if (self__.bitmap === bit) {
    return null;
  } else {
    var editable = inode.ensure_editable(e);
    var earr = editable.arr;
    var len = earr.length;
    editable.bitmap = bit ^ editable.bitmap;
    cljs.core.array_copy(earr, 2 * (i + 1), earr, 2 * i, len - 2 * (i + 1));
    earr[len - 2] = null;
    earr[len - 1] = null;
    return editable;
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_seq = function() {
  var self__ = this;
  var inode = this;
  return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1 ? cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(self__.arr) : cljs.core.create_inode_seq.call(null, self__.arr);
};
cljs.core.BitmapIndexedNode.prototype.kv_reduce = function(f, init) {
  var self__ = this;
  var inode = this;
  return cljs.core.inode_kv_reduce(self__.arr, f, init);
};
cljs.core.BitmapIndexedNode.prototype.inode_lookup = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  if ((self__.bitmap & bit) === 0) {
    return not_found;
  } else {
    var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      return val_or_node.inode_lookup(shift + 5, hash, key, not_found);
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        return val_or_node;
      } else {
        return not_found;
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_assoc_BANG_ = function(edit__$1, shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
  if ((self__.bitmap & bit) === 0) {
    var n = cljs.core.bit_count(self__.bitmap);
    if (2 * n < self__.arr.length) {
      var editable = inode.ensure_editable(edit__$1);
      var earr = editable.arr;
      added_leaf_QMARK_.val = true;
      cljs.core.array_copy_downward(earr, 2 * idx, earr, 2 * (idx + 1), 2 * (n - idx));
      earr[2 * idx] = key;
      earr[2 * idx + 1] = val;
      editable.bitmap = editable.bitmap | bit;
      return editable;
    } else {
      if (n >= 16) {
        var nodes = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
        var jdx = hash >>> shift & 31;
        nodes[jdx] = cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1, shift + 5, hash, key, val, added_leaf_QMARK_);
        var i_10321 = 0;
        var j_10322 = 0;
        while (true) {
          if (i_10321 < 32) {
            if ((self__.bitmap >>> i_10321 & 1) === 0) {
              var G__10323 = i_10321 + 1;
              var G__10324 = j_10322;
              i_10321 = G__10323;
              j_10322 = G__10324;
              continue;
            } else {
              nodes[i_10321] = !(self__.arr[j_10322] == null) ? cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1, shift + 5, cljs.core.hash(self__.arr[j_10322]), self__.arr[j_10322], self__.arr[j_10322 + 1], added_leaf_QMARK_) : self__.arr[j_10322 + 1];
              var G__10325 = i_10321 + 1;
              var G__10326 = j_10322 + 2;
              i_10321 = G__10325;
              j_10322 = G__10326;
              continue;
            }
          } else {
          }
          break;
        }
        return new cljs.core.ArrayNode(edit__$1, n + 1, nodes);
      } else {
        var new_arr = new Array(2 * (n + 4));
        cljs.core.array_copy(self__.arr, 0, new_arr, 0, 2 * idx);
        new_arr[2 * idx] = key;
        new_arr[2 * idx + 1] = val;
        cljs.core.array_copy(self__.arr, 2 * idx, new_arr, 2 * (idx + 1), 2 * (n - idx));
        added_leaf_QMARK_.val = true;
        var editable = inode.ensure_editable(edit__$1);
        editable.arr = new_arr;
        editable.bitmap = editable.bitmap | bit;
        return editable;
      }
    }
  } else {
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      var n = val_or_node.inode_assoc_BANG_(edit__$1, shift + 5, hash, key, val, added_leaf_QMARK_);
      if (n === val_or_node) {
        return inode;
      } else {
        return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, 2 * idx + 1, n);
      }
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        if (val === val_or_node) {
          return inode;
        } else {
          return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, 2 * idx + 1, val);
        }
      } else {
        added_leaf_QMARK_.val = true;
        return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(inode, edit__$1, 2 * idx, null, 2 * idx + 1, function() {
          var G__10308 = edit__$1;
          var G__10309 = shift + 5;
          var G__10310 = key_or_nil;
          var G__10311 = val_or_node;
          var G__10312 = hash;
          var G__10313 = key;
          var G__10314 = val;
          return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7 ? cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(G__10308, G__10309, G__10310, G__10311, G__10312, G__10313, G__10314) : cljs.core.create_node.call(null, G__10308, G__10309, G__10310, G__10311, G__10312, G__10313, G__10314);
        }());
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_assoc = function(shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
  if ((self__.bitmap & bit) === 0) {
    var n = cljs.core.bit_count(self__.bitmap);
    if (n >= 16) {
      var nodes = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
      var jdx = hash >>> shift & 31;
      nodes[jdx] = cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift + 5, hash, key, val, added_leaf_QMARK_);
      var i_10327 = 0;
      var j_10328 = 0;
      while (true) {
        if (i_10327 < 32) {
          if ((self__.bitmap >>> i_10327 & 1) === 0) {
            var G__10329 = i_10327 + 1;
            var G__10330 = j_10328;
            i_10327 = G__10329;
            j_10328 = G__10330;
            continue;
          } else {
            nodes[i_10327] = !(self__.arr[j_10328] == null) ? cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift + 5, cljs.core.hash(self__.arr[j_10328]), self__.arr[j_10328], self__.arr[j_10328 + 1], added_leaf_QMARK_) : self__.arr[j_10328 + 1];
            var G__10331 = i_10327 + 1;
            var G__10332 = j_10328 + 2;
            i_10327 = G__10331;
            j_10328 = G__10332;
            continue;
          }
        } else {
        }
        break;
      }
      return new cljs.core.ArrayNode(null, n + 1, nodes);
    } else {
      var new_arr = new Array(2 * (n + 1));
      cljs.core.array_copy(self__.arr, 0, new_arr, 0, 2 * idx);
      new_arr[2 * idx] = key;
      new_arr[2 * idx + 1] = val;
      cljs.core.array_copy(self__.arr, 2 * idx, new_arr, 2 * (idx + 1), 2 * (n - idx));
      added_leaf_QMARK_.val = true;
      return new cljs.core.BitmapIndexedNode(null, self__.bitmap | bit, new_arr);
    }
  } else {
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      var n = val_or_node.inode_assoc(shift + 5, hash, key, val, added_leaf_QMARK_);
      if (n === val_or_node) {
        return inode;
      } else {
        return new cljs.core.BitmapIndexedNode(null, self__.bitmap, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, 2 * idx + 1, n));
      }
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        if (val === val_or_node) {
          return inode;
        } else {
          return new cljs.core.BitmapIndexedNode(null, self__.bitmap, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, 2 * idx + 1, val));
        }
      } else {
        added_leaf_QMARK_.val = true;
        return new cljs.core.BitmapIndexedNode(null, self__.bitmap, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(self__.arr, 2 * idx, null, 2 * idx + 1, function() {
          var G__10315 = shift + 5;
          var G__10316 = key_or_nil;
          var G__10317 = val_or_node;
          var G__10318 = hash;
          var G__10319 = key;
          var G__10320 = val;
          return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6 ? cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(G__10315, G__10316, G__10317, G__10318, G__10319, G__10320) : cljs.core.create_node.call(null, G__10315, G__10316, G__10317, G__10318, G__10319, G__10320);
        }()));
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_find = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  if ((self__.bitmap & bit) === 0) {
    return not_found;
  } else {
    var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      return val_or_node.inode_find(shift + 5, hash, key, not_found);
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [key_or_nil, val_or_node], null);
      } else {
        return not_found;
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.inode_without = function(shift, hash, key) {
  var self__ = this;
  var inode = this;
  var bit = 1 << (hash >>> shift & 31);
  if ((self__.bitmap & bit) === 0) {
    return inode;
  } else {
    var idx = cljs.core.bitmap_indexed_node_index(self__.bitmap, bit);
    var key_or_nil = self__.arr[2 * idx];
    var val_or_node = self__.arr[2 * idx + 1];
    if (key_or_nil == null) {
      var n = val_or_node.inode_without(shift + 5, hash, key);
      if (n === val_or_node) {
        return inode;
      } else {
        if (!(n == null)) {
          return new cljs.core.BitmapIndexedNode(null, self__.bitmap, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, 2 * idx + 1, n));
        } else {
          if (self__.bitmap === bit) {
            return null;
          } else {
            return new cljs.core.BitmapIndexedNode(null, self__.bitmap ^ bit, cljs.core.remove_pair(self__.arr, idx));
          }
        }
      }
    } else {
      if (cljs.core.key_test(key, key_or_nil)) {
        return new cljs.core.BitmapIndexedNode(null, self__.bitmap ^ bit, cljs.core.remove_pair(self__.arr, idx));
      } else {
        return inode;
      }
    }
  }
};
cljs.core.BitmapIndexedNode.prototype.cljs$core$IIterable$ = true;
cljs.core.BitmapIndexedNode.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.NodeIterator(self__.arr, 0, null, null);
};
cljs.core.BitmapIndexedNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "edit", "edit", -1302639, null), cljs.core.with_meta(new cljs.core.Symbol(null, "bitmap", "bitmap", 501334601, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.BitmapIndexedNode.cljs$lang$type = true;
cljs.core.BitmapIndexedNode.cljs$lang$ctorStr = "cljs.core/BitmapIndexedNode";
cljs.core.BitmapIndexedNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/BitmapIndexedNode");
};
cljs.core.__GT_BitmapIndexedNode = function cljs$core$__GT_BitmapIndexedNode(edit, bitmap, arr) {
  return new cljs.core.BitmapIndexedNode(edit, bitmap, arr);
};
cljs.core.BitmapIndexedNode.EMPTY = new cljs.core.BitmapIndexedNode(null, 0, []);
cljs.core.pack_array_node = function cljs$core$pack_array_node(array_node, edit, idx) {
  var arr = array_node.arr;
  var len = arr.length;
  var new_arr = new Array(2 * (array_node.cnt - 1));
  var i = 0;
  var j = 1;
  var bitmap = 0;
  while (true) {
    if (i < len) {
      if (!(i === idx) && !(arr[i] == null)) {
        new_arr[j] = arr[i];
        var G__10333 = i + 1;
        var G__10334 = j + 2;
        var G__10335 = bitmap | 1 << i;
        i = G__10333;
        j = G__10334;
        bitmap = G__10335;
        continue;
      } else {
        var G__10336 = i + 1;
        var G__10337 = j;
        var G__10338 = bitmap;
        i = G__10336;
        j = G__10337;
        bitmap = G__10338;
        continue;
      }
    } else {
      return new cljs.core.BitmapIndexedNode(edit, bitmap, new_arr);
    }
    break;
  }
};
cljs.core.ArrayNodeIterator = function(arr, i, next_iter) {
  this.arr = arr;
  this.i = i;
  this.next_iter = next_iter;
};
cljs.core.ArrayNodeIterator.prototype.hasNext = function() {
  var self__ = this;
  var this$ = this;
  var len = self__.arr.length;
  while (true) {
    if (!(cljs.core.some_QMARK_(self__.next_iter) && self__.next_iter.hasNext())) {
      if (self__.i < len) {
        var node = self__.arr[self__.i];
        self__.i = self__.i + 1;
        if (cljs.core.some_QMARK_(node)) {
          self__.next_iter = cljs.core._iterator(node);
        } else {
        }
        continue;
      } else {
        return false;
      }
    } else {
      return true;
    }
    break;
  }
};
cljs.core.ArrayNodeIterator.prototype.next = function() {
  var self__ = this;
  var this$ = this;
  if (this$.hasNext()) {
    return self__.next_iter.next();
  } else {
    throw new Error("No such element");
  }
};
cljs.core.ArrayNodeIterator.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.ArrayNodeIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "next-iter", "next-iter", 1526626239, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ArrayNodeIterator.cljs$lang$type = true;
cljs.core.ArrayNodeIterator.cljs$lang$ctorStr = "cljs.core/ArrayNodeIterator";
cljs.core.ArrayNodeIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayNodeIterator");
};
cljs.core.__GT_ArrayNodeIterator = function cljs$core$__GT_ArrayNodeIterator(arr, i, next_iter) {
  return new cljs.core.ArrayNodeIterator(arr, i, next_iter);
};
cljs.core.ArrayNode = function(edit, cnt, arr) {
  this.edit = edit;
  this.cnt = cnt;
  this.arr = arr;
};
cljs.core.ArrayNode.prototype.ensure_editable = function(e) {
  var self__ = this;
  var inode = this;
  if (e === self__.edit) {
    return inode;
  } else {
    return new cljs.core.ArrayNode(e, self__.cnt, cljs.core.aclone(self__.arr));
  }
};
cljs.core.ArrayNode.prototype.inode_without_BANG_ = function(edit__$1, shift, hash, key, removed_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (node == null) {
    return inode;
  } else {
    var n = node.inode_without_BANG_(edit__$1, shift + 5, hash, key, removed_leaf_QMARK_);
    if (n === node) {
      return inode;
    } else {
      if (n == null) {
        if (self__.cnt <= 8) {
          return cljs.core.pack_array_node(inode, edit__$1, idx);
        } else {
          var editable = cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, idx, n);
          editable.cnt = editable.cnt - 1;
          return editable;
        }
      } else {
        return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, idx, n);
      }
    }
  }
};
cljs.core.ArrayNode.prototype.inode_seq = function() {
  var self__ = this;
  var inode = this;
  return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1 ? cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(self__.arr) : cljs.core.create_array_node_seq.call(null, self__.arr);
};
cljs.core.ArrayNode.prototype.kv_reduce = function(f, init) {
  var self__ = this;
  var inode = this;
  var len = self__.arr.length;
  var i = 0;
  var init__$1 = init;
  while (true) {
    if (i < len) {
      var node = self__.arr[i];
      if (!(node == null)) {
        var init__$2 = node.kv_reduce(f, init__$1);
        if (cljs.core.reduced_QMARK_(init__$2)) {
          return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
        } else {
          var G__10339 = i + 1;
          var G__10340 = init__$2;
          i = G__10339;
          init__$1 = G__10340;
          continue;
        }
      } else {
        var G__10341 = i + 1;
        var G__10342 = init__$1;
        i = G__10341;
        init__$1 = G__10342;
        continue;
      }
    } else {
      return init__$1;
    }
    break;
  }
};
cljs.core.ArrayNode.prototype.inode_lookup = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (!(node == null)) {
    return node.inode_lookup(shift + 5, hash, key, not_found);
  } else {
    return not_found;
  }
};
cljs.core.ArrayNode.prototype.inode_assoc_BANG_ = function(edit__$1, shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (node == null) {
    var editable = cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, idx, cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1, shift + 5, hash, key, val, added_leaf_QMARK_));
    editable.cnt = editable.cnt + 1;
    return editable;
  } else {
    var n = node.inode_assoc_BANG_(edit__$1, shift + 5, hash, key, val, added_leaf_QMARK_);
    if (n === node) {
      return inode;
    } else {
      return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, idx, n);
    }
  }
};
cljs.core.ArrayNode.prototype.inode_assoc = function(shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (node == null) {
    return new cljs.core.ArrayNode(null, self__.cnt + 1, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, idx, cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift + 5, hash, key, val, added_leaf_QMARK_)));
  } else {
    var n = node.inode_assoc(shift + 5, hash, key, val, added_leaf_QMARK_);
    if (n === node) {
      return inode;
    } else {
      return new cljs.core.ArrayNode(null, self__.cnt, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, idx, n));
    }
  }
};
cljs.core.ArrayNode.prototype.inode_find = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (!(node == null)) {
    return node.inode_find(shift + 5, hash, key, not_found);
  } else {
    return not_found;
  }
};
cljs.core.ArrayNode.prototype.inode_without = function(shift, hash, key) {
  var self__ = this;
  var inode = this;
  var idx = hash >>> shift & 31;
  var node = self__.arr[idx];
  if (!(node == null)) {
    var n = node.inode_without(shift + 5, hash, key);
    if (n === node) {
      return inode;
    } else {
      if (n == null) {
        if (self__.cnt <= 8) {
          return cljs.core.pack_array_node(inode, null, idx);
        } else {
          return new cljs.core.ArrayNode(null, self__.cnt - 1, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, idx, n));
        }
      } else {
        return new cljs.core.ArrayNode(null, self__.cnt, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, idx, n));
      }
    }
  } else {
    return inode;
  }
};
cljs.core.ArrayNode.prototype.cljs$core$IIterable$ = true;
cljs.core.ArrayNode.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.ArrayNodeIterator(self__.arr, 0, null);
};
cljs.core.ArrayNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "edit", "edit", -1302639, null), cljs.core.with_meta(new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ArrayNode.cljs$lang$type = true;
cljs.core.ArrayNode.cljs$lang$ctorStr = "cljs.core/ArrayNode";
cljs.core.ArrayNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayNode");
};
cljs.core.__GT_ArrayNode = function cljs$core$__GT_ArrayNode(edit, cnt, arr) {
  return new cljs.core.ArrayNode(edit, cnt, arr);
};
cljs.core.hash_collision_node_find_index = function cljs$core$hash_collision_node_find_index(arr, cnt, key) {
  var lim = 2 * cnt;
  var i = 0;
  while (true) {
    if (i < lim) {
      if (cljs.core.key_test(key, arr[i])) {
        return i;
      } else {
        var G__10343 = i + 2;
        i = G__10343;
        continue;
      }
    } else {
      return -1;
    }
    break;
  }
};
cljs.core.HashCollisionNode = function(edit, collision_hash, cnt, arr) {
  this.edit = edit;
  this.collision_hash = collision_hash;
  this.cnt = cnt;
  this.arr = arr;
};
cljs.core.HashCollisionNode.prototype.ensure_editable = function(e) {
  var self__ = this;
  var inode = this;
  if (e === self__.edit) {
    return inode;
  } else {
    var new_arr = new Array(2 * (self__.cnt + 1));
    cljs.core.array_copy(self__.arr, 0, new_arr, 0, 2 * self__.cnt);
    return new cljs.core.HashCollisionNode(e, self__.collision_hash, self__.cnt, new_arr);
  }
};
cljs.core.HashCollisionNode.prototype.inode_without_BANG_ = function(edit__$1, shift, hash, key, removed_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
  if (idx === -1) {
    return inode;
  } else {
    removed_leaf_QMARK_[0] = true;
    if (self__.cnt === 1) {
      return null;
    } else {
      var editable = inode.ensure_editable(edit__$1);
      var earr = editable.arr;
      earr[idx] = earr[2 * self__.cnt - 2];
      earr[idx + 1] = earr[2 * self__.cnt - 1];
      earr[2 * self__.cnt - 1] = null;
      earr[2 * self__.cnt - 2] = null;
      editable.cnt = editable.cnt - 1;
      return editable;
    }
  }
};
cljs.core.HashCollisionNode.prototype.inode_seq = function() {
  var self__ = this;
  var inode = this;
  return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1 ? cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(self__.arr) : cljs.core.create_inode_seq.call(null, self__.arr);
};
cljs.core.HashCollisionNode.prototype.kv_reduce = function(f, init) {
  var self__ = this;
  var inode = this;
  return cljs.core.inode_kv_reduce(self__.arr, f, init);
};
cljs.core.HashCollisionNode.prototype.inode_lookup = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
  if (idx < 0) {
    return not_found;
  } else {
    if (cljs.core.key_test(key, self__.arr[idx])) {
      return self__.arr[idx + 1];
    } else {
      return not_found;
    }
  }
};
cljs.core.HashCollisionNode.prototype.inode_assoc_BANG_ = function(edit__$1, shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  if (hash === self__.collision_hash) {
    var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
    if (idx === -1) {
      if (self__.arr.length > 2 * self__.cnt) {
        var editable = cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(inode, edit__$1, 2 * self__.cnt, key, 2 * self__.cnt + 1, val);
        added_leaf_QMARK_.val = true;
        editable.cnt = editable.cnt + 1;
        return editable;
      } else {
        var len = self__.arr.length;
        var new_arr = new Array(len + 2);
        cljs.core.array_copy(self__.arr, 0, new_arr, 0, len);
        new_arr[len] = key;
        new_arr[len + 1] = val;
        added_leaf_QMARK_.val = true;
        return inode.ensure_editable_array(edit__$1, self__.cnt + 1, new_arr);
      }
    } else {
      if (self__.arr[idx + 1] === val) {
        return inode;
      } else {
        return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode, edit__$1, idx + 1, val);
      }
    }
  } else {
    return (new cljs.core.BitmapIndexedNode(edit__$1, 1 << (self__.collision_hash >>> shift & 31), [null, inode, null, null])).inode_assoc_BANG_(edit__$1, shift, hash, key, val, added_leaf_QMARK_);
  }
};
cljs.core.HashCollisionNode.prototype.inode_assoc = function(shift, hash, key, val, added_leaf_QMARK_) {
  var self__ = this;
  var inode = this;
  if (hash === self__.collision_hash) {
    var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
    if (idx === -1) {
      var len = 2 * self__.cnt;
      var new_arr = new Array(len + 2);
      cljs.core.array_copy(self__.arr, 0, new_arr, 0, len);
      new_arr[len] = key;
      new_arr[len + 1] = val;
      added_leaf_QMARK_.val = true;
      return new cljs.core.HashCollisionNode(null, self__.collision_hash, self__.cnt + 1, new_arr);
    } else {
      if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.arr[idx], val)) {
        return inode;
      } else {
        return new cljs.core.HashCollisionNode(null, self__.collision_hash, self__.cnt, cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr, idx + 1, val));
      }
    }
  } else {
    return (new cljs.core.BitmapIndexedNode(null, 1 << (self__.collision_hash >>> shift & 31), [null, inode])).inode_assoc(shift, hash, key, val, added_leaf_QMARK_);
  }
};
cljs.core.HashCollisionNode.prototype.ensure_editable_array = function(e, count, array) {
  var self__ = this;
  var inode = this;
  if (e === self__.edit) {
    self__.arr = array;
    self__.cnt = count;
    return inode;
  } else {
    return new cljs.core.HashCollisionNode(self__.edit, self__.collision_hash, count, array);
  }
};
cljs.core.HashCollisionNode.prototype.inode_find = function(shift, hash, key, not_found) {
  var self__ = this;
  var inode = this;
  var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
  if (idx < 0) {
    return not_found;
  } else {
    if (cljs.core.key_test(key, self__.arr[idx])) {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.arr[idx], self__.arr[idx + 1]], null);
    } else {
      return not_found;
    }
  }
};
cljs.core.HashCollisionNode.prototype.inode_without = function(shift, hash, key) {
  var self__ = this;
  var inode = this;
  var idx = cljs.core.hash_collision_node_find_index(self__.arr, self__.cnt, key);
  if (idx === -1) {
    return inode;
  } else {
    if (self__.cnt === 1) {
      return null;
    } else {
      return new cljs.core.HashCollisionNode(null, self__.collision_hash, self__.cnt - 1, cljs.core.remove_pair(self__.arr, cljs.core.quot(idx, 2)));
    }
  }
};
cljs.core.HashCollisionNode.prototype.cljs$core$IIterable$ = true;
cljs.core.HashCollisionNode.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.NodeIterator(self__.arr, 0, null, null);
};
cljs.core.HashCollisionNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "edit", "edit", -1302639, null), cljs.core.with_meta(new cljs.core.Symbol(null, "collision-hash", "collision-hash", -35831342, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, 
  "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.HashCollisionNode.cljs$lang$type = true;
cljs.core.HashCollisionNode.cljs$lang$ctorStr = "cljs.core/HashCollisionNode";
cljs.core.HashCollisionNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/HashCollisionNode");
};
cljs.core.__GT_HashCollisionNode = function cljs$core$__GT_HashCollisionNode(edit, collision_hash, cnt, arr) {
  return new cljs.core.HashCollisionNode(edit, collision_hash, cnt, arr);
};
cljs.core.create_node = function cljs$core$create_node(var_args) {
  var args10344 = [];
  var len__7214__auto___10347 = arguments.length;
  var i__7215__auto___10348 = 0;
  while (true) {
    if (i__7215__auto___10348 < len__7214__auto___10347) {
      args10344.push(arguments[i__7215__auto___10348]);
      var G__10349 = i__7215__auto___10348 + 1;
      i__7215__auto___10348 = G__10349;
      continue;
    } else {
    }
    break;
  }
  var G__10346 = args10344.length;
  switch(G__10346) {
    case 6:
      return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    case 7:
      return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10344.length)].join(""));;
  }
};
cljs.core.create_node.cljs$core$IFn$_invoke$arity$6 = function(shift, key1, val1, key2hash, key2, val2) {
  var key1hash = cljs.core.hash(key1);
  if (key1hash === key2hash) {
    return new cljs.core.HashCollisionNode(null, key1hash, 2, [key1, val1, key2, val2]);
  } else {
    var added_leaf_QMARK_ = new cljs.core.Box(false);
    return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift, key1hash, key1, val1, added_leaf_QMARK_).inode_assoc(shift, key2hash, key2, val2, added_leaf_QMARK_);
  }
};
cljs.core.create_node.cljs$core$IFn$_invoke$arity$7 = function(edit, shift, key1, val1, key2hash, key2, val2) {
  var key1hash = cljs.core.hash(key1);
  if (key1hash === key2hash) {
    return new cljs.core.HashCollisionNode(null, key1hash, 2, [key1, val1, key2, val2]);
  } else {
    var added_leaf_QMARK_ = new cljs.core.Box(false);
    return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit, shift, key1hash, key1, val1, added_leaf_QMARK_).inode_assoc_BANG_(edit, shift, key2hash, key2, val2, added_leaf_QMARK_);
  }
};
cljs.core.create_node.cljs$lang$maxFixedArity = 7;
cljs.core.NodeSeq = function(meta, nodes, i, s, __hash) {
  this.meta = meta;
  this.nodes = nodes;
  this.i = i;
  this.s = s;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32374860;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.NodeSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.NodeSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.NodeSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.NodeSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.NodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.NodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.NodeSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.s == null) {
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.nodes[self__.i], self__.nodes[self__.i + 1]], null);
  } else {
    return cljs.core.first(self__.s);
  }
};
cljs.core.NodeSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.s == null) {
    var G__10351 = self__.nodes;
    var G__10352 = self__.i + 2;
    var G__10353 = null;
    return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3 ? cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(G__10351, G__10352, G__10353) : cljs.core.create_inode_seq.call(null, G__10351, G__10352, G__10353);
  } else {
    var G__10354 = self__.nodes;
    var G__10355 = self__.i;
    var G__10356 = cljs.core.next(self__.s);
    return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3 ? cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(G__10354, G__10355, G__10356) : cljs.core.create_inode_seq.call(null, G__10354, G__10355, G__10356);
  }
};
cljs.core.NodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return this$__$1;
};
cljs.core.NodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.NodeSeq(meta__$1, self__.nodes, self__.i, self__.s, self__.__hash);
};
cljs.core.NodeSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.NodeSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "nodes", "nodes", -459054278, null), new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.Symbol(null, "s", "s", -948495851, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 
  875778266), true], null))], null);
};
cljs.core.NodeSeq.cljs$lang$type = true;
cljs.core.NodeSeq.cljs$lang$ctorStr = "cljs.core/NodeSeq";
cljs.core.NodeSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/NodeSeq");
};
cljs.core.__GT_NodeSeq = function cljs$core$__GT_NodeSeq(meta, nodes, i, s, __hash) {
  return new cljs.core.NodeSeq(meta, nodes, i, s, __hash);
};
cljs.core.NodeSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.create_inode_seq = function cljs$core$create_inode_seq(var_args) {
  var args10357 = [];
  var len__7214__auto___10360 = arguments.length;
  var i__7215__auto___10361 = 0;
  while (true) {
    if (i__7215__auto___10361 < len__7214__auto___10360) {
      args10357.push(arguments[i__7215__auto___10361]);
      var G__10362 = i__7215__auto___10361 + 1;
      i__7215__auto___10361 = G__10362;
      continue;
    } else {
    }
    break;
  }
  var G__10359 = args10357.length;
  switch(G__10359) {
    case 1:
      return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 3:
      return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10357.length)].join(""));;
  }
};
cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1 = function(nodes) {
  return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(nodes, 0, null);
};
cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3 = function(nodes, i, s) {
  if (s == null) {
    var len = nodes.length;
    var j = i;
    while (true) {
      if (j < len) {
        if (!(nodes[j] == null)) {
          return new cljs.core.NodeSeq(null, nodes, j, null, null);
        } else {
          var temp__4655__auto__ = nodes[j + 1];
          if (cljs.core.truth_(temp__4655__auto__)) {
            var node = temp__4655__auto__;
            var temp__4655__auto____$1 = node.inode_seq();
            if (cljs.core.truth_(temp__4655__auto____$1)) {
              var node_seq = temp__4655__auto____$1;
              return new cljs.core.NodeSeq(null, nodes, j + 2, node_seq, null);
            } else {
              var G__10364 = j + 2;
              j = G__10364;
              continue;
            }
          } else {
            var G__10365 = j + 2;
            j = G__10365;
            continue;
          }
        }
      } else {
        return null;
      }
      break;
    }
  } else {
    return new cljs.core.NodeSeq(null, nodes, i, s, null);
  }
};
cljs.core.create_inode_seq.cljs$lang$maxFixedArity = 3;
cljs.core.ArrayNodeSeq = function(meta, nodes, i, s, __hash) {
  this.meta = meta;
  this.nodes = nodes;
  this.i = i;
  this.s = s;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32374860;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.ArrayNodeSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.ArrayNodeSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.first(self__.s);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var G__10366 = null;
  var G__10367 = self__.nodes;
  var G__10368 = self__.i;
  var G__10369 = cljs.core.next(self__.s);
  return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4 ? cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(G__10366, G__10367, G__10368, G__10369) : cljs.core.create_array_node_seq.call(null, G__10366, G__10367, G__10368, G__10369);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return this$__$1;
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.ArrayNodeSeq(meta__$1, self__.nodes, self__.i, self__.s, self__.__hash);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.ArrayNodeSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "nodes", "nodes", -459054278, null), new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.Symbol(null, "s", "s", -948495851, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 
  875778266), true], null))], null);
};
cljs.core.ArrayNodeSeq.cljs$lang$type = true;
cljs.core.ArrayNodeSeq.cljs$lang$ctorStr = "cljs.core/ArrayNodeSeq";
cljs.core.ArrayNodeSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayNodeSeq");
};
cljs.core.__GT_ArrayNodeSeq = function cljs$core$__GT_ArrayNodeSeq(meta, nodes, i, s, __hash) {
  return new cljs.core.ArrayNodeSeq(meta, nodes, i, s, __hash);
};
cljs.core.ArrayNodeSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.create_array_node_seq = function cljs$core$create_array_node_seq(var_args) {
  var args10370 = [];
  var len__7214__auto___10373 = arguments.length;
  var i__7215__auto___10374 = 0;
  while (true) {
    if (i__7215__auto___10374 < len__7214__auto___10373) {
      args10370.push(arguments[i__7215__auto___10374]);
      var G__10375 = i__7215__auto___10374 + 1;
      i__7215__auto___10374 = G__10375;
      continue;
    } else {
    }
    break;
  }
  var G__10372 = args10370.length;
  switch(G__10372) {
    case 1:
      return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 4:
      return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10370.length)].join(""));;
  }
};
cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1 = function(nodes) {
  return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(null, nodes, 0, null);
};
cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4 = function(meta, nodes, i, s) {
  if (s == null) {
    var len = nodes.length;
    var j = i;
    while (true) {
      if (j < len) {
        var temp__4655__auto__ = nodes[j];
        if (cljs.core.truth_(temp__4655__auto__)) {
          var nj = temp__4655__auto__;
          var temp__4655__auto____$1 = nj.inode_seq();
          if (cljs.core.truth_(temp__4655__auto____$1)) {
            var ns = temp__4655__auto____$1;
            return new cljs.core.ArrayNodeSeq(meta, nodes, j + 1, ns, null);
          } else {
            var G__10377 = j + 1;
            j = G__10377;
            continue;
          }
        } else {
          var G__10378 = j + 1;
          j = G__10378;
          continue;
        }
      } else {
        return null;
      }
      break;
    }
  } else {
    return new cljs.core.ArrayNodeSeq(meta, nodes, i, s, null);
  }
};
cljs.core.create_array_node_seq.cljs$lang$maxFixedArity = 4;
cljs.core.HashMapIter = function(nil_val, root_iter, seen) {
  this.nil_val = nil_val;
  this.root_iter = root_iter;
  this.seen = seen;
};
cljs.core.HashMapIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.seen && self__.root_iter.hasNext();
};
cljs.core.HashMapIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (!self__.seen) {
    self__.seen = true;
    return self__.nil_val;
  } else {
    return self__.root_iter.next();
  }
};
cljs.core.HashMapIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.HashMapIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "nil-val", "nil-val", -513933559, null), new cljs.core.Symbol(null, "root-iter", "root-iter", 1974672108, null), cljs.core.with_meta(new cljs.core.Symbol(null, "seen", "seen", 1121531738, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.HashMapIter.cljs$lang$type = true;
cljs.core.HashMapIter.cljs$lang$ctorStr = "cljs.core/HashMapIter";
cljs.core.HashMapIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/HashMapIter");
};
cljs.core.__GT_HashMapIter = function cljs$core$__GT_HashMapIter(nil_val, root_iter, seen) {
  return new cljs.core.HashMapIter(nil_val, root_iter, seen);
};
cljs.core.PersistentHashMap = function(meta, cnt, root, has_nil_QMARK_, nil_val, __hash) {
  this.meta = meta;
  this.cnt = cnt;
  this.root = root;
  this.has_nil_QMARK_ = has_nil_QMARK_;
  this.nil_val = nil_val;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 16123663;
  this.cljs$lang$protocol_mask$partition1$ = 8196;
};
cljs.core.PersistentHashMap.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentHashMap.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentHashMap.prototype.keys = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1 ? cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.keys.call(null, coll));
};
cljs.core.PersistentHashMap.prototype.entries = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_entries_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentHashMap.prototype.values = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1 ? cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.vals.call(null, coll));
};
cljs.core.PersistentHashMap.prototype.has = function(k) {
  var self__ = this;
  var coll = this;
  return cljs.core.contains_QMARK_(coll, k);
};
cljs.core.PersistentHashMap.prototype.get = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentHashMap.prototype.forEach = function(f) {
  var self__ = this;
  var coll = this;
  var seq__10380 = cljs.core.seq(coll);
  var chunk__10381 = null;
  var count__10382 = 0;
  var i__10383 = 0;
  while (true) {
    if (i__10383 < count__10382) {
      var vec__10384 = chunk__10381.cljs$core$IIndexed$_nth$arity$2(null, i__10383);
      var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10384, 0, null);
      var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10384, 1, null);
      f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
      var G__10388 = seq__10380;
      var G__10389 = chunk__10381;
      var G__10390 = count__10382;
      var G__10391 = i__10383 + 1;
      seq__10380 = G__10388;
      chunk__10381 = G__10389;
      count__10382 = G__10390;
      i__10383 = G__10391;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10380);
      if (temp__4657__auto__) {
        var seq__10380__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10380__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10380__$1);
          var G__10392 = cljs.core.chunk_rest(seq__10380__$1);
          var G__10393 = c__6959__auto__;
          var G__10394 = cljs.core.count(c__6959__auto__);
          var G__10395 = 0;
          seq__10380 = G__10392;
          chunk__10381 = G__10393;
          count__10382 = G__10394;
          i__10383 = G__10395;
          continue;
        } else {
          var vec__10385 = cljs.core.first(seq__10380__$1);
          var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10385, 0, null);
          var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10385, 1, null);
          f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
          var G__10396 = cljs.core.next(seq__10380__$1);
          var G__10397 = null;
          var G__10398 = 0;
          var G__10399 = 0;
          seq__10380 = G__10396;
          chunk__10381 = G__10397;
          count__10382 = G__10398;
          i__10383 = G__10399;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (k == null) {
    if (self__.has_nil_QMARK_) {
      return self__.nil_val;
    } else {
      return not_found;
    }
  } else {
    if (self__.root == null) {
      return not_found;
    } else {
      return self__.root.inode_lookup(0, cljs.core.hash(k), k, not_found);
    }
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(coll, f, init) {
  var self__ = this;
  var coll__$1 = this;
  var init__$1 = self__.has_nil_QMARK_ ? f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(init, null, self__.nil_val) : f.call(null, init, null, self__.nil_val) : init;
  if (cljs.core.reduced_QMARK_(init__$1)) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$1) : cljs.core.deref.call(null, init__$1);
  } else {
    if (!(self__.root == null)) {
      return self__.root.kv_reduce(f, init__$1);
    } else {
      return init__$1;
    }
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IIterable$ = true;
cljs.core.PersistentHashMap.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var root_iter = self__.root ? cljs.core._iterator(self__.root) : cljs.core.nil_iter;
  if (self__.has_nil_QMARK_) {
    return new cljs.core.HashMapIter(self__.nil_val, root_iter, false);
  } else {
    return root_iter;
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentHashMap.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentHashMap(self__.meta, self__.cnt, self__.root, self__.has_nil_QMARK_, self__.nil_val, self__.__hash);
};
cljs.core.PersistentHashMap.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.cnt;
};
cljs.core.PersistentHashMap.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_map(coll__$1, other);
};
cljs.core.PersistentHashMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.TransientHashMap({}, self__.root, self__.cnt, self__.has_nil_QMARK_, self__.nil_val);
};
cljs.core.PersistentHashMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._with_meta(cljs.core.PersistentHashMap.EMPTY, self__.meta);
};
cljs.core.PersistentHashMap.prototype.cljs$core$IMap$_dissoc$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  if (k == null) {
    if (self__.has_nil_QMARK_) {
      return new cljs.core.PersistentHashMap(self__.meta, self__.cnt - 1, self__.root, false, null, null);
    } else {
      return coll__$1;
    }
  } else {
    if (self__.root == null) {
      return coll__$1;
    } else {
      var new_root = self__.root.inode_without(0, cljs.core.hash(k), k);
      if (new_root === self__.root) {
        return coll__$1;
      } else {
        return new cljs.core.PersistentHashMap(self__.meta, self__.cnt - 1, new_root, self__.has_nil_QMARK_, self__.nil_val, null);
      }
    }
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, k, v) {
  var self__ = this;
  var coll__$1 = this;
  if (k == null) {
    if (self__.has_nil_QMARK_ && v === self__.nil_val) {
      return coll__$1;
    } else {
      return new cljs.core.PersistentHashMap(self__.meta, self__.has_nil_QMARK_ ? self__.cnt : self__.cnt + 1, self__.root, true, v, null);
    }
  } else {
    var added_leaf_QMARK_ = new cljs.core.Box(false);
    var new_root = (self__.root == null ? cljs.core.BitmapIndexedNode.EMPTY : self__.root).inode_assoc(0, cljs.core.hash(k), k, v, added_leaf_QMARK_);
    if (new_root === self__.root) {
      return coll__$1;
    } else {
      return new cljs.core.PersistentHashMap(self__.meta, added_leaf_QMARK_.val ? self__.cnt + 1 : self__.cnt, new_root, self__.has_nil_QMARK_, self__.nil_val, null);
    }
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  if (k == null) {
    return self__.has_nil_QMARK_;
  } else {
    if (self__.root == null) {
      return false;
    } else {
      return !(self__.root.inode_lookup(0, cljs.core.hash(k), k, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel);
    }
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    var s = !(self__.root == null) ? self__.root.inode_seq() : null;
    if (self__.has_nil_QMARK_) {
      return cljs.core.cons(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [null, self__.nil_val], null), s);
    } else {
      return s;
    }
  } else {
    return null;
  }
};
cljs.core.PersistentHashMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentHashMap(meta__$1, self__.cnt, self__.root, self__.has_nil_QMARK_, self__.nil_val, self__.__hash);
};
cljs.core.PersistentHashMap.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.vector_QMARK_(entry)) {
    return cljs.core._assoc(coll__$1, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 1));
  } else {
    var ret = coll__$1;
    var es = cljs.core.seq(entry);
    while (true) {
      if (es == null) {
        return ret;
      } else {
        var e = cljs.core.first(es);
        if (cljs.core.vector_QMARK_(e)) {
          var G__10400 = cljs.core._assoc(ret, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 1));
          var G__10401 = cljs.core.next(es);
          ret = G__10400;
          es = G__10401;
          continue;
        } else {
          throw new Error("conj on a map takes map entries or seqables of map entries");
        }
      }
      break;
    }
  }
};
cljs.core.PersistentHashMap.prototype.call = function() {
  var G__10402 = null;
  var G__10402__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10402__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10402 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10402__2.call(this, self__, k);
      case 3:
        return G__10402__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10402.cljs$core$IFn$_invoke$arity$2 = G__10402__2;
  G__10402.cljs$core$IFn$_invoke$arity$3 = G__10402__3;
  return G__10402;
}();
cljs.core.PersistentHashMap.prototype.apply = function(self__, args10379) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10379)));
};
cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentHashMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.Symbol(null, "root", "root", 1191874074, null), cljs.core.with_meta(new cljs.core.Symbol(null, "has-nil?", "has-nil?", 825886722, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, "boolean", 
  "boolean", -278886877, null)], null)), new cljs.core.Symbol(null, "nil-val", "nil-val", -513933559, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentHashMap.cljs$lang$type = true;
cljs.core.PersistentHashMap.cljs$lang$ctorStr = "cljs.core/PersistentHashMap";
cljs.core.PersistentHashMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentHashMap");
};
cljs.core.__GT_PersistentHashMap = function cljs$core$__GT_PersistentHashMap(meta, cnt, root, has_nil_QMARK_, nil_val, __hash) {
  return new cljs.core.PersistentHashMap(meta, cnt, root, has_nil_QMARK_, nil_val, __hash);
};
cljs.core.PersistentHashMap.EMPTY = new cljs.core.PersistentHashMap(null, 0, null, false, null, cljs.core.empty_unordered_hash);
cljs.core.PersistentHashMap.fromArray = function(arr, no_clone) {
  var arr__$1 = no_clone ? arr : cljs.core.aclone(arr);
  var len = arr__$1.length;
  var i = 0;
  var ret = cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);
  while (true) {
    if (i < len) {
      var G__10403 = i + 2;
      var G__10404 = cljs.core._assoc_BANG_(ret, arr__$1[i], arr__$1[i + 1]);
      i = G__10403;
      ret = G__10404;
      continue;
    } else {
      return cljs.core._persistent_BANG_(ret);
    }
    break;
  }
};
cljs.core.PersistentHashMap.fromArrays = function(ks, vs) {
  var len = ks.length;
  var i = 0;
  var out = cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);
  while (true) {
    if (i < len) {
      var G__10405 = i + 1;
      var G__10406 = out.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(null, ks[i], vs[i]);
      i = G__10405;
      out = G__10406;
      continue;
    } else {
      return cljs.core.persistent_BANG_(out);
    }
    break;
  }
};
cljs.core.PersistentHashMap.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.TransientHashMap = function(edit, root, count, has_nil_QMARK_, nil_val) {
  this.edit = edit;
  this.root = root;
  this.count = count;
  this.has_nil_QMARK_ = has_nil_QMARK_;
  this.nil_val = nil_val;
  this.cljs$lang$protocol_mask$partition0$ = 258;
  this.cljs$lang$protocol_mask$partition1$ = 56;
};
cljs.core.TransientHashMap.prototype.conj_BANG_ = function(o) {
  var self__ = this;
  var tcoll = this;
  if (self__.edit) {
    if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 2048 || o.cljs$core$IMapEntry$ ? true : !o.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry, o) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry, o)) {
      return tcoll.assoc_BANG_(cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(o) : cljs.core.key.call(null, o), cljs.core.val.cljs$core$IFn$_invoke$arity$1 ? cljs.core.val.cljs$core$IFn$_invoke$arity$1(o) : cljs.core.val.call(null, o));
    } else {
      var es = cljs.core.seq(o);
      var tcoll__$1 = tcoll;
      while (true) {
        var temp__4655__auto__ = cljs.core.first(es);
        if (cljs.core.truth_(temp__4655__auto__)) {
          var e = temp__4655__auto__;
          var G__10408 = cljs.core.next(es);
          var G__10409 = tcoll__$1.assoc_BANG_(cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.key.call(null, e), cljs.core.val.cljs$core$IFn$_invoke$arity$1 ? cljs.core.val.cljs$core$IFn$_invoke$arity$1(e) : cljs.core.val.call(null, e));
          es = G__10408;
          tcoll__$1 = G__10409;
          continue;
        } else {
          return tcoll__$1;
        }
        break;
      }
    }
  } else {
    throw new Error("conj! after persistent");
  }
};
cljs.core.TransientHashMap.prototype.assoc_BANG_ = function(k, v) {
  var self__ = this;
  var tcoll = this;
  if (self__.edit) {
    if (k == null) {
      if (self__.nil_val === v) {
      } else {
        self__.nil_val = v;
      }
      if (self__.has_nil_QMARK_) {
      } else {
        self__.count = self__.count + 1;
        self__.has_nil_QMARK_ = true;
      }
      return tcoll;
    } else {
      var added_leaf_QMARK_ = new cljs.core.Box(false);
      var node = (self__.root == null ? cljs.core.BitmapIndexedNode.EMPTY : self__.root).inode_assoc_BANG_(self__.edit, 0, cljs.core.hash(k), k, v, added_leaf_QMARK_);
      if (node === self__.root) {
      } else {
        self__.root = node;
      }
      if (added_leaf_QMARK_.val) {
        self__.count = self__.count + 1;
      } else {
      }
      return tcoll;
    }
  } else {
    throw new Error("assoc! after persistent!");
  }
};
cljs.core.TransientHashMap.prototype.without_BANG_ = function(k) {
  var self__ = this;
  var tcoll = this;
  if (self__.edit) {
    if (k == null) {
      if (self__.has_nil_QMARK_) {
        self__.has_nil_QMARK_ = false;
        self__.nil_val = null;
        self__.count = self__.count - 1;
        return tcoll;
      } else {
        return tcoll;
      }
    } else {
      if (self__.root == null) {
        return tcoll;
      } else {
        var removed_leaf_QMARK_ = new cljs.core.Box(false);
        var node = self__.root.inode_without_BANG_(self__.edit, 0, cljs.core.hash(k), k, removed_leaf_QMARK_);
        if (node === self__.root) {
        } else {
          self__.root = node;
        }
        if (cljs.core.truth_(removed_leaf_QMARK_[0])) {
          self__.count = self__.count - 1;
        } else {
        }
        return tcoll;
      }
    }
  } else {
    throw new Error("dissoc! after persistent!");
  }
};
cljs.core.TransientHashMap.prototype.persistent_BANG_ = function() {
  var self__ = this;
  var tcoll = this;
  if (self__.edit) {
    self__.edit = null;
    return new cljs.core.PersistentHashMap(null, self__.count, self__.root, self__.has_nil_QMARK_, self__.nil_val, null);
  } else {
    throw new Error("persistent! called twice");
  }
};
cljs.core.TransientHashMap.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.edit) {
    return self__.count;
  } else {
    throw new Error("count after persistent!");
  }
};
cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(tcoll, k) {
  var self__ = this;
  var tcoll__$1 = this;
  if (k == null) {
    if (self__.has_nil_QMARK_) {
      return self__.nil_val;
    } else {
      return null;
    }
  } else {
    if (self__.root == null) {
      return null;
    } else {
      return self__.root.inode_lookup(0, cljs.core.hash(k), k);
    }
  }
};
cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(tcoll, k, not_found) {
  var self__ = this;
  var tcoll__$1 = this;
  if (k == null) {
    if (self__.has_nil_QMARK_) {
      return self__.nil_val;
    } else {
      return not_found;
    }
  } else {
    if (self__.root == null) {
      return not_found;
    } else {
      return self__.root.inode_lookup(0, cljs.core.hash(k), k, not_found);
    }
  }
};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2 = function(tcoll, val) {
  var self__ = this;
  var tcoll__$1 = this;
  return tcoll__$1.conj_BANG_(val);
};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  return tcoll__$1.persistent_BANG_();
};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3 = function(tcoll, key, val) {
  var self__ = this;
  var tcoll__$1 = this;
  return tcoll__$1.assoc_BANG_(key, val);
};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2 = function(tcoll, key) {
  var self__ = this;
  var tcoll__$1 = this;
  return tcoll__$1.without_BANG_(key);
};
cljs.core.TransientHashMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "edit", "edit", -1302639, null), new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, "boolean", "boolean", -278886877, null), new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "root", "root", 1191874074, null), new cljs.core.PersistentArrayMap(null, 
  1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "count", "count", -514511684, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "has-nil?", "has-nil?", 825886722, null), new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, 
  "boolean", "boolean", -278886877, null), new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "nil-val", "nil-val", -513933559, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.TransientHashMap.cljs$lang$type = true;
cljs.core.TransientHashMap.cljs$lang$ctorStr = "cljs.core/TransientHashMap";
cljs.core.TransientHashMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/TransientHashMap");
};
cljs.core.__GT_TransientHashMap = function cljs$core$__GT_TransientHashMap(edit, root, count, has_nil_QMARK_, nil_val) {
  return new cljs.core.TransientHashMap(edit, root, count, has_nil_QMARK_, nil_val);
};
cljs.core.tree_map_seq_push = function cljs$core$tree_map_seq_push(node, stack, ascending_QMARK_) {
  var t = node;
  var stack__$1 = stack;
  while (true) {
    if (!(t == null)) {
      var G__10410 = ascending_QMARK_ ? t.left : t.right;
      var G__10411 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack__$1, t);
      t = G__10410;
      stack__$1 = G__10411;
      continue;
    } else {
      return stack__$1;
    }
    break;
  }
};
cljs.core.PersistentTreeMapSeq = function(meta, stack, ascending_QMARK_, cnt, __hash) {
  this.meta = meta;
  this.stack = stack;
  this.ascending_QMARK_ = ascending_QMARK_;
  this.cnt = cnt;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32374862;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.PersistentTreeMapSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentTreeMapSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt < 0) {
    return cljs.core.count(cljs.core.next(coll__$1)) + 1;
  } else {
    return self__.cnt;
  }
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core.peek(self__.stack);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  var t = cljs.core.first(self__.stack);
  var next_stack = cljs.core.tree_map_seq_push(self__.ascending_QMARK_ ? t.right : t.left, cljs.core.next(self__.stack), self__.ascending_QMARK_);
  if (!(next_stack == null)) {
    return new cljs.core.PersistentTreeMapSeq(null, next_stack, self__.ascending_QMARK_, self__.cnt - 1, null);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return this$__$1;
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeMapSeq(meta__$1, self__.stack, self__.ascending_QMARK_, self__.cnt, self__.__hash);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.PersistentTreeMapSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "stack", "stack", 847125597, null), cljs.core.with_meta(new cljs.core.Symbol(null, "ascending?", "ascending?", -1938452653, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, "boolean", "boolean", -278886877, null)], null)), new cljs.core.Symbol(null, 
  "cnt", "cnt", 1924510325, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentTreeMapSeq.cljs$lang$type = true;
cljs.core.PersistentTreeMapSeq.cljs$lang$ctorStr = "cljs.core/PersistentTreeMapSeq";
cljs.core.PersistentTreeMapSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentTreeMapSeq");
};
cljs.core.__GT_PersistentTreeMapSeq = function cljs$core$__GT_PersistentTreeMapSeq(meta, stack, ascending_QMARK_, cnt, __hash) {
  return new cljs.core.PersistentTreeMapSeq(meta, stack, ascending_QMARK_, cnt, __hash);
};
cljs.core.PersistentTreeMapSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.create_tree_map_seq = function cljs$core$create_tree_map_seq(tree, ascending_QMARK_, cnt) {
  return new cljs.core.PersistentTreeMapSeq(null, cljs.core.tree_map_seq_push(tree, null, ascending_QMARK_), ascending_QMARK_, cnt, null);
};
cljs.core.balance_left = function cljs$core$balance_left(key, val, ins, right) {
  if (ins instanceof cljs.core.RedNode) {
    if (ins.left instanceof cljs.core.RedNode) {
      return new cljs.core.RedNode(ins.key, ins.val, ins.left.blacken(), new cljs.core.BlackNode(key, val, ins.right, right, null), null);
    } else {
      if (ins.right instanceof cljs.core.RedNode) {
        return new cljs.core.RedNode(ins.right.key, ins.right.val, new cljs.core.BlackNode(ins.key, ins.val, ins.left, ins.right.left, null), new cljs.core.BlackNode(key, val, ins.right.right, right, null), null);
      } else {
        return new cljs.core.BlackNode(key, val, ins, right, null);
      }
    }
  } else {
    return new cljs.core.BlackNode(key, val, ins, right, null);
  }
};
cljs.core.balance_right = function cljs$core$balance_right(key, val, left, ins) {
  if (ins instanceof cljs.core.RedNode) {
    if (ins.right instanceof cljs.core.RedNode) {
      return new cljs.core.RedNode(ins.key, ins.val, new cljs.core.BlackNode(key, val, left, ins.left, null), ins.right.blacken(), null);
    } else {
      if (ins.left instanceof cljs.core.RedNode) {
        return new cljs.core.RedNode(ins.left.key, ins.left.val, new cljs.core.BlackNode(key, val, left, ins.left.left, null), new cljs.core.BlackNode(ins.key, ins.val, ins.left.right, ins.right, null), null);
      } else {
        return new cljs.core.BlackNode(key, val, left, ins, null);
      }
    }
  } else {
    return new cljs.core.BlackNode(key, val, left, ins, null);
  }
};
cljs.core.balance_left_del = function cljs$core$balance_left_del(key, val, del, right) {
  if (del instanceof cljs.core.RedNode) {
    return new cljs.core.RedNode(key, val, del.blacken(), right, null);
  } else {
    if (right instanceof cljs.core.BlackNode) {
      return cljs.core.balance_right(key, val, del, right.redden());
    } else {
      if (right instanceof cljs.core.RedNode && right.left instanceof cljs.core.BlackNode) {
        return new cljs.core.RedNode(right.left.key, right.left.val, new cljs.core.BlackNode(key, val, del, right.left.left, null), cljs.core.balance_right(right.key, right.val, right.left.right, right.right.redden()), null);
      } else {
        throw new Error("red-black tree invariant violation");
      }
    }
  }
};
cljs.core.balance_right_del = function cljs$core$balance_right_del(key, val, left, del) {
  if (del instanceof cljs.core.RedNode) {
    return new cljs.core.RedNode(key, val, left, del.blacken(), null);
  } else {
    if (left instanceof cljs.core.BlackNode) {
      return cljs.core.balance_left(key, val, left.redden(), del);
    } else {
      if (left instanceof cljs.core.RedNode && left.right instanceof cljs.core.BlackNode) {
        return new cljs.core.RedNode(left.right.key, left.right.val, cljs.core.balance_left(left.key, left.val, left.left.redden(), left.right.left), new cljs.core.BlackNode(key, val, left.right.right, del, null), null);
      } else {
        throw new Error("red-black tree invariant violation");
      }
    }
  }
};
cljs.core.tree_map_kv_reduce = function cljs$core$tree_map_kv_reduce(node, f, init) {
  var init__$1 = !(node.left == null) ? cljs$core$tree_map_kv_reduce(node.left, f, init) : init;
  if (cljs.core.reduced_QMARK_(init__$1)) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$1) : cljs.core.deref.call(null, init__$1);
  } else {
    var init__$2 = function() {
      var G__10421 = init__$1;
      var G__10422 = node.key;
      var G__10423 = node.val;
      return f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(G__10421, G__10422, G__10423) : f.call(null, G__10421, G__10422, G__10423);
    }();
    if (cljs.core.reduced_QMARK_(init__$2)) {
      return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2) : cljs.core.deref.call(null, init__$2);
    } else {
      var init__$3 = !(node.right == null) ? cljs$core$tree_map_kv_reduce(node.right, f, init__$2) : init__$2;
      if (cljs.core.reduced_QMARK_(init__$3)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$3) : cljs.core.deref.call(null, init__$3);
      } else {
        return init__$3;
      }
    }
  }
};
cljs.core.BlackNode = function(key, val, left, right, __hash) {
  this.key = key;
  this.val = val;
  this.left = left;
  this.right = right;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32402207;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.BlackNode.prototype.add_right = function(ins) {
  var self__ = this;
  var node = this;
  return ins.balance_right(node);
};
cljs.core.BlackNode.prototype.redden = function() {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(self__.key, self__.val, self__.left, self__.right, null);
};
cljs.core.BlackNode.prototype.blacken = function() {
  var self__ = this;
  var node = this;
  return node;
};
cljs.core.BlackNode.prototype.add_left = function(ins) {
  var self__ = this;
  var node = this;
  return ins.balance_left(node);
};
cljs.core.BlackNode.prototype.replace = function(key__$1, val__$1, left__$1, right__$1) {
  var self__ = this;
  var node = this;
  return new cljs.core.BlackNode(key__$1, val__$1, left__$1, right__$1, null);
};
cljs.core.BlackNode.prototype.balance_left = function(parent) {
  var self__ = this;
  var node = this;
  return new cljs.core.BlackNode(parent.key, parent.val, node, parent.right, null);
};
cljs.core.BlackNode.prototype.balance_right = function(parent) {
  var self__ = this;
  var node = this;
  return new cljs.core.BlackNode(parent.key, parent.val, parent.left, node, null);
};
cljs.core.BlackNode.prototype.remove_left = function(del) {
  var self__ = this;
  var node = this;
  return cljs.core.balance_left_del(self__.key, self__.val, del, self__.right);
};
cljs.core.BlackNode.prototype.kv_reduce = function(f, init) {
  var self__ = this;
  var node = this;
  return cljs.core.tree_map_kv_reduce(node, f, init);
};
cljs.core.BlackNode.prototype.remove_right = function(del) {
  var self__ = this;
  var node = this;
  return cljs.core.balance_right_del(self__.key, self__.val, self__.left, del);
};
cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$2 = function(node, k) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1, k, null);
};
cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$3 = function(node, k, not_found) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1, k, not_found);
};
cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$2 = function(node, n) {
  var self__ = this;
  var node__$1 = this;
  if (n === 0) {
    return self__.key;
  } else {
    if (n === 1) {
      return self__.val;
    } else {
      return null;
    }
  }
};
cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$3 = function(node, n, not_found) {
  var self__ = this;
  var node__$1 = this;
  if (n === 0) {
    return self__.key;
  } else {
    if (n === 1) {
      return self__.val;
    } else {
      return not_found;
    }
  }
};
cljs.core.BlackNode.prototype.cljs$core$IVector$_assoc_n$arity$3 = function(node, n, v) {
  var self__ = this;
  var node__$1 = this;
  return (new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null)).cljs$core$IVector$_assoc_n$arity$3(null, n, v);
};
cljs.core.BlackNode.prototype.cljs$core$IMeta$_meta$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return null;
};
cljs.core.BlackNode.prototype.cljs$core$ICounted$_count$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return 2;
};
cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_key$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.key;
};
cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_val$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.val;
};
cljs.core.BlackNode.prototype.cljs$core$IStack$_peek$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.val;
};
cljs.core.BlackNode.prototype.cljs$core$IStack$_pop$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key], null);
};
cljs.core.BlackNode.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.BlackNode.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.BlackNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.PersistentVector.EMPTY;
};
cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$2 = function(node, f) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(node__$1, f);
};
cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$3 = function(node, f, start) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(node__$1, f, start);
};
cljs.core.BlackNode.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(node, k, v) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null), k, v);
};
cljs.core.BlackNode.prototype.cljs$core$ISeqable$_seq$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY, self__.val), self__.key);
};
cljs.core.BlackNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(node, meta) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null), meta);
};
cljs.core.BlackNode.prototype.cljs$core$ICollection$_conj$arity$2 = function(node, o) {
  var self__ = this;
  var node__$1 = this;
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val, o], null);
};
cljs.core.BlackNode.prototype.call = function() {
  var G__10425 = null;
  var G__10425__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var node = self____$1;
    return node.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10425__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var node = self____$1;
    return node.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10425 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10425__2.call(this, self__, k);
      case 3:
        return G__10425__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10425.cljs$core$IFn$_invoke$arity$2 = G__10425__2;
  G__10425.cljs$core$IFn$_invoke$arity$3 = G__10425__3;
  return G__10425;
}();
cljs.core.BlackNode.prototype.apply = function(self__, args10424) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10424)));
};
cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var node = this;
  return node.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var node = this;
  return node.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.BlackNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "key", "key", 124488940, null), new cljs.core.Symbol(null, "val", "val", 1769233139, null), new cljs.core.Symbol(null, "left", "left", 1241415590, null), new cljs.core.Symbol(null, "right", "right", 1187949694, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null))], null);
};
cljs.core.BlackNode.cljs$lang$type = true;
cljs.core.BlackNode.cljs$lang$ctorStr = "cljs.core/BlackNode";
cljs.core.BlackNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/BlackNode");
};
cljs.core.__GT_BlackNode = function cljs$core$__GT_BlackNode(key, val, left, right, __hash) {
  return new cljs.core.BlackNode(key, val, left, right, __hash);
};
cljs.core.BlackNode.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.RedNode = function(key, val, left, right, __hash) {
  this.key = key;
  this.val = val;
  this.left = left;
  this.right = right;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32402207;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.RedNode.prototype.add_right = function(ins) {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(self__.key, self__.val, self__.left, ins, null);
};
cljs.core.RedNode.prototype.redden = function() {
  var self__ = this;
  var node = this;
  throw new Error("red-black tree invariant violation");
};
cljs.core.RedNode.prototype.blacken = function() {
  var self__ = this;
  var node = this;
  return new cljs.core.BlackNode(self__.key, self__.val, self__.left, self__.right, null);
};
cljs.core.RedNode.prototype.add_left = function(ins) {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(self__.key, self__.val, ins, self__.right, null);
};
cljs.core.RedNode.prototype.replace = function(key__$1, val__$1, left__$1, right__$1) {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(key__$1, val__$1, left__$1, right__$1, null);
};
cljs.core.RedNode.prototype.balance_left = function(parent) {
  var self__ = this;
  var node = this;
  if (self__.left instanceof cljs.core.RedNode) {
    return new cljs.core.RedNode(self__.key, self__.val, self__.left.blacken(), new cljs.core.BlackNode(parent.key, parent.val, self__.right, parent.right, null), null);
  } else {
    if (self__.right instanceof cljs.core.RedNode) {
      return new cljs.core.RedNode(self__.right.key, self__.right.val, new cljs.core.BlackNode(self__.key, self__.val, self__.left, self__.right.left, null), new cljs.core.BlackNode(parent.key, parent.val, self__.right.right, parent.right, null), null);
    } else {
      return new cljs.core.BlackNode(parent.key, parent.val, node, parent.right, null);
    }
  }
};
cljs.core.RedNode.prototype.balance_right = function(parent) {
  var self__ = this;
  var node = this;
  if (self__.right instanceof cljs.core.RedNode) {
    return new cljs.core.RedNode(self__.key, self__.val, new cljs.core.BlackNode(parent.key, parent.val, parent.left, self__.left, null), self__.right.blacken(), null);
  } else {
    if (self__.left instanceof cljs.core.RedNode) {
      return new cljs.core.RedNode(self__.left.key, self__.left.val, new cljs.core.BlackNode(parent.key, parent.val, parent.left, self__.left.left, null), new cljs.core.BlackNode(self__.key, self__.val, self__.left.right, self__.right, null), null);
    } else {
      return new cljs.core.BlackNode(parent.key, parent.val, parent.left, node, null);
    }
  }
};
cljs.core.RedNode.prototype.remove_left = function(del) {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(self__.key, self__.val, del, self__.right, null);
};
cljs.core.RedNode.prototype.kv_reduce = function(f, init) {
  var self__ = this;
  var node = this;
  return cljs.core.tree_map_kv_reduce(node, f, init);
};
cljs.core.RedNode.prototype.remove_right = function(del) {
  var self__ = this;
  var node = this;
  return new cljs.core.RedNode(self__.key, self__.val, self__.left, del, null);
};
cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$2 = function(node, k) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1, k, null);
};
cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$3 = function(node, k, not_found) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1, k, not_found);
};
cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$2 = function(node, n) {
  var self__ = this;
  var node__$1 = this;
  if (n === 0) {
    return self__.key;
  } else {
    if (n === 1) {
      return self__.val;
    } else {
      return null;
    }
  }
};
cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$3 = function(node, n, not_found) {
  var self__ = this;
  var node__$1 = this;
  if (n === 0) {
    return self__.key;
  } else {
    if (n === 1) {
      return self__.val;
    } else {
      return not_found;
    }
  }
};
cljs.core.RedNode.prototype.cljs$core$IVector$_assoc_n$arity$3 = function(node, n, v) {
  var self__ = this;
  var node__$1 = this;
  return (new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null)).cljs$core$IVector$_assoc_n$arity$3(null, n, v);
};
cljs.core.RedNode.prototype.cljs$core$IMeta$_meta$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return null;
};
cljs.core.RedNode.prototype.cljs$core$ICounted$_count$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return 2;
};
cljs.core.RedNode.prototype.cljs$core$IMapEntry$_key$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.key;
};
cljs.core.RedNode.prototype.cljs$core$IMapEntry$_val$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.val;
};
cljs.core.RedNode.prototype.cljs$core$IStack$_peek$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return self__.val;
};
cljs.core.RedNode.prototype.cljs$core$IStack$_pop$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key], null);
};
cljs.core.RedNode.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.RedNode.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.RedNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.PersistentVector.EMPTY;
};
cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$2 = function(node, f) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(node__$1, f);
};
cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$3 = function(node, f, start) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(node__$1, f, start);
};
cljs.core.RedNode.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(node, k, v) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null), k, v);
};
cljs.core.RedNode.prototype.cljs$core$ISeqable$_seq$arity$1 = function(node) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY, self__.val), self__.key);
};
cljs.core.RedNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(node, meta) {
  var self__ = this;
  var node__$1 = this;
  return cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val], null), meta);
};
cljs.core.RedNode.prototype.cljs$core$ICollection$_conj$arity$2 = function(node, o) {
  var self__ = this;
  var node__$1 = this;
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [self__.key, self__.val, o], null);
};
cljs.core.RedNode.prototype.call = function() {
  var G__10427 = null;
  var G__10427__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var node = self____$1;
    return node.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10427__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var node = self____$1;
    return node.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10427 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10427__2.call(this, self__, k);
      case 3:
        return G__10427__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10427.cljs$core$IFn$_invoke$arity$2 = G__10427__2;
  G__10427.cljs$core$IFn$_invoke$arity$3 = G__10427__3;
  return G__10427;
}();
cljs.core.RedNode.prototype.apply = function(self__, args10426) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10426)));
};
cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var node = this;
  return node.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var node = this;
  return node.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.RedNode.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "key", "key", 124488940, null), new cljs.core.Symbol(null, "val", "val", 1769233139, null), new cljs.core.Symbol(null, "left", "left", 1241415590, null), new cljs.core.Symbol(null, "right", "right", 1187949694, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null))], null);
};
cljs.core.RedNode.cljs$lang$type = true;
cljs.core.RedNode.cljs$lang$ctorStr = "cljs.core/RedNode";
cljs.core.RedNode.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/RedNode");
};
cljs.core.__GT_RedNode = function cljs$core$__GT_RedNode(key, val, left, right, __hash) {
  return new cljs.core.RedNode(key, val, left, right, __hash);
};
cljs.core.RedNode.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.tree_map_add = function cljs$core$tree_map_add(comp, tree, k, v, found) {
  if (tree == null) {
    return new cljs.core.RedNode(k, v, null, null, null);
  } else {
    var c = function() {
      var G__10440 = k;
      var G__10441 = tree.key;
      return comp.cljs$core$IFn$_invoke$arity$2 ? comp.cljs$core$IFn$_invoke$arity$2(G__10440, G__10441) : comp.call(null, G__10440, G__10441);
    }();
    if (c === 0) {
      found[0] = tree;
      return null;
    } else {
      if (c < 0) {
        var ins = cljs$core$tree_map_add(comp, tree.left, k, v, found);
        if (!(ins == null)) {
          return tree.add_left(ins);
        } else {
          return null;
        }
      } else {
        var ins = cljs$core$tree_map_add(comp, tree.right, k, v, found);
        if (!(ins == null)) {
          return tree.add_right(ins);
        } else {
          return null;
        }
      }
    }
  }
};
cljs.core.tree_map_append = function cljs$core$tree_map_append(left, right) {
  if (left == null) {
    return right;
  } else {
    if (right == null) {
      return left;
    } else {
      if (left instanceof cljs.core.RedNode) {
        if (right instanceof cljs.core.RedNode) {
          var app = cljs$core$tree_map_append(left.right, right.left);
          if (app instanceof cljs.core.RedNode) {
            return new cljs.core.RedNode(app.key, app.val, new cljs.core.RedNode(left.key, left.val, left.left, app.left, null), new cljs.core.RedNode(right.key, right.val, app.right, right.right, null), null);
          } else {
            return new cljs.core.RedNode(left.key, left.val, left.left, new cljs.core.RedNode(right.key, right.val, app, right.right, null), null);
          }
        } else {
          return new cljs.core.RedNode(left.key, left.val, left.left, cljs$core$tree_map_append(left.right, right), null);
        }
      } else {
        if (right instanceof cljs.core.RedNode) {
          return new cljs.core.RedNode(right.key, right.val, cljs$core$tree_map_append(left, right.left), right.right, null);
        } else {
          var app = cljs$core$tree_map_append(left.right, right.left);
          if (app instanceof cljs.core.RedNode) {
            return new cljs.core.RedNode(app.key, app.val, new cljs.core.BlackNode(left.key, left.val, left.left, app.left, null), new cljs.core.BlackNode(right.key, right.val, app.right, right.right, null), null);
          } else {
            return cljs.core.balance_left_del(left.key, left.val, left.left, new cljs.core.BlackNode(right.key, right.val, app, right.right, null));
          }
        }
      }
    }
  }
};
cljs.core.tree_map_remove = function cljs$core$tree_map_remove(comp, tree, k, found) {
  if (!(tree == null)) {
    var c = function() {
      var G__10460 = k;
      var G__10461 = tree.key;
      return comp.cljs$core$IFn$_invoke$arity$2 ? comp.cljs$core$IFn$_invoke$arity$2(G__10460, G__10461) : comp.call(null, G__10460, G__10461);
    }();
    if (c === 0) {
      found[0] = tree;
      return cljs.core.tree_map_append(tree.left, tree.right);
    } else {
      if (c < 0) {
        var del = cljs$core$tree_map_remove(comp, tree.left, k, found);
        if (!(del == null) || !(found[0] == null)) {
          if (tree.left instanceof cljs.core.BlackNode) {
            return cljs.core.balance_left_del(tree.key, tree.val, del, tree.right);
          } else {
            return new cljs.core.RedNode(tree.key, tree.val, del, tree.right, null);
          }
        } else {
          return null;
        }
      } else {
        var del = cljs$core$tree_map_remove(comp, tree.right, k, found);
        if (!(del == null) || !(found[0] == null)) {
          if (tree.right instanceof cljs.core.BlackNode) {
            return cljs.core.balance_right_del(tree.key, tree.val, tree.left, del);
          } else {
            return new cljs.core.RedNode(tree.key, tree.val, tree.left, del, null);
          }
        } else {
          return null;
        }
      }
    }
  } else {
    return null;
  }
};
cljs.core.tree_map_replace = function cljs$core$tree_map_replace(comp, tree, k, v) {
  var tk = tree.key;
  var c = comp.cljs$core$IFn$_invoke$arity$2 ? comp.cljs$core$IFn$_invoke$arity$2(k, tk) : comp.call(null, k, tk);
  if (c === 0) {
    return tree.replace(tk, v, tree.left, tree.right);
  } else {
    if (c < 0) {
      return tree.replace(tk, tree.val, cljs$core$tree_map_replace(comp, tree.left, k, v), tree.right);
    } else {
      return tree.replace(tk, tree.val, tree.left, cljs$core$tree_map_replace(comp, tree.right, k, v));
    }
  }
};
cljs.core.PersistentTreeMap = function(comp, tree, cnt, meta, __hash) {
  this.comp = comp;
  this.tree = tree;
  this.cnt = cnt;
  this.meta = meta;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 418776847;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.PersistentTreeMap.prototype.forEach = function(f) {
  var self__ = this;
  var coll = this;
  var seq__10471 = cljs.core.seq(coll);
  var chunk__10472 = null;
  var count__10473 = 0;
  var i__10474 = 0;
  while (true) {
    if (i__10474 < count__10473) {
      var vec__10475 = chunk__10472.cljs$core$IIndexed$_nth$arity$2(null, i__10474);
      var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10475, 0, null);
      var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10475, 1, null);
      f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
      var G__10481 = seq__10471;
      var G__10482 = chunk__10472;
      var G__10483 = count__10473;
      var G__10484 = i__10474 + 1;
      seq__10471 = G__10481;
      chunk__10472 = G__10482;
      count__10473 = G__10483;
      i__10474 = G__10484;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10471);
      if (temp__4657__auto__) {
        var seq__10471__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10471__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10471__$1);
          var G__10485 = cljs.core.chunk_rest(seq__10471__$1);
          var G__10486 = c__6959__auto__;
          var G__10487 = cljs.core.count(c__6959__auto__);
          var G__10488 = 0;
          seq__10471 = G__10485;
          chunk__10472 = G__10486;
          count__10473 = G__10487;
          i__10474 = G__10488;
          continue;
        } else {
          var vec__10476 = cljs.core.first(seq__10471__$1);
          var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10476, 0, null);
          var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10476, 1, null);
          f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
          var G__10489 = cljs.core.next(seq__10471__$1);
          var G__10490 = null;
          var G__10491 = 0;
          var G__10492 = 0;
          seq__10471 = G__10489;
          chunk__10472 = G__10490;
          count__10473 = G__10491;
          i__10474 = G__10492;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.PersistentTreeMap.prototype.get = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentTreeMap.prototype.entries = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_entries_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentTreeMap.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentTreeMap.prototype.keys = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1 ? cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.keys.call(null, coll));
};
cljs.core.PersistentTreeMap.prototype.values = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1 ? cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll) : cljs.core.vals.call(null, coll));
};
cljs.core.PersistentTreeMap.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentTreeMap.prototype.entry_at = function(k) {
  var self__ = this;
  var coll = this;
  var t = self__.tree;
  while (true) {
    if (!(t == null)) {
      var c = function() {
        var G__10477 = k;
        var G__10478 = t.key;
        return self__.comp.cljs$core$IFn$_invoke$arity$2 ? self__.comp.cljs$core$IFn$_invoke$arity$2(G__10477, G__10478) : self__.comp.call(null, G__10477, G__10478);
      }();
      if (c === 0) {
        return t;
      } else {
        if (c < 0) {
          var G__10493 = t.left;
          t = G__10493;
          continue;
        } else {
          var G__10494 = t.right;
          t = G__10494;
          continue;
        }
      }
    } else {
      return null;
    }
    break;
  }
};
cljs.core.PersistentTreeMap.prototype.has = function(k) {
  var self__ = this;
  var coll = this;
  return cljs.core.contains_QMARK_(coll, k);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, k, null);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, k, not_found) {
  var self__ = this;
  var coll__$1 = this;
  var n = coll__$1.entry_at(k);
  if (!(n == null)) {
    return n.val;
  } else {
    return not_found;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = function(coll, f, init) {
  var self__ = this;
  var coll__$1 = this;
  if (!(self__.tree == null)) {
    return cljs.core.tree_map_kv_reduce(self__.tree, f, init);
  } else {
    return init;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentTreeMap(self__.comp, self__.tree, self__.cnt, self__.meta, self__.__hash);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.cnt;
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IReversible$_rseq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    return cljs.core.create_tree_map_seq(self__.tree, false, self__.cnt);
  } else {
    return null;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_map(coll__$1, other);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeMap(self__.comp, null, 0, self__.meta, 0);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IMap$_dissoc$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  var found = [null];
  var t = cljs.core.tree_map_remove(self__.comp, self__.tree, k, found);
  if (t == null) {
    if (cljs.core.nth.cljs$core$IFn$_invoke$arity$2(found, 0) == null) {
      return coll__$1;
    } else {
      return new cljs.core.PersistentTreeMap(self__.comp, null, 0, self__.meta, null);
    }
  } else {
    return new cljs.core.PersistentTreeMap(self__.comp, t.blacken(), self__.cnt - 1, self__.meta, null);
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_assoc$arity$3 = function(coll, k, v) {
  var self__ = this;
  var coll__$1 = this;
  var found = [null];
  var t = cljs.core.tree_map_add(self__.comp, self__.tree, k, v, found);
  if (t == null) {
    var found_node = cljs.core.nth.cljs$core$IFn$_invoke$arity$2(found, 0);
    if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(v, found_node.val)) {
      return coll__$1;
    } else {
      return new cljs.core.PersistentTreeMap(self__.comp, cljs.core.tree_map_replace(self__.comp, self__.tree, k, v), self__.cnt, self__.meta, null);
    }
  } else {
    return new cljs.core.PersistentTreeMap(self__.comp, t.blacken(), self__.cnt + 1, self__.meta, null);
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = function(coll, k) {
  var self__ = this;
  var coll__$1 = this;
  return !(coll__$1.entry_at(k) == null);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    return cljs.core.create_tree_map_seq(self__.tree, true, self__.cnt);
  } else {
    return null;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeMap(self__.comp, self__.tree, self__.cnt, meta__$1, self__.__hash);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.vector_QMARK_(entry)) {
    return cljs.core._assoc(coll__$1, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry, 1));
  } else {
    var ret = coll__$1;
    var es = cljs.core.seq(entry);
    while (true) {
      if (es == null) {
        return ret;
      } else {
        var e = cljs.core.first(es);
        if (cljs.core.vector_QMARK_(e)) {
          var G__10495 = cljs.core._assoc(ret, cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 0), cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e, 1));
          var G__10496 = cljs.core.next(es);
          ret = G__10495;
          es = G__10496;
          continue;
        } else {
          throw new Error("conj on a map takes map entries or seqables of map entries");
        }
      }
      break;
    }
  }
};
cljs.core.PersistentTreeMap.prototype.call = function() {
  var G__10497 = null;
  var G__10497__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10497__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10497 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10497__2.call(this, self__, k);
      case 3:
        return G__10497__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10497.cljs$core$IFn$_invoke$arity$2 = G__10497__2;
  G__10497.cljs$core$IFn$_invoke$arity$3 = G__10497__3;
  return G__10497;
}();
cljs.core.PersistentTreeMap.prototype.apply = function(self__, args10470) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10470)));
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq$arity$2 = function(coll, ascending_QMARK_) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    return cljs.core.create_tree_map_seq(self__.tree, ascending_QMARK_, self__.cnt);
  } else {
    return null;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3 = function(coll, k, ascending_QMARK_) {
  var self__ = this;
  var coll__$1 = this;
  if (self__.cnt > 0) {
    var stack = null;
    var t = self__.tree;
    while (true) {
      if (!(t == null)) {
        var c = function() {
          var G__10479 = k;
          var G__10480 = t.key;
          return self__.comp.cljs$core$IFn$_invoke$arity$2 ? self__.comp.cljs$core$IFn$_invoke$arity$2(G__10479, G__10480) : self__.comp.call(null, G__10479, G__10480);
        }();
        if (c === 0) {
          return new cljs.core.PersistentTreeMapSeq(null, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack, t), ascending_QMARK_, -1, null);
        } else {
          if (cljs.core.truth_(ascending_QMARK_)) {
            if (c < 0) {
              var G__10498 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack, t);
              var G__10499 = t.left;
              stack = G__10498;
              t = G__10499;
              continue;
            } else {
              var G__10500 = stack;
              var G__10501 = t.right;
              stack = G__10500;
              t = G__10501;
              continue;
            }
          } else {
            if (c > 0) {
              var G__10502 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack, t);
              var G__10503 = t.right;
              stack = G__10502;
              t = G__10503;
              continue;
            } else {
              var G__10504 = stack;
              var G__10505 = t.left;
              stack = G__10504;
              t = G__10505;
              continue;
            }
          }
        }
      } else {
        if (stack == null) {
          return null;
        } else {
          return new cljs.core.PersistentTreeMapSeq(null, stack, ascending_QMARK_, -1, null);
        }
      }
      break;
    }
  } else {
    return null;
  }
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_entry_key$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.key.cljs$core$IFn$_invoke$arity$1 ? cljs.core.key.cljs$core$IFn$_invoke$arity$1(entry) : cljs.core.key.call(null, entry);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_comparator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.comp;
};
cljs.core.PersistentTreeMap.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "comp", "comp", -1462482139, null), new cljs.core.Symbol(null, "tree", "tree", 1444219499, null), new cljs.core.Symbol(null, "cnt", "cnt", 1924510325, null), new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentTreeMap.cljs$lang$type = true;
cljs.core.PersistentTreeMap.cljs$lang$ctorStr = "cljs.core/PersistentTreeMap";
cljs.core.PersistentTreeMap.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentTreeMap");
};
cljs.core.__GT_PersistentTreeMap = function cljs$core$__GT_PersistentTreeMap(comp, tree, cnt, meta, __hash) {
  return new cljs.core.PersistentTreeMap(comp, tree, cnt, meta, __hash);
};
cljs.core.PersistentTreeMap.EMPTY = new cljs.core.PersistentTreeMap(cljs.core.compare, null, 0, null, cljs.core.empty_unordered_hash);
cljs.core.PersistentTreeMap.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.hash_map = function cljs$core$hash_map(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10507 = arguments.length;
  var i__7215__auto___10508 = 0;
  while (true) {
    if (i__7215__auto___10508 < len__7214__auto___10507) {
      args__7221__auto__.push(arguments[i__7215__auto___10508]);
      var G__10509 = i__7215__auto___10508 + 1;
      i__7215__auto___10508 = G__10509;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic = function(keyvals) {
  var in$ = cljs.core.seq(keyvals);
  var out = cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);
  while (true) {
    if (in$) {
      var G__10510 = cljs.core.nnext(in$);
      var G__10511 = cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out, cljs.core.first(in$), cljs.core.second(in$));
      in$ = G__10510;
      out = G__10511;
      continue;
    } else {
      return cljs.core.persistent_BANG_(out);
    }
    break;
  }
};
cljs.core.hash_map.cljs$lang$maxFixedArity = 0;
cljs.core.hash_map.cljs$lang$applyTo = function(seq10506) {
  return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10506));
};
cljs.core.array_map = function cljs$core$array_map(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10513 = arguments.length;
  var i__7215__auto___10514 = 0;
  while (true) {
    if (i__7215__auto___10514 < len__7214__auto___10513) {
      args__7221__auto__.push(arguments[i__7215__auto___10514]);
      var G__10515 = i__7215__auto___10514 + 1;
      i__7215__auto___10514 = G__10515;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic = function(keyvals) {
  var arr = keyvals instanceof cljs.core.IndexedSeq && keyvals.i === 0 ? keyvals.arr : cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(keyvals);
  return cljs.core.PersistentArrayMap.fromArray(arr, true, false);
};
cljs.core.array_map.cljs$lang$maxFixedArity = 0;
cljs.core.array_map.cljs$lang$applyTo = function(seq10512) {
  return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10512));
};
cljs.core.obj_map = function cljs$core$obj_map(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10519 = arguments.length;
  var i__7215__auto___10520 = 0;
  while (true) {
    if (i__7215__auto___10520 < len__7214__auto___10519) {
      args__7221__auto__.push(arguments[i__7215__auto___10520]);
      var G__10521 = i__7215__auto___10520 + 1;
      i__7215__auto___10520 = G__10521;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic = function(keyvals) {
  var ks = [];
  var obj = {};
  var kvs = cljs.core.seq(keyvals);
  while (true) {
    if (kvs) {
      ks.push(cljs.core.first(kvs));
      obj[cljs.core.first(kvs)] = cljs.core.second(kvs);
      var G__10522 = cljs.core.nnext(kvs);
      kvs = G__10522;
      continue;
    } else {
      return cljs.core.ObjMap.fromObject(ks, obj);
    }
    break;
  }
};
cljs.core.obj_map.cljs$lang$maxFixedArity = 0;
cljs.core.obj_map.cljs$lang$applyTo = function(seq10516) {
  return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10516));
};
cljs.core.sorted_map = function cljs$core$sorted_map(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10524 = arguments.length;
  var i__7215__auto___10525 = 0;
  while (true) {
    if (i__7215__auto___10525 < len__7214__auto___10524) {
      args__7221__auto__.push(arguments[i__7215__auto___10525]);
      var G__10526 = i__7215__auto___10525 + 1;
      i__7215__auto___10525 = G__10526;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic = function(keyvals) {
  var in$ = cljs.core.seq(keyvals);
  var out = cljs.core.PersistentTreeMap.EMPTY;
  while (true) {
    if (in$) {
      var G__10527 = cljs.core.nnext(in$);
      var G__10528 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(out, cljs.core.first(in$), cljs.core.second(in$));
      in$ = G__10527;
      out = G__10528;
      continue;
    } else {
      return out;
    }
    break;
  }
};
cljs.core.sorted_map.cljs$lang$maxFixedArity = 0;
cljs.core.sorted_map.cljs$lang$applyTo = function(seq10523) {
  return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10523));
};
cljs.core.sorted_map_by = function cljs$core$sorted_map_by(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10531 = arguments.length;
  var i__7215__auto___10532 = 0;
  while (true) {
    if (i__7215__auto___10532 < len__7214__auto___10531) {
      args__7221__auto__.push(arguments[i__7215__auto___10532]);
      var G__10533 = i__7215__auto___10532 + 1;
      i__7215__auto___10532 = G__10533;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic = function(comparator, keyvals) {
  var in$ = cljs.core.seq(keyvals);
  var out = new cljs.core.PersistentTreeMap(cljs.core.fn__GT_comparator(comparator), null, 0, null, 0);
  while (true) {
    if (in$) {
      var G__10534 = cljs.core.nnext(in$);
      var G__10535 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(out, cljs.core.first(in$), cljs.core.second(in$));
      in$ = G__10534;
      out = G__10535;
      continue;
    } else {
      return out;
    }
    break;
  }
};
cljs.core.sorted_map_by.cljs$lang$maxFixedArity = 1;
cljs.core.sorted_map_by.cljs$lang$applyTo = function(seq10529) {
  var G__10530 = cljs.core.first(seq10529);
  var seq10529__$1 = cljs.core.next(seq10529);
  return cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(G__10530, seq10529__$1);
};
cljs.core.KeySeq = function(mseq, _meta) {
  this.mseq = mseq;
  this._meta = _meta;
  this.cljs$lang$protocol_mask$partition0$ = 32374988;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.KeySeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.KeySeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.KeySeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__._meta;
};
cljs.core.KeySeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var nseq = (!(self__.mseq == null) ? self__.mseq.cljs$lang$protocol_mask$partition0$ & 128 || self__.mseq.cljs$core$INext$ ? true : !self__.mseq.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq) : false : cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq)) ? self__.mseq.cljs$core$INext$_next$arity$1(null) : cljs.core.next(self__.mseq);
  if (nseq == null) {
    return null;
  } else {
    return new cljs.core.KeySeq(nseq, self__._meta);
  }
};
cljs.core.KeySeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.hash_ordered_coll(coll__$1);
};
cljs.core.KeySeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.KeySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__._meta);
};
cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.KeySeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var me = self__.mseq.cljs$core$ISeq$_first$arity$1(null);
  return me.cljs$core$IMapEntry$_key$arity$1(null);
};
cljs.core.KeySeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var nseq = (!(self__.mseq == null) ? self__.mseq.cljs$lang$protocol_mask$partition0$ & 128 || self__.mseq.cljs$core$INext$ ? true : !self__.mseq.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq) : false : cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq)) ? self__.mseq.cljs$core$INext$_next$arity$1(null) : cljs.core.next(self__.mseq);
  if (!(nseq == null)) {
    return new cljs.core.KeySeq(nseq, self__._meta);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.KeySeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.KeySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, new_meta) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.KeySeq(self__.mseq, new_meta);
};
cljs.core.KeySeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.KeySeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "mseq", "mseq", 1602647196, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, "not-native", "not-native", -236392494, null)], null)), new cljs.core.Symbol(null, "_meta", "_meta", -1716892533, null)], null);
};
cljs.core.KeySeq.cljs$lang$type = true;
cljs.core.KeySeq.cljs$lang$ctorStr = "cljs.core/KeySeq";
cljs.core.KeySeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/KeySeq");
};
cljs.core.__GT_KeySeq = function cljs$core$__GT_KeySeq(mseq, _meta) {
  return new cljs.core.KeySeq(mseq, _meta);
};
cljs.core.KeySeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.keys = function cljs$core$keys(hash_map) {
  var temp__4657__auto__ = cljs.core.seq(hash_map);
  if (temp__4657__auto__) {
    var mseq = temp__4657__auto__;
    return new cljs.core.KeySeq(mseq, null);
  } else {
    return null;
  }
};
cljs.core.key = function cljs$core$key(map_entry) {
  return cljs.core._key(map_entry);
};
cljs.core.ValSeq = function(mseq, _meta) {
  this.mseq = mseq;
  this._meta = _meta;
  this.cljs$lang$protocol_mask$partition0$ = 32374988;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.ValSeq.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.ValSeq.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.ValSeq.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__._meta;
};
cljs.core.ValSeq.prototype.cljs$core$INext$_next$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var nseq = (!(self__.mseq == null) ? self__.mseq.cljs$lang$protocol_mask$partition0$ & 128 || self__.mseq.cljs$core$INext$ ? true : !self__.mseq.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq) : false : cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq)) ? self__.mseq.cljs$core$INext$_next$arity$1(null) : cljs.core.next(self__.mseq);
  if (nseq == null) {
    return null;
  } else {
    return new cljs.core.ValSeq(nseq, self__._meta);
  }
};
cljs.core.ValSeq.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.hash_ordered_coll(coll__$1);
};
cljs.core.ValSeq.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.equiv_sequential(coll__$1, other);
};
cljs.core.ValSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__._meta);
};
cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$2 = function(coll, f) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f, coll__$1);
};
cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$3 = function(coll, f, start) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f, start, coll__$1);
};
cljs.core.ValSeq.prototype.cljs$core$ISeq$_first$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var me = self__.mseq.cljs$core$ISeq$_first$arity$1(null);
  return me.cljs$core$IMapEntry$_val$arity$1(null);
};
cljs.core.ValSeq.prototype.cljs$core$ISeq$_rest$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var nseq = (!(self__.mseq == null) ? self__.mseq.cljs$lang$protocol_mask$partition0$ & 128 || self__.mseq.cljs$core$INext$ ? true : !self__.mseq.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq) : false : cljs.core.native_satisfies_QMARK_(cljs.core.INext, self__.mseq)) ? self__.mseq.cljs$core$INext$_next$arity$1(null) : cljs.core.next(self__.mseq);
  if (!(nseq == null)) {
    return new cljs.core.ValSeq(nseq, self__._meta);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.ValSeq.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return coll__$1;
};
cljs.core.ValSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, new_meta) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.ValSeq(self__.mseq, new_meta);
};
cljs.core.ValSeq.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.cons(o, coll__$1);
};
cljs.core.ValSeq.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "mseq", "mseq", 1602647196, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), new cljs.core.Symbol(null, "not-native", "not-native", -236392494, null)], null)), new cljs.core.Symbol(null, "_meta", "_meta", -1716892533, null)], null);
};
cljs.core.ValSeq.cljs$lang$type = true;
cljs.core.ValSeq.cljs$lang$ctorStr = "cljs.core/ValSeq";
cljs.core.ValSeq.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ValSeq");
};
cljs.core.__GT_ValSeq = function cljs$core$__GT_ValSeq(mseq, _meta) {
  return new cljs.core.ValSeq(mseq, _meta);
};
cljs.core.ValSeq.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.vals = function cljs$core$vals(hash_map) {
  var temp__4657__auto__ = cljs.core.seq(hash_map);
  if (temp__4657__auto__) {
    var mseq = temp__4657__auto__;
    return new cljs.core.ValSeq(mseq, null);
  } else {
    return null;
  }
};
cljs.core.val = function cljs$core$val(map_entry) {
  return cljs.core._val(map_entry);
};
cljs.core.merge = function cljs$core$merge(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10543 = arguments.length;
  var i__7215__auto___10544 = 0;
  while (true) {
    if (i__7215__auto___10544 < len__7214__auto___10543) {
      args__7221__auto__.push(arguments[i__7215__auto___10544]);
      var G__10545 = i__7215__auto___10544 + 1;
      i__7215__auto___10544 = G__10545;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic = function(maps) {
  if (cljs.core.truth_(cljs.core.some(cljs.core.identity, maps))) {
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(function(p1__10540_SHARP_, p2__10541_SHARP_) {
      return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(function() {
        var or__6156__auto__ = p1__10540_SHARP_;
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.PersistentArrayMap.EMPTY;
        }
      }(), p2__10541_SHARP_);
    }, maps);
  } else {
    return null;
  }
};
cljs.core.merge.cljs$lang$maxFixedArity = 0;
cljs.core.merge.cljs$lang$applyTo = function(seq10542) {
  return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10542));
};
cljs.core.merge_with = function cljs$core$merge_with(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10550 = arguments.length;
  var i__7215__auto___10551 = 0;
  while (true) {
    if (i__7215__auto___10551 < len__7214__auto___10550) {
      args__7221__auto__.push(arguments[i__7215__auto___10551]);
      var G__10552 = i__7215__auto___10551 + 1;
      i__7215__auto___10551 = G__10552;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic = function(f, maps) {
  if (cljs.core.truth_(cljs.core.some(cljs.core.identity, maps))) {
    var merge_entry = function(m, e) {
      var k = cljs.core.first(e);
      var v = cljs.core.second(e);
      if (cljs.core.contains_QMARK_(m, k)) {
        return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, function() {
          var G__10548 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(m, k);
          var G__10549 = v;
          return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__10548, G__10549) : f.call(null, G__10548, G__10549);
        }());
      } else {
        return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m, k, v);
      }
    };
    var merge2 = function(merge_entry) {
      return function(m1, m2) {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(merge_entry, function() {
          var or__6156__auto__ = m1;
          if (cljs.core.truth_(or__6156__auto__)) {
            return or__6156__auto__;
          } else {
            return cljs.core.PersistentArrayMap.EMPTY;
          }
        }(), cljs.core.seq(m2));
      };
    }(merge_entry);
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(merge2, maps);
  } else {
    return null;
  }
};
cljs.core.merge_with.cljs$lang$maxFixedArity = 1;
cljs.core.merge_with.cljs$lang$applyTo = function(seq10546) {
  var G__10547 = cljs.core.first(seq10546);
  var seq10546__$1 = cljs.core.next(seq10546);
  return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(G__10547, seq10546__$1);
};
cljs.core.select_keys = function cljs$core$select_keys(map, keyseq) {
  var ret = cljs.core.PersistentArrayMap.EMPTY;
  var keys = cljs.core.seq(keyseq);
  while (true) {
    if (keys) {
      var key = cljs.core.first(keys);
      var entry = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map, key, new cljs.core.Keyword("cljs.core", "not-found", "cljs.core/not-found", -1572889185));
      var G__10553 = cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(entry, new cljs.core.Keyword("cljs.core", "not-found", "cljs.core/not-found", -1572889185)) ? cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret, key, entry) : ret;
      var G__10554 = cljs.core.next(keys);
      ret = G__10553;
      keys = G__10554;
      continue;
    } else {
      return cljs.core.with_meta(ret, cljs.core.meta(map));
    }
    break;
  }
};
cljs.core.HashSetIter = function(iter) {
  this.iter = iter;
};
cljs.core.HashSetIter.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  return self__.iter.hasNext();
};
cljs.core.HashSetIter.prototype.next = function() {
  var self__ = this;
  var _ = this;
  if (self__.iter.hasNext()) {
    return self__.iter.next().tail[0];
  } else {
    throw new Error("No such element");
  }
};
cljs.core.HashSetIter.prototype.remove = function() {
  var self__ = this;
  var _ = this;
  return new Error("Unsupported operation");
};
cljs.core.HashSetIter.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "iter", "iter", -1346195486, null)], null);
};
cljs.core.HashSetIter.cljs$lang$type = true;
cljs.core.HashSetIter.cljs$lang$ctorStr = "cljs.core/HashSetIter";
cljs.core.HashSetIter.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/HashSetIter");
};
cljs.core.__GT_HashSetIter = function cljs$core$__GT_HashSetIter(iter) {
  return new cljs.core.HashSetIter(iter);
};
cljs.core.PersistentHashSet = function(meta, hash_map, __hash) {
  this.meta = meta;
  this.hash_map = hash_map;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 15077647;
  this.cljs$lang$protocol_mask$partition1$ = 8196;
};
cljs.core.PersistentHashSet.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentHashSet.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentHashSet.prototype.keys = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentHashSet.prototype.entries = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_set_entries_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentHashSet.prototype.values = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentHashSet.prototype.has = function(k) {
  var self__ = this;
  var coll = this;
  return cljs.core.contains_QMARK_(coll, k);
};
cljs.core.PersistentHashSet.prototype.forEach = function(f) {
  var self__ = this;
  var coll = this;
  var seq__10557 = cljs.core.seq(coll);
  var chunk__10558 = null;
  var count__10559 = 0;
  var i__10560 = 0;
  while (true) {
    if (i__10560 < count__10559) {
      var vec__10561 = chunk__10558.cljs$core$IIndexed$_nth$arity$2(null, i__10560);
      var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10561, 0, null);
      var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10561, 1, null);
      f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
      var G__10563 = seq__10557;
      var G__10564 = chunk__10558;
      var G__10565 = count__10559;
      var G__10566 = i__10560 + 1;
      seq__10557 = G__10563;
      chunk__10558 = G__10564;
      count__10559 = G__10565;
      i__10560 = G__10566;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10557);
      if (temp__4657__auto__) {
        var seq__10557__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10557__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10557__$1);
          var G__10567 = cljs.core.chunk_rest(seq__10557__$1);
          var G__10568 = c__6959__auto__;
          var G__10569 = cljs.core.count(c__6959__auto__);
          var G__10570 = 0;
          seq__10557 = G__10567;
          chunk__10558 = G__10568;
          count__10559 = G__10569;
          i__10560 = G__10570;
          continue;
        } else {
          var vec__10562 = cljs.core.first(seq__10557__$1);
          var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10562, 0, null);
          var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10562, 1, null);
          f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
          var G__10571 = cljs.core.next(seq__10557__$1);
          var G__10572 = null;
          var G__10573 = 0;
          var G__10574 = 0;
          seq__10557 = G__10571;
          chunk__10558 = G__10572;
          count__10559 = G__10573;
          i__10560 = G__10574;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, v) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, v, null);
};
cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, v, not_found) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core._contains_key_QMARK_(self__.hash_map, v)) {
    return v;
  } else {
    return not_found;
  }
};
cljs.core.PersistentHashSet.prototype.cljs$core$IIterable$ = true;
cljs.core.PersistentHashSet.prototype.cljs$core$IIterable$_iterator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.HashSetIter(cljs.core._iterator(self__.hash_map));
};
cljs.core.PersistentHashSet.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentHashSet.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentHashSet(self__.meta, self__.hash_map, self__.__hash);
};
cljs.core.PersistentHashSet.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._count(self__.hash_map);
};
cljs.core.PersistentHashSet.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentHashSet.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.set_QMARK_(other) && cljs.core.count(coll__$1) === cljs.core.count(other) && cljs.core.every_QMARK_(function(coll__$1) {
    return function(p1__10555_SHARP_) {
      return cljs.core.contains_QMARK_(coll__$1, p1__10555_SHARP_);
    };
  }(coll__$1), other);
};
cljs.core.PersistentHashSet.prototype.cljs$core$IEditableCollection$_as_transient$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.TransientHashSet(cljs.core._as_transient(self__.hash_map));
};
cljs.core.PersistentHashSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.with_meta(cljs.core.PersistentHashSet.EMPTY, self__.meta);
};
cljs.core.PersistentHashSet.prototype.cljs$core$ISet$_disjoin$arity$2 = function(coll, v) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentHashSet(self__.meta, cljs.core._dissoc(self__.hash_map, v), null);
};
cljs.core.PersistentHashSet.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.keys(self__.hash_map);
};
cljs.core.PersistentHashSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentHashSet(meta__$1, self__.hash_map, self__.__hash);
};
cljs.core.PersistentHashSet.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentHashSet(self__.meta, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.hash_map, o, null), null);
};
cljs.core.PersistentHashSet.prototype.call = function() {
  var G__10575 = null;
  var G__10575__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10575__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10575 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10575__2.call(this, self__, k);
      case 3:
        return G__10575__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10575.cljs$core$IFn$_invoke$arity$2 = G__10575__2;
  G__10575.cljs$core$IFn$_invoke$arity$3 = G__10575__3;
  return G__10575;
}();
cljs.core.PersistentHashSet.prototype.apply = function(self__, args10556) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10556)));
};
cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentHashSet.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "hash-map", "hash-map", -439030950, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentHashSet.cljs$lang$type = true;
cljs.core.PersistentHashSet.cljs$lang$ctorStr = "cljs.core/PersistentHashSet";
cljs.core.PersistentHashSet.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentHashSet");
};
cljs.core.__GT_PersistentHashSet = function cljs$core$__GT_PersistentHashSet(meta, hash_map, __hash) {
  return new cljs.core.PersistentHashSet(meta, hash_map, __hash);
};
cljs.core.PersistentHashSet.EMPTY = new cljs.core.PersistentHashSet(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.empty_unordered_hash);
cljs.core.PersistentHashSet.fromArray = function(items, no_clone) {
  var len = items.length;
  if (len <= cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD) {
    var arr = no_clone ? items : cljs.core.aclone(items);
    var i = 0;
    var out = cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY);
    while (true) {
      if (i < len) {
        var G__10576 = i + 1;
        var G__10577 = cljs.core._assoc_BANG_(out, items[i], null);
        i = G__10576;
        out = G__10577;
        continue;
      } else {
        return new cljs.core.PersistentHashSet(null, cljs.core._persistent_BANG_(out), null);
      }
      break;
    }
  } else {
    var i = 0;
    var out = cljs.core.transient$(cljs.core.PersistentHashSet.EMPTY);
    while (true) {
      if (i < len) {
        var G__10578 = i + 1;
        var G__10579 = cljs.core._conj_BANG_(out, items[i]);
        i = G__10578;
        out = G__10579;
        continue;
      } else {
        return cljs.core._persistent_BANG_(out);
      }
      break;
    }
  }
};
cljs.core.PersistentHashSet.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.TransientHashSet = function(transient_map) {
  this.transient_map = transient_map;
  this.cljs$lang$protocol_mask$partition1$ = 136;
  this.cljs$lang$protocol_mask$partition0$ = 259;
};
cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2 = function(tcoll, o) {
  var self__ = this;
  var tcoll__$1 = this;
  self__.transient_map = cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(self__.transient_map, o, null);
  return tcoll__$1;
};
cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  return new cljs.core.PersistentHashSet(null, cljs.core.persistent_BANG_(self__.transient_map), null);
};
cljs.core.TransientHashSet.prototype.cljs$core$ITransientSet$_disjoin_BANG_$arity$2 = function(tcoll, v) {
  var self__ = this;
  var tcoll__$1 = this;
  self__.transient_map = cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(self__.transient_map, v);
  return tcoll__$1;
};
cljs.core.TransientHashSet.prototype.cljs$core$ICounted$_count$arity$1 = function(tcoll) {
  var self__ = this;
  var tcoll__$1 = this;
  return cljs.core.count(self__.transient_map);
};
cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$2 = function(tcoll, v) {
  var self__ = this;
  var tcoll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(tcoll__$1, v, null);
};
cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$3 = function(tcoll, v, not_found) {
  var self__ = this;
  var tcoll__$1 = this;
  if (cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map, v, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
    return not_found;
  } else {
    return v;
  }
};
cljs.core.TransientHashSet.prototype.call = function() {
  var G__10581 = null;
  var G__10581__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var tcoll = self____$1;
    if (cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map, k, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
      return null;
    } else {
      return k;
    }
  };
  var G__10581__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var tcoll = self____$1;
    if (cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map, k, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
      return not_found;
    } else {
      return k;
    }
  };
  G__10581 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10581__2.call(this, self__, k);
      case 3:
        return G__10581__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10581.cljs$core$IFn$_invoke$arity$2 = G__10581__2;
  G__10581.cljs$core$IFn$_invoke$arity$3 = G__10581__3;
  return G__10581;
}();
cljs.core.TransientHashSet.prototype.apply = function(self__, args10580) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10580)));
};
cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var tcoll = this;
  if (cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map, k, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
    return null;
  } else {
    return k;
  }
};
cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var tcoll = this;
  if (cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map, k, cljs.core.lookup_sentinel) === cljs.core.lookup_sentinel) {
    return not_found;
  } else {
    return k;
  }
};
cljs.core.TransientHashSet.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "transient-map", "transient-map", 351764893, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.TransientHashSet.cljs$lang$type = true;
cljs.core.TransientHashSet.cljs$lang$ctorStr = "cljs.core/TransientHashSet";
cljs.core.TransientHashSet.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/TransientHashSet");
};
cljs.core.__GT_TransientHashSet = function cljs$core$__GT_TransientHashSet(transient_map) {
  return new cljs.core.TransientHashSet(transient_map);
};
cljs.core.PersistentTreeSet = function(meta, tree_map, __hash) {
  this.meta = meta;
  this.tree_map = tree_map;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 417730831;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.PersistentTreeSet.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.PersistentTreeSet.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.PersistentTreeSet.prototype.keys = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentTreeSet.prototype.entries = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_set_entries_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentTreeSet.prototype.values = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.es6_iterator(cljs.core.seq(coll));
};
cljs.core.PersistentTreeSet.prototype.has = function(k) {
  var self__ = this;
  var coll = this;
  return cljs.core.contains_QMARK_(coll, k);
};
cljs.core.PersistentTreeSet.prototype.forEach = function(f) {
  var self__ = this;
  var coll = this;
  var seq__10584 = cljs.core.seq(coll);
  var chunk__10585 = null;
  var count__10586 = 0;
  var i__10587 = 0;
  while (true) {
    if (i__10587 < count__10586) {
      var vec__10588 = chunk__10585.cljs$core$IIndexed$_nth$arity$2(null, i__10587);
      var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10588, 0, null);
      var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10588, 1, null);
      f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
      var G__10590 = seq__10584;
      var G__10591 = chunk__10585;
      var G__10592 = count__10586;
      var G__10593 = i__10587 + 1;
      seq__10584 = G__10590;
      chunk__10585 = G__10591;
      count__10586 = G__10592;
      i__10587 = G__10593;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10584);
      if (temp__4657__auto__) {
        var seq__10584__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10584__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10584__$1);
          var G__10594 = cljs.core.chunk_rest(seq__10584__$1);
          var G__10595 = c__6959__auto__;
          var G__10596 = cljs.core.count(c__6959__auto__);
          var G__10597 = 0;
          seq__10584 = G__10594;
          chunk__10585 = G__10595;
          count__10586 = G__10596;
          i__10587 = G__10597;
          continue;
        } else {
          var vec__10589 = cljs.core.first(seq__10584__$1);
          var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10589, 0, null);
          var v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10589, 1, null);
          f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(v, k) : f.call(null, v, k);
          var G__10598 = cljs.core.next(seq__10584__$1);
          var G__10599 = null;
          var G__10600 = 0;
          var G__10601 = 0;
          seq__10584 = G__10598;
          chunk__10585 = G__10599;
          count__10586 = G__10600;
          i__10587 = G__10601;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$2 = function(coll, v) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1, v, null);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$3 = function(coll, v, not_found) {
  var self__ = this;
  var coll__$1 = this;
  var n = self__.tree_map.entry_at(v);
  if (!(n == null)) {
    return n.key;
  } else {
    return not_found;
  }
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IMeta$_meta$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return self__.meta;
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.PersistentTreeSet(self__.meta, self__.tree_map, self__.__hash);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.count(self__.tree_map);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IReversible$_rseq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  if (cljs.core.count(self__.tree_map) > 0) {
    return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key, cljs.core.rseq(self__.tree_map));
  } else {
    return null;
  }
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IHash$_hash$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_unordered_coll(coll__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(coll, other) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.set_QMARK_(other) && cljs.core.count(coll__$1) === cljs.core.count(other) && cljs.core.every_QMARK_(function(coll__$1) {
    return function(p1__10582_SHARP_) {
      return cljs.core.contains_QMARK_(coll__$1, p1__10582_SHARP_);
    };
  }(coll__$1), other);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeSet(self__.meta, cljs.core._empty(self__.tree_map), 0);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISet$_disjoin$arity$2 = function(coll, v) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeSet(self__.meta, cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.tree_map, v), null);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.keys(self__.tree_map);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(coll, meta__$1) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeSet(meta__$1, self__.tree_map, self__.__hash);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICollection$_conj$arity$2 = function(coll, o) {
  var self__ = this;
  var coll__$1 = this;
  return new cljs.core.PersistentTreeSet(self__.meta, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.tree_map, o, null), null);
};
cljs.core.PersistentTreeSet.prototype.call = function() {
  var G__10602 = null;
  var G__10602__2 = function(self__, k) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
  };
  var G__10602__3 = function(self__, k, not_found) {
    var self__ = this;
    var self____$1 = this;
    var coll = self____$1;
    return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
  };
  G__10602 = function(self__, k, not_found) {
    switch(arguments.length) {
      case 2:
        return G__10602__2.call(this, self__, k);
      case 3:
        return G__10602__3.call(this, self__, k, not_found);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__10602.cljs$core$IFn$_invoke$arity$2 = G__10602__2;
  G__10602.cljs$core$IFn$_invoke$arity$3 = G__10602__3;
  return G__10602;
}();
cljs.core.PersistentTreeSet.prototype.apply = function(self__, args10583) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args10583)));
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$1 = function(k) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$2(null, k);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$2 = function(k, not_found) {
  var self__ = this;
  var coll = this;
  return coll.cljs$core$ILookup$_lookup$arity$3(null, k, not_found);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq$arity$2 = function(coll, ascending_QMARK_) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key, cljs.core._sorted_seq(self__.tree_map, ascending_QMARK_));
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3 = function(coll, k, ascending_QMARK_) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key, cljs.core._sorted_seq_from(self__.tree_map, k, ascending_QMARK_));
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_entry_key$arity$2 = function(coll, entry) {
  var self__ = this;
  var coll__$1 = this;
  return entry;
};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_comparator$arity$1 = function(coll) {
  var self__ = this;
  var coll__$1 = this;
  return cljs.core._comparator(self__.tree_map);
};
cljs.core.PersistentTreeSet.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "tree-map", "tree-map", 1373073049, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.PersistentTreeSet.cljs$lang$type = true;
cljs.core.PersistentTreeSet.cljs$lang$ctorStr = "cljs.core/PersistentTreeSet";
cljs.core.PersistentTreeSet.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/PersistentTreeSet");
};
cljs.core.__GT_PersistentTreeSet = function cljs$core$__GT_PersistentTreeSet(meta, tree_map, __hash) {
  return new cljs.core.PersistentTreeSet(meta, tree_map, __hash);
};
cljs.core.PersistentTreeSet.EMPTY = new cljs.core.PersistentTreeSet(null, cljs.core.PersistentTreeMap.EMPTY, cljs.core.empty_unordered_hash);
cljs.core.PersistentTreeSet.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.set_from_indexed_seq = function cljs$core$set_from_indexed_seq(iseq) {
  var arr = iseq.arr;
  var ret = function() {
    var a__7053__auto__ = arr;
    var i = 0;
    var res = cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);
    while (true) {
      if (i < a__7053__auto__.length) {
        var G__10603 = i + 1;
        var G__10604 = res.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null, arr[i]);
        i = G__10603;
        res = G__10604;
        continue;
      } else {
        return res;
      }
      break;
    }
  }();
  return ret.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(null);
};
cljs.core.set = function cljs$core$set(coll) {
  var in$ = cljs.core.seq(coll);
  if (in$ == null) {
    return cljs.core.PersistentHashSet.EMPTY;
  } else {
    if (in$ instanceof cljs.core.IndexedSeq && in$.i === 0) {
      return cljs.core.set_from_indexed_seq(in$);
    } else {
      var in$__$1 = in$;
      var out = cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);
      while (true) {
        if (!(in$__$1 == null)) {
          var G__10605 = cljs.core.next(in$__$1);
          var G__10606 = out.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null, in$__$1.cljs$core$ISeq$_first$arity$1(null));
          in$__$1 = G__10605;
          out = G__10606;
          continue;
        } else {
          return cljs.core.persistent_BANG_(out);
        }
        break;
      }
    }
  }
};
cljs.core.hash_set = function cljs$core$hash_set(var_args) {
  var args10607 = [];
  var len__7214__auto___10611 = arguments.length;
  var i__7215__auto___10612 = 0;
  while (true) {
    if (i__7215__auto___10612 < len__7214__auto___10611) {
      args10607.push(arguments[i__7215__auto___10612]);
      var G__10613 = i__7215__auto___10612 + 1;
      i__7215__auto___10612 = G__10613;
      continue;
    } else {
    }
    break;
  }
  var G__10610 = args10607.length;
  switch(G__10610) {
    case 0:
      return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0();
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10607.slice(0), 0);
      return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(argseq__7233__auto__);
  }
};
cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.PersistentHashSet.EMPTY;
};
cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic = function(keys) {
  return cljs.core.set(keys);
};
cljs.core.hash_set.cljs$lang$applyTo = function(seq10608) {
  return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10608));
};
cljs.core.hash_set.cljs$lang$maxFixedArity = 0;
cljs.core.sorted_set = function cljs$core$sorted_set(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10616 = arguments.length;
  var i__7215__auto___10617 = 0;
  while (true) {
    if (i__7215__auto___10617 < len__7214__auto___10616) {
      args__7221__auto__.push(arguments[i__7215__auto___10617]);
      var G__10618 = i__7215__auto___10617 + 1;
      i__7215__auto___10617 = G__10618;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic = function(keys) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj, cljs.core.PersistentTreeSet.EMPTY, keys);
};
cljs.core.sorted_set.cljs$lang$maxFixedArity = 0;
cljs.core.sorted_set.cljs$lang$applyTo = function(seq10615) {
  return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10615));
};
cljs.core.sorted_set_by = function cljs$core$sorted_set_by(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10621 = arguments.length;
  var i__7215__auto___10622 = 0;
  while (true) {
    if (i__7215__auto___10622 < len__7214__auto___10621) {
      args__7221__auto__.push(arguments[i__7215__auto___10622]);
      var G__10623 = i__7215__auto___10622 + 1;
      i__7215__auto___10622 = G__10623;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic = function(comparator, keys) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj, new cljs.core.PersistentTreeSet(null, cljs.core.sorted_map_by(comparator), 0), keys);
};
cljs.core.sorted_set_by.cljs$lang$maxFixedArity = 1;
cljs.core.sorted_set_by.cljs$lang$applyTo = function(seq10619) {
  var G__10620 = cljs.core.first(seq10619);
  var seq10619__$1 = cljs.core.next(seq10619);
  return cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(G__10620, seq10619__$1);
};
cljs.core.replace = function cljs$core$replace(var_args) {
  var args10626 = [];
  var len__7214__auto___10629 = arguments.length;
  var i__7215__auto___10630 = 0;
  while (true) {
    if (i__7215__auto___10630 < len__7214__auto___10629) {
      args10626.push(arguments[i__7215__auto___10630]);
      var G__10631 = i__7215__auto___10630 + 1;
      i__7215__auto___10630 = G__10631;
      continue;
    } else {
    }
    break;
  }
  var G__10628 = args10626.length;
  switch(G__10628) {
    case 1:
      return cljs.core.replace.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.replace.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10626.length)].join(""));;
  }
};
cljs.core.replace.cljs$core$IFn$_invoke$arity$1 = function(smap) {
  return cljs.core.map.cljs$core$IFn$_invoke$arity$1(function(p1__10624_SHARP_) {
    var temp__4655__auto__ = cljs.core.find(smap, p1__10624_SHARP_);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var e = temp__4655__auto__;
      return cljs.core.val(e);
    } else {
      return p1__10624_SHARP_;
    }
  });
};
cljs.core.replace.cljs$core$IFn$_invoke$arity$2 = function(smap, coll) {
  if (cljs.core.vector_QMARK_(coll)) {
    var n = cljs.core.count(coll);
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(n) {
      return function(v, i) {
        var temp__4655__auto__ = cljs.core.find(smap, cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v, i));
        if (cljs.core.truth_(temp__4655__auto__)) {
          var e = temp__4655__auto__;
          return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(v, i, cljs.core.second(e));
        } else {
          return v;
        }
      };
    }(n), coll, cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, cljs.core.iterate(cljs.core.inc, 0)));
  } else {
    return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(p1__10625_SHARP_) {
      var temp__4655__auto__ = cljs.core.find(smap, p1__10625_SHARP_);
      if (cljs.core.truth_(temp__4655__auto__)) {
        var e = temp__4655__auto__;
        return cljs.core.second(e);
      } else {
        return p1__10625_SHARP_;
      }
    }, coll);
  }
};
cljs.core.replace.cljs$lang$maxFixedArity = 2;
cljs.core.distinct = function cljs$core$distinct(var_args) {
  var args10633 = [];
  var len__7214__auto___10642 = arguments.length;
  var i__7215__auto___10643 = 0;
  while (true) {
    if (i__7215__auto___10643 < len__7214__auto___10642) {
      args10633.push(arguments[i__7215__auto___10643]);
      var G__10644 = i__7215__auto___10643 + 1;
      i__7215__auto___10643 = G__10644;
      continue;
    } else {
    }
    break;
  }
  var G__10635 = args10633.length;
  switch(G__10635) {
    case 0:
      return cljs.core.distinct.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.distinct.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10633.length)].join(""));;
  }
};
cljs.core.distinct.cljs$core$IFn$_invoke$arity$0 = function() {
  return function(rf) {
    var seen = cljs.core.volatile_BANG_(cljs.core.PersistentHashSet.EMPTY);
    return function(seen) {
      return function() {
        var G__10646 = null;
        var G__10646__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__10646__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__10646__2 = function(result, input) {
          if (cljs.core.contains_QMARK_(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(seen) : cljs.core.deref.call(null, seen), input)) {
            return result;
          } else {
            cljs.core._vreset_BANG_(seen, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core._deref(seen), input));
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          }
        };
        G__10646 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__10646__0.call(this);
            case 1:
              return G__10646__1.call(this, result);
            case 2:
              return G__10646__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__10646.cljs$core$IFn$_invoke$arity$0 = G__10646__0;
        G__10646.cljs$core$IFn$_invoke$arity$1 = G__10646__1;
        G__10646.cljs$core$IFn$_invoke$arity$2 = G__10646__2;
        return G__10646;
      }();
    }(seen);
  };
};
cljs.core.distinct.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  var step = function cljs$core$step(xs, seen) {
    return new cljs.core.LazySeq(null, function() {
      return function(p__10640, seen__$1) {
        while (true) {
          var vec__10641 = p__10640;
          var f = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10641, 0, null);
          var xs__$1 = vec__10641;
          var temp__4657__auto__ = cljs.core.seq(xs__$1);
          if (temp__4657__auto__) {
            var s = temp__4657__auto__;
            if (cljs.core.contains_QMARK_(seen__$1, f)) {
              var G__10647 = cljs.core.rest(s);
              var G__10648 = seen__$1;
              p__10640 = G__10647;
              seen__$1 = G__10648;
              continue;
            } else {
              return cljs.core.cons(f, cljs$core$step(cljs.core.rest(s), cljs.core.conj.cljs$core$IFn$_invoke$arity$2(seen__$1, f)));
            }
          } else {
            return null;
          }
          break;
        }
      }.call(null, xs, seen);
    }, null, null);
  };
  return step(coll, cljs.core.PersistentHashSet.EMPTY);
};
cljs.core.distinct.cljs$lang$maxFixedArity = 1;
cljs.core.butlast = function cljs$core$butlast(s) {
  var ret = cljs.core.PersistentVector.EMPTY;
  var s__$1 = s;
  while (true) {
    if (cljs.core.next(s__$1)) {
      var G__10649 = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(ret, cljs.core.first(s__$1));
      var G__10650 = cljs.core.next(s__$1);
      ret = G__10649;
      s__$1 = G__10650;
      continue;
    } else {
      return cljs.core.seq(ret);
    }
    break;
  }
};
cljs.core.name = function cljs$core$name(x) {
  if (!(x == null) ? x.cljs$lang$protocol_mask$partition1$ & 4096 || x.cljs$core$INamed$ ? true : false : false) {
    return x.cljs$core$INamed$_name$arity$1(null);
  } else {
    if (typeof x === "string") {
      return x;
    } else {
      throw new Error([cljs.core.str("Doesn't support name: "), cljs.core.str(x)].join(""));
    }
  }
};
cljs.core.zipmap = function cljs$core$zipmap(keys, vals) {
  var map = cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY);
  var ks = cljs.core.seq(keys);
  var vs = cljs.core.seq(vals);
  while (true) {
    if (ks && vs) {
      var G__10653 = cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(map, cljs.core.first(ks), cljs.core.first(vs));
      var G__10654 = cljs.core.next(ks);
      var G__10655 = cljs.core.next(vs);
      map = G__10653;
      ks = G__10654;
      vs = G__10655;
      continue;
    } else {
      return cljs.core.persistent_BANG_(map);
    }
    break;
  }
};
cljs.core.max_key = function cljs$core$max_key(var_args) {
  var args10658 = [];
  var len__7214__auto___10665 = arguments.length;
  var i__7215__auto___10666 = 0;
  while (true) {
    if (i__7215__auto___10666 < len__7214__auto___10665) {
      args10658.push(arguments[i__7215__auto___10666]);
      var G__10667 = i__7215__auto___10666 + 1;
      i__7215__auto___10666 = G__10667;
      continue;
    } else {
    }
    break;
  }
  var G__10664 = args10658.length;
  switch(G__10664) {
    case 2:
      return cljs.core.max_key.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10658.slice(3), 0);
      return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.max_key.cljs$core$IFn$_invoke$arity$2 = function(k, x) {
  return x;
};
cljs.core.max_key.cljs$core$IFn$_invoke$arity$3 = function(k, x, y) {
  if ((k.cljs$core$IFn$_invoke$arity$1 ? k.cljs$core$IFn$_invoke$arity$1(x) : k.call(null, x)) > (k.cljs$core$IFn$_invoke$arity$1 ? k.cljs$core$IFn$_invoke$arity$1(y) : k.call(null, y))) {
    return x;
  } else {
    return y;
  }
};
cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic = function(k, x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__10656_SHARP_, p2__10657_SHARP_) {
    return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(k, p1__10656_SHARP_, p2__10657_SHARP_);
  }, cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(k, x, y), more);
};
cljs.core.max_key.cljs$lang$applyTo = function(seq10659) {
  var G__10660 = cljs.core.first(seq10659);
  var seq10659__$1 = cljs.core.next(seq10659);
  var G__10661 = cljs.core.first(seq10659__$1);
  var seq10659__$2 = cljs.core.next(seq10659__$1);
  var G__10662 = cljs.core.first(seq10659__$2);
  var seq10659__$3 = cljs.core.next(seq10659__$2);
  return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(G__10660, G__10661, G__10662, seq10659__$3);
};
cljs.core.max_key.cljs$lang$maxFixedArity = 3;
cljs.core.min_key = function cljs$core$min_key(var_args) {
  var args10671 = [];
  var len__7214__auto___10678 = arguments.length;
  var i__7215__auto___10679 = 0;
  while (true) {
    if (i__7215__auto___10679 < len__7214__auto___10678) {
      args10671.push(arguments[i__7215__auto___10679]);
      var G__10680 = i__7215__auto___10679 + 1;
      i__7215__auto___10679 = G__10680;
      continue;
    } else {
    }
    break;
  }
  var G__10677 = args10671.length;
  switch(G__10677) {
    case 2:
      return cljs.core.min_key.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10671.slice(3), 0);
      return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.min_key.cljs$core$IFn$_invoke$arity$2 = function(k, x) {
  return x;
};
cljs.core.min_key.cljs$core$IFn$_invoke$arity$3 = function(k, x, y) {
  if ((k.cljs$core$IFn$_invoke$arity$1 ? k.cljs$core$IFn$_invoke$arity$1(x) : k.call(null, x)) < (k.cljs$core$IFn$_invoke$arity$1 ? k.cljs$core$IFn$_invoke$arity$1(y) : k.call(null, y))) {
    return x;
  } else {
    return y;
  }
};
cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic = function(k, x, y, more) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__10669_SHARP_, p2__10670_SHARP_) {
    return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(k, p1__10669_SHARP_, p2__10670_SHARP_);
  }, cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(k, x, y), more);
};
cljs.core.min_key.cljs$lang$applyTo = function(seq10672) {
  var G__10673 = cljs.core.first(seq10672);
  var seq10672__$1 = cljs.core.next(seq10672);
  var G__10674 = cljs.core.first(seq10672__$1);
  var seq10672__$2 = cljs.core.next(seq10672__$1);
  var G__10675 = cljs.core.first(seq10672__$2);
  var seq10672__$3 = cljs.core.next(seq10672__$2);
  return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(G__10673, G__10674, G__10675, seq10672__$3);
};
cljs.core.min_key.cljs$lang$maxFixedArity = 3;
cljs.core.ArrayList = function(arr) {
  this.arr = arr;
};
cljs.core.ArrayList.prototype.add = function(x) {
  var self__ = this;
  var _ = this;
  return self__.arr.push(x);
};
cljs.core.ArrayList.prototype.size = function() {
  var self__ = this;
  var _ = this;
  return self__.arr.length;
};
cljs.core.ArrayList.prototype.clear = function() {
  var self__ = this;
  var _ = this;
  return self__.arr = [];
};
cljs.core.ArrayList.prototype.isEmpty = function() {
  var self__ = this;
  var _ = this;
  return self__.arr.length === 0;
};
cljs.core.ArrayList.prototype.toArray = function() {
  var self__ = this;
  var _ = this;
  return self__.arr;
};
cljs.core.ArrayList.getBasis = function() {
  return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "arr", "arr", 2115492975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.ArrayList.cljs$lang$type = true;
cljs.core.ArrayList.cljs$lang$ctorStr = "cljs.core/ArrayList";
cljs.core.ArrayList.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/ArrayList");
};
cljs.core.__GT_ArrayList = function cljs$core$__GT_ArrayList(arr) {
  return new cljs.core.ArrayList(arr);
};
cljs.core.array_list = function cljs$core$array_list() {
  return new cljs.core.ArrayList([]);
};
cljs.core.partition_all = function cljs$core$partition_all(var_args) {
  var args10682 = [];
  var len__7214__auto___10685 = arguments.length;
  var i__7215__auto___10686 = 0;
  while (true) {
    if (i__7215__auto___10686 < len__7214__auto___10685) {
      args10682.push(arguments[i__7215__auto___10686]);
      var G__10687 = i__7215__auto___10686 + 1;
      i__7215__auto___10686 = G__10687;
      continue;
    } else {
    }
    break;
  }
  var G__10684 = args10682.length;
  switch(G__10684) {
    case 1:
      return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10682.length)].join(""));;
  }
};
cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1 = function(n) {
  return function(rf) {
    var a = cljs.core.array_list();
    return function(a) {
      return function() {
        var G__10689 = null;
        var G__10689__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__10689__1 = function(result) {
          var result__$1 = cljs.core.truth_(a.isEmpty()) ? result : function() {
            var v = cljs.core.vec(a.toArray());
            a.clear();
            return cljs.core.unreduced(rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v));
          }();
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result__$1) : rf.call(null, result__$1);
        };
        var G__10689__2 = function(result, input) {
          a.add(input);
          if (n === a.size()) {
            var v = cljs.core.vec(a.toArray());
            a.clear();
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v);
          } else {
            return result;
          }
        };
        G__10689 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__10689__0.call(this);
            case 1:
              return G__10689__1.call(this, result);
            case 2:
              return G__10689__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__10689.cljs$core$IFn$_invoke$arity$0 = G__10689__0;
        G__10689.cljs$core$IFn$_invoke$arity$1 = G__10689__1;
        G__10689.cljs$core$IFn$_invoke$arity$2 = G__10689__2;
        return G__10689;
      }();
    }(a);
  };
};
cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(n, n, coll);
};
cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3 = function(n, step, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      return cljs.core.cons(cljs.core.take.cljs$core$IFn$_invoke$arity$2(n, s), cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(n, step, cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step, s)));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.partition_all.cljs$lang$maxFixedArity = 3;
cljs.core.take_while = function cljs$core$take_while(var_args) {
  var args10690 = [];
  var len__7214__auto___10694 = arguments.length;
  var i__7215__auto___10695 = 0;
  while (true) {
    if (i__7215__auto___10695 < len__7214__auto___10694) {
      args10690.push(arguments[i__7215__auto___10695]);
      var G__10696 = i__7215__auto___10695 + 1;
      i__7215__auto___10695 = G__10696;
      continue;
    } else {
    }
    break;
  }
  var G__10692 = args10690.length;
  switch(G__10692) {
    case 1:
      return cljs.core.take_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10690.length)].join(""));;
  }
};
cljs.core.take_while.cljs$core$IFn$_invoke$arity$1 = function(pred) {
  return function(rf) {
    return function() {
      var G__10698 = null;
      var G__10698__0 = function() {
        return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
      };
      var G__10698__1 = function(result) {
        return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
      };
      var G__10698__2 = function(result, input) {
        if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(input) : pred.call(null, input))) {
          return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
        } else {
          return cljs.core.reduced(result);
        }
      };
      G__10698 = function(result, input) {
        switch(arguments.length) {
          case 0:
            return G__10698__0.call(this);
          case 1:
            return G__10698__1.call(this, result);
          case 2:
            return G__10698__2.call(this, result, input);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__10698.cljs$core$IFn$_invoke$arity$0 = G__10698__0;
      G__10698.cljs$core$IFn$_invoke$arity$1 = G__10698__1;
      G__10698.cljs$core$IFn$_invoke$arity$2 = G__10698__2;
      return G__10698;
    }();
  };
};
cljs.core.take_while.cljs$core$IFn$_invoke$arity$2 = function(pred, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      if (cljs.core.truth_(function() {
        var G__10693 = cljs.core.first(s);
        return pred.cljs$core$IFn$_invoke$arity$1 ? pred.cljs$core$IFn$_invoke$arity$1(G__10693) : pred.call(null, G__10693);
      }())) {
        return cljs.core.cons(cljs.core.first(s), cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(pred, cljs.core.rest(s)));
      } else {
        return null;
      }
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.take_while.cljs$lang$maxFixedArity = 2;
cljs.core.mk_bound_fn = function cljs$core$mk_bound_fn(sc, test, key) {
  return function(e) {
    var comp = cljs.core._comparator(sc);
    var G__10707 = function() {
      var G__10709 = cljs.core._entry_key(sc, e);
      var G__10710 = key;
      return comp.cljs$core$IFn$_invoke$arity$2 ? comp.cljs$core$IFn$_invoke$arity$2(G__10709, G__10710) : comp.call(null, G__10709, G__10710);
    }();
    var G__10708 = 0;
    return test.cljs$core$IFn$_invoke$arity$2 ? test.cljs$core$IFn$_invoke$arity$2(G__10707, G__10708) : test.call(null, G__10707, G__10708);
  };
};
cljs.core.subseq = function cljs$core$subseq(var_args) {
  var args10711 = [];
  var len__7214__auto___10716 = arguments.length;
  var i__7215__auto___10717 = 0;
  while (true) {
    if (i__7215__auto___10717 < len__7214__auto___10716) {
      args10711.push(arguments[i__7215__auto___10717]);
      var G__10718 = i__7215__auto___10717 + 1;
      i__7215__auto___10717 = G__10718;
      continue;
    } else {
    }
    break;
  }
  var G__10713 = args10711.length;
  switch(G__10713) {
    case 3:
      return cljs.core.subseq.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 5:
      return cljs.core.subseq.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10711.length)].join(""));;
  }
};
cljs.core.subseq.cljs$core$IFn$_invoke$arity$3 = function(sc, test, key) {
  var include = cljs.core.mk_bound_fn(sc, test, key);
  if (cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._GT_, cljs.core._GT__EQ_], true).call(null, test))) {
    var temp__4657__auto__ = cljs.core._sorted_seq_from(sc, key, true);
    if (cljs.core.truth_(temp__4657__auto__)) {
      var vec__10714 = temp__4657__auto__;
      var e = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10714, 0, null);
      var s = vec__10714;
      if (cljs.core.truth_(include.cljs$core$IFn$_invoke$arity$1 ? include.cljs$core$IFn$_invoke$arity$1(e) : include.call(null, e))) {
        return s;
      } else {
        return cljs.core.next(s);
      }
    } else {
      return null;
    }
  } else {
    return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(include, cljs.core._sorted_seq(sc, true));
  }
};
cljs.core.subseq.cljs$core$IFn$_invoke$arity$5 = function(sc, start_test, start_key, end_test, end_key) {
  var temp__4657__auto__ = cljs.core._sorted_seq_from(sc, start_key, true);
  if (cljs.core.truth_(temp__4657__auto__)) {
    var vec__10715 = temp__4657__auto__;
    var e = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10715, 0, null);
    var s = vec__10715;
    return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(sc, end_test, end_key), cljs.core.truth_(cljs.core.mk_bound_fn(sc, start_test, start_key).call(null, e)) ? s : cljs.core.next(s));
  } else {
    return null;
  }
};
cljs.core.subseq.cljs$lang$maxFixedArity = 5;
cljs.core.rsubseq = function cljs$core$rsubseq(var_args) {
  var args10720 = [];
  var len__7214__auto___10725 = arguments.length;
  var i__7215__auto___10726 = 0;
  while (true) {
    if (i__7215__auto___10726 < len__7214__auto___10725) {
      args10720.push(arguments[i__7215__auto___10726]);
      var G__10727 = i__7215__auto___10726 + 1;
      i__7215__auto___10726 = G__10727;
      continue;
    } else {
    }
    break;
  }
  var G__10722 = args10720.length;
  switch(G__10722) {
    case 3:
      return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 5:
      return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10720.length)].join(""));;
  }
};
cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3 = function(sc, test, key) {
  var include = cljs.core.mk_bound_fn(sc, test, key);
  if (cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._LT_, cljs.core._LT__EQ_], true).call(null, test))) {
    var temp__4657__auto__ = cljs.core._sorted_seq_from(sc, key, false);
    if (cljs.core.truth_(temp__4657__auto__)) {
      var vec__10723 = temp__4657__auto__;
      var e = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10723, 0, null);
      var s = vec__10723;
      if (cljs.core.truth_(include.cljs$core$IFn$_invoke$arity$1 ? include.cljs$core$IFn$_invoke$arity$1(e) : include.call(null, e))) {
        return s;
      } else {
        return cljs.core.next(s);
      }
    } else {
      return null;
    }
  } else {
    return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(include, cljs.core._sorted_seq(sc, false));
  }
};
cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5 = function(sc, start_test, start_key, end_test, end_key) {
  var temp__4657__auto__ = cljs.core._sorted_seq_from(sc, end_key, false);
  if (cljs.core.truth_(temp__4657__auto__)) {
    var vec__10724 = temp__4657__auto__;
    var e = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10724, 0, null);
    var s = vec__10724;
    return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(sc, start_test, start_key), cljs.core.truth_(cljs.core.mk_bound_fn(sc, end_test, end_key).call(null, e)) ? s : cljs.core.next(s));
  } else {
    return null;
  }
};
cljs.core.rsubseq.cljs$lang$maxFixedArity = 5;
cljs.core.RangeIterator = function(i, end, step) {
  this.i = i;
  this.end = end;
  this.step = step;
};
cljs.core.RangeIterator.prototype.hasNext = function() {
  var self__ = this;
  var _ = this;
  if (self__.step > 0) {
    return self__.i < self__.end;
  } else {
    return self__.i > self__.end;
  }
};
cljs.core.RangeIterator.prototype.next = function() {
  var self__ = this;
  var _ = this;
  var ret = self__.i;
  self__.i = self__.i + self__.step;
  return ret;
};
cljs.core.RangeIterator.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "i", "i", 253690212, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), new cljs.core.Symbol(null, "end", "end", 1372345569, null), new cljs.core.Symbol(null, "step", "step", -1365547645, null)], null);
};
cljs.core.RangeIterator.cljs$lang$type = true;
cljs.core.RangeIterator.cljs$lang$ctorStr = "cljs.core/RangeIterator";
cljs.core.RangeIterator.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/RangeIterator");
};
cljs.core.__GT_RangeIterator = function cljs$core$__GT_RangeIterator(i, end, step) {
  return new cljs.core.RangeIterator(i, end, step);
};
cljs.core.Range = function(meta, start, end, step, __hash) {
  this.meta = meta;
  this.start = start;
  this.end = end;
  this.step = step;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 32375006;
  this.cljs$lang$protocol_mask$partition1$ = 8192;
};
cljs.core.Range.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.Range.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$2 = function(rng, n) {
  var self__ = this;
  var rng__$1 = this;
  if (n < cljs.core._count(rng__$1)) {
    return self__.start + n * self__.step;
  } else {
    if (self__.start > self__.end && self__.step === 0) {
      return self__.start;
    } else {
      throw new Error("Index out of bounds");
    }
  }
};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$3 = function(rng, n, not_found) {
  var self__ = this;
  var rng__$1 = this;
  if (n < cljs.core._count(rng__$1)) {
    return self__.start + n * self__.step;
  } else {
    if (self__.start > self__.end && self__.step === 0) {
      return self__.start;
    } else {
      return not_found;
    }
  }
};
cljs.core.Range.prototype.cljs$core$IIterable$ = true;
cljs.core.Range.prototype.cljs$core$IIterable$_iterator$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.RangeIterator(self__.start, self__.end, self__.step);
};
cljs.core.Range.prototype.cljs$core$IMeta$_meta$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  return self__.meta;
};
cljs.core.Range.prototype.cljs$core$ICloneable$_clone$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return new cljs.core.Range(self__.meta, self__.start, self__.end, self__.step, self__.__hash);
};
cljs.core.Range.prototype.cljs$core$INext$_next$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  if (self__.step > 0) {
    if (self__.start + self__.step < self__.end) {
      return new cljs.core.Range(self__.meta, self__.start + self__.step, self__.end, self__.step, null);
    } else {
      return null;
    }
  } else {
    if (self__.start + self__.step > self__.end) {
      return new cljs.core.Range(self__.meta, self__.start + self__.step, self__.end, self__.step, null);
    } else {
      return null;
    }
  }
};
cljs.core.Range.prototype.cljs$core$ICounted$_count$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  if (cljs.core.not(cljs.core._seq(rng__$1))) {
    return 0;
  } else {
    var G__10729 = (self__.end - self__.start) / self__.step;
    return Math.ceil(G__10729);
  }
};
cljs.core.Range.prototype.cljs$core$IHash$_hash$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  var h__6591__auto__ = self__.__hash;
  if (!(h__6591__auto__ == null)) {
    return h__6591__auto__;
  } else {
    var h__6591__auto____$1 = cljs.core.hash_ordered_coll(rng__$1);
    self__.__hash = h__6591__auto____$1;
    return h__6591__auto____$1;
  }
};
cljs.core.Range.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(rng, other) {
  var self__ = this;
  var rng__$1 = this;
  return cljs.core.equiv_sequential(rng__$1, other);
};
cljs.core.Range.prototype.cljs$core$IEmptyableCollection$_empty$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  return cljs.core.with_meta(cljs.core.List.EMPTY, self__.meta);
};
cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$2 = function(rng, f) {
  var self__ = this;
  var rng__$1 = this;
  return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(rng__$1, f);
};
cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$3 = function(rng, f, init) {
  var self__ = this;
  var rng__$1 = this;
  var i = self__.start;
  var ret = init;
  while (true) {
    if (self__.step > 0 ? i < self__.end : i > self__.end) {
      var ret__$1 = f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(ret, i) : f.call(null, ret, i);
      if (cljs.core.reduced_QMARK_(ret__$1)) {
        return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(ret__$1) : cljs.core.deref.call(null, ret__$1);
      } else {
        var G__10730 = i + self__.step;
        var G__10731 = ret__$1;
        i = G__10730;
        ret = G__10731;
        continue;
      }
    } else {
      return ret;
    }
    break;
  }
};
cljs.core.Range.prototype.cljs$core$ISeq$_first$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  if (cljs.core._seq(rng__$1) == null) {
    return null;
  } else {
    return self__.start;
  }
};
cljs.core.Range.prototype.cljs$core$ISeq$_rest$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  if (!(cljs.core._seq(rng__$1) == null)) {
    return new cljs.core.Range(self__.meta, self__.start + self__.step, self__.end, self__.step, null);
  } else {
    return cljs.core.List.EMPTY;
  }
};
cljs.core.Range.prototype.cljs$core$ISeqable$_seq$arity$1 = function(rng) {
  var self__ = this;
  var rng__$1 = this;
  if (self__.step > 0) {
    if (self__.start < self__.end) {
      return rng__$1;
    } else {
      return null;
    }
  } else {
    if (self__.step < 0) {
      if (self__.start > self__.end) {
        return rng__$1;
      } else {
        return null;
      }
    } else {
      if (self__.start === self__.end) {
        return null;
      } else {
        return rng__$1;
      }
    }
  }
};
cljs.core.Range.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(rng, meta__$1) {
  var self__ = this;
  var rng__$1 = this;
  return new cljs.core.Range(meta__$1, self__.start, self__.end, self__.step, self__.__hash);
};
cljs.core.Range.prototype.cljs$core$ICollection$_conj$arity$2 = function(rng, o) {
  var self__ = this;
  var rng__$1 = this;
  return cljs.core.cons(o, rng__$1);
};
cljs.core.Range.getBasis = function() {
  return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "meta", "meta", -1154898805, null), new cljs.core.Symbol(null, "start", "start", 1285322546, null), new cljs.core.Symbol(null, "end", "end", 1372345569, null), new cljs.core.Symbol(null, "step", "step", -1365547645, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", 
  "mutable", 875778266), true], null))], null);
};
cljs.core.Range.cljs$lang$type = true;
cljs.core.Range.cljs$lang$ctorStr = "cljs.core/Range";
cljs.core.Range.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Range");
};
cljs.core.__GT_Range = function cljs$core$__GT_Range(meta, start, end, step, __hash) {
  return new cljs.core.Range(meta, start, end, step, __hash);
};
cljs.core.Range.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.range = function cljs$core$range(var_args) {
  var args10732 = [];
  var len__7214__auto___10735 = arguments.length;
  var i__7215__auto___10736 = 0;
  while (true) {
    if (i__7215__auto___10736 < len__7214__auto___10735) {
      args10732.push(arguments[i__7215__auto___10736]);
      var G__10737 = i__7215__auto___10736 + 1;
      i__7215__auto___10736 = G__10737;
      continue;
    } else {
    }
    break;
  }
  var G__10734 = args10732.length;
  switch(G__10734) {
    case 0:
      return cljs.core.range.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.range.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.range.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.range.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10732.length)].join(""));;
  }
};
cljs.core.range.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0, Number.MAX_VALUE, 1);
};
cljs.core.range.cljs$core$IFn$_invoke$arity$1 = function(end) {
  return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0, end, 1);
};
cljs.core.range.cljs$core$IFn$_invoke$arity$2 = function(start, end) {
  return cljs.core.range.cljs$core$IFn$_invoke$arity$3(start, end, 1);
};
cljs.core.range.cljs$core$IFn$_invoke$arity$3 = function(start, end, step) {
  return new cljs.core.Range(null, start, end, step, null);
};
cljs.core.range.cljs$lang$maxFixedArity = 3;
cljs.core.take_nth = function cljs$core$take_nth(var_args) {
  var args10739 = [];
  var len__7214__auto___10744 = arguments.length;
  var i__7215__auto___10745 = 0;
  while (true) {
    if (i__7215__auto___10745 < len__7214__auto___10744) {
      args10739.push(arguments[i__7215__auto___10745]);
      var G__10746 = i__7215__auto___10745 + 1;
      i__7215__auto___10745 = G__10746;
      continue;
    } else {
    }
    break;
  }
  var G__10741 = args10739.length;
  switch(G__10741) {
    case 1:
      return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10739.length)].join(""));;
  }
};
cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1 = function(n) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__10742 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__10742) : cljs.core.pr_str.call(null, G__10742);
    }())].join(""));
  }
  return function(rf) {
    var ia = cljs.core.volatile_BANG_(-1);
    return function(ia) {
      return function() {
        var G__10748 = null;
        var G__10748__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__10748__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__10748__2 = function(result, input) {
          var i = cljs.core._vreset_BANG_(ia, cljs.core._deref(ia) + 1);
          if (cljs.core.rem(i, n) === 0) {
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          } else {
            return result;
          }
        };
        G__10748 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__10748__0.call(this);
            case 1:
              return G__10748__1.call(this, result);
            case 2:
              return G__10748__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__10748.cljs$core$IFn$_invoke$arity$0 = G__10748__0;
        G__10748.cljs$core$IFn$_invoke$arity$1 = G__10748__1;
        G__10748.cljs$core$IFn$_invoke$arity$2 = G__10748__2;
        return G__10748;
      }();
    }(ia);
  };
};
cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  if (typeof n === "number") {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(function() {
      var G__10743 = cljs.core.list(new cljs.core.Symbol(null, "number?", "number?", -1747282210, null), new cljs.core.Symbol(null, "n", "n", -2092305744, null));
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1 ? cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__10743) : cljs.core.pr_str.call(null, G__10743);
    }())].join(""));
  }
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      return cljs.core.cons(cljs.core.first(s), cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(n, cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n, s)));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.take_nth.cljs$lang$maxFixedArity = 2;
cljs.core.split_with = function cljs$core$split_with(pred, coll) {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(pred, coll), cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(pred, coll)], null);
};
cljs.core.partition_by = function cljs$core$partition_by(var_args) {
  var args10750 = [];
  var len__7214__auto___10753 = arguments.length;
  var i__7215__auto___10754 = 0;
  while (true) {
    if (i__7215__auto___10754 < len__7214__auto___10753) {
      args10750.push(arguments[i__7215__auto___10754]);
      var G__10755 = i__7215__auto___10754 + 1;
      i__7215__auto___10754 = G__10755;
      continue;
    } else {
    }
    break;
  }
  var G__10752 = args10750.length;
  switch(G__10752) {
    case 1:
      return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10750.length)].join(""));;
  }
};
cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function(rf) {
    var a = cljs.core.array_list();
    var pa = cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core", "none", "cljs.core/none", 926646439));
    return function(a, pa) {
      return function() {
        var G__10757 = null;
        var G__10757__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__10757__1 = function(result) {
          var result__$1 = cljs.core.truth_(a.isEmpty()) ? result : function() {
            var v = cljs.core.vec(a.toArray());
            a.clear();
            return cljs.core.unreduced(rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v));
          }();
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result__$1) : rf.call(null, result__$1);
        };
        var G__10757__2 = function(result, input) {
          var pval = cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(pa) : cljs.core.deref.call(null, pa);
          var val = f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(input) : f.call(null, input);
          cljs.core.vreset_BANG_(pa, val);
          if (cljs.core.keyword_identical_QMARK_(pval, new cljs.core.Keyword("cljs.core", "none", "cljs.core/none", 926646439)) || cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(val, pval)) {
            a.add(input);
            return result;
          } else {
            var v = cljs.core.vec(a.toArray());
            a.clear();
            var ret = rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, v) : rf.call(null, result, v);
            if (cljs.core.reduced_QMARK_(ret)) {
            } else {
              a.add(input);
            }
            return ret;
          }
        };
        G__10757 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__10757__0.call(this);
            case 1:
              return G__10757__1.call(this, result);
            case 2:
              return G__10757__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__10757.cljs$core$IFn$_invoke$arity$0 = G__10757__0;
        G__10757.cljs$core$IFn$_invoke$arity$1 = G__10757__1;
        G__10757.cljs$core$IFn$_invoke$arity$2 = G__10757__2;
        return G__10757;
      }();
    }(a, pa);
  };
};
cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      var fst = cljs.core.first(s);
      var fv = f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(fst) : f.call(null, fst);
      var run = cljs.core.cons(fst, cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(function(fst, fv, s, temp__4657__auto__) {
        return function(p1__10749_SHARP_) {
          return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(fv, f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(p1__10749_SHARP_) : f.call(null, p1__10749_SHARP_));
        };
      }(fst, fv, s, temp__4657__auto__), cljs.core.next(s)));
      return cljs.core.cons(run, cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(f, cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(cljs.core.count(run), s))));
    } else {
      return null;
    }
  }, null, null);
};
cljs.core.partition_by.cljs$lang$maxFixedArity = 2;
cljs.core.frequencies = function cljs$core$frequencies(coll) {
  return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(counts, x) {
    return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(counts, x, cljs.core.get.cljs$core$IFn$_invoke$arity$3(counts, x, 0) + 1);
  }, cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY), coll));
};
cljs.core.reductions = function cljs$core$reductions(var_args) {
  var args10758 = [];
  var len__7214__auto___10763 = arguments.length;
  var i__7215__auto___10764 = 0;
  while (true) {
    if (i__7215__auto___10764 < len__7214__auto___10763) {
      args10758.push(arguments[i__7215__auto___10764]);
      var G__10765 = i__7215__auto___10764 + 1;
      i__7215__auto___10764 = G__10765;
      continue;
    } else {
    }
    break;
  }
  var G__10760 = args10758.length;
  switch(G__10760) {
    case 2:
      return cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10758.length)].join(""));;
  }
};
cljs.core.reductions.cljs$core$IFn$_invoke$arity$2 = function(f, coll) {
  return new cljs.core.LazySeq(null, function() {
    var temp__4655__auto__ = cljs.core.seq(coll);
    if (temp__4655__auto__) {
      var s = temp__4655__auto__;
      return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(f, cljs.core.first(s), cljs.core.rest(s));
    } else {
      return cljs.core._conj(cljs.core.List.EMPTY, f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));
    }
  }, null, null);
};
cljs.core.reductions.cljs$core$IFn$_invoke$arity$3 = function(f, init, coll) {
  return cljs.core.cons(init, new cljs.core.LazySeq(null, function() {
    var temp__4657__auto__ = cljs.core.seq(coll);
    if (temp__4657__auto__) {
      var s = temp__4657__auto__;
      return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(f, function() {
        var G__10761 = init;
        var G__10762 = cljs.core.first(s);
        return f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(G__10761, G__10762) : f.call(null, G__10761, G__10762);
      }(), cljs.core.rest(s));
    } else {
      return null;
    }
  }, null, null));
};
cljs.core.reductions.cljs$lang$maxFixedArity = 3;
cljs.core.juxt = function cljs$core$juxt(var_args) {
  var args10777 = [];
  var len__7214__auto___10784 = arguments.length;
  var i__7215__auto___10785 = 0;
  while (true) {
    if (i__7215__auto___10785 < len__7214__auto___10784) {
      args10777.push(arguments[i__7215__auto___10785]);
      var G__10786 = i__7215__auto___10785 + 1;
      i__7215__auto___10785 = G__10786;
      continue;
    } else {
    }
    break;
  }
  var G__10783 = args10777.length;
  switch(G__10783) {
    case 1:
      return cljs.core.juxt.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.juxt.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.juxt.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args10777.slice(3), 0);
      return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7233__auto__);
  }
};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$1 = function(f) {
  return function() {
    var G__10788 = null;
    var G__10788__0 = function() {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null)], null);
    };
    var G__10788__1 = function(x) {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x)], null);
    };
    var G__10788__2 = function(x, y) {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y)], null);
    };
    var G__10788__3 = function(x, y, z) {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(x, y, z) : f.call(null, x, y, z)], null);
    };
    var G__10788__4 = function() {
      var G__10789__delegate = function(x, y, z, args) {
        return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, x, y, z, args)], null);
      };
      var G__10789 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__10790__i = 0, G__10790__a = new Array(arguments.length - 3);
          while (G__10790__i < G__10790__a.length) {
            G__10790__a[G__10790__i] = arguments[G__10790__i + 3];
            ++G__10790__i;
          }
          args = new cljs.core.IndexedSeq(G__10790__a, 0);
        }
        return G__10789__delegate.call(this, x, y, z, args);
      };
      G__10789.cljs$lang$maxFixedArity = 3;
      G__10789.cljs$lang$applyTo = function(arglist__10791) {
        var x = cljs.core.first(arglist__10791);
        arglist__10791 = cljs.core.next(arglist__10791);
        var y = cljs.core.first(arglist__10791);
        arglist__10791 = cljs.core.next(arglist__10791);
        var z = cljs.core.first(arglist__10791);
        var args = cljs.core.rest(arglist__10791);
        return G__10789__delegate(x, y, z, args);
      };
      G__10789.cljs$core$IFn$_invoke$arity$variadic = G__10789__delegate;
      return G__10789;
    }();
    G__10788 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__10788__0.call(this);
        case 1:
          return G__10788__1.call(this, x);
        case 2:
          return G__10788__2.call(this, x, y);
        case 3:
          return G__10788__3.call(this, x, y, z);
        default:
          var G__10792 = null;
          if (arguments.length > 3) {
            var G__10793__i = 0, G__10793__a = new Array(arguments.length - 3);
            while (G__10793__i < G__10793__a.length) {
              G__10793__a[G__10793__i] = arguments[G__10793__i + 3];
              ++G__10793__i;
            }
            G__10792 = new cljs.core.IndexedSeq(G__10793__a, 0);
          }
          return G__10788__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__10792);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__10788.cljs$lang$maxFixedArity = 3;
    G__10788.cljs$lang$applyTo = G__10788__4.cljs$lang$applyTo;
    G__10788.cljs$core$IFn$_invoke$arity$0 = G__10788__0;
    G__10788.cljs$core$IFn$_invoke$arity$1 = G__10788__1;
    G__10788.cljs$core$IFn$_invoke$arity$2 = G__10788__2;
    G__10788.cljs$core$IFn$_invoke$arity$3 = G__10788__3;
    G__10788.cljs$core$IFn$_invoke$arity$variadic = G__10788__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__10788;
  }();
};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$2 = function(f, g) {
  return function() {
    var G__10794 = null;
    var G__10794__0 = function() {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null), g.cljs$core$IFn$_invoke$arity$0 ? g.cljs$core$IFn$_invoke$arity$0() : g.call(null)], null);
    };
    var G__10794__1 = function(x) {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x), g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(x) : g.call(null, x)], null);
    };
    var G__10794__2 = function(x, y) {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y), g.cljs$core$IFn$_invoke$arity$2 ? g.cljs$core$IFn$_invoke$arity$2(x, y) : g.call(null, x, y)], null);
    };
    var G__10794__3 = function(x, y, z) {
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(x, y, z) : f.call(null, x, y, z), g.cljs$core$IFn$_invoke$arity$3 ? g.cljs$core$IFn$_invoke$arity$3(x, y, z) : g.call(null, x, y, z)], null);
    };
    var G__10794__4 = function() {
      var G__10795__delegate = function(x, y, z, args) {
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, x, y, z, args), cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g, x, y, z, args)], null);
      };
      var G__10795 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__10796__i = 0, G__10796__a = new Array(arguments.length - 3);
          while (G__10796__i < G__10796__a.length) {
            G__10796__a[G__10796__i] = arguments[G__10796__i + 3];
            ++G__10796__i;
          }
          args = new cljs.core.IndexedSeq(G__10796__a, 0);
        }
        return G__10795__delegate.call(this, x, y, z, args);
      };
      G__10795.cljs$lang$maxFixedArity = 3;
      G__10795.cljs$lang$applyTo = function(arglist__10797) {
        var x = cljs.core.first(arglist__10797);
        arglist__10797 = cljs.core.next(arglist__10797);
        var y = cljs.core.first(arglist__10797);
        arglist__10797 = cljs.core.next(arglist__10797);
        var z = cljs.core.first(arglist__10797);
        var args = cljs.core.rest(arglist__10797);
        return G__10795__delegate(x, y, z, args);
      };
      G__10795.cljs$core$IFn$_invoke$arity$variadic = G__10795__delegate;
      return G__10795;
    }();
    G__10794 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__10794__0.call(this);
        case 1:
          return G__10794__1.call(this, x);
        case 2:
          return G__10794__2.call(this, x, y);
        case 3:
          return G__10794__3.call(this, x, y, z);
        default:
          var G__10798 = null;
          if (arguments.length > 3) {
            var G__10799__i = 0, G__10799__a = new Array(arguments.length - 3);
            while (G__10799__i < G__10799__a.length) {
              G__10799__a[G__10799__i] = arguments[G__10799__i + 3];
              ++G__10799__i;
            }
            G__10798 = new cljs.core.IndexedSeq(G__10799__a, 0);
          }
          return G__10794__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__10798);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__10794.cljs$lang$maxFixedArity = 3;
    G__10794.cljs$lang$applyTo = G__10794__4.cljs$lang$applyTo;
    G__10794.cljs$core$IFn$_invoke$arity$0 = G__10794__0;
    G__10794.cljs$core$IFn$_invoke$arity$1 = G__10794__1;
    G__10794.cljs$core$IFn$_invoke$arity$2 = G__10794__2;
    G__10794.cljs$core$IFn$_invoke$arity$3 = G__10794__3;
    G__10794.cljs$core$IFn$_invoke$arity$variadic = G__10794__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__10794;
  }();
};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$3 = function(f, g, h) {
  return function() {
    var G__10800 = null;
    var G__10800__0 = function() {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null), g.cljs$core$IFn$_invoke$arity$0 ? g.cljs$core$IFn$_invoke$arity$0() : g.call(null), h.cljs$core$IFn$_invoke$arity$0 ? h.cljs$core$IFn$_invoke$arity$0() : h.call(null)], null);
    };
    var G__10800__1 = function(x) {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x), g.cljs$core$IFn$_invoke$arity$1 ? g.cljs$core$IFn$_invoke$arity$1(x) : g.call(null, x), h.cljs$core$IFn$_invoke$arity$1 ? h.cljs$core$IFn$_invoke$arity$1(x) : h.call(null, x)], null);
    };
    var G__10800__2 = function(x, y) {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(x, y) : f.call(null, x, y), g.cljs$core$IFn$_invoke$arity$2 ? g.cljs$core$IFn$_invoke$arity$2(x, y) : g.call(null, x, y), h.cljs$core$IFn$_invoke$arity$2 ? h.cljs$core$IFn$_invoke$arity$2(x, y) : h.call(null, x, y)], null);
    };
    var G__10800__3 = function(x, y, z) {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(x, y, z) : f.call(null, x, y, z), g.cljs$core$IFn$_invoke$arity$3 ? g.cljs$core$IFn$_invoke$arity$3(x, y, z) : g.call(null, x, y, z), h.cljs$core$IFn$_invoke$arity$3 ? h.cljs$core$IFn$_invoke$arity$3(x, y, z) : h.call(null, x, y, z)], null);
    };
    var G__10800__4 = function() {
      var G__10801__delegate = function(x, y, z, args) {
        return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f, x, y, z, args), cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g, x, y, z, args), cljs.core.apply.cljs$core$IFn$_invoke$arity$5(h, x, y, z, args)], null);
      };
      var G__10801 = function(x, y, z, var_args) {
        var args = null;
        if (arguments.length > 3) {
          var G__10802__i = 0, G__10802__a = new Array(arguments.length - 3);
          while (G__10802__i < G__10802__a.length) {
            G__10802__a[G__10802__i] = arguments[G__10802__i + 3];
            ++G__10802__i;
          }
          args = new cljs.core.IndexedSeq(G__10802__a, 0);
        }
        return G__10801__delegate.call(this, x, y, z, args);
      };
      G__10801.cljs$lang$maxFixedArity = 3;
      G__10801.cljs$lang$applyTo = function(arglist__10803) {
        var x = cljs.core.first(arglist__10803);
        arglist__10803 = cljs.core.next(arglist__10803);
        var y = cljs.core.first(arglist__10803);
        arglist__10803 = cljs.core.next(arglist__10803);
        var z = cljs.core.first(arglist__10803);
        var args = cljs.core.rest(arglist__10803);
        return G__10801__delegate(x, y, z, args);
      };
      G__10801.cljs$core$IFn$_invoke$arity$variadic = G__10801__delegate;
      return G__10801;
    }();
    G__10800 = function(x, y, z, var_args) {
      var args = var_args;
      switch(arguments.length) {
        case 0:
          return G__10800__0.call(this);
        case 1:
          return G__10800__1.call(this, x);
        case 2:
          return G__10800__2.call(this, x, y);
        case 3:
          return G__10800__3.call(this, x, y, z);
        default:
          var G__10804 = null;
          if (arguments.length > 3) {
            var G__10805__i = 0, G__10805__a = new Array(arguments.length - 3);
            while (G__10805__i < G__10805__a.length) {
              G__10805__a[G__10805__i] = arguments[G__10805__i + 3];
              ++G__10805__i;
            }
            G__10804 = new cljs.core.IndexedSeq(G__10805__a, 0);
          }
          return G__10800__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__10804);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    G__10800.cljs$lang$maxFixedArity = 3;
    G__10800.cljs$lang$applyTo = G__10800__4.cljs$lang$applyTo;
    G__10800.cljs$core$IFn$_invoke$arity$0 = G__10800__0;
    G__10800.cljs$core$IFn$_invoke$arity$1 = G__10800__1;
    G__10800.cljs$core$IFn$_invoke$arity$2 = G__10800__2;
    G__10800.cljs$core$IFn$_invoke$arity$3 = G__10800__3;
    G__10800.cljs$core$IFn$_invoke$arity$variadic = G__10800__4.cljs$core$IFn$_invoke$arity$variadic;
    return G__10800;
  }();
};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic = function(f, g, h, fs) {
  var fs__$1 = cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(f, g, h, fs);
  return function(fs__$1) {
    return function() {
      var G__10806 = null;
      var G__10806__0 = function() {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1) {
          return function(p1__10767_SHARP_, p2__10768_SHARP_) {
            return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10767_SHARP_, p2__10768_SHARP_.cljs$core$IFn$_invoke$arity$0 ? p2__10768_SHARP_.cljs$core$IFn$_invoke$arity$0() : p2__10768_SHARP_.call(null));
          };
        }(fs__$1), cljs.core.PersistentVector.EMPTY, fs__$1);
      };
      var G__10806__1 = function(x) {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1) {
          return function(p1__10769_SHARP_, p2__10770_SHARP_) {
            return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10769_SHARP_, p2__10770_SHARP_.cljs$core$IFn$_invoke$arity$1 ? p2__10770_SHARP_.cljs$core$IFn$_invoke$arity$1(x) : p2__10770_SHARP_.call(null, x));
          };
        }(fs__$1), cljs.core.PersistentVector.EMPTY, fs__$1);
      };
      var G__10806__2 = function(x, y) {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1) {
          return function(p1__10771_SHARP_, p2__10772_SHARP_) {
            return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10771_SHARP_, p2__10772_SHARP_.cljs$core$IFn$_invoke$arity$2 ? p2__10772_SHARP_.cljs$core$IFn$_invoke$arity$2(x, y) : p2__10772_SHARP_.call(null, x, y));
          };
        }(fs__$1), cljs.core.PersistentVector.EMPTY, fs__$1);
      };
      var G__10806__3 = function(x, y, z) {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1) {
          return function(p1__10773_SHARP_, p2__10774_SHARP_) {
            return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10773_SHARP_, p2__10774_SHARP_.cljs$core$IFn$_invoke$arity$3 ? p2__10774_SHARP_.cljs$core$IFn$_invoke$arity$3(x, y, z) : p2__10774_SHARP_.call(null, x, y, z));
          };
        }(fs__$1), cljs.core.PersistentVector.EMPTY, fs__$1);
      };
      var G__10806__4 = function() {
        var G__10807__delegate = function(x, y, z, args) {
          return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1) {
            return function(p1__10775_SHARP_, p2__10776_SHARP_) {
              return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10775_SHARP_, cljs.core.apply.cljs$core$IFn$_invoke$arity$5(p2__10776_SHARP_, x, y, z, args));
            };
          }(fs__$1), cljs.core.PersistentVector.EMPTY, fs__$1);
        };
        var G__10807 = function(x, y, z, var_args) {
          var args = null;
          if (arguments.length > 3) {
            var G__10808__i = 0, G__10808__a = new Array(arguments.length - 3);
            while (G__10808__i < G__10808__a.length) {
              G__10808__a[G__10808__i] = arguments[G__10808__i + 3];
              ++G__10808__i;
            }
            args = new cljs.core.IndexedSeq(G__10808__a, 0);
          }
          return G__10807__delegate.call(this, x, y, z, args);
        };
        G__10807.cljs$lang$maxFixedArity = 3;
        G__10807.cljs$lang$applyTo = function(arglist__10809) {
          var x = cljs.core.first(arglist__10809);
          arglist__10809 = cljs.core.next(arglist__10809);
          var y = cljs.core.first(arglist__10809);
          arglist__10809 = cljs.core.next(arglist__10809);
          var z = cljs.core.first(arglist__10809);
          var args = cljs.core.rest(arglist__10809);
          return G__10807__delegate(x, y, z, args);
        };
        G__10807.cljs$core$IFn$_invoke$arity$variadic = G__10807__delegate;
        return G__10807;
      }();
      G__10806 = function(x, y, z, var_args) {
        var args = var_args;
        switch(arguments.length) {
          case 0:
            return G__10806__0.call(this);
          case 1:
            return G__10806__1.call(this, x);
          case 2:
            return G__10806__2.call(this, x, y);
          case 3:
            return G__10806__3.call(this, x, y, z);
          default:
            var G__10810 = null;
            if (arguments.length > 3) {
              var G__10811__i = 0, G__10811__a = new Array(arguments.length - 3);
              while (G__10811__i < G__10811__a.length) {
                G__10811__a[G__10811__i] = arguments[G__10811__i + 3];
                ++G__10811__i;
              }
              G__10810 = new cljs.core.IndexedSeq(G__10811__a, 0);
            }
            return G__10806__4.cljs$core$IFn$_invoke$arity$variadic(x, y, z, G__10810);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__10806.cljs$lang$maxFixedArity = 3;
      G__10806.cljs$lang$applyTo = G__10806__4.cljs$lang$applyTo;
      G__10806.cljs$core$IFn$_invoke$arity$0 = G__10806__0;
      G__10806.cljs$core$IFn$_invoke$arity$1 = G__10806__1;
      G__10806.cljs$core$IFn$_invoke$arity$2 = G__10806__2;
      G__10806.cljs$core$IFn$_invoke$arity$3 = G__10806__3;
      G__10806.cljs$core$IFn$_invoke$arity$variadic = G__10806__4.cljs$core$IFn$_invoke$arity$variadic;
      return G__10806;
    }();
  }(fs__$1);
};
cljs.core.juxt.cljs$lang$applyTo = function(seq10778) {
  var G__10779 = cljs.core.first(seq10778);
  var seq10778__$1 = cljs.core.next(seq10778);
  var G__10780 = cljs.core.first(seq10778__$1);
  var seq10778__$2 = cljs.core.next(seq10778__$1);
  var G__10781 = cljs.core.first(seq10778__$2);
  var seq10778__$3 = cljs.core.next(seq10778__$2);
  return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(G__10779, G__10780, G__10781, seq10778__$3);
};
cljs.core.juxt.cljs$lang$maxFixedArity = 3;
cljs.core.dorun = function cljs$core$dorun(var_args) {
  var args10812 = [];
  var len__7214__auto___10815 = arguments.length;
  var i__7215__auto___10816 = 0;
  while (true) {
    if (i__7215__auto___10816 < len__7214__auto___10815) {
      args10812.push(arguments[i__7215__auto___10816]);
      var G__10817 = i__7215__auto___10816 + 1;
      i__7215__auto___10816 = G__10817;
      continue;
    } else {
    }
    break;
  }
  var G__10814 = args10812.length;
  switch(G__10814) {
    case 1:
      return cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10812.length)].join(""));;
  }
};
cljs.core.dorun.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  while (true) {
    if (cljs.core.seq(coll)) {
      var G__10819 = cljs.core.next(coll);
      coll = G__10819;
      continue;
    } else {
      return null;
    }
    break;
  }
};
cljs.core.dorun.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  while (true) {
    if (cljs.core.seq(coll) && n > 0) {
      var G__10820 = n - 1;
      var G__10821 = cljs.core.next(coll);
      n = G__10820;
      coll = G__10821;
      continue;
    } else {
      return null;
    }
    break;
  }
};
cljs.core.dorun.cljs$lang$maxFixedArity = 2;
cljs.core.doall = function cljs$core$doall(var_args) {
  var args10822 = [];
  var len__7214__auto___10825 = arguments.length;
  var i__7215__auto___10826 = 0;
  while (true) {
    if (i__7215__auto___10826 < len__7214__auto___10825) {
      args10822.push(arguments[i__7215__auto___10826]);
      var G__10827 = i__7215__auto___10826 + 1;
      i__7215__auto___10826 = G__10827;
      continue;
    } else {
    }
    break;
  }
  var G__10824 = args10822.length;
  switch(G__10824) {
    case 1:
      return cljs.core.doall.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.doall.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10822.length)].join(""));;
  }
};
cljs.core.doall.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(coll);
  return coll;
};
cljs.core.doall.cljs$core$IFn$_invoke$arity$2 = function(n, coll) {
  cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(n, coll);
  return coll;
};
cljs.core.doall.cljs$lang$maxFixedArity = 2;
cljs.core.regexp_QMARK_ = function cljs$core$regexp_QMARK_(x) {
  return x instanceof RegExp;
};
cljs.core.re_matches = function cljs$core$re_matches(re, s) {
  if (typeof s === "string") {
    var matches = re.exec(s);
    if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(matches), s)) {
      if (cljs.core.count(matches) === 1) {
        return cljs.core.first(matches);
      } else {
        return cljs.core.vec(matches);
      }
    } else {
      return null;
    }
  } else {
    throw new TypeError("re-matches must match against a string.");
  }
};
cljs.core.re_find = function cljs$core$re_find(re, s) {
  if (typeof s === "string") {
    var matches = re.exec(s);
    if (matches == null) {
      return null;
    } else {
      if (cljs.core.count(matches) === 1) {
        return cljs.core.first(matches);
      } else {
        return cljs.core.vec(matches);
      }
    }
  } else {
    throw new TypeError("re-find must match against a string.");
  }
};
cljs.core.re_seq = function cljs$core$re_seq(re, s) {
  var match_data = cljs.core.re_find(re, s);
  var match_idx = s.search(re);
  var match_str = cljs.core.coll_QMARK_(match_data) ? cljs.core.first(match_data) : match_data;
  var post_match = cljs.core.subs.cljs$core$IFn$_invoke$arity$2(s, match_idx + cljs.core.count(match_str));
  if (cljs.core.truth_(match_data)) {
    return new cljs.core.LazySeq(null, function(match_data, match_idx, match_str, post_match) {
      return function() {
        return cljs.core.cons(match_data, cljs.core.seq(post_match) ? cljs$core$re_seq(re, post_match) : null);
      };
    }(match_data, match_idx, match_str, post_match), null, null);
  } else {
    return null;
  }
};
cljs.core.re_pattern = function cljs$core$re_pattern(s) {
  if (s instanceof RegExp) {
    return s;
  } else {
    var vec__10830 = cljs.core.re_find(/^\(\?([idmsux]*)\)/, s);
    var prefix = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10830, 0, null);
    var flags = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10830, 1, null);
    var pattern = cljs.core.subs.cljs$core$IFn$_invoke$arity$2(s, cljs.core.count(prefix));
    return new RegExp(pattern, function() {
      var or__6156__auto__ = flags;
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return "";
      }
    }());
  }
};
cljs.core.pr_sequential_writer = function cljs$core$pr_sequential_writer(writer, print_one, begin, sep, end, opts, coll) {
  var _STAR_print_level_STAR_10838 = cljs.core._STAR_print_level_STAR_;
  cljs.core._STAR_print_level_STAR_ = cljs.core._STAR_print_level_STAR_ == null ? null : cljs.core._STAR_print_level_STAR_ - 1;
  try {
    if (!(cljs.core._STAR_print_level_STAR_ == null) && cljs.core._STAR_print_level_STAR_ < 0) {
      return cljs.core._write(writer, "#");
    } else {
      cljs.core._write(writer, begin);
      if ((new cljs.core.Keyword(null, "print-length", "print-length", 1931866356)).cljs$core$IFn$_invoke$arity$1(opts) === 0) {
        if (cljs.core.seq(coll)) {
          cljs.core._write(writer, function() {
            var or__6156__auto__ = (new cljs.core.Keyword(null, "more-marker", "more-marker", -14717935)).cljs$core$IFn$_invoke$arity$1(opts);
            if (cljs.core.truth_(or__6156__auto__)) {
              return or__6156__auto__;
            } else {
              return "...";
            }
          }());
        } else {
        }
      } else {
        if (cljs.core.seq(coll)) {
          var G__10839_10845 = cljs.core.first(coll);
          var G__10840_10846 = writer;
          var G__10841_10847 = opts;
          print_one.cljs$core$IFn$_invoke$arity$3 ? print_one.cljs$core$IFn$_invoke$arity$3(G__10839_10845, G__10840_10846, G__10841_10847) : print_one.call(null, G__10839_10845, G__10840_10846, G__10841_10847);
        } else {
        }
        var coll_10848__$1 = cljs.core.next(coll);
        var n_10849 = (new cljs.core.Keyword(null, "print-length", "print-length", 1931866356)).cljs$core$IFn$_invoke$arity$1(opts) - 1;
        while (true) {
          if (coll_10848__$1 && (n_10849 == null || !(n_10849 === 0))) {
            cljs.core._write(writer, sep);
            var G__10842_10850 = cljs.core.first(coll_10848__$1);
            var G__10843_10851 = writer;
            var G__10844_10852 = opts;
            print_one.cljs$core$IFn$_invoke$arity$3 ? print_one.cljs$core$IFn$_invoke$arity$3(G__10842_10850, G__10843_10851, G__10844_10852) : print_one.call(null, G__10842_10850, G__10843_10851, G__10844_10852);
            var G__10853 = cljs.core.next(coll_10848__$1);
            var G__10854 = n_10849 - 1;
            coll_10848__$1 = G__10853;
            n_10849 = G__10854;
            continue;
          } else {
            if (cljs.core.seq(coll_10848__$1) && n_10849 === 0) {
              cljs.core._write(writer, sep);
              cljs.core._write(writer, function() {
                var or__6156__auto__ = (new cljs.core.Keyword(null, "more-marker", "more-marker", -14717935)).cljs$core$IFn$_invoke$arity$1(opts);
                if (cljs.core.truth_(or__6156__auto__)) {
                  return or__6156__auto__;
                } else {
                  return "...";
                }
              }());
            } else {
            }
          }
          break;
        }
      }
      return cljs.core._write(writer, end);
    }
  } finally {
    cljs.core._STAR_print_level_STAR_ = _STAR_print_level_STAR_10838;
  }
};
cljs.core.write_all = function cljs$core$write_all(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10861 = arguments.length;
  var i__7215__auto___10862 = 0;
  while (true) {
    if (i__7215__auto___10862 < len__7214__auto___10861) {
      args__7221__auto__.push(arguments[i__7215__auto___10862]);
      var G__10863 = i__7215__auto___10862 + 1;
      i__7215__auto___10862 = G__10863;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic = function(writer, ss) {
  var seq__10857 = cljs.core.seq(ss);
  var chunk__10858 = null;
  var count__10859 = 0;
  var i__10860 = 0;
  while (true) {
    if (i__10860 < count__10859) {
      var s = chunk__10858.cljs$core$IIndexed$_nth$arity$2(null, i__10860);
      cljs.core._write(writer, s);
      var G__10864 = seq__10857;
      var G__10865 = chunk__10858;
      var G__10866 = count__10859;
      var G__10867 = i__10860 + 1;
      seq__10857 = G__10864;
      chunk__10858 = G__10865;
      count__10859 = G__10866;
      i__10860 = G__10867;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10857);
      if (temp__4657__auto__) {
        var seq__10857__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10857__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10857__$1);
          var G__10868 = cljs.core.chunk_rest(seq__10857__$1);
          var G__10869 = c__6959__auto__;
          var G__10870 = cljs.core.count(c__6959__auto__);
          var G__10871 = 0;
          seq__10857 = G__10868;
          chunk__10858 = G__10869;
          count__10859 = G__10870;
          i__10860 = G__10871;
          continue;
        } else {
          var s = cljs.core.first(seq__10857__$1);
          cljs.core._write(writer, s);
          var G__10872 = cljs.core.next(seq__10857__$1);
          var G__10873 = null;
          var G__10874 = 0;
          var G__10875 = 0;
          seq__10857 = G__10872;
          chunk__10858 = G__10873;
          count__10859 = G__10874;
          i__10860 = G__10875;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.write_all.cljs$lang$maxFixedArity = 1;
cljs.core.write_all.cljs$lang$applyTo = function(seq10855) {
  var G__10856 = cljs.core.first(seq10855);
  var seq10855__$1 = cljs.core.next(seq10855);
  return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(G__10856, seq10855__$1);
};
cljs.core.string_print = function cljs$core$string_print(x) {
  cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1 ? cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1(x) : cljs.core._STAR_print_fn_STAR_.call(null, x);
  return null;
};
cljs.core.flush = function cljs$core$flush() {
  return null;
};
cljs.core.char_escapes = function() {
  var obj10877 = {'"':'\\"', "\\":"\\\\", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t"};
  return obj10877;
}();
cljs.core.quote_string = function cljs$core$quote_string(s) {
  return [cljs.core.str('"'), cljs.core.str(s.replace(RegExp('[\\\\"\b\f\n\r\t]', "g"), function(match) {
    return cljs.core.char_escapes[match];
  })), cljs.core.str('"')].join("");
};
cljs.core.print_meta_QMARK_ = function cljs$core$print_meta_QMARK_(opts, obj) {
  var and__6144__auto__ = cljs.core.boolean$(cljs.core.get.cljs$core$IFn$_invoke$arity$2(opts, new cljs.core.Keyword(null, "meta", "meta", 1499536964)));
  if (and__6144__auto__) {
    var and__6144__auto____$1 = !(obj == null) ? obj.cljs$lang$protocol_mask$partition0$ & 131072 || obj.cljs$core$IMeta$ ? true : false : false;
    if (and__6144__auto____$1) {
      return !(cljs.core.meta(obj) == null);
    } else {
      return and__6144__auto____$1;
    }
  } else {
    return and__6144__auto__;
  }
};
cljs.core.pr_writer_impl = function cljs$core$pr_writer_impl(obj, writer, opts) {
  if (obj == null) {
    return cljs.core._write(writer, "nil");
  } else {
    if (cljs.core.print_meta_QMARK_(opts, obj)) {
      cljs.core._write(writer, "^");
      var G__10893_10902 = cljs.core.meta(obj);
      var G__10894_10903 = writer;
      var G__10895_10904 = opts;
      cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3 ? cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3(G__10893_10902, G__10894_10903, G__10895_10904) : cljs.core.pr_writer.call(null, G__10893_10902, G__10894_10903, G__10895_10904);
      cljs.core._write(writer, " ");
    } else {
    }
    if (obj.cljs$lang$type) {
      return obj.cljs$lang$ctorPrWriter(obj, writer, opts);
    } else {
      if (!(obj == null) ? obj.cljs$lang$protocol_mask$partition0$ & 2147483648 || obj.cljs$core$IPrintWithWriter$ ? true : false : false) {
        return obj.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null, writer, opts);
      } else {
        if (obj === true || obj === false || typeof obj === "number") {
          return cljs.core._write(writer, [cljs.core.str(obj)].join(""));
        } else {
          if (cljs.core.object_QMARK_(obj)) {
            cljs.core._write(writer, "#js ");
            var G__10897 = cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(k) {
              return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(k), obj[k]], null);
            }, cljs.core.js_keys(obj));
            var G__10898 = cljs.core.pr_writer;
            var G__10899 = writer;
            var G__10900 = opts;
            return cljs.core.print_map.cljs$core$IFn$_invoke$arity$4 ? cljs.core.print_map.cljs$core$IFn$_invoke$arity$4(G__10897, G__10898, G__10899, G__10900) : cljs.core.print_map.call(null, G__10897, G__10898, G__10899, G__10900);
          } else {
            if (cljs.core.array_QMARK_(obj)) {
              return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "#js [", " ", "]", opts, obj);
            } else {
              if (goog.isString(obj)) {
                if (cljs.core.truth_((new cljs.core.Keyword(null, "readably", "readably", 1129599760)).cljs$core$IFn$_invoke$arity$1(opts))) {
                  return cljs.core._write(writer, cljs.core.quote_string(obj));
                } else {
                  return cljs.core._write(writer, obj);
                }
              } else {
                if (goog.isFunction(obj)) {
                  var name = obj.name;
                  var name__$1 = cljs.core.truth_(function() {
                    var or__6156__auto__ = name == null;
                    if (or__6156__auto__) {
                      return or__6156__auto__;
                    } else {
                      return goog.string.isEmpty(name);
                    }
                  }()) ? "Function" : name;
                  return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer, cljs.core.array_seq(["#object[", name__$1, ' "', [cljs.core.str(obj)].join(""), '"]'], 0));
                } else {
                  if (obj instanceof Date) {
                    var normalize = function(n, len) {
                      var ns = [cljs.core.str(n)].join("");
                      while (true) {
                        if (cljs.core.count(ns) < len) {
                          var G__10905 = [cljs.core.str("0"), cljs.core.str(ns)].join("");
                          ns = G__10905;
                          continue;
                        } else {
                          return ns;
                        }
                        break;
                      }
                    };
                    return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer, cljs.core.array_seq(['#inst "', [cljs.core.str(obj.getUTCFullYear())].join(""), "-", normalize(obj.getUTCMonth() + 1, 2), "-", normalize(obj.getUTCDate(), 2), "T", normalize(obj.getUTCHours(), 2), ":", normalize(obj.getUTCMinutes(), 2), ":", normalize(obj.getUTCSeconds(), 2), ".", normalize(obj.getUTCMilliseconds(), 3), "-", '00:00"'], 0));
                  } else {
                    if (cljs.core.regexp_QMARK_(obj)) {
                      return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer, cljs.core.array_seq(['#"', obj.source, '"'], 0));
                    } else {
                      if (!(obj == null) ? obj.cljs$lang$protocol_mask$partition0$ & 2147483648 || obj.cljs$core$IPrintWithWriter$ ? true : false : false) {
                        return cljs.core._pr_writer(obj, writer, opts);
                      } else {
                        if (cljs.core.truth_(obj.constructor.cljs$lang$ctorStr)) {
                          return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer, cljs.core.array_seq(["#object[", obj.constructor.cljs$lang$ctorStr.replace(new RegExp("/", "g"), "."), "]"], 0));
                        } else {
                          var name = obj.constructor.name;
                          var name__$1 = cljs.core.truth_(function() {
                            var or__6156__auto__ = name == null;
                            if (or__6156__auto__) {
                              return or__6156__auto__;
                            } else {
                              return goog.string.isEmpty(name);
                            }
                          }()) ? "Object" : name;
                          return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer, cljs.core.array_seq(["#object[", name__$1, " ", [cljs.core.str(obj)].join(""), "]"], 0));
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
cljs.core.pr_writer = function cljs$core$pr_writer(obj, writer, opts) {
  var temp__4655__auto__ = (new cljs.core.Keyword(null, "alt-impl", "alt-impl", 670969595)).cljs$core$IFn$_invoke$arity$1(opts);
  if (cljs.core.truth_(temp__4655__auto__)) {
    var alt_impl = temp__4655__auto__;
    var G__10909 = obj;
    var G__10910 = writer;
    var G__10911 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(opts, new cljs.core.Keyword(null, "fallback-impl", "fallback-impl", -1501286995), cljs.core.pr_writer_impl);
    return alt_impl.cljs$core$IFn$_invoke$arity$3 ? alt_impl.cljs$core$IFn$_invoke$arity$3(G__10909, G__10910, G__10911) : alt_impl.call(null, G__10909, G__10910, G__10911);
  } else {
    return cljs.core.pr_writer_impl(obj, writer, opts);
  }
};
cljs.core.pr_seq_writer = function cljs$core$pr_seq_writer(objs, writer, opts) {
  cljs.core.pr_writer(cljs.core.first(objs), writer, opts);
  var seq__10916 = cljs.core.seq(cljs.core.next(objs));
  var chunk__10917 = null;
  var count__10918 = 0;
  var i__10919 = 0;
  while (true) {
    if (i__10919 < count__10918) {
      var obj = chunk__10917.cljs$core$IIndexed$_nth$arity$2(null, i__10919);
      cljs.core._write(writer, " ");
      cljs.core.pr_writer(obj, writer, opts);
      var G__10920 = seq__10916;
      var G__10921 = chunk__10917;
      var G__10922 = count__10918;
      var G__10923 = i__10919 + 1;
      seq__10916 = G__10920;
      chunk__10917 = G__10921;
      count__10918 = G__10922;
      i__10919 = G__10923;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq(seq__10916);
      if (temp__4657__auto__) {
        var seq__10916__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_(seq__10916__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first(seq__10916__$1);
          var G__10924 = cljs.core.chunk_rest(seq__10916__$1);
          var G__10925 = c__6959__auto__;
          var G__10926 = cljs.core.count(c__6959__auto__);
          var G__10927 = 0;
          seq__10916 = G__10924;
          chunk__10917 = G__10925;
          count__10918 = G__10926;
          i__10919 = G__10927;
          continue;
        } else {
          var obj = cljs.core.first(seq__10916__$1);
          cljs.core._write(writer, " ");
          cljs.core.pr_writer(obj, writer, opts);
          var G__10928 = cljs.core.next(seq__10916__$1);
          var G__10929 = null;
          var G__10930 = 0;
          var G__10931 = 0;
          seq__10916 = G__10928;
          chunk__10917 = G__10929;
          count__10918 = G__10930;
          i__10919 = G__10931;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
cljs.core.pr_sb_with_opts = function cljs$core$pr_sb_with_opts(objs, opts) {
  var sb = new goog.string.StringBuffer;
  var writer = new cljs.core.StringBufferWriter(sb);
  cljs.core.pr_seq_writer(objs, writer, opts);
  writer.cljs$core$IWriter$_flush$arity$1(null);
  return sb;
};
cljs.core.pr_str_with_opts = function cljs$core$pr_str_with_opts(objs, opts) {
  if (cljs.core.empty_QMARK_(objs)) {
    return "";
  } else {
    return [cljs.core.str(cljs.core.pr_sb_with_opts(objs, opts))].join("");
  }
};
cljs.core.prn_str_with_opts = function cljs$core$prn_str_with_opts(objs, opts) {
  if (cljs.core.empty_QMARK_(objs)) {
    return "\n";
  } else {
    var sb = cljs.core.pr_sb_with_opts(objs, opts);
    sb.append("\n");
    return [cljs.core.str(sb)].join("");
  }
};
cljs.core.pr_with_opts = function cljs$core$pr_with_opts(objs, opts) {
  return cljs.core.string_print(cljs.core.pr_str_with_opts(objs, opts));
};
cljs.core.newline = function cljs$core$newline(var_args) {
  var args10932 = [];
  var len__7214__auto___10935 = arguments.length;
  var i__7215__auto___10936 = 0;
  while (true) {
    if (i__7215__auto___10936 < len__7214__auto___10935) {
      args10932.push(arguments[i__7215__auto___10936]);
      var G__10937 = i__7215__auto___10936 + 1;
      i__7215__auto___10936 = G__10937;
      continue;
    } else {
    }
    break;
  }
  var G__10934 = args10932.length;
  switch(G__10934) {
    case 0:
      return cljs.core.newline.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10932.length)].join(""));;
  }
};
cljs.core.newline.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(null);
};
cljs.core.newline.cljs$core$IFn$_invoke$arity$1 = function(opts) {
  cljs.core.string_print("\n");
  if (cljs.core.truth_(cljs.core.get.cljs$core$IFn$_invoke$arity$2(opts, new cljs.core.Keyword(null, "flush-on-newline", "flush-on-newline", -151457939)))) {
    return cljs.core.flush();
  } else {
    return null;
  }
};
cljs.core.newline.cljs$lang$maxFixedArity = 1;
cljs.core.pr_str = function cljs$core$pr_str(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10940 = arguments.length;
  var i__7215__auto___10941 = 0;
  while (true) {
    if (i__7215__auto___10941 < len__7214__auto___10940) {
      args__7221__auto__.push(arguments[i__7215__auto___10941]);
      var G__10942 = i__7215__auto___10941 + 1;
      i__7215__auto___10941 = G__10942;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  return cljs.core.pr_str_with_opts(objs, cljs.core.pr_opts());
};
cljs.core.pr_str.cljs$lang$maxFixedArity = 0;
cljs.core.pr_str.cljs$lang$applyTo = function(seq10939) {
  return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10939));
};
cljs.core.prn_str = function cljs$core$prn_str(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10944 = arguments.length;
  var i__7215__auto___10945 = 0;
  while (true) {
    if (i__7215__auto___10945 < len__7214__auto___10944) {
      args__7221__auto__.push(arguments[i__7215__auto___10945]);
      var G__10946 = i__7215__auto___10945 + 1;
      i__7215__auto___10945 = G__10946;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  return cljs.core.prn_str_with_opts(objs, cljs.core.pr_opts());
};
cljs.core.prn_str.cljs$lang$maxFixedArity = 0;
cljs.core.prn_str.cljs$lang$applyTo = function(seq10943) {
  return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10943));
};
cljs.core.pr = function cljs$core$pr(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10948 = arguments.length;
  var i__7215__auto___10949 = 0;
  while (true) {
    if (i__7215__auto___10949 < len__7214__auto___10948) {
      args__7221__auto__.push(arguments[i__7215__auto___10949]);
      var G__10950 = i__7215__auto___10949 + 1;
      i__7215__auto___10949 = G__10950;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  return cljs.core.pr_with_opts(objs, cljs.core.pr_opts());
};
cljs.core.pr.cljs$lang$maxFixedArity = 0;
cljs.core.pr.cljs$lang$applyTo = function(seq10947) {
  return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10947));
};
cljs.core.print = function() {
  var cljs$core$cljs_core_print__delegate = function(objs) {
    return cljs.core.pr_with_opts(objs, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(), new cljs.core.Keyword(null, "readably", "readably", 1129599760), false));
  };
  var cljs$core$cljs_core_print = function(var_args) {
    var objs = null;
    if (arguments.length > 0) {
      var G__10951__i = 0, G__10951__a = new Array(arguments.length - 0);
      while (G__10951__i < G__10951__a.length) {
        G__10951__a[G__10951__i] = arguments[G__10951__i + 0];
        ++G__10951__i;
      }
      objs = new cljs.core.IndexedSeq(G__10951__a, 0);
    }
    return cljs$core$cljs_core_print__delegate.call(this, objs);
  };
  cljs$core$cljs_core_print.cljs$lang$maxFixedArity = 0;
  cljs$core$cljs_core_print.cljs$lang$applyTo = function(arglist__10952) {
    var objs = cljs.core.seq(arglist__10952);
    return cljs$core$cljs_core_print__delegate(objs);
  };
  cljs$core$cljs_core_print.cljs$core$IFn$_invoke$arity$variadic = cljs$core$cljs_core_print__delegate;
  return cljs$core$cljs_core_print;
}();
cljs.core.print_str = function cljs$core$print_str(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10954 = arguments.length;
  var i__7215__auto___10955 = 0;
  while (true) {
    if (i__7215__auto___10955 < len__7214__auto___10954) {
      args__7221__auto__.push(arguments[i__7215__auto___10955]);
      var G__10956 = i__7215__auto___10955 + 1;
      i__7215__auto___10955 = G__10956;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  return cljs.core.pr_str_with_opts(objs, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(), new cljs.core.Keyword(null, "readably", "readably", 1129599760), false));
};
cljs.core.print_str.cljs$lang$maxFixedArity = 0;
cljs.core.print_str.cljs$lang$applyTo = function(seq10953) {
  return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10953));
};
cljs.core.println = function cljs$core$println(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10958 = arguments.length;
  var i__7215__auto___10959 = 0;
  while (true) {
    if (i__7215__auto___10959 < len__7214__auto___10958) {
      args__7221__auto__.push(arguments[i__7215__auto___10959]);
      var G__10960 = i__7215__auto___10959 + 1;
      i__7215__auto___10959 = G__10960;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.println.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  cljs.core.pr_with_opts(objs, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(), new cljs.core.Keyword(null, "readably", "readably", 1129599760), false));
  if (cljs.core.truth_(cljs.core._STAR_print_newline_STAR_)) {
    return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts());
  } else {
    return null;
  }
};
cljs.core.println.cljs$lang$maxFixedArity = 0;
cljs.core.println.cljs$lang$applyTo = function(seq10957) {
  return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10957));
};
cljs.core.println_str = function cljs$core$println_str(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10962 = arguments.length;
  var i__7215__auto___10963 = 0;
  while (true) {
    if (i__7215__auto___10963 < len__7214__auto___10962) {
      args__7221__auto__.push(arguments[i__7215__auto___10963]);
      var G__10964 = i__7215__auto___10963 + 1;
      i__7215__auto___10963 = G__10964;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  return cljs.core.prn_str_with_opts(objs, cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(), new cljs.core.Keyword(null, "readably", "readably", 1129599760), false));
};
cljs.core.println_str.cljs$lang$maxFixedArity = 0;
cljs.core.println_str.cljs$lang$applyTo = function(seq10961) {
  return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10961));
};
cljs.core.prn = function cljs$core$prn(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10966 = arguments.length;
  var i__7215__auto___10967 = 0;
  while (true) {
    if (i__7215__auto___10967 < len__7214__auto___10966) {
      args__7221__auto__.push(arguments[i__7215__auto___10967]);
      var G__10968 = i__7215__auto___10967 + 1;
      i__7215__auto___10967 = G__10968;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic = function(objs) {
  cljs.core.pr_with_opts(objs, cljs.core.pr_opts());
  if (cljs.core.truth_(cljs.core._STAR_print_newline_STAR_)) {
    return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts());
  } else {
    return null;
  }
};
cljs.core.prn.cljs$lang$maxFixedArity = 0;
cljs.core.prn.cljs$lang$applyTo = function(seq10965) {
  return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10965));
};
cljs.core.print_map = function cljs$core$print_map(m, print_one, writer, opts) {
  return cljs.core.pr_sequential_writer(writer, function(e, w, opts__$1) {
    var G__10975_10981 = cljs.core.key(e);
    var G__10976_10982 = w;
    var G__10977_10983 = opts__$1;
    print_one.cljs$core$IFn$_invoke$arity$3 ? print_one.cljs$core$IFn$_invoke$arity$3(G__10975_10981, G__10976_10982, G__10977_10983) : print_one.call(null, G__10975_10981, G__10976_10982, G__10977_10983);
    cljs.core._write(w, " ");
    var G__10978 = cljs.core.val(e);
    var G__10979 = w;
    var G__10980 = opts__$1;
    return print_one.cljs$core$IFn$_invoke$arity$3 ? print_one.cljs$core$IFn$_invoke$arity$3(G__10978, G__10979, G__10980) : print_one.call(null, G__10978, G__10979, G__10980);
  }, "{", ", ", "}", opts, cljs.core.seq(m));
};
cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(a, writer, opts) {
  var a__$1 = this;
  cljs.core._write(writer, "#object [cljs.core.Volatile ");
  cljs.core.pr_writer(new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "val", "val", 128701612), a__$1.state], null), writer, opts);
  return cljs.core._write(writer, "]");
};
cljs.core.Var.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Var.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(a, writer, opts) {
  var a__$1 = this;
  cljs.core._write(writer, "#'");
  return cljs.core.pr_writer(a__$1.sym, writer, opts);
};
cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "[", " ", "]", opts, coll__$1);
};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "#{", " ", "}", opts, coll__$1);
};
cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.print_map(coll__$1, cljs.core.pr_writer, writer, opts);
};
cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.print_map(coll__$1, cljs.core.pr_writer, writer, opts);
};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "[", " ", "]", opts, coll__$1);
};
cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.print_map(coll__$1, cljs.core.pr_writer, writer, opts);
};
cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "#{", " ", "}", opts, coll__$1);
};
cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(a, writer, opts) {
  var a__$1 = this;
  cljs.core._write(writer, "#object [cljs.core.Atom ");
  cljs.core.pr_writer(new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "val", "val", 128701612), a__$1.state], null), writer, opts);
  return cljs.core._write(writer, "]");
};
cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "[", " ", "]", opts, coll__$1);
};
cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "[", " ", "]", opts, coll__$1);
};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core._write(writer, "()");
};
cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "#queue [", " ", "]", opts, cljs.core.seq(coll__$1));
};
cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.print_map(coll__$1, cljs.core.pr_writer, writer, opts);
};
cljs.core.Range.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.Range.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.List.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.List.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll, writer, opts) {
  var coll__$1 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$1);
};
cljs.core.Symbol.prototype.cljs$core$IComparable$ = true;
cljs.core.Symbol.prototype.cljs$core$IComparable$_compare$arity$2 = function(x, y) {
  var x__$1 = this;
  if (y instanceof cljs.core.Symbol) {
    return cljs.core.compare_symbols(x__$1, y);
  } else {
    throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x__$1), cljs.core.str(" to "), cljs.core.str(y)].join(""));
  }
};
cljs.core.Keyword.prototype.cljs$core$IComparable$ = true;
cljs.core.Keyword.prototype.cljs$core$IComparable$_compare$arity$2 = function(x, y) {
  var x__$1 = this;
  if (y instanceof cljs.core.Keyword) {
    return cljs.core.compare_keywords(x__$1, y);
  } else {
    throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x__$1), cljs.core.str(" to "), cljs.core.str(y)].join(""));
  }
};
cljs.core.Subvec.prototype.cljs$core$IComparable$ = true;
cljs.core.Subvec.prototype.cljs$core$IComparable$_compare$arity$2 = function(x, y) {
  var x__$1 = this;
  if (cljs.core.vector_QMARK_(y)) {
    return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(x__$1, y);
  } else {
    throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x__$1), cljs.core.str(" to "), cljs.core.str(y)].join(""));
  }
};
cljs.core.PersistentVector.prototype.cljs$core$IComparable$ = true;
cljs.core.PersistentVector.prototype.cljs$core$IComparable$_compare$arity$2 = function(x, y) {
  var x__$1 = this;
  if (cljs.core.vector_QMARK_(y)) {
    return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(x__$1, y);
  } else {
    throw new Error([cljs.core.str("Cannot compare "), cljs.core.str(x__$1), cljs.core.str(" to "), cljs.core.str(y)].join(""));
  }
};
cljs.core.alter_meta_BANG_ = function cljs$core$alter_meta_BANG_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10987 = arguments.length;
  var i__7215__auto___10988 = 0;
  while (true) {
    if (i__7215__auto___10988 < len__7214__auto___10987) {
      args__7221__auto__.push(arguments[i__7215__auto___10988]);
      var G__10989 = i__7215__auto___10988 + 1;
      i__7215__auto___10988 = G__10989;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(iref, f, args) {
  return iref.meta = cljs.core.apply.cljs$core$IFn$_invoke$arity$3(f, iref.meta, args);
};
cljs.core.alter_meta_BANG_.cljs$lang$maxFixedArity = 2;
cljs.core.alter_meta_BANG_.cljs$lang$applyTo = function(seq10984) {
  var G__10985 = cljs.core.first(seq10984);
  var seq10984__$1 = cljs.core.next(seq10984);
  var G__10986 = cljs.core.first(seq10984__$1);
  var seq10984__$2 = cljs.core.next(seq10984__$1);
  return cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__10985, G__10986, seq10984__$2);
};
cljs.core.reset_meta_BANG_ = function cljs$core$reset_meta_BANG_(iref, m) {
  return iref.meta = m;
};
cljs.core.add_watch = function cljs$core$add_watch(iref, key, f) {
  cljs.core._add_watch(iref, key, f);
  return iref;
};
cljs.core.remove_watch = function cljs$core$remove_watch(iref, key) {
  cljs.core._remove_watch(iref, key);
  return iref;
};
cljs.core.gensym_counter = null;
cljs.core.gensym = function cljs$core$gensym(var_args) {
  var args10990 = [];
  var len__7214__auto___10993 = arguments.length;
  var i__7215__auto___10994 = 0;
  while (true) {
    if (i__7215__auto___10994 < len__7214__auto___10993) {
      args10990.push(arguments[i__7215__auto___10994]);
      var G__10995 = i__7215__auto___10994 + 1;
      i__7215__auto___10994 = G__10995;
      continue;
    } else {
    }
    break;
  }
  var G__10992 = args10990.length;
  switch(G__10992) {
    case 0:
      return cljs.core.gensym.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args10990.length)].join(""));;
  }
};
cljs.core.gensym.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1("G__");
};
cljs.core.gensym.cljs$core$IFn$_invoke$arity$1 = function(prefix_string) {
  if (cljs.core.gensym_counter == null) {
    cljs.core.gensym_counter = cljs.core.atom.cljs$core$IFn$_invoke$arity$1 ? cljs.core.atom.cljs$core$IFn$_invoke$arity$1(0) : cljs.core.atom.call(null, 0);
  } else {
  }
  return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1([cljs.core.str(prefix_string), cljs.core.str(cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(cljs.core.gensym_counter, cljs.core.inc))].join(""));
};
cljs.core.gensym.cljs$lang$maxFixedArity = 1;
cljs.core.fixture1 = 1;
cljs.core.fixture2 = 2;
cljs.core.Delay = function(f, value) {
  this.f = f;
  this.value = value;
  this.cljs$lang$protocol_mask$partition0$ = 32768;
  this.cljs$lang$protocol_mask$partition1$ = 1;
};
cljs.core.Delay.prototype.cljs$core$IDeref$_deref$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  if (cljs.core.truth_(self__.f)) {
    self__.value = self__.f.cljs$core$IFn$_invoke$arity$0 ? self__.f.cljs$core$IFn$_invoke$arity$0() : self__.f.call(null);
    self__.f = null;
  } else {
  }
  return self__.value;
};
cljs.core.Delay.prototype.cljs$core$IPending$_realized_QMARK_$arity$1 = function(x) {
  var self__ = this;
  var x__$1 = this;
  return cljs.core.not(self__.f);
};
cljs.core.Delay.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "f", "f", 43394975, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null)), cljs.core.with_meta(new cljs.core.Symbol(null, "value", "value", 1946509744, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.Delay.cljs$lang$type = true;
cljs.core.Delay.cljs$lang$ctorStr = "cljs.core/Delay";
cljs.core.Delay.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Delay");
};
cljs.core.__GT_Delay = function cljs$core$__GT_Delay(f, value) {
  return new cljs.core.Delay(f, value);
};
cljs.core.delay_QMARK_ = function cljs$core$delay_QMARK_(x) {
  return x instanceof cljs.core.Delay;
};
cljs.core.force = function cljs$core$force(x) {
  if (cljs.core.delay_QMARK_(x)) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(x) : cljs.core.deref.call(null, x);
  } else {
    return x;
  }
};
cljs.core.realized_QMARK_ = function cljs$core$realized_QMARK_(x) {
  return cljs.core._realized_QMARK_(x);
};
cljs.core.preserving_reduced = function cljs$core$preserving_reduced(rf) {
  return function(p1__10997_SHARP_, p2__10998_SHARP_) {
    var ret = rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(p1__10997_SHARP_, p2__10998_SHARP_) : rf.call(null, p1__10997_SHARP_, p2__10998_SHARP_);
    if (cljs.core.reduced_QMARK_(ret)) {
      return cljs.core.reduced(ret);
    } else {
      return ret;
    }
  };
};
cljs.core.cat = function cljs$core$cat(rf) {
  var rf1 = cljs.core.preserving_reduced(rf);
  return function(rf1) {
    return function() {
      var G__10999 = null;
      var G__10999__0 = function() {
        return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
      };
      var G__10999__1 = function(result) {
        return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
      };
      var G__10999__2 = function(result, input) {
        return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(rf1, result, input);
      };
      G__10999 = function(result, input) {
        switch(arguments.length) {
          case 0:
            return G__10999__0.call(this);
          case 1:
            return G__10999__1.call(this, result);
          case 2:
            return G__10999__2.call(this, result, input);
        }
        throw new Error("Invalid arity: " + arguments.length);
      };
      G__10999.cljs$core$IFn$_invoke$arity$0 = G__10999__0;
      G__10999.cljs$core$IFn$_invoke$arity$1 = G__10999__1;
      G__10999.cljs$core$IFn$_invoke$arity$2 = G__10999__2;
      return G__10999;
    }();
  }(rf1);
};
cljs.core.dedupe = function cljs$core$dedupe(var_args) {
  var args11000 = [];
  var len__7214__auto___11003 = arguments.length;
  var i__7215__auto___11004 = 0;
  while (true) {
    if (i__7215__auto___11004 < len__7214__auto___11003) {
      args11000.push(arguments[i__7215__auto___11004]);
      var G__11005 = i__7215__auto___11004 + 1;
      i__7215__auto___11004 = G__11005;
      continue;
    } else {
    }
    break;
  }
  var G__11002 = args11000.length;
  switch(G__11002) {
    case 0:
      return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11000.length)].join(""));;
  }
};
cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0 = function() {
  return function(rf) {
    var pa = cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core", "none", "cljs.core/none", 926646439));
    return function(pa) {
      return function() {
        var G__11007 = null;
        var G__11007__0 = function() {
          return rf.cljs$core$IFn$_invoke$arity$0 ? rf.cljs$core$IFn$_invoke$arity$0() : rf.call(null);
        };
        var G__11007__1 = function(result) {
          return rf.cljs$core$IFn$_invoke$arity$1 ? rf.cljs$core$IFn$_invoke$arity$1(result) : rf.call(null, result);
        };
        var G__11007__2 = function(result, input) {
          var prior = cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(pa) : cljs.core.deref.call(null, pa);
          cljs.core.vreset_BANG_(pa, input);
          if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(prior, input)) {
            return result;
          } else {
            return rf.cljs$core$IFn$_invoke$arity$2 ? rf.cljs$core$IFn$_invoke$arity$2(result, input) : rf.call(null, result, input);
          }
        };
        G__11007 = function(result, input) {
          switch(arguments.length) {
            case 0:
              return G__11007__0.call(this);
            case 1:
              return G__11007__1.call(this, result);
            case 2:
              return G__11007__2.call(this, result, input);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__11007.cljs$core$IFn$_invoke$arity$0 = G__11007__0;
        G__11007.cljs$core$IFn$_invoke$arity$1 = G__11007__1;
        G__11007.cljs$core$IFn$_invoke$arity$2 = G__11007__2;
        return G__11007;
      }();
    }(pa);
  };
};
cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0(), coll);
};
cljs.core.dedupe.cljs$lang$maxFixedArity = 1;
cljs.core.random_sample = function cljs$core$random_sample(var_args) {
  var args11008 = [];
  var len__7214__auto___11011 = arguments.length;
  var i__7215__auto___11012 = 0;
  while (true) {
    if (i__7215__auto___11012 < len__7214__auto___11011) {
      args11008.push(arguments[i__7215__auto___11012]);
      var G__11013 = i__7215__auto___11012 + 1;
      i__7215__auto___11012 = G__11013;
      continue;
    } else {
    }
    break;
  }
  var G__11010 = args11008.length;
  switch(G__11010) {
    case 1:
      return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11008.length)].join(""));;
  }
};
cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1 = function(prob) {
  return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(function(_) {
    return (cljs.core.rand.cljs$core$IFn$_invoke$arity$0 ? cljs.core.rand.cljs$core$IFn$_invoke$arity$0() : cljs.core.rand.call(null)) < prob;
  });
};
cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2 = function(prob, coll) {
  return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(_) {
    return (cljs.core.rand.cljs$core$IFn$_invoke$arity$0 ? cljs.core.rand.cljs$core$IFn$_invoke$arity$0() : cljs.core.rand.call(null)) < prob;
  }, coll);
};
cljs.core.random_sample.cljs$lang$maxFixedArity = 2;
cljs.core.Eduction = function(xform, coll) {
  this.xform = xform;
  this.coll = coll;
  this.cljs$lang$protocol_mask$partition0$ = 2173173760;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.Eduction.prototype.cljs$core$ISeqable$_seq$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return cljs.core.seq(cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(self__.xform, self__.coll));
};
cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$2 = function(_, f) {
  var self__ = this;
  var ___$1 = this;
  return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(self__.xform, cljs.core.completing.cljs$core$IFn$_invoke$arity$1(f), self__.coll);
};
cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$3 = function(_, f, init) {
  var self__ = this;
  var ___$1 = this;
  return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(self__.xform, cljs.core.completing.cljs$core$IFn$_invoke$arity$1(f), init, self__.coll);
};
cljs.core.Eduction.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(coll__$1, writer, opts) {
  var self__ = this;
  var coll__$2 = this;
  return cljs.core.pr_sequential_writer(writer, cljs.core.pr_writer, "(", " ", ")", opts, coll__$2);
};
cljs.core.Eduction.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "xform", "xform", -85179481, null), new cljs.core.Symbol(null, "coll", "coll", -1006698606, null)], null);
};
cljs.core.Eduction.cljs$lang$type = true;
cljs.core.Eduction.cljs$lang$ctorStr = "cljs.core/Eduction";
cljs.core.Eduction.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Eduction");
};
cljs.core.__GT_Eduction = function cljs$core$__GT_Eduction(xform, coll) {
  return new cljs.core.Eduction(xform, coll);
};
cljs.core.Eduction.prototype[cljs.core.ITER_SYMBOL] = function() {
  var this__7150__auto__ = this;
  return cljs.core.es6_iterator(this__7150__auto__);
};
cljs.core.eduction = function cljs$core$eduction(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___11016 = arguments.length;
  var i__7215__auto___11017 = 0;
  while (true) {
    if (i__7215__auto___11017 < len__7214__auto___11016) {
      args__7221__auto__.push(arguments[i__7215__auto___11017]);
      var G__11018 = i__7215__auto___11017 + 1;
      i__7215__auto___11017 = G__11018;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic = function(xforms) {
  return new cljs.core.Eduction(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.comp, cljs.core.butlast(xforms)), cljs.core.last(xforms));
};
cljs.core.eduction.cljs$lang$maxFixedArity = 0;
cljs.core.eduction.cljs$lang$applyTo = function(seq11015) {
  return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq11015));
};
cljs.core.run_BANG_ = function cljs$core$run_BANG_(proc, coll) {
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__11020_SHARP_, p2__11019_SHARP_) {
    return proc.cljs$core$IFn$_invoke$arity$1 ? proc.cljs$core$IFn$_invoke$arity$1(p2__11019_SHARP_) : proc.call(null, p2__11019_SHARP_);
  }, null, coll);
};
cljs.core.IEncodeJS = function() {
};
cljs.core._clj__GT_js = function cljs$core$_clj__GT_js(x) {
  if (!(x == null) && !(x.cljs$core$IEncodeJS$_clj__GT_js$arity$1 == null)) {
    return x.cljs$core$IEncodeJS$_clj__GT_js$arity$1(x);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._clj__GT_js[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto__.call(null, x);
    } else {
      var m__6812__auto____$1 = cljs.core._clj__GT_js["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto____$1.call(null, x);
      } else {
        throw cljs.core.missing_protocol("IEncodeJS.-clj-\x3ejs", x);
      }
    }
  }
};
cljs.core._key__GT_js = function cljs$core$_key__GT_js(x) {
  if (!(x == null) && !(x.cljs$core$IEncodeJS$_key__GT_js$arity$1 == null)) {
    return x.cljs$core$IEncodeJS$_key__GT_js$arity$1(x);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._key__GT_js[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto__.call(null, x);
    } else {
      var m__6812__auto____$1 = cljs.core._key__GT_js["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x) : m__6812__auto____$1.call(null, x);
      } else {
        throw cljs.core.missing_protocol("IEncodeJS.-key-\x3ejs", x);
      }
    }
  }
};
cljs.core.key__GT_js = function cljs$core$key__GT_js(k) {
  if (!(k == null) ? false || k.cljs$core$IEncodeJS$ ? true : !k.cljs$lang$protocol_mask$partition$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS, k) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS, k)) {
    return cljs.core._clj__GT_js(k);
  } else {
    if (typeof k === "string" || typeof k === "number" || k instanceof cljs.core.Keyword || k instanceof cljs.core.Symbol) {
      return cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1 ? cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1(k) : cljs.core.clj__GT_js.call(null, k);
    } else {
      return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([k], 0));
    }
  }
};
cljs.core.clj__GT_js = function cljs$core$clj__GT_js(x) {
  if (x == null) {
    return null;
  } else {
    if (!(x == null) ? false || x.cljs$core$IEncodeJS$ ? true : !x.cljs$lang$protocol_mask$partition$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS, x) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS, x)) {
      return cljs.core._clj__GT_js(x);
    } else {
      if (x instanceof cljs.core.Keyword) {
        return cljs.core.name(x);
      } else {
        if (x instanceof cljs.core.Symbol) {
          return [cljs.core.str(x)].join("");
        } else {
          if (cljs.core.map_QMARK_(x)) {
            var m = {};
            var seq__11039_11049 = cljs.core.seq(x);
            var chunk__11040_11050 = null;
            var count__11041_11051 = 0;
            var i__11042_11052 = 0;
            while (true) {
              if (i__11042_11052 < count__11041_11051) {
                var vec__11043_11053 = chunk__11040_11050.cljs$core$IIndexed$_nth$arity$2(null, i__11042_11052);
                var k_11054 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11043_11053, 0, null);
                var v_11055 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11043_11053, 1, null);
                m[cljs.core.key__GT_js(k_11054)] = cljs$core$clj__GT_js(v_11055);
                var G__11056 = seq__11039_11049;
                var G__11057 = chunk__11040_11050;
                var G__11058 = count__11041_11051;
                var G__11059 = i__11042_11052 + 1;
                seq__11039_11049 = G__11056;
                chunk__11040_11050 = G__11057;
                count__11041_11051 = G__11058;
                i__11042_11052 = G__11059;
                continue;
              } else {
                var temp__4657__auto___11060 = cljs.core.seq(seq__11039_11049);
                if (temp__4657__auto___11060) {
                  var seq__11039_11061__$1 = temp__4657__auto___11060;
                  if (cljs.core.chunked_seq_QMARK_(seq__11039_11061__$1)) {
                    var c__6959__auto___11062 = cljs.core.chunk_first(seq__11039_11061__$1);
                    var G__11063 = cljs.core.chunk_rest(seq__11039_11061__$1);
                    var G__11064 = c__6959__auto___11062;
                    var G__11065 = cljs.core.count(c__6959__auto___11062);
                    var G__11066 = 0;
                    seq__11039_11049 = G__11063;
                    chunk__11040_11050 = G__11064;
                    count__11041_11051 = G__11065;
                    i__11042_11052 = G__11066;
                    continue;
                  } else {
                    var vec__11044_11067 = cljs.core.first(seq__11039_11061__$1);
                    var k_11068 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11044_11067, 0, null);
                    var v_11069 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11044_11067, 1, null);
                    m[cljs.core.key__GT_js(k_11068)] = cljs$core$clj__GT_js(v_11069);
                    var G__11070 = cljs.core.next(seq__11039_11061__$1);
                    var G__11071 = null;
                    var G__11072 = 0;
                    var G__11073 = 0;
                    seq__11039_11049 = G__11070;
                    chunk__11040_11050 = G__11071;
                    count__11041_11051 = G__11072;
                    i__11042_11052 = G__11073;
                    continue;
                  }
                } else {
                }
              }
              break;
            }
            return m;
          } else {
            if (cljs.core.coll_QMARK_(x)) {
              var arr = [];
              var seq__11045_11074 = cljs.core.seq(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$clj__GT_js, x));
              var chunk__11046_11075 = null;
              var count__11047_11076 = 0;
              var i__11048_11077 = 0;
              while (true) {
                if (i__11048_11077 < count__11047_11076) {
                  var x_11078__$1 = chunk__11046_11075.cljs$core$IIndexed$_nth$arity$2(null, i__11048_11077);
                  arr.push(x_11078__$1);
                  var G__11079 = seq__11045_11074;
                  var G__11080 = chunk__11046_11075;
                  var G__11081 = count__11047_11076;
                  var G__11082 = i__11048_11077 + 1;
                  seq__11045_11074 = G__11079;
                  chunk__11046_11075 = G__11080;
                  count__11047_11076 = G__11081;
                  i__11048_11077 = G__11082;
                  continue;
                } else {
                  var temp__4657__auto___11083 = cljs.core.seq(seq__11045_11074);
                  if (temp__4657__auto___11083) {
                    var seq__11045_11084__$1 = temp__4657__auto___11083;
                    if (cljs.core.chunked_seq_QMARK_(seq__11045_11084__$1)) {
                      var c__6959__auto___11085 = cljs.core.chunk_first(seq__11045_11084__$1);
                      var G__11086 = cljs.core.chunk_rest(seq__11045_11084__$1);
                      var G__11087 = c__6959__auto___11085;
                      var G__11088 = cljs.core.count(c__6959__auto___11085);
                      var G__11089 = 0;
                      seq__11045_11074 = G__11086;
                      chunk__11046_11075 = G__11087;
                      count__11047_11076 = G__11088;
                      i__11048_11077 = G__11089;
                      continue;
                    } else {
                      var x_11090__$1 = cljs.core.first(seq__11045_11084__$1);
                      arr.push(x_11090__$1);
                      var G__11091 = cljs.core.next(seq__11045_11084__$1);
                      var G__11092 = null;
                      var G__11093 = 0;
                      var G__11094 = 0;
                      seq__11045_11074 = G__11091;
                      chunk__11046_11075 = G__11092;
                      count__11047_11076 = G__11093;
                      i__11048_11077 = G__11094;
                      continue;
                    }
                  } else {
                  }
                }
                break;
              }
              return arr;
            } else {
              return x;
            }
          }
        }
      }
    }
  }
};
cljs.core.IEncodeClojure = function() {
};
cljs.core._js__GT_clj = function cljs$core$_js__GT_clj(x, options) {
  if (!(x == null) && !(x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2 == null)) {
    return x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2(x, options);
  } else {
    var x__6811__auto__ = x == null ? null : x;
    var m__6812__auto__ = cljs.core._js__GT_clj[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(x, options) : m__6812__auto__.call(null, x, options);
    } else {
      var m__6812__auto____$1 = cljs.core._js__GT_clj["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(x, options) : m__6812__auto____$1.call(null, x, options);
      } else {
        throw cljs.core.missing_protocol("IEncodeClojure.-js-\x3eclj", x);
      }
    }
  }
};
cljs.core.js__GT_clj = function cljs$core$js__GT_clj(var_args) {
  var args11095 = [];
  var len__7214__auto___11120 = arguments.length;
  var i__7215__auto___11121 = 0;
  while (true) {
    if (i__7215__auto___11121 < len__7214__auto___11120) {
      args11095.push(arguments[i__7215__auto___11121]);
      var G__11122 = i__7215__auto___11121 + 1;
      i__7215__auto___11121 = G__11122;
      continue;
    } else {
    }
    break;
  }
  var G__11099 = args11095.length;
  switch(G__11099) {
    case 1:
      return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args11095.slice(1), 0);
      return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7233__auto__);
  }
};
cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(x, cljs.core.array_seq([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "keywordize-keys", "keywordize-keys", 1310784252), false], null)], 0));
};
cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic = function(x, opts) {
  var map__11100 = opts;
  var map__11100__$1 = (!(map__11100 == null) ? map__11100.cljs$lang$protocol_mask$partition0$ & 64 || map__11100.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map, map__11100) : map__11100;
  var keywordize_keys = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__11100__$1, new cljs.core.Keyword(null, "keywordize-keys", "keywordize-keys", 1310784252));
  var keyfn = cljs.core.truth_(keywordize_keys) ? cljs.core.keyword : cljs.core.str;
  var f = function(map__11100, map__11100__$1, keywordize_keys, keyfn) {
    return function cljs$core$thisfn(x__$1) {
      if (!(x__$1 == null) ? false || x__$1.cljs$core$IEncodeClojure$ ? true : !x__$1.cljs$lang$protocol_mask$partition$ ? cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure, x__$1) : false : cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure, x__$1)) {
        return cljs.core._js__GT_clj(x__$1, cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.array_map, opts));
      } else {
        if (cljs.core.seq_QMARK_(x__$1)) {
          return cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn, x__$1));
        } else {
          if (cljs.core.coll_QMARK_(x__$1)) {
            return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.empty(x__$1), cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn, x__$1));
          } else {
            if (cljs.core.array_QMARK_(x__$1)) {
              return cljs.core.vec(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn, x__$1));
            } else {
              if (cljs.core.type(x__$1) === Object) {
                return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY, function() {
                  var iter__6928__auto__ = function(map__11100, map__11100__$1, keywordize_keys, keyfn) {
                    return function cljs$core$thisfn_$_iter__11114(s__11115) {
                      return new cljs.core.LazySeq(null, function(map__11100, map__11100__$1, keywordize_keys, keyfn) {
                        return function() {
                          var s__11115__$1 = s__11115;
                          while (true) {
                            var temp__4657__auto__ = cljs.core.seq(s__11115__$1);
                            if (temp__4657__auto__) {
                              var s__11115__$2 = temp__4657__auto__;
                              if (cljs.core.chunked_seq_QMARK_(s__11115__$2)) {
                                var c__6926__auto__ = cljs.core.chunk_first(s__11115__$2);
                                var size__6927__auto__ = cljs.core.count(c__6926__auto__);
                                var b__11117 = cljs.core.chunk_buffer(size__6927__auto__);
                                if (function() {
                                  var i__11116 = 0;
                                  while (true) {
                                    if (i__11116 < size__6927__auto__) {
                                      var k = cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__6926__auto__, i__11116);
                                      cljs.core.chunk_append(b__11117, new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [keyfn.cljs$core$IFn$_invoke$arity$1 ? keyfn.cljs$core$IFn$_invoke$arity$1(k) : keyfn.call(null, k), cljs$core$thisfn(x__$1[k])], null));
                                      var G__11124 = i__11116 + 1;
                                      i__11116 = G__11124;
                                      continue;
                                    } else {
                                      return true;
                                    }
                                    break;
                                  }
                                }()) {
                                  return cljs.core.chunk_cons(cljs.core.chunk(b__11117), cljs$core$thisfn_$_iter__11114(cljs.core.chunk_rest(s__11115__$2)));
                                } else {
                                  return cljs.core.chunk_cons(cljs.core.chunk(b__11117), null);
                                }
                              } else {
                                var k = cljs.core.first(s__11115__$2);
                                return cljs.core.cons(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [keyfn.cljs$core$IFn$_invoke$arity$1 ? keyfn.cljs$core$IFn$_invoke$arity$1(k) : keyfn.call(null, k), cljs$core$thisfn(x__$1[k])], null), cljs$core$thisfn_$_iter__11114(cljs.core.rest(s__11115__$2)));
                              }
                            } else {
                              return null;
                            }
                            break;
                          }
                        };
                      }(map__11100, map__11100__$1, keywordize_keys, keyfn), null, null);
                    };
                  }(map__11100, map__11100__$1, keywordize_keys, keyfn);
                  return iter__6928__auto__(cljs.core.js_keys(x__$1));
                }());
              } else {
                return x__$1;
              }
            }
          }
        }
      }
    };
  }(map__11100, map__11100__$1, keywordize_keys, keyfn);
  return f(x);
};
cljs.core.js__GT_clj.cljs$lang$applyTo = function(seq11096) {
  var G__11097 = cljs.core.first(seq11096);
  var seq11096__$1 = cljs.core.next(seq11096);
  return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(G__11097, seq11096__$1);
};
cljs.core.js__GT_clj.cljs$lang$maxFixedArity = 1;
cljs.core.memoize = function cljs$core$memoize(f) {
  var mem = function() {
    var G__11126 = cljs.core.PersistentArrayMap.EMPTY;
    return cljs.core.atom.cljs$core$IFn$_invoke$arity$1 ? cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11126) : cljs.core.atom.call(null, G__11126);
  }();
  return function(mem) {
    return function() {
      var G__11127__delegate = function(args) {
        var v = cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(mem) : cljs.core.deref.call(null, mem), args, cljs.core.lookup_sentinel);
        if (v === cljs.core.lookup_sentinel) {
          var ret = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f, args);
          cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(mem, cljs.core.assoc, args, ret);
          return ret;
        } else {
          return v;
        }
      };
      var G__11127 = function(var_args) {
        var args = null;
        if (arguments.length > 0) {
          var G__11128__i = 0, G__11128__a = new Array(arguments.length - 0);
          while (G__11128__i < G__11128__a.length) {
            G__11128__a[G__11128__i] = arguments[G__11128__i + 0];
            ++G__11128__i;
          }
          args = new cljs.core.IndexedSeq(G__11128__a, 0);
        }
        return G__11127__delegate.call(this, args);
      };
      G__11127.cljs$lang$maxFixedArity = 0;
      G__11127.cljs$lang$applyTo = function(arglist__11129) {
        var args = cljs.core.seq(arglist__11129);
        return G__11127__delegate(args);
      };
      G__11127.cljs$core$IFn$_invoke$arity$variadic = G__11127__delegate;
      return G__11127;
    }();
  }(mem);
};
cljs.core.trampoline = function cljs$core$trampoline(var_args) {
  var args11130 = [];
  var len__7214__auto___11135 = arguments.length;
  var i__7215__auto___11136 = 0;
  while (true) {
    if (i__7215__auto___11136 < len__7214__auto___11135) {
      args11130.push(arguments[i__7215__auto___11136]);
      var G__11137 = i__7215__auto___11136 + 1;
      i__7215__auto___11136 = G__11137;
      continue;
    } else {
    }
    break;
  }
  var G__11134 = args11130.length;
  switch(G__11134) {
    case 1:
      return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args11130.slice(1), 0);
      return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7233__auto__);
  }
};
cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1 = function(f) {
  while (true) {
    var ret = f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
    if (cljs.core.fn_QMARK_(ret)) {
      var G__11139 = ret;
      f = G__11139;
      continue;
    } else {
      return ret;
    }
    break;
  }
};
cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic = function(f, args) {
  return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(function() {
    return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f, args);
  });
};
cljs.core.trampoline.cljs$lang$applyTo = function(seq11131) {
  var G__11132 = cljs.core.first(seq11131);
  var seq11131__$1 = cljs.core.next(seq11131);
  return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(G__11132, seq11131__$1);
};
cljs.core.trampoline.cljs$lang$maxFixedArity = 1;
cljs.core.rand = function cljs$core$rand(var_args) {
  var args11140 = [];
  var len__7214__auto___11143 = arguments.length;
  var i__7215__auto___11144 = 0;
  while (true) {
    if (i__7215__auto___11144 < len__7214__auto___11143) {
      args11140.push(arguments[i__7215__auto___11144]);
      var G__11145 = i__7215__auto___11144 + 1;
      i__7215__auto___11144 = G__11145;
      continue;
    } else {
    }
    break;
  }
  var G__11142 = args11140.length;
  switch(G__11142) {
    case 0:
      return cljs.core.rand.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11140.length)].join(""));;
  }
};
cljs.core.rand.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(1);
};
cljs.core.rand.cljs$core$IFn$_invoke$arity$1 = function(n) {
  return Math.random() * n;
};
cljs.core.rand.cljs$lang$maxFixedArity = 1;
cljs.core.rand_int = function cljs$core$rand_int(n) {
  var G__11148 = Math.random() * n;
  return Math.floor(G__11148);
};
cljs.core.rand_nth = function cljs$core$rand_nth(coll) {
  return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(coll, cljs.core.rand_int(cljs.core.count(coll)));
};
cljs.core.group_by = function cljs$core$group_by(f, coll) {
  return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(ret, x) {
    var k = f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(x) : f.call(null, x);
    return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(ret, k, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(ret, k, cljs.core.PersistentVector.EMPTY), x));
  }, cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY), coll));
};
cljs.core.make_hierarchy = function cljs$core$make_hierarchy() {
  return new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "parents", "parents", -2027538891), cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "descendants", "descendants", 1824886031), cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "ancestors", "ancestors", -776045424), cljs.core.PersistentArrayMap.EMPTY], null);
};
cljs.core._global_hierarchy = null;
cljs.core.get_global_hierarchy = function cljs$core$get_global_hierarchy() {
  if (cljs.core._global_hierarchy == null) {
    cljs.core._global_hierarchy = function() {
      var G__11150 = cljs.core.make_hierarchy();
      return cljs.core.atom.cljs$core$IFn$_invoke$arity$1 ? cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11150) : cljs.core.atom.call(null, G__11150);
    }();
  } else {
  }
  return cljs.core._global_hierarchy;
};
cljs.core.swap_global_hierarchy_BANG_ = function cljs$core$swap_global_hierarchy_BANG_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___11153 = arguments.length;
  var i__7215__auto___11154 = 0;
  while (true) {
    if (i__7215__auto___11154 < len__7214__auto___11153) {
      args__7221__auto__.push(arguments[i__7215__auto___11154]);
      var G__11155 = i__7215__auto___11154 + 1;
      i__7215__auto___11154 = G__11155;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(f, args) {
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core.swap_BANG_, cljs.core.get_global_hierarchy(), f, args);
};
cljs.core.swap_global_hierarchy_BANG_.cljs$lang$maxFixedArity = 1;
cljs.core.swap_global_hierarchy_BANG_.cljs$lang$applyTo = function(seq11151) {
  var G__11152 = cljs.core.first(seq11151);
  var seq11151__$1 = cljs.core.next(seq11151);
  return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__11152, seq11151__$1);
};
cljs.core.isa_QMARK_ = function cljs$core$isa_QMARK_(var_args) {
  var args11156 = [];
  var len__7214__auto___11160 = arguments.length;
  var i__7215__auto___11161 = 0;
  while (true) {
    if (i__7215__auto___11161 < len__7214__auto___11160) {
      args11156.push(arguments[i__7215__auto___11161]);
      var G__11162 = i__7215__auto___11161 + 1;
      i__7215__auto___11161 = G__11162;
      continue;
    } else {
    }
    break;
  }
  var G__11158 = args11156.length;
  switch(G__11158) {
    case 2:
      return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11156.length)].join(""));;
  }
};
cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2 = function(child, parent) {
  return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(function() {
    var G__11159 = cljs.core.get_global_hierarchy();
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11159) : cljs.core.deref.call(null, G__11159);
  }(), child, parent);
};
cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3 = function(h, child, parent) {
  var or__6156__auto__ = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(child, parent);
  if (or__6156__auto__) {
    return or__6156__auto__;
  } else {
    var or__6156__auto____$1 = cljs.core.contains_QMARK_((new cljs.core.Keyword(null, "ancestors", "ancestors", -776045424)).cljs$core$IFn$_invoke$arity$1(h).call(null, child), parent);
    if (or__6156__auto____$1) {
      return or__6156__auto____$1;
    } else {
      var and__6144__auto__ = cljs.core.vector_QMARK_(parent);
      if (and__6144__auto__) {
        var and__6144__auto____$1 = cljs.core.vector_QMARK_(child);
        if (and__6144__auto____$1) {
          var and__6144__auto____$2 = cljs.core.count(parent) === cljs.core.count(child);
          if (and__6144__auto____$2) {
            var ret = true;
            var i = 0;
            while (true) {
              if (!ret || i === cljs.core.count(parent)) {
                return ret;
              } else {
                var G__11164 = cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(h, child.cljs$core$IFn$_invoke$arity$1 ? child.cljs$core$IFn$_invoke$arity$1(i) : child.call(null, i), parent.cljs$core$IFn$_invoke$arity$1 ? parent.cljs$core$IFn$_invoke$arity$1(i) : parent.call(null, i));
                var G__11165 = i + 1;
                ret = G__11164;
                i = G__11165;
                continue;
              }
              break;
            }
          } else {
            return and__6144__auto____$2;
          }
        } else {
          return and__6144__auto____$1;
        }
      } else {
        return and__6144__auto__;
      }
    }
  }
};
cljs.core.isa_QMARK_.cljs$lang$maxFixedArity = 3;
cljs.core.parents = function cljs$core$parents(var_args) {
  var args11166 = [];
  var len__7214__auto___11170 = arguments.length;
  var i__7215__auto___11171 = 0;
  while (true) {
    if (i__7215__auto___11171 < len__7214__auto___11170) {
      args11166.push(arguments[i__7215__auto___11171]);
      var G__11172 = i__7215__auto___11171 + 1;
      i__7215__auto___11171 = G__11172;
      continue;
    } else {
    }
    break;
  }
  var G__11168 = args11166.length;
  switch(G__11168) {
    case 1:
      return cljs.core.parents.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11166.length)].join(""));;
  }
};
cljs.core.parents.cljs$core$IFn$_invoke$arity$1 = function(tag) {
  return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(function() {
    var G__11169 = cljs.core.get_global_hierarchy();
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11169) : cljs.core.deref.call(null, G__11169);
  }(), tag);
};
cljs.core.parents.cljs$core$IFn$_invoke$arity$2 = function(h, tag) {
  return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null, "parents", "parents", -2027538891)).cljs$core$IFn$_invoke$arity$1(h), tag));
};
cljs.core.parents.cljs$lang$maxFixedArity = 2;
cljs.core.ancestors = function cljs$core$ancestors(var_args) {
  var args11174 = [];
  var len__7214__auto___11178 = arguments.length;
  var i__7215__auto___11179 = 0;
  while (true) {
    if (i__7215__auto___11179 < len__7214__auto___11178) {
      args11174.push(arguments[i__7215__auto___11179]);
      var G__11180 = i__7215__auto___11179 + 1;
      i__7215__auto___11179 = G__11180;
      continue;
    } else {
    }
    break;
  }
  var G__11176 = args11174.length;
  switch(G__11176) {
    case 1:
      return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11174.length)].join(""));;
  }
};
cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1 = function(tag) {
  return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(function() {
    var G__11177 = cljs.core.get_global_hierarchy();
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11177) : cljs.core.deref.call(null, G__11177);
  }(), tag);
};
cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2 = function(h, tag) {
  return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null, "ancestors", "ancestors", -776045424)).cljs$core$IFn$_invoke$arity$1(h), tag));
};
cljs.core.ancestors.cljs$lang$maxFixedArity = 2;
cljs.core.descendants = function cljs$core$descendants(var_args) {
  var args11182 = [];
  var len__7214__auto___11186 = arguments.length;
  var i__7215__auto___11187 = 0;
  while (true) {
    if (i__7215__auto___11187 < len__7214__auto___11186) {
      args11182.push(arguments[i__7215__auto___11187]);
      var G__11188 = i__7215__auto___11187 + 1;
      i__7215__auto___11187 = G__11188;
      continue;
    } else {
    }
    break;
  }
  var G__11184 = args11182.length;
  switch(G__11184) {
    case 1:
      return cljs.core.descendants.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11182.length)].join(""));;
  }
};
cljs.core.descendants.cljs$core$IFn$_invoke$arity$1 = function(tag) {
  return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(function() {
    var G__11185 = cljs.core.get_global_hierarchy();
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11185) : cljs.core.deref.call(null, G__11185);
  }(), tag);
};
cljs.core.descendants.cljs$core$IFn$_invoke$arity$2 = function(h, tag) {
  return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null, "descendants", "descendants", 1824886031)).cljs$core$IFn$_invoke$arity$1(h), tag));
};
cljs.core.descendants.cljs$lang$maxFixedArity = 2;
cljs.core.derive = function cljs$core$derive(var_args) {
  var args11190 = [];
  var len__7214__auto___11193 = arguments.length;
  var i__7215__auto___11194 = 0;
  while (true) {
    if (i__7215__auto___11194 < len__7214__auto___11193) {
      args11190.push(arguments[i__7215__auto___11194]);
      var G__11195 = i__7215__auto___11194 + 1;
      i__7215__auto___11194 = G__11195;
      continue;
    } else {
    }
    break;
  }
  var G__11192 = args11190.length;
  switch(G__11192) {
    case 2:
      return cljs.core.derive.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.derive.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11190.length)].join(""));;
  }
};
cljs.core.derive.cljs$core$IFn$_invoke$arity$2 = function(tag, parent) {
  if (cljs.core.truth_(cljs.core.namespace(parent))) {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null, "namespace", "namespace", 1263021155, null), new cljs.core.Symbol(null, "parent", "parent", 761652748, null))], 0)))].join(""));
  }
  cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.derive, cljs.core.array_seq([tag, parent], 0));
  return null;
};
cljs.core.derive.cljs$core$IFn$_invoke$arity$3 = function(h, tag, parent) {
  if (cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(tag, parent)) {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null, "not\x3d", "not\x3d", 1466536204, null), new cljs.core.Symbol(null, "tag", "tag", 350170304, null), new cljs.core.Symbol(null, "parent", "parent", 761652748, null))], 0)))].join(""));
  }
  var tp = (new cljs.core.Keyword(null, "parents", "parents", -2027538891)).cljs$core$IFn$_invoke$arity$1(h);
  var td = (new cljs.core.Keyword(null, "descendants", "descendants", 1824886031)).cljs$core$IFn$_invoke$arity$1(h);
  var ta = (new cljs.core.Keyword(null, "ancestors", "ancestors", -776045424)).cljs$core$IFn$_invoke$arity$1(h);
  var tf = function(tp, td, ta) {
    return function(m, source, sources, target, targets) {
      return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(tp, td, ta) {
        return function(ret, k) {
          return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret, k, cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj, cljs.core.get.cljs$core$IFn$_invoke$arity$3(targets, k, cljs.core.PersistentHashSet.EMPTY), cljs.core.cons(target, targets.cljs$core$IFn$_invoke$arity$1 ? targets.cljs$core$IFn$_invoke$arity$1(target) : targets.call(null, target))));
        };
      }(tp, td, ta), m, cljs.core.cons(source, sources.cljs$core$IFn$_invoke$arity$1 ? sources.cljs$core$IFn$_invoke$arity$1(source) : sources.call(null, source)));
    };
  }(tp, td, ta);
  var or__6156__auto__ = cljs.core.contains_QMARK_(tp.cljs$core$IFn$_invoke$arity$1 ? tp.cljs$core$IFn$_invoke$arity$1(tag) : tp.call(null, tag), parent) ? null : function() {
    if (cljs.core.contains_QMARK_(ta.cljs$core$IFn$_invoke$arity$1 ? ta.cljs$core$IFn$_invoke$arity$1(tag) : ta.call(null, tag), parent)) {
      throw new Error([cljs.core.str(tag), cljs.core.str("already has"), cljs.core.str(parent), cljs.core.str("as ancestor")].join(""));
    } else {
    }
    if (cljs.core.contains_QMARK_(ta.cljs$core$IFn$_invoke$arity$1 ? ta.cljs$core$IFn$_invoke$arity$1(parent) : ta.call(null, parent), tag)) {
      throw new Error([cljs.core.str("Cyclic derivation:"), cljs.core.str(parent), cljs.core.str("has"), cljs.core.str(tag), cljs.core.str("as ancestor")].join(""));
    } else {
    }
    return new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "parents", "parents", -2027538891), cljs.core.assoc.cljs$core$IFn$_invoke$arity$3((new cljs.core.Keyword(null, "parents", "parents", -2027538891)).cljs$core$IFn$_invoke$arity$1(h), tag, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(tp, tag, cljs.core.PersistentHashSet.EMPTY), parent)), new cljs.core.Keyword(null, "ancestors", "ancestors", -776045424), tf((new cljs.core.Keyword(null, 
    "ancestors", "ancestors", -776045424)).cljs$core$IFn$_invoke$arity$1(h), tag, td, parent, ta), new cljs.core.Keyword(null, "descendants", "descendants", 1824886031), tf((new cljs.core.Keyword(null, "descendants", "descendants", 1824886031)).cljs$core$IFn$_invoke$arity$1(h), parent, ta, tag, td)], null);
  }();
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    return h;
  }
};
cljs.core.derive.cljs$lang$maxFixedArity = 3;
cljs.core.underive = function cljs$core$underive(var_args) {
  var args11200 = [];
  var len__7214__auto___11203 = arguments.length;
  var i__7215__auto___11204 = 0;
  while (true) {
    if (i__7215__auto___11204 < len__7214__auto___11203) {
      args11200.push(arguments[i__7215__auto___11204]);
      var G__11205 = i__7215__auto___11204 + 1;
      i__7215__auto___11204 = G__11205;
      continue;
    } else {
    }
    break;
  }
  var G__11202 = args11200.length;
  switch(G__11202) {
    case 2:
      return cljs.core.underive.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.underive.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11200.length)].join(""));;
  }
};
cljs.core.underive.cljs$core$IFn$_invoke$arity$2 = function(tag, parent) {
  cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.underive, cljs.core.array_seq([tag, parent], 0));
  return null;
};
cljs.core.underive.cljs$core$IFn$_invoke$arity$3 = function(h, tag, parent) {
  var parentMap = (new cljs.core.Keyword(null, "parents", "parents", -2027538891)).cljs$core$IFn$_invoke$arity$1(h);
  var childsParents = cljs.core.truth_(parentMap.cljs$core$IFn$_invoke$arity$1 ? parentMap.cljs$core$IFn$_invoke$arity$1(tag) : parentMap.call(null, tag)) ? cljs.core.disj.cljs$core$IFn$_invoke$arity$2(parentMap.cljs$core$IFn$_invoke$arity$1 ? parentMap.cljs$core$IFn$_invoke$arity$1(tag) : parentMap.call(null, tag), parent) : cljs.core.PersistentHashSet.EMPTY;
  var newParents = cljs.core.truth_(cljs.core.not_empty(childsParents)) ? cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(parentMap, tag, childsParents) : cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(parentMap, tag);
  var deriv_seq = cljs.core.flatten(cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(parentMap, childsParents, newParents) {
    return function(p1__11197_SHARP_) {
      return cljs.core.cons(cljs.core.first(p1__11197_SHARP_), cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(cljs.core.first(p1__11197_SHARP_), cljs.core.second(p1__11197_SHARP_)));
    };
  }(parentMap, childsParents, newParents), cljs.core.seq(newParents)));
  if (cljs.core.contains_QMARK_(parentMap.cljs$core$IFn$_invoke$arity$1 ? parentMap.cljs$core$IFn$_invoke$arity$1(tag) : parentMap.call(null, tag), parent)) {
    return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(parentMap, childsParents, newParents, deriv_seq) {
      return function(p1__11198_SHARP_, p2__11199_SHARP_) {
        return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.derive, p1__11198_SHARP_, p2__11199_SHARP_);
      };
    }(parentMap, childsParents, newParents, deriv_seq), cljs.core.make_hierarchy(), cljs.core.partition.cljs$core$IFn$_invoke$arity$2(2, deriv_seq));
  } else {
    return h;
  }
};
cljs.core.underive.cljs$lang$maxFixedArity = 3;
cljs.core.reset_cache = function cljs$core$reset_cache(method_cache, method_table, cached_hierarchy, hierarchy) {
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(method_cache, function(_) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(method_table) : cljs.core.deref.call(null, method_table);
  });
  return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(cached_hierarchy, function(_) {
    return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy) : cljs.core.deref.call(null, hierarchy);
  });
};
cljs.core.prefers_STAR_ = function cljs$core$prefers_STAR_(x, y, prefer_table) {
  var xprefs = (cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(prefer_table) : cljs.core.deref.call(null, prefer_table)).call(null, x);
  var or__6156__auto__ = cljs.core.truth_(function() {
    var and__6144__auto__ = xprefs;
    if (cljs.core.truth_(and__6144__auto__)) {
      return xprefs.cljs$core$IFn$_invoke$arity$1 ? xprefs.cljs$core$IFn$_invoke$arity$1(y) : xprefs.call(null, y);
    } else {
      return and__6144__auto__;
    }
  }()) ? true : null;
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    var or__6156__auto____$1 = function() {
      var ps = cljs.core.parents.cljs$core$IFn$_invoke$arity$1(y);
      while (true) {
        if (cljs.core.count(ps) > 0) {
          if (cljs.core.truth_(cljs$core$prefers_STAR_(x, cljs.core.first(ps), prefer_table))) {
          } else {
          }
          var G__11219 = cljs.core.rest(ps);
          ps = G__11219;
          continue;
        } else {
          return null;
        }
        break;
      }
    }();
    if (cljs.core.truth_(or__6156__auto____$1)) {
      return or__6156__auto____$1;
    } else {
      var or__6156__auto____$2 = function() {
        var ps = cljs.core.parents.cljs$core$IFn$_invoke$arity$1(x);
        while (true) {
          if (cljs.core.count(ps) > 0) {
            if (cljs.core.truth_(cljs$core$prefers_STAR_(cljs.core.first(ps), y, prefer_table))) {
            } else {
            }
            var G__11220 = cljs.core.rest(ps);
            ps = G__11220;
            continue;
          } else {
            return null;
          }
          break;
        }
      }();
      if (cljs.core.truth_(or__6156__auto____$2)) {
        return or__6156__auto____$2;
      } else {
        return false;
      }
    }
  }
};
cljs.core.dominates = function cljs$core$dominates(x, y, prefer_table) {
  var or__6156__auto__ = cljs.core.prefers_STAR_(x, y, prefer_table);
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(x, y);
  }
};
cljs.core.find_and_cache_best_method = function cljs$core$find_and_cache_best_method(name, dispatch_val, hierarchy, method_table, prefer_table, method_cache, cached_hierarchy) {
  var best_entry = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(be, p__11223) {
    var vec__11224 = p__11223;
    var k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11224, 0, null);
    var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11224, 1, null);
    var e = vec__11224;
    if (cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy) : cljs.core.deref.call(null, hierarchy), dispatch_val, k)) {
      var be2 = cljs.core.truth_(function() {
        var or__6156__auto__ = be == null;
        if (or__6156__auto__) {
          return or__6156__auto__;
        } else {
          return cljs.core.dominates(k, cljs.core.first(be), prefer_table);
        }
      }()) ? e : be;
      if (cljs.core.truth_(cljs.core.dominates(cljs.core.first(be2), k, prefer_table))) {
      } else {
        throw new Error([cljs.core.str("Multiple methods in multimethod '"), cljs.core.str(name), cljs.core.str("' match dispatch value: "), cljs.core.str(dispatch_val), cljs.core.str(" -\x3e "), cljs.core.str(k), cljs.core.str(" and "), cljs.core.str(cljs.core.first(be2)), cljs.core.str(", and neither is preferred")].join(""));
      }
      return be2;
    } else {
      return be;
    }
  }, null, cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(method_table) : cljs.core.deref.call(null, method_table));
  if (cljs.core.truth_(best_entry)) {
    if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cached_hierarchy) : cljs.core.deref.call(null, cached_hierarchy), cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy) : cljs.core.deref.call(null, hierarchy))) {
      cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(method_cache, cljs.core.assoc, dispatch_val, cljs.core.second(best_entry));
      return cljs.core.second(best_entry);
    } else {
      cljs.core.reset_cache(method_cache, method_table, cached_hierarchy, hierarchy);
      return cljs$core$find_and_cache_best_method(name, dispatch_val, hierarchy, method_table, prefer_table, method_cache, cached_hierarchy);
    }
  } else {
    return null;
  }
};
cljs.core.IMultiFn = function() {
};
cljs.core._reset = function cljs$core$_reset(mf) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_reset$arity$1 == null)) {
    return mf.cljs$core$IMultiFn$_reset$arity$1(mf);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._reset[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto__.call(null, mf);
    } else {
      var m__6812__auto____$1 = cljs.core._reset["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto____$1.call(null, mf);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-reset", mf);
      }
    }
  }
};
cljs.core._add_method = function cljs$core$_add_method(mf, dispatch_val, method) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_add_method$arity$3 == null)) {
    return mf.cljs$core$IMultiFn$_add_method$arity$3(mf, dispatch_val, method);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._add_method[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(mf, dispatch_val, method) : m__6812__auto__.call(null, mf, dispatch_val, method);
    } else {
      var m__6812__auto____$1 = cljs.core._add_method["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(mf, dispatch_val, method) : m__6812__auto____$1.call(null, mf, dispatch_val, method);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-add-method", mf);
      }
    }
  }
};
cljs.core._remove_method = function cljs$core$_remove_method(mf, dispatch_val) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_remove_method$arity$2 == null)) {
    return mf.cljs$core$IMultiFn$_remove_method$arity$2(mf, dispatch_val);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._remove_method[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(mf, dispatch_val) : m__6812__auto__.call(null, mf, dispatch_val);
    } else {
      var m__6812__auto____$1 = cljs.core._remove_method["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(mf, dispatch_val) : m__6812__auto____$1.call(null, mf, dispatch_val);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-remove-method", mf);
      }
    }
  }
};
cljs.core._prefer_method = function cljs$core$_prefer_method(mf, dispatch_val, dispatch_val_y) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_prefer_method$arity$3 == null)) {
    return mf.cljs$core$IMultiFn$_prefer_method$arity$3(mf, dispatch_val, dispatch_val_y);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._prefer_method[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$3(mf, dispatch_val, dispatch_val_y) : m__6812__auto__.call(null, mf, dispatch_val, dispatch_val_y);
    } else {
      var m__6812__auto____$1 = cljs.core._prefer_method["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(mf, dispatch_val, dispatch_val_y) : m__6812__auto____$1.call(null, mf, dispatch_val, dispatch_val_y);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-prefer-method", mf);
      }
    }
  }
};
cljs.core._get_method = function cljs$core$_get_method(mf, dispatch_val) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_get_method$arity$2 == null)) {
    return mf.cljs$core$IMultiFn$_get_method$arity$2(mf, dispatch_val);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._get_method[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$2(mf, dispatch_val) : m__6812__auto__.call(null, mf, dispatch_val);
    } else {
      var m__6812__auto____$1 = cljs.core._get_method["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(mf, dispatch_val) : m__6812__auto____$1.call(null, mf, dispatch_val);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-get-method", mf);
      }
    }
  }
};
cljs.core._methods = function cljs$core$_methods(mf) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_methods$arity$1 == null)) {
    return mf.cljs$core$IMultiFn$_methods$arity$1(mf);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._methods[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto__.call(null, mf);
    } else {
      var m__6812__auto____$1 = cljs.core._methods["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto____$1.call(null, mf);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-methods", mf);
      }
    }
  }
};
cljs.core._prefers = function cljs$core$_prefers(mf) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_prefers$arity$1 == null)) {
    return mf.cljs$core$IMultiFn$_prefers$arity$1(mf);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._prefers[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto__.call(null, mf);
    } else {
      var m__6812__auto____$1 = cljs.core._prefers["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto____$1.call(null, mf);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-prefers", mf);
      }
    }
  }
};
cljs.core._default_dispatch_val = function cljs$core$_default_dispatch_val(mf) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_default_dispatch_val$arity$1 == null)) {
    return mf.cljs$core$IMultiFn$_default_dispatch_val$arity$1(mf);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._default_dispatch_val[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto__.call(null, mf);
    } else {
      var m__6812__auto____$1 = cljs.core._default_dispatch_val["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto____$1.call(null, mf);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-default-dispatch-val", mf);
      }
    }
  }
};
cljs.core._dispatch_fn = function cljs$core$_dispatch_fn(mf) {
  if (!(mf == null) && !(mf.cljs$core$IMultiFn$_dispatch_fn$arity$1 == null)) {
    return mf.cljs$core$IMultiFn$_dispatch_fn$arity$1(mf);
  } else {
    var x__6811__auto__ = mf == null ? null : mf;
    var m__6812__auto__ = cljs.core._dispatch_fn[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto__.call(null, mf);
    } else {
      var m__6812__auto____$1 = cljs.core._dispatch_fn["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1 ? m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf) : m__6812__auto____$1.call(null, mf);
      } else {
        throw cljs.core.missing_protocol("IMultiFn.-dispatch-fn", mf);
      }
    }
  }
};
cljs.core.throw_no_method_error = function cljs$core$throw_no_method_error(name, dispatch_val) {
  throw new Error([cljs.core.str("No method in multimethod '"), cljs.core.str(name), cljs.core.str("' for dispatch value: "), cljs.core.str(dispatch_val)].join(""));
};
cljs.core.MultiFn = function(name, dispatch_fn, default_dispatch_val, hierarchy, method_table, prefer_table, method_cache, cached_hierarchy) {
  this.name = name;
  this.dispatch_fn = dispatch_fn;
  this.default_dispatch_val = default_dispatch_val;
  this.hierarchy = hierarchy;
  this.method_table = method_table;
  this.prefer_table = prefer_table;
  this.method_cache = method_cache;
  this.cached_hierarchy = cached_hierarchy;
  this.cljs$lang$protocol_mask$partition0$ = 4194305;
  this.cljs$lang$protocol_mask$partition1$ = 4352;
};
cljs.core.MultiFn.prototype.call = function() {
  var G__11226 = null;
  var G__11226__1 = function(self__) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0() : self__.dispatch_fn.call(null);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$0 ? target_fn.cljs$core$IFn$_invoke$arity$0() : target_fn.call(null);
  };
  var G__11226__2 = function(self__, a) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1(a) : self__.dispatch_fn.call(null, a);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$1 ? target_fn.cljs$core$IFn$_invoke$arity$1(a) : target_fn.call(null, a);
  };
  var G__11226__3 = function(self__, a, b) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2(a, b) : self__.dispatch_fn.call(null, a, b);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$2 ? target_fn.cljs$core$IFn$_invoke$arity$2(a, b) : target_fn.call(null, a, b);
  };
  var G__11226__4 = function(self__, a, b, c) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3(a, b, c) : self__.dispatch_fn.call(null, a, b, c);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$3 ? target_fn.cljs$core$IFn$_invoke$arity$3(a, b, c) : target_fn.call(null, a, b, c);
  };
  var G__11226__5 = function(self__, a, b, c, d) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : self__.dispatch_fn.call(null, a, b, c, d);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$4 ? target_fn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : target_fn.call(null, a, b, c, d);
  };
  var G__11226__6 = function(self__, a, b, c, d, e) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : self__.dispatch_fn.call(null, a, b, c, d, e);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$5 ? target_fn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : target_fn.call(null, a, b, c, d, e);
  };
  var G__11226__7 = function(self__, a, b, c, d, e, f) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : self__.dispatch_fn.call(null, a, b, c, d, e, f);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$6 ? target_fn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : target_fn.call(null, a, b, c, d, e, f);
  };
  var G__11226__8 = function(self__, a, b, c, d, e, f, g) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$7 ? target_fn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : target_fn.call(null, a, b, c, d, e, f, g);
  };
  var G__11226__9 = function(self__, a, b, c, d, e, f, g, h) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$8 ? target_fn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : target_fn.call(null, a, b, c, d, e, f, g, h);
  };
  var G__11226__10 = function(self__, a, b, c, d, e, f, g, h, i) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$9 ? target_fn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : target_fn.call(null, a, b, c, d, e, f, g, h, i);
  };
  var G__11226__11 = function(self__, a, b, c, d, e, f, g, h, i, j) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$10 ? target_fn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j);
  };
  var G__11226__12 = function(self__, a, b, c, d, e, f, g, h, i, j, k) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$11 ? target_fn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k);
  };
  var G__11226__13 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$12 ? target_fn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
  };
  var G__11226__14 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$13 ? target_fn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
  };
  var G__11226__15 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$14 ? target_fn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
  };
  var G__11226__16 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$15 ? target_fn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
  };
  var G__11226__17 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$16 ? target_fn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
  };
  var G__11226__18 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$17 ? target_fn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
  };
  var G__11226__19 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$18 ? target_fn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
  };
  var G__11226__20 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$19 ? target_fn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
  };
  var G__11226__21 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return target_fn.cljs$core$IFn$_invoke$arity$20 ? target_fn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
  };
  var G__11226__22 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    var self__ = this;
    var self____$1 = this;
    var mf = self____$1;
    var dispatch_val = cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(self__.dispatch_fn, a, b, c, d, cljs.core.array_seq([e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest], 0));
    var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
    if (cljs.core.truth_(target_fn)) {
    } else {
      cljs.core.throw_no_method_error(self__.name, dispatch_val);
    }
    return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(target_fn, a, b, c, d, cljs.core.array_seq([e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest], 0));
  };
  G__11226 = function(self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
    switch(arguments.length) {
      case 1:
        return G__11226__1.call(this, self__);
      case 2:
        return G__11226__2.call(this, self__, a);
      case 3:
        return G__11226__3.call(this, self__, a, b);
      case 4:
        return G__11226__4.call(this, self__, a, b, c);
      case 5:
        return G__11226__5.call(this, self__, a, b, c, d);
      case 6:
        return G__11226__6.call(this, self__, a, b, c, d, e);
      case 7:
        return G__11226__7.call(this, self__, a, b, c, d, e, f);
      case 8:
        return G__11226__8.call(this, self__, a, b, c, d, e, f, g);
      case 9:
        return G__11226__9.call(this, self__, a, b, c, d, e, f, g, h);
      case 10:
        return G__11226__10.call(this, self__, a, b, c, d, e, f, g, h, i);
      case 11:
        return G__11226__11.call(this, self__, a, b, c, d, e, f, g, h, i, j);
      case 12:
        return G__11226__12.call(this, self__, a, b, c, d, e, f, g, h, i, j, k);
      case 13:
        return G__11226__13.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l);
      case 14:
        return G__11226__14.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m);
      case 15:
        return G__11226__15.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
      case 16:
        return G__11226__16.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
      case 17:
        return G__11226__17.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
      case 18:
        return G__11226__18.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
      case 19:
        return G__11226__19.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
      case 20:
        return G__11226__20.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
      case 21:
        return G__11226__21.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
      case 22:
        return G__11226__22.call(this, self__, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__11226.cljs$core$IFn$_invoke$arity$1 = G__11226__1;
  G__11226.cljs$core$IFn$_invoke$arity$2 = G__11226__2;
  G__11226.cljs$core$IFn$_invoke$arity$3 = G__11226__3;
  G__11226.cljs$core$IFn$_invoke$arity$4 = G__11226__4;
  G__11226.cljs$core$IFn$_invoke$arity$5 = G__11226__5;
  G__11226.cljs$core$IFn$_invoke$arity$6 = G__11226__6;
  G__11226.cljs$core$IFn$_invoke$arity$7 = G__11226__7;
  G__11226.cljs$core$IFn$_invoke$arity$8 = G__11226__8;
  G__11226.cljs$core$IFn$_invoke$arity$9 = G__11226__9;
  G__11226.cljs$core$IFn$_invoke$arity$10 = G__11226__10;
  G__11226.cljs$core$IFn$_invoke$arity$11 = G__11226__11;
  G__11226.cljs$core$IFn$_invoke$arity$12 = G__11226__12;
  G__11226.cljs$core$IFn$_invoke$arity$13 = G__11226__13;
  G__11226.cljs$core$IFn$_invoke$arity$14 = G__11226__14;
  G__11226.cljs$core$IFn$_invoke$arity$15 = G__11226__15;
  G__11226.cljs$core$IFn$_invoke$arity$16 = G__11226__16;
  G__11226.cljs$core$IFn$_invoke$arity$17 = G__11226__17;
  G__11226.cljs$core$IFn$_invoke$arity$18 = G__11226__18;
  G__11226.cljs$core$IFn$_invoke$arity$19 = G__11226__19;
  G__11226.cljs$core$IFn$_invoke$arity$20 = G__11226__20;
  G__11226.cljs$core$IFn$_invoke$arity$21 = G__11226__21;
  G__11226.cljs$core$IFn$_invoke$arity$22 = G__11226__22;
  return G__11226;
}();
cljs.core.MultiFn.prototype.apply = function(self__, args11225) {
  var self__ = this;
  var self____$1 = this;
  return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone(args11225)));
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$0 = function() {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0() : self__.dispatch_fn.call(null);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$0 ? target_fn.cljs$core$IFn$_invoke$arity$0() : target_fn.call(null);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$1 = function(a) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1(a) : self__.dispatch_fn.call(null, a);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$1 ? target_fn.cljs$core$IFn$_invoke$arity$1(a) : target_fn.call(null, a);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$2 = function(a, b) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2(a, b) : self__.dispatch_fn.call(null, a, b);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$2 ? target_fn.cljs$core$IFn$_invoke$arity$2(a, b) : target_fn.call(null, a, b);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$3 = function(a, b, c) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3(a, b, c) : self__.dispatch_fn.call(null, a, b, c);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$3 ? target_fn.cljs$core$IFn$_invoke$arity$3(a, b, c) : target_fn.call(null, a, b, c);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$4 = function(a, b, c, d) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : self__.dispatch_fn.call(null, a, b, c, d);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$4 ? target_fn.cljs$core$IFn$_invoke$arity$4(a, b, c, d) : target_fn.call(null, a, b, c, d);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$5 = function(a, b, c, d, e) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : self__.dispatch_fn.call(null, a, b, c, d, e);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$5 ? target_fn.cljs$core$IFn$_invoke$arity$5(a, b, c, d, e) : target_fn.call(null, a, b, c, d, e);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$6 = function(a, b, c, d, e, f) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : self__.dispatch_fn.call(null, a, b, c, d, e, f);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$6 ? target_fn.cljs$core$IFn$_invoke$arity$6(a, b, c, d, e, f) : target_fn.call(null, a, b, c, d, e, f);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$7 = function(a, b, c, d, e, f, g) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$7 ? target_fn.cljs$core$IFn$_invoke$arity$7(a, b, c, d, e, f, g) : target_fn.call(null, a, b, c, d, e, f, g);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$8 = function(a, b, c, d, e, f, g, h) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$8 ? target_fn.cljs$core$IFn$_invoke$arity$8(a, b, c, d, e, f, g, h) : target_fn.call(null, a, b, c, d, e, f, g, h);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$9 = function(a, b, c, d, e, f, g, h, i) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$9 ? target_fn.cljs$core$IFn$_invoke$arity$9(a, b, c, d, e, f, g, h, i) : target_fn.call(null, a, b, c, d, e, f, g, h, i);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$10 = function(a, b, c, d, e, f, g, h, i, j) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$10 ? target_fn.cljs$core$IFn$_invoke$arity$10(a, b, c, d, e, f, g, h, i, j) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$11 = function(a, b, c, d, e, f, g, h, i, j, k) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$11 ? target_fn.cljs$core$IFn$_invoke$arity$11(a, b, c, d, e, f, g, h, i, j, k) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$12 = function(a, b, c, d, e, f, g, h, i, j, k, l) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$12 ? target_fn.cljs$core$IFn$_invoke$arity$12(a, b, c, d, e, f, g, h, i, j, k, l) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$13 = function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$13 ? target_fn.cljs$core$IFn$_invoke$arity$13(a, b, c, d, e, f, g, h, i, j, k, l, m) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$14 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$14 ? target_fn.cljs$core$IFn$_invoke$arity$14(a, b, c, d, e, f, g, h, i, j, k, l, m, n) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$15 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$15 ? target_fn.cljs$core$IFn$_invoke$arity$15(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$16 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$16 ? target_fn.cljs$core$IFn$_invoke$arity$16(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$17 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$17 ? target_fn.cljs$core$IFn$_invoke$arity$17(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$18 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$18 ? target_fn.cljs$core$IFn$_invoke$arity$18(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$19 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$19 ? target_fn.cljs$core$IFn$_invoke$arity$19(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$20 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
  var self__ = this;
  var mf = this;
  var dispatch_val = self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20 ? self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : self__.dispatch_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return target_fn.cljs$core$IFn$_invoke$arity$20 ? target_fn.cljs$core$IFn$_invoke$arity$20(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) : target_fn.call(null, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t);
};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$21 = function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest) {
  var self__ = this;
  var mf = this;
  var dispatch_val = cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(self__.dispatch_fn, a, b, c, d, cljs.core.array_seq([e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest], 0));
  var target_fn = mf.cljs$core$IMultiFn$_get_method$arity$2(null, dispatch_val);
  if (cljs.core.truth_(target_fn)) {
  } else {
    cljs.core.throw_no_method_error(self__.name, dispatch_val);
  }
  return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(target_fn, a, b, c, d, cljs.core.array_seq([e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, rest], 0));
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefer_method$arity$3 = function(mf, dispatch_val_x, dispatch_val_y) {
  var self__ = this;
  var mf__$1 = this;
  if (cljs.core.truth_(cljs.core.prefers_STAR_(dispatch_val_x, dispatch_val_y, self__.prefer_table))) {
    throw new Error([cljs.core.str("Preference conflict in multimethod '"), cljs.core.str(self__.name), cljs.core.str("': "), cljs.core.str(dispatch_val_y), cljs.core.str(" is already preferred to "), cljs.core.str(dispatch_val_x)].join(""));
  } else {
  }
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.prefer_table, function(mf__$1) {
    return function(old) {
      return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(old, dispatch_val_x, cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(old, dispatch_val_x, cljs.core.PersistentHashSet.EMPTY), dispatch_val_y));
    };
  }(mf__$1));
  return cljs.core.reset_cache(self__.method_cache, self__.method_table, self__.cached_hierarchy, self__.hierarchy);
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_default_dispatch_val$arity$1 = function(mf) {
  var self__ = this;
  var mf__$1 = this;
  return self__.default_dispatch_val;
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_remove_method$arity$2 = function(mf, dispatch_val) {
  var self__ = this;
  var mf__$1 = this;
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__.method_table, cljs.core.dissoc, dispatch_val);
  cljs.core.reset_cache(self__.method_cache, self__.method_table, self__.cached_hierarchy, self__.hierarchy);
  return mf__$1;
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_methods$arity$1 = function(mf) {
  var self__ = this;
  var mf__$1 = this;
  return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_table) : cljs.core.deref.call(null, self__.method_table);
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefers$arity$1 = function(mf) {
  var self__ = this;
  var mf__$1 = this;
  return cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.prefer_table) : cljs.core.deref.call(null, self__.prefer_table);
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_dispatch_fn$arity$1 = function(mf) {
  var self__ = this;
  var mf__$1 = this;
  return self__.dispatch_fn;
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_add_method$arity$3 = function(mf, dispatch_val, method) {
  var self__ = this;
  var mf__$1 = this;
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(self__.method_table, cljs.core.assoc, dispatch_val, method);
  cljs.core.reset_cache(self__.method_cache, self__.method_table, self__.cached_hierarchy, self__.hierarchy);
  return mf__$1;
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_reset$arity$1 = function(mf) {
  var self__ = this;
  var mf__$1 = this;
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.method_table, function(mf__$1) {
    return function(mf__$2) {
      return cljs.core.PersistentArrayMap.EMPTY;
    };
  }(mf__$1));
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.method_cache, function(mf__$1) {
    return function(mf__$2) {
      return cljs.core.PersistentArrayMap.EMPTY;
    };
  }(mf__$1));
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.prefer_table, function(mf__$1) {
    return function(mf__$2) {
      return cljs.core.PersistentArrayMap.EMPTY;
    };
  }(mf__$1));
  cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.cached_hierarchy, function(mf__$1) {
    return function(mf__$2) {
      return null;
    };
  }(mf__$1));
  return mf__$1;
};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_get_method$arity$2 = function(mf, dispatch_val) {
  var self__ = this;
  var mf__$1 = this;
  if (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.cached_hierarchy) : cljs.core.deref.call(null, self__.cached_hierarchy), cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.hierarchy) : cljs.core.deref.call(null, self__.hierarchy))) {
  } else {
    cljs.core.reset_cache(self__.method_cache, self__.method_table, self__.cached_hierarchy, self__.hierarchy);
  }
  var temp__4655__auto__ = (cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_cache) : cljs.core.deref.call(null, self__.method_cache)).call(null, dispatch_val);
  if (cljs.core.truth_(temp__4655__auto__)) {
    var target_fn = temp__4655__auto__;
    return target_fn;
  } else {
    var temp__4655__auto____$1 = cljs.core.find_and_cache_best_method(self__.name, dispatch_val, self__.hierarchy, self__.method_table, self__.prefer_table, self__.method_cache, self__.cached_hierarchy);
    if (cljs.core.truth_(temp__4655__auto____$1)) {
      var target_fn = temp__4655__auto____$1;
      return target_fn;
    } else {
      return (cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_table) : cljs.core.deref.call(null, self__.method_table)).call(null, self__.default_dispatch_val);
    }
  }
};
cljs.core.MultiFn.prototype.cljs$core$INamed$_name$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core._name(self__.name);
};
cljs.core.MultiFn.prototype.cljs$core$INamed$_namespace$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core._namespace(self__.name);
};
cljs.core.MultiFn.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return goog.getUid(this$__$1);
};
cljs.core.MultiFn.getBasis = function() {
  return new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "name", "name", -810760592, null), new cljs.core.Symbol(null, "dispatch-fn", "dispatch-fn", -1401088155, null), new cljs.core.Symbol(null, "default-dispatch-val", "default-dispatch-val", -1231201266, null), new cljs.core.Symbol(null, "hierarchy", "hierarchy", 587061186, null), new cljs.core.Symbol(null, "method-table", "method-table", -1878263165, null), new cljs.core.Symbol(null, 
  "prefer-table", "prefer-table", 462168584, null), new cljs.core.Symbol(null, "method-cache", "method-cache", 1230193905, null), new cljs.core.Symbol(null, "cached-hierarchy", "cached-hierarchy", -1085460203, null)], null);
};
cljs.core.MultiFn.cljs$lang$type = true;
cljs.core.MultiFn.cljs$lang$ctorStr = "cljs.core/MultiFn";
cljs.core.MultiFn.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/MultiFn");
};
cljs.core.__GT_MultiFn = function cljs$core$__GT_MultiFn(name, dispatch_fn, default_dispatch_val, hierarchy, method_table, prefer_table, method_cache, cached_hierarchy) {
  return new cljs.core.MultiFn(name, dispatch_fn, default_dispatch_val, hierarchy, method_table, prefer_table, method_cache, cached_hierarchy);
};
cljs.core.remove_all_methods = function cljs$core$remove_all_methods(multifn) {
  return cljs.core._reset(multifn);
};
cljs.core.remove_method = function cljs$core$remove_method(multifn, dispatch_val) {
  return cljs.core._remove_method(multifn, dispatch_val);
};
cljs.core.prefer_method = function cljs$core$prefer_method(multifn, dispatch_val_x, dispatch_val_y) {
  return cljs.core._prefer_method(multifn, dispatch_val_x, dispatch_val_y);
};
cljs.core.methods$ = function cljs$core$methods(multifn) {
  return cljs.core._methods(multifn);
};
cljs.core.get_method = function cljs$core$get_method(multifn, dispatch_val) {
  return cljs.core._get_method(multifn, dispatch_val);
};
cljs.core.prefers = function cljs$core$prefers(multifn) {
  return cljs.core._prefers(multifn);
};
cljs.core.default_dispatch_val = function cljs$core$default_dispatch_val(multifn) {
  return cljs.core._default_dispatch_val(multifn);
};
cljs.core.dispatch_fn = function cljs$core$dispatch_fn(multifn) {
  return cljs.core._dispatch_fn(multifn);
};
cljs.core.UUID = function(uuid, __hash) {
  this.uuid = uuid;
  this.__hash = __hash;
  this.cljs$lang$protocol_mask$partition0$ = 2153775104;
  this.cljs$lang$protocol_mask$partition1$ = 2048;
};
cljs.core.UUID.prototype.toString = function() {
  var self__ = this;
  var _ = this;
  return self__.uuid;
};
cljs.core.UUID.prototype.equiv = function(other) {
  var self__ = this;
  var this$ = this;
  return this$.cljs$core$IEquiv$_equiv$arity$2(null, other);
};
cljs.core.UUID.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(_, other) {
  var self__ = this;
  var ___$1 = this;
  return other instanceof cljs.core.UUID && self__.uuid === other.uuid;
};
cljs.core.UUID.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(_, writer, ___$1) {
  var self__ = this;
  var ___$2 = this;
  return cljs.core._write(writer, [cljs.core.str('#uuid "'), cljs.core.str(self__.uuid), cljs.core.str('"')].join(""));
};
cljs.core.UUID.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  if (self__.__hash == null) {
    self__.__hash = cljs.core.hash(self__.uuid);
  } else {
  }
  return self__.__hash;
};
cljs.core.UUID.prototype.cljs$core$IComparable$_compare$arity$2 = function(_, other) {
  var self__ = this;
  var ___$1 = this;
  var G__11227 = self__.uuid;
  var G__11228 = other.uuid;
  return goog.array.defaultCompare(G__11227, G__11228);
};
cljs.core.UUID.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "uuid", "uuid", -504564192, null), cljs.core.with_meta(new cljs.core.Symbol(null, "__hash", "__hash", -1328796629, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.core.UUID.cljs$lang$type = true;
cljs.core.UUID.cljs$lang$ctorStr = "cljs.core/UUID";
cljs.core.UUID.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/UUID");
};
cljs.core.__GT_UUID = function cljs$core$__GT_UUID(uuid, __hash) {
  return new cljs.core.UUID(uuid, __hash);
};
cljs.core.uuid = function cljs$core$uuid(s) {
  return new cljs.core.UUID(s, null);
};
cljs.core.random_uuid = function cljs$core$random_uuid() {
  var hex = function cljs$core$random_uuid_$_hex() {
    return cljs.core.rand_int(16).toString(16);
  };
  var rhex = (8 | 3 & cljs.core.rand_int(16)).toString(16);
  return cljs.core.uuid([cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str("-"), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str("-"), cljs.core.str("4"), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str("-"), cljs.core.str(rhex), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), 
  cljs.core.str("-"), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex()), cljs.core.str(hex())].join(""));
};
cljs.core.pr_writer_ex_info = function cljs$core$pr_writer_ex_info(obj, writer, opts) {
  cljs.core._write(writer, "#error {:message ");
  cljs.core.pr_writer(obj.message, writer, opts);
  if (cljs.core.truth_(obj.data)) {
    cljs.core._write(writer, ", :data ");
    cljs.core.pr_writer(obj.data, writer, opts);
  } else {
  }
  if (cljs.core.truth_(obj.cause)) {
    cljs.core._write(writer, ", :cause ");
    cljs.core.pr_writer(obj.cause, writer, opts);
  } else {
  }
  return cljs.core._write(writer, "}");
};
cljs.core.ExceptionInfo = function cljs$core$ExceptionInfo(message, data, cause) {
  var e = new Error(message);
  var this$ = this;
  this$.message = message;
  this$.data = data;
  this$.cause = cause;
  this$.name = e.name;
  this$.description = e.description;
  this$.number = e.number;
  this$.fileName = e.fileName;
  this$.lineNumber = e.lineNumber;
  this$.columnNumber = e.columnNumber;
  this$.stack = e.stack;
  return this$;
};
cljs.core.ExceptionInfo.prototype.__proto__ = Error.prototype;
cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$ = true;
cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(obj, writer, opts) {
  var obj__$1 = this;
  return cljs.core.pr_writer_ex_info(obj__$1, writer, opts);
};
cljs.core.ExceptionInfo.prototype.toString = function() {
  var this$ = this;
  return cljs.core.pr_str_STAR_(this$);
};
cljs.core.ex_info = function cljs$core$ex_info(var_args) {
  var args11229 = [];
  var len__7214__auto___11232 = arguments.length;
  var i__7215__auto___11233 = 0;
  while (true) {
    if (i__7215__auto___11233 < len__7214__auto___11232) {
      args11229.push(arguments[i__7215__auto___11233]);
      var G__11234 = i__7215__auto___11233 + 1;
      i__7215__auto___11233 = G__11234;
      continue;
    } else {
    }
    break;
  }
  var G__11231 = args11229.length;
  switch(G__11231) {
    case 2:
      return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11229.length)].join(""));;
  }
};
cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2 = function(msg, data) {
  return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(msg, data, null);
};
cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3 = function(msg, data, cause) {
  return new cljs.core.ExceptionInfo(msg, data, cause);
};
cljs.core.ex_info.cljs$lang$maxFixedArity = 3;
cljs.core.ex_data = function cljs$core$ex_data(ex) {
  if (ex instanceof cljs.core.ExceptionInfo) {
    return ex.data;
  } else {
    return null;
  }
};
cljs.core.ex_message = function cljs$core$ex_message(ex) {
  if (ex instanceof Error) {
    return ex.message;
  } else {
    return null;
  }
};
cljs.core.ex_cause = function cljs$core$ex_cause(ex) {
  if (ex instanceof cljs.core.ExceptionInfo) {
    return ex.cause;
  } else {
    return null;
  }
};
cljs.core.comparator = function cljs$core$comparator(pred) {
  return function(x, y) {
    if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$2 ? pred.cljs$core$IFn$_invoke$arity$2(x, y) : pred.call(null, x, y))) {
      return -1;
    } else {
      if (cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$2 ? pred.cljs$core$IFn$_invoke$arity$2(y, x) : pred.call(null, y, x))) {
        return 1;
      } else {
        return 0;
      }
    }
  };
};
cljs.core.special_symbol_QMARK_ = function cljs$core$special_symbol_QMARK_(x) {
  return cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 19, [new cljs.core.Symbol(null, "\x26", "\x26", -2144855648, null), null, new cljs.core.Symbol(null, "defrecord*", "defrecord*", -1936366207, null), null, new cljs.core.Symbol(null, "try", "try", -1273693247, null), null, new cljs.core.Symbol(null, "loop*", "loop*", 615029416, null), null, new cljs.core.Symbol(null, "do", "do", 1686842252, null), null, new cljs.core.Symbol(null, "letfn*", 
  "letfn*", -110097810, null), null, new cljs.core.Symbol(null, "if", "if", 1181717262, null), null, new cljs.core.Symbol(null, "new", "new", -444906321, null), null, new cljs.core.Symbol(null, "ns", "ns", 2082130287, null), null, new cljs.core.Symbol(null, "deftype*", "deftype*", 962659890, null), null, new cljs.core.Symbol(null, "let*", "let*", 1920721458, null), null, new cljs.core.Symbol(null, "js*", "js*", -1134233646, null), null, new cljs.core.Symbol(null, "fn*", "fn*", -752876845, null), 
  null, new cljs.core.Symbol(null, "recur", "recur", 1202958259, null), null, new cljs.core.Symbol(null, "set!", "set!", 250714521, null), null, new cljs.core.Symbol(null, ".", ".", 1975675962, null), null, new cljs.core.Symbol(null, "quote", "quote", 1377916282, null), null, new cljs.core.Symbol(null, "throw", "throw", 595905694, null), null, new cljs.core.Symbol(null, "def", "def", 597100991, null), null], null), null), x);
};
cljs.core.test = function cljs$core$test(v) {
  var f = v.cljs$lang$test;
  if (cljs.core.truth_(f)) {
    f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null);
    return new cljs.core.Keyword(null, "ok", "ok", 967785236);
  } else {
    return new cljs.core.Keyword(null, "no-test", "no-test", -1679482642);
  }
};
cljs.core.TaggedLiteral = function(tag, form) {
  this.tag = tag;
  this.form = form;
  this.cljs$lang$protocol_mask$partition0$ = 2153775360;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.TaggedLiteral.prototype.toString = function() {
  var self__ = this;
  var coll = this;
  return cljs.core.pr_str_STAR_(coll);
};
cljs.core.TaggedLiteral.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(this$, other) {
  var self__ = this;
  var this$__$1 = this;
  return other instanceof cljs.core.TaggedLiteral && cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.tag, other.tag) && cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.form, other.form);
};
cljs.core.TaggedLiteral.prototype.cljs$core$IHash$_hash$arity$1 = function(this$) {
  var self__ = this;
  var this$__$1 = this;
  return 31 * cljs.core.hash(self__.tag) + cljs.core.hash(self__.form);
};
cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$2 = function(this$, v) {
  var self__ = this;
  var this$__$1 = this;
  return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this$__$1, v, null);
};
cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$3 = function(this$, v, not_found) {
  var self__ = this;
  var this$__$1 = this;
  var G__11236 = v instanceof cljs.core.Keyword ? v.fqn : null;
  switch(G__11236) {
    case "tag":
      return self__.tag;
      break;
    case "form":
      return self__.form;
      break;
    default:
      return not_found;
  }
};
cljs.core.TaggedLiteral.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = function(o, writer, opts) {
  var self__ = this;
  var o__$1 = this;
  cljs.core._write(writer, [cljs.core.str("#"), cljs.core.str(self__.tag), cljs.core.str(" ")].join(""));
  return cljs.core.pr_writer(self__.form, writer, opts);
};
cljs.core.TaggedLiteral.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "tag", "tag", 350170304, null), new cljs.core.Symbol(null, "form", "form", 16469056, null)], null);
};
cljs.core.TaggedLiteral.cljs$lang$type = true;
cljs.core.TaggedLiteral.cljs$lang$ctorStr = "cljs.core/TaggedLiteral";
cljs.core.TaggedLiteral.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/TaggedLiteral");
};
cljs.core.__GT_TaggedLiteral = function cljs$core$__GT_TaggedLiteral(tag, form) {
  return new cljs.core.TaggedLiteral(tag, form);
};
cljs.core.tagged_literal_QMARK_ = function cljs$core$tagged_literal_QMARK_(value) {
  return value instanceof cljs.core.TaggedLiteral;
};
cljs.core.tagged_literal = function cljs$core$tagged_literal(tag, form) {
  if (tag instanceof cljs.core.Symbol) {
  } else {
    throw new Error([cljs.core.str("Assert failed: "), cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null, "symbol?", "symbol?", 1820680511, null), new cljs.core.Symbol(null, "tag", "tag", 350170304, null))], 0)))].join(""));
  }
  return new cljs.core.TaggedLiteral(tag, form);
};
cljs.core.js_reserved_arr = ["abstract", "boolean", "break", "byte", "case", "catch", "char", "class", "const", "continue", "debugger", "default", "delete", "do", "double", "else", "enum", "export", "extends", "final", "finally", "float", "for", "function", "goto", "if", "implements", "import", "in", "instanceof", "int", "interface", "let", "long", "native", "new", "package", "private", "protected", "public", "return", "short", "static", "super", "switch", "synchronized", "this", "throw", "throws", 
"transient", "try", "typeof", "var", "void", "volatile", "while", "with", "yield", "methods", "null"];
cljs.core.js_reserved = null;
cljs.core.js_reserved_QMARK_ = function cljs$core$js_reserved_QMARK_(x) {
  if (cljs.core.js_reserved == null) {
    cljs.core.js_reserved = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__11238_SHARP_, p2__11239_SHARP_) {
      goog.object.set(p1__11238_SHARP_, p2__11239_SHARP_, true);
      return p1__11238_SHARP_;
    }, {}, cljs.core.js_reserved_arr);
  } else {
  }
  return cljs.core.js_reserved.hasOwnProperty(x);
};
cljs.core.demunge_pattern = function cljs$core$demunge_pattern() {
  if (cljs.core.truth_(cljs.core.DEMUNGE_PATTERN)) {
  } else {
    cljs.core.DEMUNGE_PATTERN = function() {
      var ks = cljs.core.sort.cljs$core$IFn$_invoke$arity$2(function(a, b) {
        return b.length - a.length;
      }, cljs.core.js_keys(cljs.core.DEMUNGE_MAP));
      var ks__$1 = ks;
      var ret = "";
      while (true) {
        if (cljs.core.seq(ks__$1)) {
          var G__11242 = cljs.core.next(ks__$1);
          var G__11243 = [cljs.core.str(function() {
            var G__11241 = ret;
            if (!(ret === "")) {
              return [cljs.core.str(G__11241), cljs.core.str("|")].join("");
            } else {
              return G__11241;
            }
          }()), cljs.core.str(cljs.core.first(ks__$1))].join("");
          ks__$1 = G__11242;
          ret = G__11243;
          continue;
        } else {
          return [cljs.core.str(ret), cljs.core.str("|\\$")].join("");
        }
        break;
      }
    }();
  }
  return cljs.core.DEMUNGE_PATTERN;
};
cljs.core.munge_str = function cljs$core$munge_str(name) {
  var sb = new goog.string.StringBuffer;
  var i_11244 = 0;
  while (true) {
    if (i_11244 < name.length) {
      var c_11245 = name.charAt(i_11244);
      var sub_11246 = goog.object.get(cljs.core.CHAR_MAP, c_11245);
      if (!(sub_11246 == null)) {
        sb.append(sub_11246);
      } else {
        sb.append(c_11245);
      }
      var G__11247 = i_11244 + 1;
      i_11244 = G__11247;
      continue;
    } else {
    }
    break;
  }
  return sb.toString();
};
cljs.core.munge = function cljs$core$munge(name) {
  var name_SINGLEQUOTE_ = cljs.core.munge_str([cljs.core.str(name)].join(""));
  var name_SINGLEQUOTE___$1 = name_SINGLEQUOTE_ === ".." ? "_DOT__DOT_" : cljs.core.truth_(cljs.core.js_reserved_QMARK_(name_SINGLEQUOTE_)) ? [cljs.core.str(name_SINGLEQUOTE_), cljs.core.str("$")].join("") : name_SINGLEQUOTE_;
  if (name instanceof cljs.core.Symbol) {
    return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(name_SINGLEQUOTE___$1);
  } else {
    return [cljs.core.str(name_SINGLEQUOTE___$1)].join("");
  }
};
cljs.core.demunge_str = function cljs$core$demunge_str(munged_name) {
  var r = new RegExp(cljs.core.demunge_pattern(), "g");
  var munged_name__$1 = cljs.core.truth_(goog.string.endsWith(munged_name, "$")) ? munged_name.substring(0, munged_name.length - 1) : munged_name;
  var ret = "";
  var last_match_end = 0;
  while (true) {
    var temp__4655__auto__ = r.exec(munged_name__$1);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var match = temp__4655__auto__;
      var vec__11249 = match;
      var x = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11249, 0, null);
      var G__11250 = [cljs.core.str(ret), cljs.core.str(munged_name__$1.substring(last_match_end, r.lastIndex - x.length)), cljs.core.str(x === "$" ? "/" : goog.object.get(cljs.core.DEMUNGE_MAP, x))].join("");
      var G__11251 = r.lastIndex;
      ret = G__11250;
      last_match_end = G__11251;
      continue;
    } else {
      return [cljs.core.str(ret), cljs.core.str(munged_name__$1.substring(last_match_end, munged_name__$1.length))].join("");
    }
    break;
  }
};
cljs.core.demunge = function cljs$core$demunge(name) {
  return (name instanceof cljs.core.Symbol ? cljs.core.symbol : cljs.core.str).call(null, function() {
    var name_SINGLEQUOTE_ = [cljs.core.str(name)].join("");
    if (name_SINGLEQUOTE_ === "_DOT__DOT_") {
      return "..";
    } else {
      return cljs.core.demunge_str([cljs.core.str(name)].join(""));
    }
  }());
};
cljs.core.ns_lookup = function cljs$core$ns_lookup(ns_obj, k) {
  return function() {
    return goog.object.get(ns_obj, k);
  };
};
cljs.core.Namespace = function(obj, name) {
  this.obj = obj;
  this.name = name;
  this.cljs$lang$protocol_mask$partition0$ = 6291456;
  this.cljs$lang$protocol_mask$partition1$ = 0;
};
cljs.core.Namespace.prototype.findInternedVar = function(sym) {
  var self__ = this;
  var this$ = this;
  var k = cljs.core.munge([cljs.core.str(sym)].join(""));
  if (goog.object.containsKey(self__.obj, k)) {
    var var_sym = cljs.core.symbol.cljs$core$IFn$_invoke$arity$2([cljs.core.str(self__.name)].join(""), [cljs.core.str(sym)].join(""));
    var var_meta = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "ns", "ns", 441598760), this$], null);
    return new cljs.core.Var(cljs.core.ns_lookup(self__.obj, k), var_sym, var_meta);
  } else {
    return null;
  }
};
cljs.core.Namespace.prototype.getName = function() {
  var self__ = this;
  var _ = this;
  return self__.name;
};
cljs.core.Namespace.prototype.toString = function() {
  var self__ = this;
  var _ = this;
  return [cljs.core.str(self__.name)].join("");
};
cljs.core.Namespace.prototype.cljs$core$IEquiv$_equiv$arity$2 = function(_, other) {
  var self__ = this;
  var ___$1 = this;
  if (other instanceof cljs.core.Namespace) {
    return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.name, other.name);
  } else {
    return false;
  }
};
cljs.core.Namespace.prototype.cljs$core$IHash$_hash$arity$1 = function(_) {
  var self__ = this;
  var ___$1 = this;
  return cljs.core.hash(self__.name);
};
cljs.core.Namespace.getBasis = function() {
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "obj", "obj", -1672671807, null), new cljs.core.Symbol(null, "name", "name", -810760592, null)], null);
};
cljs.core.Namespace.cljs$lang$type = true;
cljs.core.Namespace.cljs$lang$ctorStr = "cljs.core/Namespace";
cljs.core.Namespace.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write(writer__6755__auto__, "cljs.core/Namespace");
};
cljs.core.__GT_Namespace = function cljs$core$__GT_Namespace(obj, name) {
  return new cljs.core.Namespace(obj, name);
};
cljs.core.NS_CACHE = null;
cljs.core.find_ns_obj_STAR_ = function cljs$core$find_ns_obj_STAR_(ctxt, xs) {
  while (true) {
    if (ctxt == null) {
      return null;
    } else {
      if (xs == null) {
        return ctxt;
      } else {
        var G__11256 = function() {
          var G__11254 = ctxt;
          var G__11255 = cljs.core.first(xs);
          return goog.object.get(G__11254, G__11255);
        }();
        var G__11257 = cljs.core.next(xs);
        ctxt = G__11256;
        xs = G__11257;
        continue;
      }
    }
    break;
  }
};
cljs.core.find_ns_obj = function cljs$core$find_ns_obj(ns) {
  var munged_ns = cljs.core.munge([cljs.core.str(ns)].join(""));
  var segs = munged_ns.split(".");
  var G__11261 = cljs.core._STAR_target_STAR_;
  switch(G__11261) {
    case "nodejs":
      if (COMPILED) {
        return cljs.core.find_ns_obj_STAR_(function() {
          try {
            var G__11263 = cljs.core.first(segs);
            return eval(G__11263);
          } catch (e11262) {
            if (e11262 instanceof ReferenceError) {
              var e = e11262;
              return null;
            } else {
              throw e11262;
            }
          }
        }(), cljs.core.next(segs));
      } else {
        return cljs.core.find_ns_obj_STAR_(global, segs);
      }
      break;
    case "default":
      return cljs.core.find_ns_obj_STAR_(goog.global, segs);
      break;
    default:
      throw new Error([cljs.core.str("find-ns-obj not supported for target "), cljs.core.str(cljs.core._STAR_target_STAR_)].join(""));;
  }
};
cljs.core.ns_interns_STAR_ = function cljs$core$ns_interns_STAR_(sym) {
  var ns_obj = cljs.core.find_ns_obj(sym);
  var ns = new cljs.core.Namespace(ns_obj, sym);
  var step = function(ns_obj, ns) {
    return function cljs$core$ns_interns_STAR__$_step(ret, k) {
      var var_sym = cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(cljs.core.demunge(k));
      return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret, var_sym, new cljs.core.Var(function(var_sym, ns_obj, ns) {
        return function() {
          return goog.object.get(ns_obj, k);
        };
      }(var_sym, ns_obj, ns), cljs.core.symbol.cljs$core$IFn$_invoke$arity$2([cljs.core.str(sym)].join(""), [cljs.core.str(var_sym)].join("")), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "ns", "ns", 441598760), ns], null)));
    };
  }(ns_obj, ns);
  return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(step, cljs.core.PersistentArrayMap.EMPTY, cljs.core.js_keys(ns_obj));
};
cljs.core.create_ns = function cljs$core$create_ns(var_args) {
  var args11265 = [];
  var len__7214__auto___11268 = arguments.length;
  var i__7215__auto___11269 = 0;
  while (true) {
    if (i__7215__auto___11269 < len__7214__auto___11268) {
      args11265.push(arguments[i__7215__auto___11269]);
      var G__11270 = i__7215__auto___11269 + 1;
      i__7215__auto___11269 = G__11270;
      continue;
    } else {
    }
    break;
  }
  var G__11267 = args11265.length;
  switch(G__11267) {
    case 1:
      return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11265.length)].join(""));;
  }
};
cljs.core.create_ns.cljs$core$IFn$_invoke$arity$1 = function(sym) {
  return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(sym, cljs.core.find_ns_obj(sym));
};
cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2 = function(sym, ns_obj) {
  return new cljs.core.Namespace(ns_obj, sym);
};
cljs.core.create_ns.cljs$lang$maxFixedArity = 2;
cljs.core.find_ns = function cljs$core$find_ns(ns) {
  if (cljs.core.NS_CACHE == null) {
    cljs.core.NS_CACHE = function() {
      var G__11273 = cljs.core.PersistentArrayMap.EMPTY;
      return cljs.core.atom.cljs$core$IFn$_invoke$arity$1 ? cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11273) : cljs.core.atom.call(null, G__11273);
    }();
  } else {
  }
  var the_ns = cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cljs.core.NS_CACHE) : cljs.core.deref.call(null, cljs.core.NS_CACHE), ns);
  if (!(the_ns == null)) {
    return the_ns;
  } else {
    var ns_obj = cljs.core.find_ns_obj(ns);
    if (ns_obj == null) {
      return null;
    } else {
      var new_ns = cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(ns, ns_obj);
      cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(cljs.core.NS_CACHE, cljs.core.assoc, ns, new_ns);
      return new_ns;
    }
  }
};
cljs.core.find_macros_ns = function cljs$core$find_macros_ns(ns) {
  if (cljs.core.NS_CACHE == null) {
    cljs.core.NS_CACHE = function() {
      var G__11275 = cljs.core.PersistentArrayMap.EMPTY;
      return cljs.core.atom.cljs$core$IFn$_invoke$arity$1 ? cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11275) : cljs.core.atom.call(null, G__11275);
    }();
  } else {
  }
  var the_ns = cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1 ? cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cljs.core.NS_CACHE) : cljs.core.deref.call(null, cljs.core.NS_CACHE), ns);
  if (!(the_ns == null)) {
    return the_ns;
  } else {
    var ns_str = [cljs.core.str(ns)].join("");
    var ns__$1 = !goog.string.contains(ns_str, "$macros") ? cljs.core.symbol.cljs$core$IFn$_invoke$arity$1([cljs.core.str(ns_str), cljs.core.str("$macros")].join("")) : ns;
    var ns_obj = cljs.core.find_ns_obj(ns__$1);
    if (ns_obj == null) {
      return null;
    } else {
      var new_ns = cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(ns__$1, ns_obj);
      cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(cljs.core.NS_CACHE, cljs.core.assoc, ns__$1, new_ns);
      return new_ns;
    }
  }
};
cljs.core.ns_name = function cljs$core$ns_name(ns_obj) {
  return ns_obj.name;
};
goog.provide("clojure.string");
goog.require("cljs.core");
goog.require("goog.string");
goog.require("goog.string.StringBuffer");
clojure.string.seq_reverse = function clojure$string$seq_reverse(coll) {
  return cljs.core.reduce.call(null, cljs.core.conj, cljs.core.List.EMPTY, coll);
};
clojure.string.re_surrogate_pair = new RegExp("([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])", "g");
clojure.string.reverse = function clojure$string$reverse(s) {
  return s.replace(clojure.string.re_surrogate_pair, "$2$1").split("").reverse().join("");
};
clojure.string.replace_all = function clojure$string$replace_all(s, re, replacement) {
  return s.replace(new RegExp(re.source, "g"), replacement);
};
clojure.string.replace_with = function clojure$string$replace_with(f) {
  return function() {
    var G__11278__delegate = function(args) {
      var matches = cljs.core.drop_last.call(null, 2, args);
      if (cljs.core._EQ_.call(null, cljs.core.count.call(null, matches), 1)) {
        return f.call(null, cljs.core.first.call(null, matches));
      } else {
        return f.call(null, cljs.core.vec.call(null, matches));
      }
    };
    var G__11278 = function(var_args) {
      var args = null;
      if (arguments.length > 0) {
        var G__11279__i = 0, G__11279__a = new Array(arguments.length - 0);
        while (G__11279__i < G__11279__a.length) {
          G__11279__a[G__11279__i] = arguments[G__11279__i + 0];
          ++G__11279__i;
        }
        args = new cljs.core.IndexedSeq(G__11279__a, 0);
      }
      return G__11278__delegate.call(this, args);
    };
    G__11278.cljs$lang$maxFixedArity = 0;
    G__11278.cljs$lang$applyTo = function(arglist__11280) {
      var args = cljs.core.seq(arglist__11280);
      return G__11278__delegate(args);
    };
    G__11278.cljs$core$IFn$_invoke$arity$variadic = G__11278__delegate;
    return G__11278;
  }();
};
clojure.string.replace = function clojure$string$replace(s, match, replacement) {
  if (typeof match === "string") {
    return s.replace(new RegExp(goog.string.regExpEscape(match), "g"), replacement);
  } else {
    if (match instanceof RegExp) {
      if (typeof replacement === "string") {
        return clojure.string.replace_all.call(null, s, match, replacement);
      } else {
        return clojure.string.replace_all.call(null, s, match, clojure.string.replace_with.call(null, replacement));
      }
    } else {
      throw [cljs.core.str("Invalid match arg: "), cljs.core.str(match)].join("");
    }
  }
};
clojure.string.replace_first = function clojure$string$replace_first(s, match, replacement) {
  return s.replace(match, replacement);
};
clojure.string.join = function clojure$string$join(var_args) {
  var args11281 = [];
  var len__7214__auto___11284 = arguments.length;
  var i__7215__auto___11285 = 0;
  while (true) {
    if (i__7215__auto___11285 < len__7214__auto___11284) {
      args11281.push(arguments[i__7215__auto___11285]);
      var G__11286 = i__7215__auto___11285 + 1;
      i__7215__auto___11285 = G__11286;
      continue;
    } else {
    }
    break;
  }
  var G__11283 = args11281.length;
  switch(G__11283) {
    case 1:
      return clojure.string.join.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.string.join.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11281.length)].join(""));;
  }
};
clojure.string.join.cljs$core$IFn$_invoke$arity$1 = function(coll) {
  var sb = new goog.string.StringBuffer;
  var coll__$1 = cljs.core.seq.call(null, coll);
  while (true) {
    if (!(coll__$1 == null)) {
      var G__11288 = sb.append([cljs.core.str(cljs.core.first.call(null, coll__$1))].join(""));
      var G__11289 = cljs.core.next.call(null, coll__$1);
      sb = G__11288;
      coll__$1 = G__11289;
      continue;
    } else {
      return sb.toString();
    }
    break;
  }
};
clojure.string.join.cljs$core$IFn$_invoke$arity$2 = function(separator, coll) {
  var sb = new goog.string.StringBuffer;
  var coll__$1 = cljs.core.seq.call(null, coll);
  while (true) {
    if (!(coll__$1 == null)) {
      sb.append([cljs.core.str(cljs.core.first.call(null, coll__$1))].join(""));
      var coll__$2 = cljs.core.next.call(null, coll__$1);
      if (coll__$2 == null) {
      } else {
        sb.append(separator);
      }
      var G__11290 = sb;
      var G__11291 = coll__$2;
      sb = G__11290;
      coll__$1 = G__11291;
      continue;
    } else {
      return sb.toString();
    }
    break;
  }
};
clojure.string.join.cljs$lang$maxFixedArity = 2;
clojure.string.upper_case = function clojure$string$upper_case(s) {
  return s.toUpperCase();
};
clojure.string.lower_case = function clojure$string$lower_case(s) {
  return s.toLowerCase();
};
clojure.string.capitalize = function clojure$string$capitalize(s) {
  if (cljs.core.count.call(null, s) < 2) {
    return clojure.string.upper_case.call(null, s);
  } else {
    return [cljs.core.str(clojure.string.upper_case.call(null, cljs.core.subs.call(null, s, 0, 1))), cljs.core.str(clojure.string.lower_case.call(null, cljs.core.subs.call(null, s, 1)))].join("");
  }
};
clojure.string.pop_last_while_empty = function clojure$string$pop_last_while_empty(v) {
  var v__$1 = v;
  while (true) {
    if ("" === cljs.core.peek.call(null, v__$1)) {
      var G__11292 = cljs.core.pop.call(null, v__$1);
      v__$1 = G__11292;
      continue;
    } else {
      return v__$1;
    }
    break;
  }
};
clojure.string.discard_trailing_if_needed = function clojure$string$discard_trailing_if_needed(limit, v) {
  if (0 === limit) {
    return clojure.string.pop_last_while_empty.call(null, v);
  } else {
    return v;
  }
};
clojure.string.split_with_empty_regex = function clojure$string$split_with_empty_regex(s, limit) {
  if (limit <= 0 || limit >= 2 + cljs.core.count.call(null, s)) {
    return cljs.core.conj.call(null, cljs.core.vec.call(null, cljs.core.cons.call(null, "", cljs.core.map.call(null, cljs.core.str, cljs.core.seq.call(null, s)))), "");
  } else {
    var pred__11296 = cljs.core._EQ__EQ_;
    var expr__11297 = limit;
    if (cljs.core.truth_(pred__11296.call(null, 1, expr__11297))) {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [s], null);
    } else {
      if (cljs.core.truth_(pred__11296.call(null, 2, expr__11297))) {
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["", s], null);
      } else {
        var c = limit - 2;
        return cljs.core.conj.call(null, cljs.core.vec.call(null, cljs.core.cons.call(null, "", cljs.core.subvec.call(null, cljs.core.vec.call(null, cljs.core.map.call(null, cljs.core.str, cljs.core.seq.call(null, s))), 0, c))), cljs.core.subs.call(null, s, c));
      }
    }
  }
};
clojure.string.split = function clojure$string$split(var_args) {
  var args11299 = [];
  var len__7214__auto___11302 = arguments.length;
  var i__7215__auto___11303 = 0;
  while (true) {
    if (i__7215__auto___11303 < len__7214__auto___11302) {
      args11299.push(arguments[i__7215__auto___11303]);
      var G__11304 = i__7215__auto___11303 + 1;
      i__7215__auto___11303 = G__11304;
      continue;
    } else {
    }
    break;
  }
  var G__11301 = args11299.length;
  switch(G__11301) {
    case 2:
      return clojure.string.split.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.string.split.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11299.length)].join(""));;
  }
};
clojure.string.split.cljs$core$IFn$_invoke$arity$2 = function(s, re) {
  return clojure.string.split.call(null, s, re, 0);
};
clojure.string.split.cljs$core$IFn$_invoke$arity$3 = function(s, re, limit) {
  return clojure.string.discard_trailing_if_needed.call(null, limit, "/(?:)/" === [cljs.core.str(re)].join("") ? clojure.string.split_with_empty_regex.call(null, s, limit) : limit < 1 ? cljs.core.vec.call(null, [cljs.core.str(s)].join("").split(re)) : function() {
    var s__$1 = s;
    var limit__$1 = limit;
    var parts = cljs.core.PersistentVector.EMPTY;
    while (true) {
      if (1 === limit__$1) {
        return cljs.core.conj.call(null, parts, s__$1);
      } else {
        var m = cljs.core.re_find.call(null, re, s__$1);
        if (!(m == null)) {
          var index = s__$1.indexOf(m);
          var G__11306 = s__$1.substring(index + cljs.core.count.call(null, m));
          var G__11307 = limit__$1 - 1;
          var G__11308 = cljs.core.conj.call(null, parts, s__$1.substring(0, index));
          s__$1 = G__11306;
          limit__$1 = G__11307;
          parts = G__11308;
          continue;
        } else {
          return cljs.core.conj.call(null, parts, s__$1);
        }
      }
      break;
    }
  }());
};
clojure.string.split.cljs$lang$maxFixedArity = 3;
clojure.string.split_lines = function clojure$string$split_lines(s) {
  return clojure.string.split.call(null, s, /\n|\r\n/);
};
clojure.string.trim = function clojure$string$trim(s) {
  return goog.string.trim(s);
};
clojure.string.triml = function clojure$string$triml(s) {
  return goog.string.trimLeft(s);
};
clojure.string.trimr = function clojure$string$trimr(s) {
  return goog.string.trimRight(s);
};
clojure.string.trim_newline = function clojure$string$trim_newline(s) {
  var index = s.length;
  while (true) {
    if (index === 0) {
      return "";
    } else {
      var ch = cljs.core.get.call(null, s, index - 1);
      if ("\n" === ch || "\r" === ch) {
        var G__11309 = index - 1;
        index = G__11309;
        continue;
      } else {
        return s.substring(0, index);
      }
    }
    break;
  }
};
clojure.string.blank_QMARK_ = function clojure$string$blank_QMARK_(s) {
  return goog.string.isEmptySafe(s);
};
clojure.string.escape = function clojure$string$escape(s, cmap) {
  var buffer = new goog.string.StringBuffer;
  var length = s.length;
  var index = 0;
  while (true) {
    if (length === index) {
      return buffer.toString();
    } else {
      var ch = s.charAt(index);
      var replacement = cljs.core.get.call(null, cmap, ch);
      if (!(replacement == null)) {
        buffer.append([cljs.core.str(replacement)].join(""));
      } else {
        buffer.append(ch);
      }
      var G__11310 = index + 1;
      index = G__11310;
      continue;
    }
    break;
  }
};
clojure.string.index_of = function clojure$string$index_of(var_args) {
  var args11311 = [];
  var len__7214__auto___11314 = arguments.length;
  var i__7215__auto___11315 = 0;
  while (true) {
    if (i__7215__auto___11315 < len__7214__auto___11314) {
      args11311.push(arguments[i__7215__auto___11315]);
      var G__11316 = i__7215__auto___11315 + 1;
      i__7215__auto___11315 = G__11316;
      continue;
    } else {
    }
    break;
  }
  var G__11313 = args11311.length;
  switch(G__11313) {
    case 2:
      return clojure.string.index_of.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.string.index_of.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11311.length)].join(""));;
  }
};
clojure.string.index_of.cljs$core$IFn$_invoke$arity$2 = function(s, value) {
  var result = s.indexOf(value);
  if (result < 0) {
    return null;
  } else {
    return result;
  }
};
clojure.string.index_of.cljs$core$IFn$_invoke$arity$3 = function(s, value, from_index) {
  var result = s.indexOf(value, from_index);
  if (result < 0) {
    return null;
  } else {
    return result;
  }
};
clojure.string.index_of.cljs$lang$maxFixedArity = 3;
clojure.string.last_index_of = function clojure$string$last_index_of(var_args) {
  var args11318 = [];
  var len__7214__auto___11321 = arguments.length;
  var i__7215__auto___11322 = 0;
  while (true) {
    if (i__7215__auto___11322 < len__7214__auto___11321) {
      args11318.push(arguments[i__7215__auto___11322]);
      var G__11323 = i__7215__auto___11322 + 1;
      i__7215__auto___11322 = G__11323;
      continue;
    } else {
    }
    break;
  }
  var G__11320 = args11318.length;
  switch(G__11320) {
    case 2:
      return clojure.string.last_index_of.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.string.last_index_of.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11318.length)].join(""));;
  }
};
clojure.string.last_index_of.cljs$core$IFn$_invoke$arity$2 = function(s, value) {
  var result = s.lastIndexOf(value);
  if (result < 0) {
    return null;
  } else {
    return result;
  }
};
clojure.string.last_index_of.cljs$core$IFn$_invoke$arity$3 = function(s, value, from_index) {
  var result = s.lastIndexOf(value, from_index);
  if (result < 0) {
    return null;
  } else {
    return result;
  }
};
clojure.string.last_index_of.cljs$lang$maxFixedArity = 3;
clojure.string.starts_with_QMARK_ = function clojure$string$starts_with_QMARK_(s, substr) {
  return goog.string.startsWith(s, substr);
};
clojure.string.ends_with_QMARK_ = function clojure$string$ends_with_QMARK_(s, substr) {
  return goog.string.endsWith(s, substr);
};
clojure.string.includes_QMARK_ = function clojure$string$includes_QMARK_(s, substr) {
  return goog.string.contains(s, substr);
};
goog.provide("goog.math");
goog.require("goog.array");
goog.require("goog.asserts");
goog.math.randomInt = function(a) {
  return Math.floor(Math.random() * a);
};
goog.math.uniformRandom = function(a, b) {
  return a + Math.random() * (b - a);
};
goog.math.clamp = function(value, min, max) {
  return Math.min(Math.max(value, min), max);
};
goog.math.modulo = function(a, b) {
  var r = a % b;
  return r * b < 0 ? r + b : r;
};
goog.math.lerp = function(a, b, x) {
  return a + x * (b - a);
};
goog.math.nearlyEquals = function(a, b, opt_tolerance) {
  return Math.abs(a - b) <= (opt_tolerance || 1E-6);
};
goog.math.standardAngle = function(angle) {
  return goog.math.modulo(angle, 360);
};
goog.math.standardAngleInRadians = function(angle) {
  return goog.math.modulo(angle, 2 * Math.PI);
};
goog.math.toRadians = function(angleDegrees) {
  return angleDegrees * Math.PI / 180;
};
goog.math.toDegrees = function(angleRadians) {
  return angleRadians * 180 / Math.PI;
};
goog.math.angleDx = function(degrees, radius) {
  return radius * Math.cos(goog.math.toRadians(degrees));
};
goog.math.angleDy = function(degrees, radius) {
  return radius * Math.sin(goog.math.toRadians(degrees));
};
goog.math.angle = function(x1, y1, x2, y2) {
  return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2 - y1, x2 - x1)));
};
goog.math.angleDifference = function(startAngle, endAngle) {
  var d = goog.math.standardAngle(endAngle) - goog.math.standardAngle(startAngle);
  if (d > 180) {
    d = d - 360;
  } else {
    if (d <= -180) {
      d = 360 + d;
    }
  }
  return d;
};
goog.math.sign = Math.sign || function(x) {
  if (x > 0) {
    return 1;
  }
  if (x < 0) {
    return -1;
  }
  return x;
};
goog.math.longestCommonSubsequence = function(array1, array2, opt_compareFn, opt_collectorFn) {
  var compare = opt_compareFn || function(a, b) {
    return a == b;
  };
  var collect = opt_collectorFn || function(i1, i2) {
    return array1[i1];
  };
  var length1 = array1.length;
  var length2 = array2.length;
  var arr = [];
  for (var i = 0;i < length1 + 1;i++) {
    arr[i] = [];
    arr[i][0] = 0;
  }
  for (var j = 0;j < length2 + 1;j++) {
    arr[0][j] = 0;
  }
  for (i = 1;i <= length1;i++) {
    for (j = 1;j <= length2;j++) {
      if (compare(array1[i - 1], array2[j - 1])) {
        arr[i][j] = arr[i - 1][j - 1] + 1;
      } else {
        arr[i][j] = Math.max(arr[i - 1][j], arr[i][j - 1]);
      }
    }
  }
  var result = [];
  var i = length1, j = length2;
  while (i > 0 && j > 0) {
    if (compare(array1[i - 1], array2[j - 1])) {
      result.unshift(collect(i - 1, j - 1));
      i--;
      j--;
    } else {
      if (arr[i - 1][j] > arr[i][j - 1]) {
        i--;
      } else {
        j--;
      }
    }
  }
  return result;
};
goog.math.sum = function(var_args) {
  return (goog.array.reduce(arguments, function(sum, value) {
    return sum + value;
  }, 0));
};
goog.math.average = function(var_args) {
  return goog.math.sum.apply(null, arguments) / arguments.length;
};
goog.math.sampleVariance = function(var_args) {
  var sampleSize = arguments.length;
  if (sampleSize < 2) {
    return 0;
  }
  var mean = goog.math.average.apply(null, arguments);
  var variance = goog.math.sum.apply(null, goog.array.map(arguments, function(val) {
    return Math.pow(val - mean, 2);
  })) / (sampleSize - 1);
  return variance;
};
goog.math.standardDeviation = function(var_args) {
  return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));
};
goog.math.isInt = function(num) {
  return isFinite(num) && num % 1 == 0;
};
goog.math.isFiniteNumber = function(num) {
  return isFinite(num) && !isNaN(num);
};
goog.math.isNegativeZero = function(num) {
  return num == 0 && 1 / num < 0;
};
goog.math.log10Floor = function(num) {
  if (num > 0) {
    var x = Math.round(Math.log(num) * Math.LOG10E);
    return x - (parseFloat("1e" + x) > num ? 1 : 0);
  }
  return num == 0 ? -Infinity : NaN;
};
goog.math.safeFloor = function(num, opt_epsilon) {
  goog.asserts.assert(!goog.isDef(opt_epsilon) || opt_epsilon > 0);
  return Math.floor(num + (opt_epsilon || 2E-15));
};
goog.math.safeCeil = function(num, opt_epsilon) {
  goog.asserts.assert(!goog.isDef(opt_epsilon) || opt_epsilon > 0);
  return Math.ceil(num - (opt_epsilon || 2E-15));
};
goog.provide("kuroi.io");
goog.require("cljs.core");
goog.require("goog.math");
kuroi.io._STAR_file_base_STAR_ = null;
kuroi.io.init = function kuroi$io$init(opts) {
  kuroi.io._STAR_port_STAR_ = opts.port;
  kuroi.io._STAR_addon_STAR_ = opts.addon;
  return kuroi.io._STAR_file_base_STAR_ = opts.file_base;
};
goog.exportSymbol("kuroi.io.init", kuroi.io.init);
kuroi.io.gen_uuid = function kuroi$io$gen_uuid() {
  return [cljs.core.str("uuid-"), cljs.core.str((new Date).getTime()), cljs.core.str("-"), cljs.core.str(goog.math.randomInt(65535))].join("");
};
kuroi.io.js_map = function kuroi$io$js_map(cljmap) {
  var out = {};
  cljs.core.doall.call(null, cljs.core.map.call(null, function(out) {
    return function(p1__11327_SHARP_) {
      return out[cljs.core.name.call(null, cljs.core.first.call(null, p1__11327_SHARP_))] = cljs.core.second.call(null, p1__11327_SHARP_);
    };
  }(out), cljmap));
  return out;
};
kuroi.io.clj_map = function kuroi$io$clj_map(jsmap) {
  var keys = cljs.core.array_seq.call(null, Object.keys(jsmap));
  var keys__$1 = keys;
  var out = cljs.core.PersistentArrayMap.EMPTY;
  while (true) {
    var temp__4655__auto__ = cljs.core.first.call(null, keys__$1);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var k = temp__4655__auto__;
      var G__11332 = cljs.core.rest.call(null, keys__$1);
      var G__11333 = cljs.core.assoc.call(null, out, cljs.core.keyword.call(null, k), jsmap[k]);
      keys__$1 = G__11332;
      out = G__11333;
      continue;
    } else {
      return out;
    }
    break;
  }
};
kuroi.io.log = function kuroi$io$log(msg) {
  return console.log(msg);
};
kuroi.io.request = function kuroi$io$request(request__$1, data, callback) {
  var msg_id = kuroi.io.gen_uuid.call(null);
  var pack = function() {
    var obj11337 = {"message":msg_id, "payload":data};
    return obj11337;
  }();
  kuroi.io._STAR_port_STAR_.once(msg_id, callback);
  return kuroi.io._STAR_port_STAR_.emit(request__$1, pack);
};
kuroi.io.get_pages = function kuroi$io$get_pages(urls, callback) {
  var input = cljs.core.seq_QMARK_.call(null, urls) ? cljs.core.seq.call(null, urls) ? cljs.core.apply.call(null, cljs.core.array, urls) : null : urls;
  if (cljs.core.truth_(input)) {
    return kuroi.io.request.call(null, "get-pages", input, function(input) {
      return function(result) {
        var result__$1 = kuroi.io.clj_map.call(null, result);
        return callback.call(null, cljs.core.assoc.call(null, result__$1, new cljs.core.Keyword(null, "pages", "pages", -285406513), cljs.core.map.call(null, kuroi.io.clj_map, cljs.core.array_seq.call(null, (new cljs.core.Keyword(null, "pages", "pages", -285406513)).cljs$core$IFn$_invoke$arity$1(result__$1)))));
      };
    }(input));
  } else {
    return callback.call(null, null);
  }
};
kuroi.io.get_page = function kuroi$io$get_page(url, callback) {
  return kuroi.io.get_pages.call(null, [url], function(response) {
    var page = cljs.core.dissoc.call(null, cljs.core.first.call(null, (new cljs.core.Keyword(null, "pages", "pages", -285406513)).cljs$core$IFn$_invoke$arity$1(response)), new cljs.core.Keyword(null, "index", "index", -1531685915));
    var response__$1 = cljs.core.assoc.call(null, response, new cljs.core.Keyword(null, "page", "page", 849072397), page);
    return callback.call(null, cljs.core.dissoc.call(null, response__$1, new cljs.core.Keyword(null, "pages", "pages", -285406513)));
  });
};
kuroi.io.post_form = function kuroi$io$post_form(url, form, referer, callback) {
  return kuroi.io.request.call(null, "post-form", function() {
    var obj11341 = {"url":url, "form":form, "referer":referer};
    return obj11341;
  }(), function(response) {
    return callback.call(null, kuroi.io.clj_map.call(null, response));
  });
};
kuroi.io.put_data = function kuroi$io$put_data(table, id, values) {
  var msg_id = kuroi.io.gen_uuid.call(null);
  var pack = function() {
    var obj11345 = {"message":msg_id, "table":cljs.core.name.call(null, table), "id":id};
    return obj11345;
  }();
  pack.values = kuroi.io.js_map.call(null, values);
  return kuroi.io._STAR_port_STAR_.emit("put-data", pack);
};
kuroi.io.get_data_STAR_ = function kuroi$io$get_data_STAR_(table, field, id, callback) {
  var msg_id = kuroi.io.gen_uuid.call(null);
  var pack = function() {
    var obj11349 = {"message":msg_id, "table":cljs.core.name.call(null, table), "field":cljs.core.name.call(null, field)};
    return obj11349;
  }();
  pack.id = cljs.core.truth_(id) ? typeof id === "string" ? kuroi.io.js_map.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "where", "where", -2044795965), "id", new cljs.core.Keyword(null, "eq", "eq", -618539067), id], null)) : kuroi.io.js_map.call(null, id) : null;
  kuroi.io._STAR_port_STAR_.once(msg_id, function(msg_id, pack) {
    return function(rows) {
      if (cljs.core.truth_(rows)) {
        return callback.call(null, cljs.core.array_seq.call(null, rows));
      } else {
        return callback.call(null, null);
      }
    };
  }(msg_id, pack));
  return kuroi.io._STAR_port_STAR_.emit("get-data", pack);
};
kuroi.io.get_data = function kuroi$io$get_data(table, field, id, callback) {
  return kuroi.io.get_data_STAR_.call(null, table, field, id, function(result) {
    return callback.call(null, cljs.core.first.call(null, result));
  });
};
kuroi.io.del_data = function kuroi$io$del_data(table, id) {
  var msg_id = kuroi.io.gen_uuid.call(null);
  var pack = function() {
    var obj11353 = {"message":msg_id, "table":cljs.core.name.call(null, table), "id":id};
    return obj11353;
  }();
  return kuroi.io._STAR_port_STAR_.emit("del-data", pack);
};
kuroi.io.wipe_data = function kuroi$io$wipe_data(table) {
  var msg_id = kuroi.io.gen_uuid.call(null);
  var pack = function() {
    var obj11357 = {"message":msg_id, "table":cljs.core.name.call(null, table)};
    return obj11357;
  }();
  return kuroi.io._STAR_port_STAR_.emit("wipe-data", pack);
};
kuroi.io.notify_settings_changed = function kuroi$io$notify_settings_changed() {
  return kuroi.io._STAR_port_STAR_.emit("settings-changed", "");
};
goog.provide("kuroi.base");
goog.require("cljs.core");
goog.require("kuroi.io");
kuroi.base._STAR_posting_not_impl_STAR_ = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, ["2ch.hk", null], null), null);
kuroi.base._STAR_iichan_hk_wf_STAR_ = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674), true, new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850), cljs.core.PersistentHashSet.EMPTY, new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627), cljs.core.PersistentHashSet.EMPTY], null);
goog.provide("goog.labs.userAgent.util");
goog.require("goog.string");
goog.labs.userAgent.util.getNativeUserAgentString_ = function() {
  var navigator = goog.labs.userAgent.util.getNavigator_();
  if (navigator) {
    var userAgent = navigator.userAgent;
    if (userAgent) {
      return userAgent;
    }
  }
  return "";
};
goog.labs.userAgent.util.getNavigator_ = function() {
  return goog.global.navigator;
};
goog.labs.userAgent.util.userAgent_ = goog.labs.userAgent.util.getNativeUserAgentString_();
goog.labs.userAgent.util.setUserAgent = function(opt_userAgent) {
  goog.labs.userAgent.util.userAgent_ = opt_userAgent || goog.labs.userAgent.util.getNativeUserAgentString_();
};
goog.labs.userAgent.util.getUserAgent = function() {
  return goog.labs.userAgent.util.userAgent_;
};
goog.labs.userAgent.util.matchUserAgent = function(str) {
  var userAgent = goog.labs.userAgent.util.getUserAgent();
  return goog.string.contains(userAgent, str);
};
goog.labs.userAgent.util.matchUserAgentIgnoreCase = function(str) {
  var userAgent = goog.labs.userAgent.util.getUserAgent();
  return goog.string.caseInsensitiveContains(userAgent, str);
};
goog.labs.userAgent.util.extractVersionTuples = function(userAgent) {
  var versionRegExp = new RegExp("(\\w[\\w ]+)" + "/" + "([^\\s]+)" + "\\s*" + "(?:\\((.*?)\\))?", "g");
  var data = [];
  var match;
  while (match = versionRegExp.exec(userAgent)) {
    data.push([match[1], match[2], match[3] || undefined]);
  }
  return data;
};
goog.provide("goog.labs.userAgent.browser");
goog.require("goog.array");
goog.require("goog.labs.userAgent.util");
goog.require("goog.object");
goog.require("goog.string");
goog.labs.userAgent.browser.matchOpera_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Opera") || goog.labs.userAgent.util.matchUserAgent("OPR");
};
goog.labs.userAgent.browser.matchIE_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
};
goog.labs.userAgent.browser.matchEdge_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Edge");
};
goog.labs.userAgent.browser.matchFirefox_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Firefox");
};
goog.labs.userAgent.browser.matchSafari_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Safari") && !(goog.labs.userAgent.browser.matchChrome_() || goog.labs.userAgent.browser.matchCoast_() || goog.labs.userAgent.browser.matchOpera_() || goog.labs.userAgent.browser.matchEdge_() || goog.labs.userAgent.browser.isSilk() || goog.labs.userAgent.util.matchUserAgent("Android"));
};
goog.labs.userAgent.browser.matchCoast_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Coast");
};
goog.labs.userAgent.browser.matchIosWebview_ = function() {
  return (goog.labs.userAgent.util.matchUserAgent("iPad") || goog.labs.userAgent.util.matchUserAgent("iPhone")) && !goog.labs.userAgent.browser.matchSafari_() && !goog.labs.userAgent.browser.matchChrome_() && !goog.labs.userAgent.browser.matchCoast_() && goog.labs.userAgent.util.matchUserAgent("AppleWebKit");
};
goog.labs.userAgent.browser.matchChrome_ = function() {
  return (goog.labs.userAgent.util.matchUserAgent("Chrome") || goog.labs.userAgent.util.matchUserAgent("CriOS")) && !goog.labs.userAgent.browser.matchOpera_() && !goog.labs.userAgent.browser.matchEdge_();
};
goog.labs.userAgent.browser.matchAndroidBrowser_ = function() {
  return goog.labs.userAgent.util.matchUserAgent("Android") && !(goog.labs.userAgent.browser.isChrome() || goog.labs.userAgent.browser.isFirefox() || goog.labs.userAgent.browser.isOpera() || goog.labs.userAgent.browser.isSilk());
};
goog.labs.userAgent.browser.isOpera = goog.labs.userAgent.browser.matchOpera_;
goog.labs.userAgent.browser.isIE = goog.labs.userAgent.browser.matchIE_;
goog.labs.userAgent.browser.isEdge = goog.labs.userAgent.browser.matchEdge_;
goog.labs.userAgent.browser.isFirefox = goog.labs.userAgent.browser.matchFirefox_;
goog.labs.userAgent.browser.isSafari = goog.labs.userAgent.browser.matchSafari_;
goog.labs.userAgent.browser.isCoast = goog.labs.userAgent.browser.matchCoast_;
goog.labs.userAgent.browser.isIosWebview = goog.labs.userAgent.browser.matchIosWebview_;
goog.labs.userAgent.browser.isChrome = goog.labs.userAgent.browser.matchChrome_;
goog.labs.userAgent.browser.isAndroidBrowser = goog.labs.userAgent.browser.matchAndroidBrowser_;
goog.labs.userAgent.browser.isSilk = function() {
  return goog.labs.userAgent.util.matchUserAgent("Silk");
};
goog.labs.userAgent.browser.getVersion = function() {
  var userAgentString = goog.labs.userAgent.util.getUserAgent();
  if (goog.labs.userAgent.browser.isIE()) {
    return goog.labs.userAgent.browser.getIEVersion_(userAgentString);
  }
  var versionTuples = goog.labs.userAgent.util.extractVersionTuples(userAgentString);
  var versionMap = {};
  goog.array.forEach(versionTuples, function(tuple) {
    var key = tuple[0];
    var value = tuple[1];
    versionMap[key] = value;
  });
  var versionMapHasKey = goog.partial(goog.object.containsKey, versionMap);
  function lookUpValueWithKeys(keys) {
    var key = goog.array.find(keys, versionMapHasKey);
    return versionMap[key] || "";
  }
  if (goog.labs.userAgent.browser.isOpera()) {
    return lookUpValueWithKeys(["Version", "Opera", "OPR"]);
  }
  if (goog.labs.userAgent.browser.isEdge()) {
    return lookUpValueWithKeys(["Edge"]);
  }
  if (goog.labs.userAgent.browser.isChrome()) {
    return lookUpValueWithKeys(["Chrome", "CriOS"]);
  }
  var tuple = versionTuples[2];
  return tuple && tuple[1] || "";
};
goog.labs.userAgent.browser.isVersionOrHigher = function(version) {
  return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(), version) >= 0;
};
goog.labs.userAgent.browser.getIEVersion_ = function(userAgent) {
  var rv = /rv: *([\d\.]*)/.exec(userAgent);
  if (rv && rv[1]) {
    return rv[1];
  }
  var version = "";
  var msie = /MSIE +([\d\.]+)/.exec(userAgent);
  if (msie && msie[1]) {
    var tridentVersion = /Trident\/(\d.\d)/.exec(userAgent);
    if (msie[1] == "7.0") {
      if (tridentVersion && tridentVersion[1]) {
        switch(tridentVersion[1]) {
          case "4.0":
            version = "8.0";
            break;
          case "5.0":
            version = "9.0";
            break;
          case "6.0":
            version = "10.0";
            break;
          case "7.0":
            version = "11.0";
            break;
        }
      } else {
        version = "7.0";
      }
    } else {
      version = msie[1];
    }
  }
  return version;
};
goog.provide("goog.labs.userAgent.engine");
goog.require("goog.array");
goog.require("goog.labs.userAgent.util");
goog.require("goog.string");
goog.labs.userAgent.engine.isPresto = function() {
  return goog.labs.userAgent.util.matchUserAgent("Presto");
};
goog.labs.userAgent.engine.isTrident = function() {
  return goog.labs.userAgent.util.matchUserAgent("Trident") || goog.labs.userAgent.util.matchUserAgent("MSIE");
};
goog.labs.userAgent.engine.isEdge = function() {
  return goog.labs.userAgent.util.matchUserAgent("Edge");
};
goog.labs.userAgent.engine.isWebKit = function() {
  return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit") && !goog.labs.userAgent.engine.isEdge();
};
goog.labs.userAgent.engine.isGecko = function() {
  return goog.labs.userAgent.util.matchUserAgent("Gecko") && !goog.labs.userAgent.engine.isWebKit() && !goog.labs.userAgent.engine.isTrident() && !goog.labs.userAgent.engine.isEdge();
};
goog.labs.userAgent.engine.getVersion = function() {
  var userAgentString = goog.labs.userAgent.util.getUserAgent();
  if (userAgentString) {
    var tuples = goog.labs.userAgent.util.extractVersionTuples(userAgentString);
    var engineTuple = goog.labs.userAgent.engine.getEngineTuple_(tuples);
    if (engineTuple) {
      if (engineTuple[0] == "Gecko") {
        return goog.labs.userAgent.engine.getVersionForKey_(tuples, "Firefox");
      }
      return engineTuple[1];
    }
    var browserTuple = tuples[0];
    var info;
    if (browserTuple && (info = browserTuple[2])) {
      var match = /Trident\/([^\s;]+)/.exec(info);
      if (match) {
        return match[1];
      }
    }
  }
  return "";
};
goog.labs.userAgent.engine.getEngineTuple_ = function(tuples) {
  if (!goog.labs.userAgent.engine.isEdge()) {
    return tuples[1];
  }
  for (var i = 0;i < tuples.length;i++) {
    var tuple = tuples[i];
    if (tuple[0] == "Edge") {
      return tuple;
    }
  }
};
goog.labs.userAgent.engine.isVersionOrHigher = function(version) {
  return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(), version) >= 0;
};
goog.labs.userAgent.engine.getVersionForKey_ = function(tuples, key) {
  var pair = goog.array.find(tuples, function(pair) {
    return key == pair[0];
  });
  return pair && pair[1] || "";
};
goog.provide("goog.labs.userAgent.platform");
goog.require("goog.labs.userAgent.util");
goog.require("goog.string");
goog.labs.userAgent.platform.isAndroid = function() {
  return goog.labs.userAgent.util.matchUserAgent("Android");
};
goog.labs.userAgent.platform.isIpod = function() {
  return goog.labs.userAgent.util.matchUserAgent("iPod");
};
goog.labs.userAgent.platform.isIphone = function() {
  return goog.labs.userAgent.util.matchUserAgent("iPhone") && !goog.labs.userAgent.util.matchUserAgent("iPod") && !goog.labs.userAgent.util.matchUserAgent("iPad");
};
goog.labs.userAgent.platform.isIpad = function() {
  return goog.labs.userAgent.util.matchUserAgent("iPad");
};
goog.labs.userAgent.platform.isIos = function() {
  return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpad() || goog.labs.userAgent.platform.isIpod();
};
goog.labs.userAgent.platform.isMacintosh = function() {
  return goog.labs.userAgent.util.matchUserAgent("Macintosh");
};
goog.labs.userAgent.platform.isLinux = function() {
  return goog.labs.userAgent.util.matchUserAgent("Linux");
};
goog.labs.userAgent.platform.isWindows = function() {
  return goog.labs.userAgent.util.matchUserAgent("Windows");
};
goog.labs.userAgent.platform.isChromeOS = function() {
  return goog.labs.userAgent.util.matchUserAgent("CrOS");
};
goog.labs.userAgent.platform.getVersion = function() {
  var userAgentString = goog.labs.userAgent.util.getUserAgent();
  var version = "", re;
  if (goog.labs.userAgent.platform.isWindows()) {
    re = /Windows (?:NT|Phone) ([0-9.]+)/;
    var match = re.exec(userAgentString);
    if (match) {
      version = match[1];
    } else {
      version = "0.0";
    }
  } else {
    if (goog.labs.userAgent.platform.isIos()) {
      re = /(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;
      var match = re.exec(userAgentString);
      version = match && match[1].replace(/_/g, ".");
    } else {
      if (goog.labs.userAgent.platform.isMacintosh()) {
        re = /Mac OS X ([0-9_.]+)/;
        var match = re.exec(userAgentString);
        version = match ? match[1].replace(/_/g, ".") : "10";
      } else {
        if (goog.labs.userAgent.platform.isAndroid()) {
          re = /Android\s+([^\);]+)(\)|;)/;
          var match = re.exec(userAgentString);
          version = match && match[1];
        } else {
          if (goog.labs.userAgent.platform.isChromeOS()) {
            re = /(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;
            var match = re.exec(userAgentString);
            version = match && match[1];
          }
        }
      }
    }
  }
  return version || "";
};
goog.labs.userAgent.platform.isVersionOrHigher = function(version) {
  return goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(), version) >= 0;
};
goog.provide("goog.userAgent");
goog.require("goog.labs.userAgent.browser");
goog.require("goog.labs.userAgent.engine");
goog.require("goog.labs.userAgent.platform");
goog.require("goog.labs.userAgent.util");
goog.require("goog.string");
goog.define("goog.userAgent.ASSUME_IE", false);
goog.define("goog.userAgent.ASSUME_EDGE", false);
goog.define("goog.userAgent.ASSUME_GECKO", false);
goog.define("goog.userAgent.ASSUME_WEBKIT", false);
goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT", false);
goog.define("goog.userAgent.ASSUME_OPERA", false);
goog.define("goog.userAgent.ASSUME_ANY_VERSION", false);
goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;
goog.userAgent.getUserAgentString = function() {
  return goog.labs.userAgent.util.getUserAgent();
};
goog.userAgent.getNavigator = function() {
  return goog.global["navigator"] || null;
};
goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.labs.userAgent.browser.isOpera();
goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.labs.userAgent.browser.isIE();
goog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : goog.labs.userAgent.engine.isEdge();
goog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;
goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.labs.userAgent.engine.isGecko();
goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.labs.userAgent.engine.isWebKit();
goog.userAgent.isMobile_ = function() {
  return goog.userAgent.WEBKIT && goog.labs.userAgent.util.matchUserAgent("Mobile");
};
goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();
goog.userAgent.SAFARI = goog.userAgent.WEBKIT;
goog.userAgent.determinePlatform_ = function() {
  var navigator = goog.userAgent.getNavigator();
  return navigator && navigator.platform || "";
};
goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();
goog.define("goog.userAgent.ASSUME_MAC", false);
goog.define("goog.userAgent.ASSUME_WINDOWS", false);
goog.define("goog.userAgent.ASSUME_LINUX", false);
goog.define("goog.userAgent.ASSUME_X11", false);
goog.define("goog.userAgent.ASSUME_ANDROID", false);
goog.define("goog.userAgent.ASSUME_IPHONE", false);
goog.define("goog.userAgent.ASSUME_IPAD", false);
goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD;
goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.labs.userAgent.platform.isMacintosh();
goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.labs.userAgent.platform.isWindows();
goog.userAgent.isLegacyLinux_ = function() {
  return goog.labs.userAgent.platform.isLinux() || goog.labs.userAgent.platform.isChromeOS();
};
goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();
goog.userAgent.isX11_ = function() {
  var navigator = goog.userAgent.getNavigator();
  return !!navigator && goog.string.contains(navigator["appVersion"] || "", "X11");
};
goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();
goog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : goog.labs.userAgent.platform.isAndroid();
goog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : goog.labs.userAgent.platform.isIphone();
goog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
goog.userAgent.operaVersion_ = function() {
  var version = goog.global.opera.version;
  try {
    return version();
  } catch (e) {
    return version;
  }
};
goog.userAgent.determineVersion_ = function() {
  if (goog.userAgent.OPERA && goog.global["opera"]) {
    return goog.userAgent.operaVersion_();
  }
  var version = "";
  var arr = goog.userAgent.getVersionRegexResult_();
  if (arr) {
    version = arr ? arr[1] : "";
  }
  if (goog.userAgent.IE) {
    var docMode = goog.userAgent.getDocumentMode_();
    if (docMode > parseFloat(version)) {
      return String(docMode);
    }
  }
  return version;
};
goog.userAgent.getVersionRegexResult_ = function() {
  var userAgent = goog.userAgent.getUserAgentString();
  if (goog.userAgent.GECKO) {
    return /rv\:([^\);]+)(\)|;)/.exec(userAgent);
  }
  if (goog.userAgent.EDGE) {
    return /Edge\/([\d\.]+)/.exec(userAgent);
  }
  if (goog.userAgent.IE) {
    return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(userAgent);
  }
  if (goog.userAgent.WEBKIT) {
    return /WebKit\/(\S+)/.exec(userAgent);
  }
};
goog.userAgent.getDocumentMode_ = function() {
  var doc = goog.global["document"];
  return doc ? doc["documentMode"] : undefined;
};
goog.userAgent.VERSION = goog.userAgent.determineVersion_();
goog.userAgent.compare = function(v1, v2) {
  return goog.string.compareVersions(v1, v2);
};
goog.userAgent.isVersionOrHigherCache_ = {};
goog.userAgent.isVersionOrHigher = function(version) {
  return goog.userAgent.ASSUME_ANY_VERSION || goog.userAgent.isVersionOrHigherCache_[version] || (goog.userAgent.isVersionOrHigherCache_[version] = goog.string.compareVersions(goog.userAgent.VERSION, version) >= 0);
};
goog.userAgent.isVersion = goog.userAgent.isVersionOrHigher;
goog.userAgent.isDocumentModeOrHigher = function(documentMode) {
  return goog.userAgent.DOCUMENT_MODE >= documentMode;
};
goog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;
goog.userAgent.DOCUMENT_MODE = function() {
  var doc = goog.global["document"];
  var mode = goog.userAgent.getDocumentMode_();
  if (!doc || !goog.userAgent.IE) {
    return undefined;
  }
  return mode || (doc["compatMode"] == "CSS1Compat" ? parseInt(goog.userAgent.VERSION, 10) : 5);
}();
goog.provide("goog.dom.BrowserFeature");
goog.require("goog.userAgent");
goog.dom.BrowserFeature = {CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO && !goog.userAgent.IE || goog.userAgent.IE && goog.userAgent.isDocumentModeOrHigher(9) || goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher("1.9.1"), CAN_USE_INNER_TEXT:goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE || goog.userAgent.OPERA || goog.userAgent.WEBKIT, 
INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE, LEGACY_IE_RANGES:goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)};
goog.provide("goog.dom.TagName");
goog.dom.TagName = {A:"A", ABBR:"ABBR", ACRONYM:"ACRONYM", ADDRESS:"ADDRESS", APPLET:"APPLET", AREA:"AREA", ARTICLE:"ARTICLE", ASIDE:"ASIDE", AUDIO:"AUDIO", B:"B", BASE:"BASE", BASEFONT:"BASEFONT", BDI:"BDI", BDO:"BDO", BIG:"BIG", BLOCKQUOTE:"BLOCKQUOTE", BODY:"BODY", BR:"BR", BUTTON:"BUTTON", CANVAS:"CANVAS", CAPTION:"CAPTION", CENTER:"CENTER", CITE:"CITE", CODE:"CODE", COL:"COL", COLGROUP:"COLGROUP", COMMAND:"COMMAND", DATA:"DATA", DATALIST:"DATALIST", DD:"DD", DEL:"DEL", DETAILS:"DETAILS", DFN:"DFN", 
DIALOG:"DIALOG", DIR:"DIR", DIV:"DIV", DL:"DL", DT:"DT", EM:"EM", EMBED:"EMBED", FIELDSET:"FIELDSET", FIGCAPTION:"FIGCAPTION", FIGURE:"FIGURE", FONT:"FONT", FOOTER:"FOOTER", FORM:"FORM", FRAME:"FRAME", FRAMESET:"FRAMESET", H1:"H1", H2:"H2", H3:"H3", H4:"H4", H5:"H5", H6:"H6", HEAD:"HEAD", HEADER:"HEADER", HGROUP:"HGROUP", HR:"HR", HTML:"HTML", I:"I", IFRAME:"IFRAME", IMG:"IMG", INPUT:"INPUT", INS:"INS", ISINDEX:"ISINDEX", KBD:"KBD", KEYGEN:"KEYGEN", LABEL:"LABEL", LEGEND:"LEGEND", LI:"LI", LINK:"LINK", 
MAP:"MAP", MARK:"MARK", MATH:"MATH", MENU:"MENU", META:"META", METER:"METER", NAV:"NAV", NOFRAMES:"NOFRAMES", NOSCRIPT:"NOSCRIPT", OBJECT:"OBJECT", OL:"OL", OPTGROUP:"OPTGROUP", OPTION:"OPTION", OUTPUT:"OUTPUT", P:"P", PARAM:"PARAM", PRE:"PRE", PROGRESS:"PROGRESS", Q:"Q", RP:"RP", RT:"RT", RUBY:"RUBY", S:"S", SAMP:"SAMP", SCRIPT:"SCRIPT", SECTION:"SECTION", SELECT:"SELECT", SMALL:"SMALL", SOURCE:"SOURCE", SPAN:"SPAN", STRIKE:"STRIKE", STRONG:"STRONG", STYLE:"STYLE", SUB:"SUB", SUMMARY:"SUMMARY", 
SUP:"SUP", SVG:"SVG", TABLE:"TABLE", TBODY:"TBODY", TD:"TD", TEMPLATE:"TEMPLATE", TEXTAREA:"TEXTAREA", TFOOT:"TFOOT", TH:"TH", THEAD:"THEAD", TIME:"TIME", TITLE:"TITLE", TR:"TR", TRACK:"TRACK", TT:"TT", U:"U", UL:"UL", VAR:"VAR", VIDEO:"VIDEO", WBR:"WBR"};
goog.provide("goog.dom.tags");
goog.require("goog.object");
goog.dom.tags.VOID_TAGS_ = goog.object.createSet("area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr");
goog.dom.tags.isVoidTag = function(tagName) {
  return goog.dom.tags.VOID_TAGS_[tagName] === true;
};
goog.provide("goog.string.TypedString");
goog.string.TypedString = function() {
};
goog.string.TypedString.prototype.implementsGoogStringTypedString;
goog.string.TypedString.prototype.getTypedStringValue;
goog.provide("goog.string.Const");
goog.require("goog.asserts");
goog.require("goog.string.TypedString");
goog.string.Const = function() {
  this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = "";
  this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;
};
goog.string.Const.prototype.implementsGoogStringTypedString = true;
goog.string.Const.prototype.getTypedStringValue = function() {
  return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;
};
goog.string.Const.prototype.toString = function() {
  return "Const{" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + "}";
};
goog.string.Const.unwrap = function(stringConst) {
  if (stringConst instanceof goog.string.Const && stringConst.constructor === goog.string.Const && stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) {
    return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;
  } else {
    goog.asserts.fail("expected object of type Const, got '" + stringConst + "'");
    return "type_error:Const";
  }
};
goog.string.Const.from = function(s) {
  return goog.string.Const.create__googStringSecurityPrivate_(s);
};
goog.string.Const.TYPE_MARKER_ = {};
goog.string.Const.create__googStringSecurityPrivate_ = function(s) {
  var stringConst = new goog.string.Const;
  stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = s;
  return stringConst;
};
goog.provide("goog.html.SafeStyle");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.SafeStyle = function() {
  this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = "";
  this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeStyle.prototype.implementsGoogStringTypedString = true;
goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeStyle.fromConstant = function(style) {
  var styleString = goog.string.Const.unwrap(style);
  if (styleString.length === 0) {
    return goog.html.SafeStyle.EMPTY;
  }
  goog.html.SafeStyle.checkStyle_(styleString);
  goog.asserts.assert(goog.string.endsWith(styleString, ";"), "Last character of style string is not ';': " + styleString);
  goog.asserts.assert(goog.string.contains(styleString, ":"), "Style string must contain at least one ':', to " + 'specify a "name: value" pair: ' + styleString);
  return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(styleString);
};
goog.html.SafeStyle.checkStyle_ = function(style) {
  goog.asserts.assert(!/[<>]/.test(style), "Forbidden characters in style string: " + style);
};
goog.html.SafeStyle.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;
};
if (goog.DEBUG) {
  goog.html.SafeStyle.prototype.toString = function() {
    return "SafeStyle{" + this.privateDoNotAccessOrElseSafeStyleWrappedValue_ + "}";
  };
}
goog.html.SafeStyle.unwrap = function(safeStyle) {
  if (safeStyle instanceof goog.html.SafeStyle && safeStyle.constructor === goog.html.SafeStyle && safeStyle.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type SafeStyle, got '" + safeStyle + "'");
    return "type_error:SafeStyle";
  }
};
goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(style) {
  return (new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(style);
};
goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(style) {
  this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = style;
  return this;
};
goog.html.SafeStyle.EMPTY = goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");
goog.html.SafeStyle.INNOCUOUS_STRING = "zClosurez";
goog.html.SafeStyle.PropertyMap;
goog.html.SafeStyle.create = function(map) {
  var style = "";
  for (var name in map) {
    if (!/^[-_a-zA-Z0-9]+$/.test(name)) {
      throw Error("Name allows only [-_a-zA-Z0-9], got: " + name);
    }
    var value = map[name];
    if (value == null) {
      continue;
    }
    if (value instanceof goog.string.Const) {
      value = goog.string.Const.unwrap(value);
      goog.asserts.assert(!/[{;}]/.test(value), "Value does not allow [{;}].");
    } else {
      if (!goog.html.SafeStyle.VALUE_RE_.test(value)) {
        goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], got: " + value);
        value = goog.html.SafeStyle.INNOCUOUS_STRING;
      } else {
        if (!goog.html.SafeStyle.hasBalancedQuotes_(value)) {
          goog.asserts.fail("String value requires balanced quotes, got: " + value);
          value = goog.html.SafeStyle.INNOCUOUS_STRING;
        }
      }
    }
    style += name + ":" + value + ";";
  }
  if (!style) {
    return goog.html.SafeStyle.EMPTY;
  }
  goog.html.SafeStyle.checkStyle_(style);
  return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);
};
goog.html.SafeStyle.hasBalancedQuotes_ = function(value) {
  var outsideSingle = true;
  var outsideDouble = true;
  for (var i = 0;i < value.length;i++) {
    var c = value.charAt(i);
    if (c == "'" && outsideDouble) {
      outsideSingle = !outsideSingle;
    } else {
      if (c == '"' && outsideSingle) {
        outsideDouble = !outsideDouble;
      }
    }
  }
  return outsideSingle && outsideDouble;
};
goog.html.SafeStyle.VALUE_RE_ = /^[-,."'%_!# a-zA-Z0-9]+$/;
goog.html.SafeStyle.concat = function(var_args) {
  var style = "";
  var addArgument = function(argument) {
    if (goog.isArray(argument)) {
      goog.array.forEach(argument, addArgument);
    } else {
      style += goog.html.SafeStyle.unwrap(argument);
    }
  };
  goog.array.forEach(arguments, addArgument);
  if (!style) {
    return goog.html.SafeStyle.EMPTY;
  }
  return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);
};
goog.provide("goog.html.SafeStyleSheet");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.SafeStyleSheet = function() {
  this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = "";
  this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString = true;
goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeStyleSheet.concat = function(var_args) {
  var result = "";
  var addArgument = function(argument) {
    if (goog.isArray(argument)) {
      goog.array.forEach(argument, addArgument);
    } else {
      result += goog.html.SafeStyleSheet.unwrap(argument);
    }
  };
  goog.array.forEach(arguments, addArgument);
  return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(result);
};
goog.html.SafeStyleSheet.fromConstant = function(styleSheet) {
  var styleSheetString = goog.string.Const.unwrap(styleSheet);
  if (styleSheetString.length === 0) {
    return goog.html.SafeStyleSheet.EMPTY;
  }
  goog.asserts.assert(!goog.string.contains(styleSheetString, "\x3c"), "Forbidden '\x3c' character in style sheet string: " + styleSheetString);
  return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheetString);
};
goog.html.SafeStyleSheet.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;
};
if (goog.DEBUG) {
  goog.html.SafeStyleSheet.prototype.toString = function() {
    return "SafeStyleSheet{" + this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ + "}";
  };
}
goog.html.SafeStyleSheet.unwrap = function(safeStyleSheet) {
  if (safeStyleSheet instanceof goog.html.SafeStyleSheet && safeStyleSheet.constructor === goog.html.SafeStyleSheet && safeStyleSheet.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type SafeStyleSheet, got '" + safeStyleSheet + "'");
    return "type_error:SafeStyleSheet";
  }
};
goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(styleSheet) {
  return (new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(styleSheet);
};
goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(styleSheet) {
  this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = styleSheet;
  return this;
};
goog.html.SafeStyleSheet.EMPTY = goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");
goog.provide("goog.fs.url");
goog.fs.url.createObjectUrl = function(blob) {
  return goog.fs.url.getUrlObject_().createObjectURL(blob);
};
goog.fs.url.revokeObjectUrl = function(url) {
  goog.fs.url.getUrlObject_().revokeObjectURL(url);
};
goog.fs.url.UrlObject_;
goog.fs.url.getUrlObject_ = function() {
  var urlObject = goog.fs.url.findUrlObject_();
  if (urlObject != null) {
    return urlObject;
  } else {
    throw Error("This browser doesn't seem to support blob URLs");
  }
};
goog.fs.url.findUrlObject_ = function() {
  if (goog.isDef(goog.global.URL) && goog.isDef(goog.global.URL.createObjectURL)) {
    return (goog.global.URL);
  } else {
    if (goog.isDef(goog.global.webkitURL) && goog.isDef(goog.global.webkitURL.createObjectURL)) {
      return (goog.global.webkitURL);
    } else {
      if (goog.isDef(goog.global.createObjectURL)) {
        return (goog.global);
      } else {
        return null;
      }
    }
  }
};
goog.fs.url.browserSupportsObjectUrls = function() {
  return goog.fs.url.findUrlObject_() != null;
};
goog.provide("goog.i18n.bidi");
goog.provide("goog.i18n.bidi.Dir");
goog.provide("goog.i18n.bidi.DirectionalString");
goog.provide("goog.i18n.bidi.Format");
goog.define("goog.i18n.bidi.FORCE_RTL", false);
goog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || (goog.LOCALE.substring(0, 2).toLowerCase() == "ar" || goog.LOCALE.substring(0, 2).toLowerCase() == "fa" || goog.LOCALE.substring(0, 2).toLowerCase() == "he" || goog.LOCALE.substring(0, 2).toLowerCase() == "iw" || goog.LOCALE.substring(0, 2).toLowerCase() == "ps" || goog.LOCALE.substring(0, 2).toLowerCase() == "sd" || goog.LOCALE.substring(0, 2).toLowerCase() == "ug" || goog.LOCALE.substring(0, 2).toLowerCase() == "ur" || goog.LOCALE.substring(0, 
2).toLowerCase() == "yi") && (goog.LOCALE.length == 2 || goog.LOCALE.substring(2, 3) == "-" || goog.LOCALE.substring(2, 3) == "_") || goog.LOCALE.length >= 3 && goog.LOCALE.substring(0, 3).toLowerCase() == "ckb" && (goog.LOCALE.length == 3 || goog.LOCALE.substring(3, 4) == "-" || goog.LOCALE.substring(3, 4) == "_");
goog.i18n.bidi.Format = {LRE:"\u202a", RLE:"\u202b", PDF:"\u202c", LRM:"\u200e", RLM:"\u200f"};
goog.i18n.bidi.Dir = {LTR:1, RTL:-1, NEUTRAL:0};
goog.i18n.bidi.RIGHT = "right";
goog.i18n.bidi.LEFT = "left";
goog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;
goog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;
goog.i18n.bidi.toDir = function(givenDir, opt_noNeutral) {
  if (typeof givenDir == "number") {
    return givenDir > 0 ? goog.i18n.bidi.Dir.LTR : givenDir < 0 ? goog.i18n.bidi.Dir.RTL : opt_noNeutral ? null : goog.i18n.bidi.Dir.NEUTRAL;
  } else {
    if (givenDir == null) {
      return null;
    } else {
      return givenDir ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;
    }
  }
};
goog.i18n.bidi.ltrChars_ = "A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff" + "\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff";
goog.i18n.bidi.rtlChars_ = "\u0591-\u06ef\u06fa-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc";
goog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;
goog.i18n.bidi.stripHtmlIfNeeded_ = function(str, opt_isStripNeeded) {
  return opt_isStripNeeded ? str.replace(goog.i18n.bidi.htmlSkipReg_, "") : str;
};
goog.i18n.bidi.rtlCharReg_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.ltrCharReg_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.hasAnyRtl = function(str, opt_isHtml) {
  return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr = function(str, opt_isHtml) {
  return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.ltrRe_ = new RegExp("^[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.rtlRe_ = new RegExp("^[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.isRtlChar = function(str) {
  return goog.i18n.bidi.rtlRe_.test(str);
};
goog.i18n.bidi.isLtrChar = function(str) {
  return goog.i18n.bidi.ltrRe_.test(str);
};
goog.i18n.bidi.isNeutralChar = function(str) {
  return !goog.i18n.bidi.isLtrChar(str) && !goog.i18n.bidi.isRtlChar(str);
};
goog.i18n.bidi.ltrDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.rtlChars_ + "]*[" + goog.i18n.bidi.ltrChars_ + "]");
goog.i18n.bidi.rtlDirCheckRe_ = new RegExp("^[^" + goog.i18n.bidi.ltrChars_ + "]*[" + goog.i18n.bidi.rtlChars_ + "]");
goog.i18n.bidi.startsWithRtl = function(str, opt_isHtml) {
  return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr = function(str, opt_isHtml) {
  return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;
goog.i18n.bidi.isRequiredLtrRe_ = /^http:\/\/.*/;
goog.i18n.bidi.isNeutralText = function(str, opt_isHtml) {
  str = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml);
  return goog.i18n.bidi.isRequiredLtrRe_.test(str) || !goog.i18n.bidi.hasAnyLtr(str) && !goog.i18n.bidi.hasAnyRtl(str);
};
goog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.ltrChars_ + "][^" + goog.i18n.bidi.rtlChars_ + "]*$");
goog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp("[" + goog.i18n.bidi.rtlChars_ + "][^" + goog.i18n.bidi.ltrChars_ + "]*$");
goog.i18n.bidi.endsWithLtr = function(str, opt_isHtml) {
  return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl = function(str, opt_isHtml) {
  return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));
};
goog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;
goog.i18n.bidi.rtlLocalesRe_ = new RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|" + ".*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))" + "(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)", "i");
goog.i18n.bidi.isRtlLanguage = function(lang) {
  return goog.i18n.bidi.rtlLocalesRe_.test(lang);
};
goog.i18n.bidi.bracketGuardHtmlRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g;
goog.i18n.bidi.bracketGuardTextRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;
goog.i18n.bidi.guardBracketInHtml = function(s, opt_isRtlContext) {
  var useRtl = opt_isRtlContext === undefined ? goog.i18n.bidi.hasAnyRtl(s) : opt_isRtlContext;
  if (useRtl) {
    return s.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "\x3cspan dir\x3drtl\x3e$\x26\x3c/span\x3e");
  }
  return s.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "\x3cspan dir\x3dltr\x3e$\x26\x3c/span\x3e");
};
goog.i18n.bidi.guardBracketInText = function(s, opt_isRtlContext) {
  var useRtl = opt_isRtlContext === undefined ? goog.i18n.bidi.hasAnyRtl(s) : opt_isRtlContext;
  var mark = useRtl ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;
  return s.replace(goog.i18n.bidi.bracketGuardTextRe_, mark + "$\x26" + mark);
};
goog.i18n.bidi.enforceRtlInHtml = function(html) {
  if (html.charAt(0) == "\x3c") {
    return html.replace(/<\w+/, "$\x26 dir\x3drtl");
  }
  return "\n\x3cspan dir\x3drtl\x3e" + html + "\x3c/span\x3e";
};
goog.i18n.bidi.enforceRtlInText = function(text) {
  return goog.i18n.bidi.Format.RLE + text + goog.i18n.bidi.Format.PDF;
};
goog.i18n.bidi.enforceLtrInHtml = function(html) {
  if (html.charAt(0) == "\x3c") {
    return html.replace(/<\w+/, "$\x26 dir\x3dltr");
  }
  return "\n\x3cspan dir\x3dltr\x3e" + html + "\x3c/span\x3e";
};
goog.i18n.bidi.enforceLtrInText = function(text) {
  return goog.i18n.bidi.Format.LRE + text + goog.i18n.bidi.Format.PDF;
};
goog.i18n.bidi.dimensionsRe_ = /:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;
goog.i18n.bidi.leftRe_ = /left/gi;
goog.i18n.bidi.rightRe_ = /right/gi;
goog.i18n.bidi.tempRe_ = /%%%%/g;
goog.i18n.bidi.mirrorCSS = function(cssStr) {
  return cssStr.replace(goog.i18n.bidi.dimensionsRe_, ":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_, "%%%%").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);
};
goog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\u0591-\u05f2])"/g;
goog.i18n.bidi.singleQuoteSubstituteRe_ = /([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote = function(str) {
  return str.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, "$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, "$1\u05f3");
};
goog.i18n.bidi.wordSeparatorRe_ = /\s+/;
goog.i18n.bidi.hasNumeralsRe_ = /[\d\u06f0-\u06f9]/;
goog.i18n.bidi.rtlDetectionThreshold_ = .4;
goog.i18n.bidi.estimateDirection = function(str, opt_isHtml) {
  var rtlCount = 0;
  var totalCount = 0;
  var hasWeaklyLtr = false;
  var tokens = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml).split(goog.i18n.bidi.wordSeparatorRe_);
  for (var i = 0;i < tokens.length;i++) {
    var token = tokens[i];
    if (goog.i18n.bidi.startsWithRtl(token)) {
      rtlCount++;
      totalCount++;
    } else {
      if (goog.i18n.bidi.isRequiredLtrRe_.test(token)) {
        hasWeaklyLtr = true;
      } else {
        if (goog.i18n.bidi.hasAnyLtr(token)) {
          totalCount++;
        } else {
          if (goog.i18n.bidi.hasNumeralsRe_.test(token)) {
            hasWeaklyLtr = true;
          }
        }
      }
    }
  }
  return totalCount == 0 ? hasWeaklyLtr ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : rtlCount / totalCount > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;
};
goog.i18n.bidi.detectRtlDirectionality = function(str, opt_isHtml) {
  return goog.i18n.bidi.estimateDirection(str, opt_isHtml) == goog.i18n.bidi.Dir.RTL;
};
goog.i18n.bidi.setElementDirAndAlign = function(element, dir) {
  if (element) {
    dir = goog.i18n.bidi.toDir(dir);
    if (dir) {
      element.style.textAlign = dir == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;
      element.dir = dir == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr";
    }
  }
};
goog.i18n.bidi.setElementDirByTextDirectionality = function(element, text) {
  switch(goog.i18n.bidi.estimateDirection(text)) {
    case goog.i18n.bidi.Dir.LTR:
      element.dir = "ltr";
      break;
    case goog.i18n.bidi.Dir.RTL:
      element.dir = "rtl";
      break;
    default:
      element.removeAttribute("dir");
  }
};
goog.i18n.bidi.DirectionalString = function() {
};
goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString;
goog.i18n.bidi.DirectionalString.prototype.getDirection;
goog.provide("goog.html.SafeUrl");
goog.require("goog.asserts");
goog.require("goog.fs.url");
goog.require("goog.i18n.bidi.Dir");
goog.require("goog.i18n.bidi.DirectionalString");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.SafeUrl = function() {
  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";
  this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeUrl.INNOCUOUS_STRING = "about:invalid#zClosurez";
goog.html.SafeUrl.prototype.implementsGoogStringTypedString = true;
goog.html.SafeUrl.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
};
goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = true;
goog.html.SafeUrl.prototype.getDirection = function() {
  return goog.i18n.bidi.Dir.LTR;
};
if (goog.DEBUG) {
  goog.html.SafeUrl.prototype.toString = function() {
    return "SafeUrl{" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + "}";
  };
}
goog.html.SafeUrl.unwrap = function(safeUrl) {
  if (safeUrl instanceof goog.html.SafeUrl && safeUrl.constructor === goog.html.SafeUrl && safeUrl.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type SafeUrl, got '" + safeUrl + "'");
    return "type_error:SafeUrl";
  }
};
goog.html.SafeUrl.fromConstant = function(url) {
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));
};
goog.html.SAFE_MIME_TYPE_PATTERN_ = /^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i;
goog.html.SafeUrl.fromBlob = function(blob) {
  var url = goog.html.SAFE_MIME_TYPE_PATTERN_.test(blob.type) ? goog.fs.url.createObjectUrl(blob) : goog.html.SafeUrl.INNOCUOUS_STRING;
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.html.DATA_URL_PATTERN_ = /^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i;
goog.html.SafeUrl.fromDataUrl = function(dataUrl) {
  var match = dataUrl.match(goog.html.DATA_URL_PATTERN_);
  var valid = match && goog.html.SAFE_MIME_TYPE_PATTERN_.test(match[1]);
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(valid ? dataUrl : goog.html.SafeUrl.INNOCUOUS_STRING);
};
goog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;
goog.html.SafeUrl.sanitize = function(url) {
  if (url instanceof goog.html.SafeUrl) {
    return url;
  } else {
    if (url.implementsGoogStringTypedString) {
      url = url.getTypedStringValue();
    } else {
      url = String(url);
    }
  }
  if (!goog.html.SAFE_URL_PATTERN_.test(url)) {
    url = goog.html.SafeUrl.INNOCUOUS_STRING;
  }
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(url) {
  var safeUrl = new goog.html.SafeUrl;
  safeUrl.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = url;
  return safeUrl;
};
goog.provide("goog.html.TrustedResourceUrl");
goog.require("goog.asserts");
goog.require("goog.i18n.bidi.Dir");
goog.require("goog.i18n.bidi.DirectionalString");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.TrustedResourceUrl = function() {
  this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = "";
  this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = true;
goog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;
};
goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = true;
goog.html.TrustedResourceUrl.prototype.getDirection = function() {
  return goog.i18n.bidi.Dir.LTR;
};
if (goog.DEBUG) {
  goog.html.TrustedResourceUrl.prototype.toString = function() {
    return "TrustedResourceUrl{" + this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + "}";
  };
}
goog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {
  if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl && trustedResourceUrl.constructor === goog.html.TrustedResourceUrl && trustedResourceUrl.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type TrustedResourceUrl, got '" + trustedResourceUrl + "'");
    return "type_error:TrustedResourceUrl";
  }
};
goog.html.TrustedResourceUrl.fromConstant = function(url) {
  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));
};
goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {
  var trustedResourceUrl = new goog.html.TrustedResourceUrl;
  trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = url;
  return trustedResourceUrl;
};
goog.provide("goog.html.SafeHtml");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom.TagName");
goog.require("goog.dom.tags");
goog.require("goog.html.SafeStyle");
goog.require("goog.html.SafeStyleSheet");
goog.require("goog.html.SafeUrl");
goog.require("goog.html.TrustedResourceUrl");
goog.require("goog.i18n.bidi.Dir");
goog.require("goog.i18n.bidi.DirectionalString");
goog.require("goog.object");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.SafeHtml = function() {
  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";
  this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
  this.dir_ = null;
};
goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString = true;
goog.html.SafeHtml.prototype.getDirection = function() {
  return this.dir_;
};
goog.html.SafeHtml.prototype.implementsGoogStringTypedString = true;
goog.html.SafeHtml.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
};
if (goog.DEBUG) {
  goog.html.SafeHtml.prototype.toString = function() {
    return "SafeHtml{" + this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ + "}";
  };
}
goog.html.SafeHtml.unwrap = function(safeHtml) {
  if (safeHtml instanceof goog.html.SafeHtml && safeHtml.constructor === goog.html.SafeHtml && safeHtml.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type SafeHtml, got '" + safeHtml + "'");
    return "type_error:SafeHtml";
  }
};
goog.html.SafeHtml.TextOrHtml_;
goog.html.SafeHtml.htmlEscape = function(textOrHtml) {
  if (textOrHtml instanceof goog.html.SafeHtml) {
    return textOrHtml;
  }
  var dir = null;
  if (textOrHtml.implementsGoogI18nBidiDirectionalString) {
    dir = textOrHtml.getDirection();
  }
  var textAsString;
  if (textOrHtml.implementsGoogStringTypedString) {
    textAsString = textOrHtml.getTypedStringValue();
  } else {
    textAsString = String(textOrHtml);
  }
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(textAsString), dir);
};
goog.html.SafeHtml.htmlEscapePreservingNewlines = function(textOrHtml) {
  if (textOrHtml instanceof goog.html.SafeHtml) {
    return textOrHtml;
  }
  var html = goog.html.SafeHtml.htmlEscape(textOrHtml);
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(html)), html.getDirection());
};
goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(textOrHtml) {
  if (textOrHtml instanceof goog.html.SafeHtml) {
    return textOrHtml;
  }
  var html = goog.html.SafeHtml.htmlEscape(textOrHtml);
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(html)), html.getDirection());
};
goog.html.SafeHtml.from = goog.html.SafeHtml.htmlEscape;
goog.html.SafeHtml.VALID_NAMES_IN_TAG_ = /^[a-zA-Z0-9-]+$/;
goog.html.SafeHtml.URL_ATTRIBUTES_ = goog.object.createSet("action", "cite", "data", "formaction", "href", "manifest", "poster", "src");
goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_ = goog.object.createSet(goog.dom.TagName.EMBED, goog.dom.TagName.IFRAME, goog.dom.TagName.LINK, goog.dom.TagName.OBJECT, goog.dom.TagName.SCRIPT, goog.dom.TagName.STYLE, goog.dom.TagName.TEMPLATE);
goog.html.SafeHtml.AttributeValue_;
goog.html.SafeHtml.create = function(tagName, opt_attributes, opt_content) {
  if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tagName)) {
    throw Error("Invalid tag name \x3c" + tagName + "\x3e.");
  }
  if (tagName.toUpperCase() in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_) {
    throw Error("Tag name \x3c" + tagName + "\x3e is not allowed for SafeHtml.");
  }
  return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(tagName, opt_attributes, opt_content);
};
goog.html.SafeHtml.createIframe = function(opt_src, opt_srcdoc, opt_attributes, opt_content) {
  var fixedAttributes = {};
  fixedAttributes["src"] = opt_src || null;
  fixedAttributes["srcdoc"] = opt_srcdoc || null;
  var defaultAttributes = {"sandbox":""};
  var attributes = goog.html.SafeHtml.combineAttributes(fixedAttributes, defaultAttributes, opt_attributes);
  return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe", attributes, opt_content);
};
goog.html.SafeHtml.createStyle = function(styleSheet, opt_attributes) {
  var fixedAttributes = {"type":"text/css"};
  var defaultAttributes = {};
  var attributes = goog.html.SafeHtml.combineAttributes(fixedAttributes, defaultAttributes, opt_attributes);
  var content = "";
  styleSheet = goog.array.concat(styleSheet);
  for (var i = 0;i < styleSheet.length;i++) {
    content += goog.html.SafeStyleSheet.unwrap(styleSheet[i]);
  }
  var htmlContent = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);
  return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style", attributes, htmlContent);
};
goog.html.SafeHtml.getAttrNameAndValue_ = function(tagName, name, value) {
  if (value instanceof goog.string.Const) {
    value = goog.string.Const.unwrap(value);
  } else {
    if (name.toLowerCase() == "style") {
      value = goog.html.SafeHtml.getStyleValue_(value);
    } else {
      if (/^on/i.test(name)) {
        throw Error('Attribute "' + name + '" requires goog.string.Const value, "' + value + '" given.');
      } else {
        if (name.toLowerCase() in goog.html.SafeHtml.URL_ATTRIBUTES_) {
          if (value instanceof goog.html.TrustedResourceUrl) {
            value = goog.html.TrustedResourceUrl.unwrap(value);
          } else {
            if (value instanceof goog.html.SafeUrl) {
              value = goog.html.SafeUrl.unwrap(value);
            } else {
              if (goog.isString(value)) {
                value = goog.html.SafeUrl.sanitize(value).getTypedStringValue();
              } else {
                throw Error('Attribute "' + name + '" on tag "' + tagName + '" requires goog.html.SafeUrl, goog.string.Const, or string,' + ' value "' + value + '" given.');
              }
            }
          }
        }
      }
    }
  }
  if (value.implementsGoogStringTypedString) {
    value = value.getTypedStringValue();
  }
  goog.asserts.assert(goog.isString(value) || goog.isNumber(value), "String or number value expected, got " + typeof value + " with value: " + value);
  return name + '\x3d"' + goog.string.htmlEscape(String(value)) + '"';
};
goog.html.SafeHtml.getStyleValue_ = function(value) {
  if (!goog.isObject(value)) {
    throw Error('The "style" attribute requires goog.html.SafeStyle or map ' + "of style properties, " + typeof value + " given: " + value);
  }
  if (!(value instanceof goog.html.SafeStyle)) {
    value = goog.html.SafeStyle.create(value);
  }
  return goog.html.SafeStyle.unwrap(value);
};
goog.html.SafeHtml.createWithDir = function(dir, tagName, opt_attributes, opt_content) {
  var html = goog.html.SafeHtml.create(tagName, opt_attributes, opt_content);
  html.dir_ = dir;
  return html;
};
goog.html.SafeHtml.concat = function(var_args) {
  var dir = goog.i18n.bidi.Dir.NEUTRAL;
  var content = "";
  var addArgument = function(argument) {
    if (goog.isArray(argument)) {
      goog.array.forEach(argument, addArgument);
    } else {
      var html = goog.html.SafeHtml.htmlEscape(argument);
      content += goog.html.SafeHtml.unwrap(html);
      var htmlDir = html.getDirection();
      if (dir == goog.i18n.bidi.Dir.NEUTRAL) {
        dir = htmlDir;
      } else {
        if (htmlDir != goog.i18n.bidi.Dir.NEUTRAL && dir != htmlDir) {
          dir = null;
        }
      }
    }
  };
  goog.array.forEach(arguments, addArgument);
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, dir);
};
goog.html.SafeHtml.concatWithDir = function(dir, var_args) {
  var html = goog.html.SafeHtml.concat(goog.array.slice(arguments, 1));
  html.dir_ = dir;
  return html;
};
goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(html, dir) {
  return (new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(html, dir);
};
goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(html, dir) {
  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = html;
  this.dir_ = dir;
  return this;
};
goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(tagName, opt_attributes, opt_content) {
  var dir = null;
  var result = "\x3c" + tagName;
  if (opt_attributes) {
    for (var name in opt_attributes) {
      if (!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(name)) {
        throw Error('Invalid attribute name "' + name + '".');
      }
      var value = opt_attributes[name];
      if (!goog.isDefAndNotNull(value)) {
        continue;
      }
      result += " " + goog.html.SafeHtml.getAttrNameAndValue_(tagName, name, value);
    }
  }
  var content = opt_content;
  if (!goog.isDefAndNotNull(content)) {
    content = [];
  } else {
    if (!goog.isArray(content)) {
      content = [content];
    }
  }
  if (goog.dom.tags.isVoidTag(tagName.toLowerCase())) {
    goog.asserts.assert(!content.length, "Void tag \x3c" + tagName + "\x3e does not allow content.");
    result += "\x3e";
  } else {
    var html = goog.html.SafeHtml.concat(content);
    result += "\x3e" + goog.html.SafeHtml.unwrap(html) + "\x3c/" + tagName + "\x3e";
    dir = html.getDirection();
  }
  var dirAttribute = opt_attributes && opt_attributes["dir"];
  if (dirAttribute) {
    if (/^(ltr|rtl|auto)$/i.test(dirAttribute)) {
      dir = goog.i18n.bidi.Dir.NEUTRAL;
    } else {
      dir = null;
    }
  }
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(result, dir);
};
goog.html.SafeHtml.combineAttributes = function(fixedAttributes, defaultAttributes, opt_attributes) {
  var combinedAttributes = {};
  var name;
  for (name in fixedAttributes) {
    goog.asserts.assert(name.toLowerCase() == name, "Must be lower case");
    combinedAttributes[name] = fixedAttributes[name];
  }
  for (name in defaultAttributes) {
    goog.asserts.assert(name.toLowerCase() == name, "Must be lower case");
    combinedAttributes[name] = defaultAttributes[name];
  }
  for (name in opt_attributes) {
    var nameLower = name.toLowerCase();
    if (nameLower in fixedAttributes) {
      throw Error('Cannot override "' + nameLower + '" attribute, got "' + name + '" with value "' + opt_attributes[name] + '"');
    }
    if (nameLower in defaultAttributes) {
      delete combinedAttributes[nameLower];
    }
    combinedAttributes[name] = opt_attributes[name];
  }
  return combinedAttributes;
};
goog.html.SafeHtml.DOCTYPE_HTML = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!DOCTYPE html\x3e", goog.i18n.bidi.Dir.NEUTRAL);
goog.html.SafeHtml.EMPTY = goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("", goog.i18n.bidi.Dir.NEUTRAL);
goog.provide("goog.dom.safe");
goog.provide("goog.dom.safe.InsertAdjacentHtmlPosition");
goog.require("goog.asserts");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.SafeUrl");
goog.require("goog.html.TrustedResourceUrl");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.dom.safe.InsertAdjacentHtmlPosition = {AFTERBEGIN:"afterbegin", AFTEREND:"afterend", BEFOREBEGIN:"beforebegin", BEFOREEND:"beforeend"};
goog.dom.safe.insertAdjacentHtml = function(node, position, html) {
  node.insertAdjacentHTML(position, goog.html.SafeHtml.unwrap(html));
};
goog.dom.safe.setInnerHtml = function(elem, html) {
  elem.innerHTML = goog.html.SafeHtml.unwrap(html);
};
goog.dom.safe.setOuterHtml = function(elem, html) {
  elem.outerHTML = goog.html.SafeHtml.unwrap(html);
};
goog.dom.safe.documentWrite = function(doc, html) {
  doc.write(goog.html.SafeHtml.unwrap(html));
};
goog.dom.safe.setAnchorHref = function(anchor, url) {
  var safeUrl;
  if (url instanceof goog.html.SafeUrl) {
    safeUrl = url;
  } else {
    safeUrl = goog.html.SafeUrl.sanitize(url);
  }
  anchor.href = goog.html.SafeUrl.unwrap(safeUrl);
};
goog.dom.safe.setEmbedSrc = function(embed, url) {
  embed.src = goog.html.TrustedResourceUrl.unwrap(url);
};
goog.dom.safe.setFrameSrc = function(frame, url) {
  frame.src = goog.html.TrustedResourceUrl.unwrap(url);
};
goog.dom.safe.setIframeSrc = function(iframe, url) {
  iframe.src = goog.html.TrustedResourceUrl.unwrap(url);
};
goog.dom.safe.setLinkHrefAndRel = function(link, url, rel) {
  link.rel = rel;
  if (goog.string.caseInsensitiveContains(rel, "stylesheet")) {
    goog.asserts.assert(url instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because "rel" contains "stylesheet"');
    link.href = goog.html.TrustedResourceUrl.unwrap(url);
  } else {
    if (url instanceof goog.html.TrustedResourceUrl) {
      link.href = goog.html.TrustedResourceUrl.unwrap(url);
    } else {
      if (url instanceof goog.html.SafeUrl) {
        link.href = goog.html.SafeUrl.unwrap(url);
      } else {
        link.href = goog.html.SafeUrl.sanitize(url).getTypedStringValue();
      }
    }
  }
};
goog.dom.safe.setObjectData = function(object, url) {
  object.data = goog.html.TrustedResourceUrl.unwrap(url);
};
goog.dom.safe.setScriptSrc = function(script, url) {
  script.src = goog.html.TrustedResourceUrl.unwrap(url);
};
goog.dom.safe.setLocationHref = function(loc, url) {
  var safeUrl;
  if (url instanceof goog.html.SafeUrl) {
    safeUrl = url;
  } else {
    safeUrl = goog.html.SafeUrl.sanitize(url);
  }
  loc.href = goog.html.SafeUrl.unwrap(safeUrl);
};
goog.dom.safe.openInWindow = function(url, opt_openerWin, opt_name, opt_specs, opt_replace) {
  var safeUrl;
  if (url instanceof goog.html.SafeUrl) {
    safeUrl = url;
  } else {
    safeUrl = goog.html.SafeUrl.sanitize(url);
  }
  var win = opt_openerWin || window;
  return win.open(goog.html.SafeUrl.unwrap(safeUrl), opt_name ? goog.string.Const.unwrap(opt_name) : "", opt_specs, opt_replace);
};
goog.provide("goog.math.Coordinate");
goog.require("goog.math");
goog.math.Coordinate = function(opt_x, opt_y) {
  this.x = goog.isDef(opt_x) ? opt_x : 0;
  this.y = goog.isDef(opt_y) ? opt_y : 0;
};
goog.math.Coordinate.prototype.clone = function() {
  return new goog.math.Coordinate(this.x, this.y);
};
if (goog.DEBUG) {
  goog.math.Coordinate.prototype.toString = function() {
    return "(" + this.x + ", " + this.y + ")";
  };
}
goog.math.Coordinate.equals = function(a, b) {
  if (a == b) {
    return true;
  }
  if (!a || !b) {
    return false;
  }
  return a.x == b.x && a.y == b.y;
};
goog.math.Coordinate.distance = function(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.sqrt(dx * dx + dy * dy);
};
goog.math.Coordinate.magnitude = function(a) {
  return Math.sqrt(a.x * a.x + a.y * a.y);
};
goog.math.Coordinate.azimuth = function(a) {
  return goog.math.angle(0, 0, a.x, a.y);
};
goog.math.Coordinate.squaredDistance = function(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return dx * dx + dy * dy;
};
goog.math.Coordinate.difference = function(a, b) {
  return new goog.math.Coordinate(a.x - b.x, a.y - b.y);
};
goog.math.Coordinate.sum = function(a, b) {
  return new goog.math.Coordinate(a.x + b.x, a.y + b.y);
};
goog.math.Coordinate.prototype.ceil = function() {
  this.x = Math.ceil(this.x);
  this.y = Math.ceil(this.y);
  return this;
};
goog.math.Coordinate.prototype.floor = function() {
  this.x = Math.floor(this.x);
  this.y = Math.floor(this.y);
  return this;
};
goog.math.Coordinate.prototype.round = function() {
  this.x = Math.round(this.x);
  this.y = Math.round(this.y);
  return this;
};
goog.math.Coordinate.prototype.translate = function(tx, opt_ty) {
  if (tx instanceof goog.math.Coordinate) {
    this.x += tx.x;
    this.y += tx.y;
  } else {
    this.x += tx;
    if (goog.isNumber(opt_ty)) {
      this.y += opt_ty;
    }
  }
  return this;
};
goog.math.Coordinate.prototype.scale = function(sx, opt_sy) {
  var sy = goog.isNumber(opt_sy) ? opt_sy : sx;
  this.x *= sx;
  this.y *= sy;
  return this;
};
goog.math.Coordinate.prototype.rotateRadians = function(radians, opt_center) {
  var center = opt_center || new goog.math.Coordinate(0, 0);
  var x = this.x;
  var y = this.y;
  var cos = Math.cos(radians);
  var sin = Math.sin(radians);
  this.x = (x - center.x) * cos - (y - center.y) * sin + center.x;
  this.y = (x - center.x) * sin + (y - center.y) * cos + center.y;
};
goog.math.Coordinate.prototype.rotateDegrees = function(degrees, opt_center) {
  this.rotateRadians(goog.math.toRadians(degrees), opt_center);
};
goog.provide("goog.math.Size");
goog.math.Size = function(width, height) {
  this.width = width;
  this.height = height;
};
goog.math.Size.equals = function(a, b) {
  if (a == b) {
    return true;
  }
  if (!a || !b) {
    return false;
  }
  return a.width == b.width && a.height == b.height;
};
goog.math.Size.prototype.clone = function() {
  return new goog.math.Size(this.width, this.height);
};
if (goog.DEBUG) {
  goog.math.Size.prototype.toString = function() {
    return "(" + this.width + " x " + this.height + ")";
  };
}
goog.math.Size.prototype.getLongest = function() {
  return Math.max(this.width, this.height);
};
goog.math.Size.prototype.getShortest = function() {
  return Math.min(this.width, this.height);
};
goog.math.Size.prototype.area = function() {
  return this.width * this.height;
};
goog.math.Size.prototype.perimeter = function() {
  return (this.width + this.height) * 2;
};
goog.math.Size.prototype.aspectRatio = function() {
  return this.width / this.height;
};
goog.math.Size.prototype.isEmpty = function() {
  return !this.area();
};
goog.math.Size.prototype.ceil = function() {
  this.width = Math.ceil(this.width);
  this.height = Math.ceil(this.height);
  return this;
};
goog.math.Size.prototype.fitsInside = function(target) {
  return this.width <= target.width && this.height <= target.height;
};
goog.math.Size.prototype.floor = function() {
  this.width = Math.floor(this.width);
  this.height = Math.floor(this.height);
  return this;
};
goog.math.Size.prototype.round = function() {
  this.width = Math.round(this.width);
  this.height = Math.round(this.height);
  return this;
};
goog.math.Size.prototype.scale = function(sx, opt_sy) {
  var sy = goog.isNumber(opt_sy) ? opt_sy : sx;
  this.width *= sx;
  this.height *= sy;
  return this;
};
goog.math.Size.prototype.scaleToCover = function(target) {
  var s = this.aspectRatio() <= target.aspectRatio() ? target.width / this.width : target.height / this.height;
  return this.scale(s);
};
goog.math.Size.prototype.scaleToFit = function(target) {
  var s = this.aspectRatio() > target.aspectRatio() ? target.width / this.width : target.height / this.height;
  return this.scale(s);
};
goog.provide("goog.dom");
goog.provide("goog.dom.Appendable");
goog.provide("goog.dom.DomHelper");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom.BrowserFeature");
goog.require("goog.dom.NodeType");
goog.require("goog.dom.TagName");
goog.require("goog.dom.safe");
goog.require("goog.html.SafeHtml");
goog.require("goog.math.Coordinate");
goog.require("goog.math.Size");
goog.require("goog.object");
goog.require("goog.string");
goog.require("goog.string.Unicode");
goog.require("goog.userAgent");
goog.define("goog.dom.ASSUME_QUIRKS_MODE", false);
goog.define("goog.dom.ASSUME_STANDARDS_MODE", false);
goog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;
goog.dom.getDomHelper = function(opt_element) {
  return opt_element ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper);
};
goog.dom.defaultDomHelper_;
goog.dom.getDocument = function() {
  return document;
};
goog.dom.getElement = function(element) {
  return goog.dom.getElementHelper_(document, element);
};
goog.dom.getElementHelper_ = function(doc, element) {
  return goog.isString(element) ? doc.getElementById(element) : element;
};
goog.dom.getRequiredElement = function(id) {
  return goog.dom.getRequiredElementHelper_(document, id);
};
goog.dom.getRequiredElementHelper_ = function(doc, id) {
  goog.asserts.assertString(id);
  var element = goog.dom.getElementHelper_(doc, id);
  element = goog.asserts.assertElement(element, "No element found with id: " + id);
  return element;
};
goog.dom.$ = goog.dom.getElement;
goog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {
  return goog.dom.getElementsByTagNameAndClass_(document, opt_tag, opt_class, opt_el);
};
goog.dom.getElementsByClass = function(className, opt_el) {
  var parent = opt_el || document;
  if (goog.dom.canUseQuerySelector_(parent)) {
    return parent.querySelectorAll("." + className);
  }
  return goog.dom.getElementsByTagNameAndClass_(document, "*", className, opt_el);
};
goog.dom.getElementByClass = function(className, opt_el) {
  var parent = opt_el || document;
  var retVal = null;
  if (parent.getElementsByClassName) {
    retVal = parent.getElementsByClassName(className)[0];
  } else {
    if (goog.dom.canUseQuerySelector_(parent)) {
      retVal = parent.querySelector("." + className);
    } else {
      retVal = goog.dom.getElementsByTagNameAndClass_(document, "*", className, opt_el)[0];
    }
  }
  return retVal || null;
};
goog.dom.getRequiredElementByClass = function(className, opt_root) {
  var retValue = goog.dom.getElementByClass(className, opt_root);
  return goog.asserts.assert(retValue, "No element found with className: " + className);
};
goog.dom.canUseQuerySelector_ = function(parent) {
  return !!(parent.querySelectorAll && parent.querySelector);
};
goog.dom.getElementsByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {
  var parent = opt_el || doc;
  var tagName = opt_tag && opt_tag != "*" ? opt_tag.toUpperCase() : "";
  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {
    var query = tagName + (opt_class ? "." + opt_class : "");
    return parent.querySelectorAll(query);
  }
  if (opt_class && parent.getElementsByClassName) {
    var els = parent.getElementsByClassName(opt_class);
    if (tagName) {
      var arrayLike = {};
      var len = 0;
      for (var i = 0, el;el = els[i];i++) {
        if (tagName == el.nodeName) {
          arrayLike[len++] = el;
        }
      }
      arrayLike.length = len;
      return arrayLike;
    } else {
      return els;
    }
  }
  var els = parent.getElementsByTagName(tagName || "*");
  if (opt_class) {
    var arrayLike = {};
    var len = 0;
    for (var i = 0, el;el = els[i];i++) {
      var className = el.className;
      if (typeof className.split == "function" && goog.array.contains(className.split(/\s+/), opt_class)) {
        arrayLike[len++] = el;
      }
    }
    arrayLike.length = len;
    return arrayLike;
  } else {
    return els;
  }
};
goog.dom.$$ = goog.dom.getElementsByTagNameAndClass;
goog.dom.setProperties = function(element, properties) {
  goog.object.forEach(properties, function(val, key) {
    if (key == "style") {
      element.style.cssText = val;
    } else {
      if (key == "class") {
        element.className = val;
      } else {
        if (key == "for") {
          element.htmlFor = val;
        } else {
          if (goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key)) {
            element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val);
          } else {
            if (goog.string.startsWith(key, "aria-") || goog.string.startsWith(key, "data-")) {
              element.setAttribute(key, val);
            } else {
              element[key] = val;
            }
          }
        }
      }
    }
  });
};
goog.dom.DIRECT_ATTRIBUTE_MAP_ = {"cellpadding":"cellPadding", "cellspacing":"cellSpacing", "colspan":"colSpan", "frameborder":"frameBorder", "height":"height", "maxlength":"maxLength", "role":"role", "rowspan":"rowSpan", "type":"type", "usemap":"useMap", "valign":"vAlign", "width":"width"};
goog.dom.getViewportSize = function(opt_window) {
  return goog.dom.getViewportSize_(opt_window || window);
};
goog.dom.getViewportSize_ = function(win) {
  var doc = win.document;
  var el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;
  return new goog.math.Size(el.clientWidth, el.clientHeight);
};
goog.dom.getDocumentHeight = function() {
  return goog.dom.getDocumentHeight_(window);
};
goog.dom.getDocumentHeight_ = function(win) {
  var doc = win.document;
  var height = 0;
  if (doc) {
    var body = doc.body;
    var docEl = (doc.documentElement);
    if (!(docEl && body)) {
      return 0;
    }
    var vh = goog.dom.getViewportSize_(win).height;
    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {
      height = docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;
    } else {
      var sh = docEl.scrollHeight;
      var oh = docEl.offsetHeight;
      if (docEl.clientHeight != oh) {
        sh = body.scrollHeight;
        oh = body.offsetHeight;
      }
      if (sh > vh) {
        height = sh > oh ? sh : oh;
      } else {
        height = sh < oh ? sh : oh;
      }
    }
  }
  return height;
};
goog.dom.getPageScroll = function(opt_window) {
  var win = opt_window || goog.global || window;
  return goog.dom.getDomHelper(win.document).getDocumentScroll();
};
goog.dom.getDocumentScroll = function() {
  return goog.dom.getDocumentScroll_(document);
};
goog.dom.getDocumentScroll_ = function(doc) {
  var el = goog.dom.getDocumentScrollElement_(doc);
  var win = goog.dom.getWindow_(doc);
  if (goog.userAgent.IE && goog.userAgent.isVersionOrHigher("10") && win.pageYOffset != el.scrollTop) {
    return new goog.math.Coordinate(el.scrollLeft, el.scrollTop);
  }
  return new goog.math.Coordinate(win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);
};
goog.dom.getDocumentScrollElement = function() {
  return goog.dom.getDocumentScrollElement_(document);
};
goog.dom.getDocumentScrollElement_ = function(doc) {
  if (doc.scrollingElement) {
    return doc.scrollingElement;
  }
  if (!goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc)) {
    return doc.documentElement;
  }
  return doc.body || doc.documentElement;
};
goog.dom.getWindow = function(opt_doc) {
  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;
};
goog.dom.getWindow_ = function(doc) {
  return doc.parentWindow || doc.defaultView;
};
goog.dom.createDom = function(tagName, opt_attributes, var_args) {
  return goog.dom.createDom_(document, arguments);
};
goog.dom.createDom_ = function(doc, args) {
  var tagName = args[0];
  var attributes = args[1];
  if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && attributes && (attributes.name || attributes.type)) {
    var tagNameArr = ["\x3c", tagName];
    if (attributes.name) {
      tagNameArr.push(' name\x3d"', goog.string.htmlEscape(attributes.name), '"');
    }
    if (attributes.type) {
      tagNameArr.push(' type\x3d"', goog.string.htmlEscape(attributes.type), '"');
      var clone = {};
      goog.object.extend(clone, attributes);
      delete clone["type"];
      attributes = clone;
    }
    tagNameArr.push("\x3e");
    tagName = tagNameArr.join("");
  }
  var element = doc.createElement(tagName);
  if (attributes) {
    if (goog.isString(attributes)) {
      element.className = attributes;
    } else {
      if (goog.isArray(attributes)) {
        element.className = attributes.join(" ");
      } else {
        goog.dom.setProperties(element, attributes);
      }
    }
  }
  if (args.length > 2) {
    goog.dom.append_(doc, element, args, 2);
  }
  return element;
};
goog.dom.append_ = function(doc, parent, args, startIndex) {
  function childHandler(child) {
    if (child) {
      parent.appendChild(goog.isString(child) ? doc.createTextNode(child) : child);
    }
  }
  for (var i = startIndex;i < args.length;i++) {
    var arg = args[i];
    if (goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg)) {
      goog.array.forEach(goog.dom.isNodeList(arg) ? goog.array.toArray(arg) : arg, childHandler);
    } else {
      childHandler(arg);
    }
  }
};
goog.dom.$dom = goog.dom.createDom;
goog.dom.createElement = function(name) {
  return document.createElement(name);
};
goog.dom.createTextNode = function(content) {
  return document.createTextNode(String(content));
};
goog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {
  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);
};
goog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {
  var table = (doc.createElement(goog.dom.TagName.TABLE));
  var tbody = table.appendChild(doc.createElement(goog.dom.TagName.TBODY));
  for (var i = 0;i < rows;i++) {
    var tr = doc.createElement(goog.dom.TagName.TR);
    for (var j = 0;j < columns;j++) {
      var td = doc.createElement(goog.dom.TagName.TD);
      if (fillWithNbsp) {
        goog.dom.setTextContent(td, goog.string.Unicode.NBSP);
      }
      tr.appendChild(td);
    }
    tbody.appendChild(tr);
  }
  return table;
};
goog.dom.safeHtmlToNode = function(html) {
  return goog.dom.safeHtmlToNode_(document, html);
};
goog.dom.safeHtmlToNode_ = function(doc, html) {
  var tempDiv = doc.createElement(goog.dom.TagName.DIV);
  if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT) {
    goog.dom.safe.setInnerHtml(tempDiv, goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"), html));
    tempDiv.removeChild(tempDiv.firstChild);
  } else {
    goog.dom.safe.setInnerHtml(tempDiv, html);
  }
  return goog.dom.childrenToNode_(doc, tempDiv);
};
goog.dom.htmlToDocumentFragment = function(htmlString) {
  return goog.dom.htmlToDocumentFragment_(document, htmlString);
};
goog.dom.htmlToDocumentFragment_ = function(doc, htmlString) {
  var tempDiv = doc.createElement(goog.dom.TagName.DIV);
  if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT) {
    tempDiv.innerHTML = "\x3cbr\x3e" + htmlString;
    tempDiv.removeChild(tempDiv.firstChild);
  } else {
    tempDiv.innerHTML = htmlString;
  }
  return goog.dom.childrenToNode_(doc, tempDiv);
};
goog.dom.childrenToNode_ = function(doc, tempDiv) {
  if (tempDiv.childNodes.length == 1) {
    return tempDiv.removeChild(tempDiv.firstChild);
  } else {
    var fragment = doc.createDocumentFragment();
    while (tempDiv.firstChild) {
      fragment.appendChild(tempDiv.firstChild);
    }
    return fragment;
  }
};
goog.dom.isCss1CompatMode = function() {
  return goog.dom.isCss1CompatMode_(document);
};
goog.dom.isCss1CompatMode_ = function(doc) {
  if (goog.dom.COMPAT_MODE_KNOWN_) {
    return goog.dom.ASSUME_STANDARDS_MODE;
  }
  return doc.compatMode == "CSS1Compat";
};
goog.dom.canHaveChildren = function(node) {
  if (node.nodeType != goog.dom.NodeType.ELEMENT) {
    return false;
  }
  switch((node).tagName) {
    case goog.dom.TagName.APPLET:
    ;
    case goog.dom.TagName.AREA:
    ;
    case goog.dom.TagName.BASE:
    ;
    case goog.dom.TagName.BR:
    ;
    case goog.dom.TagName.COL:
    ;
    case goog.dom.TagName.COMMAND:
    ;
    case goog.dom.TagName.EMBED:
    ;
    case goog.dom.TagName.FRAME:
    ;
    case goog.dom.TagName.HR:
    ;
    case goog.dom.TagName.IMG:
    ;
    case goog.dom.TagName.INPUT:
    ;
    case goog.dom.TagName.IFRAME:
    ;
    case goog.dom.TagName.ISINDEX:
    ;
    case goog.dom.TagName.KEYGEN:
    ;
    case goog.dom.TagName.LINK:
    ;
    case goog.dom.TagName.NOFRAMES:
    ;
    case goog.dom.TagName.NOSCRIPT:
    ;
    case goog.dom.TagName.META:
    ;
    case goog.dom.TagName.OBJECT:
    ;
    case goog.dom.TagName.PARAM:
    ;
    case goog.dom.TagName.SCRIPT:
    ;
    case goog.dom.TagName.SOURCE:
    ;
    case goog.dom.TagName.STYLE:
    ;
    case goog.dom.TagName.TRACK:
    ;
    case goog.dom.TagName.WBR:
      return false;
  }
  return true;
};
goog.dom.appendChild = function(parent, child) {
  parent.appendChild(child);
};
goog.dom.append = function(parent, var_args) {
  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);
};
goog.dom.removeChildren = function(node) {
  var child;
  while (child = node.firstChild) {
    node.removeChild(child);
  }
};
goog.dom.insertSiblingBefore = function(newNode, refNode) {
  if (refNode.parentNode) {
    refNode.parentNode.insertBefore(newNode, refNode);
  }
};
goog.dom.insertSiblingAfter = function(newNode, refNode) {
  if (refNode.parentNode) {
    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);
  }
};
goog.dom.insertChildAt = function(parent, child, index) {
  parent.insertBefore(child, parent.childNodes[index] || null);
};
goog.dom.removeNode = function(node) {
  return node && node.parentNode ? node.parentNode.removeChild(node) : null;
};
goog.dom.replaceNode = function(newNode, oldNode) {
  var parent = oldNode.parentNode;
  if (parent) {
    parent.replaceChild(newNode, oldNode);
  }
};
goog.dom.flattenElement = function(element) {
  var child, parent = element.parentNode;
  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {
    if (element.removeNode) {
      return (element.removeNode(false));
    } else {
      while (child = element.firstChild) {
        parent.insertBefore(child, element);
      }
      return (goog.dom.removeNode(element));
    }
  }
};
goog.dom.getChildren = function(element) {
  if (goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE && element.children != undefined) {
    return element.children;
  }
  return goog.array.filter(element.childNodes, function(node) {
    return node.nodeType == goog.dom.NodeType.ELEMENT;
  });
};
goog.dom.getFirstElementChild = function(node) {
  if (goog.isDef(node.firstElementChild)) {
    return (node).firstElementChild;
  }
  return goog.dom.getNextElementNode_(node.firstChild, true);
};
goog.dom.getLastElementChild = function(node) {
  if (goog.isDef(node.lastElementChild)) {
    return (node).lastElementChild;
  }
  return goog.dom.getNextElementNode_(node.lastChild, false);
};
goog.dom.getNextElementSibling = function(node) {
  if (goog.isDef(node.nextElementSibling)) {
    return (node).nextElementSibling;
  }
  return goog.dom.getNextElementNode_(node.nextSibling, true);
};
goog.dom.getPreviousElementSibling = function(node) {
  if (goog.isDef(node.previousElementSibling)) {
    return (node).previousElementSibling;
  }
  return goog.dom.getNextElementNode_(node.previousSibling, false);
};
goog.dom.getNextElementNode_ = function(node, forward) {
  while (node && node.nodeType != goog.dom.NodeType.ELEMENT) {
    node = forward ? node.nextSibling : node.previousSibling;
  }
  return (node);
};
goog.dom.getNextNode = function(node) {
  if (!node) {
    return null;
  }
  if (node.firstChild) {
    return node.firstChild;
  }
  while (node && !node.nextSibling) {
    node = node.parentNode;
  }
  return node ? node.nextSibling : null;
};
goog.dom.getPreviousNode = function(node) {
  if (!node) {
    return null;
  }
  if (!node.previousSibling) {
    return node.parentNode;
  }
  node = node.previousSibling;
  while (node && node.lastChild) {
    node = node.lastChild;
  }
  return node;
};
goog.dom.isNodeLike = function(obj) {
  return goog.isObject(obj) && obj.nodeType > 0;
};
goog.dom.isElement = function(obj) {
  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;
};
goog.dom.isWindow = function(obj) {
  return goog.isObject(obj) && obj["window"] == obj;
};
goog.dom.getParentElement = function(element) {
  var parent;
  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY) {
    var isIe9 = goog.userAgent.IE && goog.userAgent.isVersionOrHigher("9") && !goog.userAgent.isVersionOrHigher("10");
    if (!(isIe9 && goog.global["SVGElement"] && element instanceof goog.global["SVGElement"])) {
      parent = element.parentElement;
      if (parent) {
        return parent;
      }
    }
  }
  parent = element.parentNode;
  return goog.dom.isElement(parent) ? (parent) : null;
};
goog.dom.contains = function(parent, descendant) {
  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {
    return parent == descendant || parent.contains(descendant);
  }
  if (typeof parent.compareDocumentPosition != "undefined") {
    return parent == descendant || Boolean(parent.compareDocumentPosition(descendant) & 16);
  }
  while (descendant && parent != descendant) {
    descendant = descendant.parentNode;
  }
  return descendant == parent;
};
goog.dom.compareNodeOrder = function(node1, node2) {
  if (node1 == node2) {
    return 0;
  }
  if (node1.compareDocumentPosition) {
    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;
  }
  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {
    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {
      return -1;
    }
    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {
      return 1;
    }
  }
  if ("sourceIndex" in node1 || node1.parentNode && "sourceIndex" in node1.parentNode) {
    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT;
    var isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;
    if (isElement1 && isElement2) {
      return node1.sourceIndex - node2.sourceIndex;
    } else {
      var parent1 = node1.parentNode;
      var parent2 = node2.parentNode;
      if (parent1 == parent2) {
        return goog.dom.compareSiblingOrder_(node1, node2);
      }
      if (!isElement1 && goog.dom.contains(parent1, node2)) {
        return -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2);
      }
      if (!isElement2 && goog.dom.contains(parent2, node1)) {
        return goog.dom.compareParentsDescendantNodeIe_(node2, node1);
      }
      return (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);
    }
  }
  var doc = goog.dom.getOwnerDocument(node1);
  var range1, range2;
  range1 = doc.createRange();
  range1.selectNode(node1);
  range1.collapse(true);
  range2 = doc.createRange();
  range2.selectNode(node2);
  range2.collapse(true);
  return range1.compareBoundaryPoints(goog.global["Range"].START_TO_END, range2);
};
goog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {
  var parent = textNode.parentNode;
  if (parent == node) {
    return -1;
  }
  var sibling = node;
  while (sibling.parentNode != parent) {
    sibling = sibling.parentNode;
  }
  return goog.dom.compareSiblingOrder_(sibling, textNode);
};
goog.dom.compareSiblingOrder_ = function(node1, node2) {
  var s = node2;
  while (s = s.previousSibling) {
    if (s == node1) {
      return -1;
    }
  }
  return 1;
};
goog.dom.findCommonAncestor = function(var_args) {
  var i, count = arguments.length;
  if (!count) {
    return null;
  } else {
    if (count == 1) {
      return arguments[0];
    }
  }
  var paths = [];
  var minLength = Infinity;
  for (i = 0;i < count;i++) {
    var ancestors = [];
    var node = arguments[i];
    while (node) {
      ancestors.unshift(node);
      node = node.parentNode;
    }
    paths.push(ancestors);
    minLength = Math.min(minLength, ancestors.length);
  }
  var output = null;
  for (i = 0;i < minLength;i++) {
    var first = paths[0][i];
    for (var j = 1;j < count;j++) {
      if (first != paths[j][i]) {
        return output;
      }
    }
    output = first;
  }
  return output;
};
goog.dom.getOwnerDocument = function(node) {
  goog.asserts.assert(node, "Node cannot be null or undefined.");
  return (node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument || node.document);
};
goog.dom.getFrameContentDocument = function(frame) {
  var doc = frame.contentDocument || frame.contentWindow.document;
  return doc;
};
goog.dom.getFrameContentWindow = function(frame) {
  return frame.contentWindow || goog.dom.getWindow(goog.dom.getFrameContentDocument(frame));
};
goog.dom.setTextContent = function(node, text) {
  goog.asserts.assert(node != null, "goog.dom.setTextContent expects a non-null value for node");
  if ("textContent" in node) {
    node.textContent = text;
  } else {
    if (node.nodeType == goog.dom.NodeType.TEXT) {
      node.data = text;
    } else {
      if (node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {
        while (node.lastChild != node.firstChild) {
          node.removeChild(node.lastChild);
        }
        node.firstChild.data = text;
      } else {
        goog.dom.removeChildren(node);
        var doc = goog.dom.getOwnerDocument(node);
        node.appendChild(doc.createTextNode(String(text)));
      }
    }
  }
};
goog.dom.getOuterHtml = function(element) {
  if ("outerHTML" in element) {
    return element.outerHTML;
  } else {
    var doc = goog.dom.getOwnerDocument(element);
    var div = doc.createElement(goog.dom.TagName.DIV);
    div.appendChild(element.cloneNode(true));
    return div.innerHTML;
  }
};
goog.dom.findNode = function(root, p) {
  var rv = [];
  var found = goog.dom.findNodes_(root, p, rv, true);
  return found ? rv[0] : undefined;
};
goog.dom.findNodes = function(root, p) {
  var rv = [];
  goog.dom.findNodes_(root, p, rv, false);
  return rv;
};
goog.dom.findNodes_ = function(root, p, rv, findOne) {
  if (root != null) {
    var child = root.firstChild;
    while (child) {
      if (p(child)) {
        rv.push(child);
        if (findOne) {
          return true;
        }
      }
      if (goog.dom.findNodes_(child, p, rv, findOne)) {
        return true;
      }
      child = child.nextSibling;
    }
  }
  return false;
};
goog.dom.TAGS_TO_IGNORE_ = {"SCRIPT":1, "STYLE":1, "HEAD":1, "IFRAME":1, "OBJECT":1};
goog.dom.PREDEFINED_TAG_VALUES_ = {"IMG":" ", "BR":"\n"};
goog.dom.isFocusableTabIndex = function(element) {
  return goog.dom.hasSpecifiedTabIndex_(element) && goog.dom.isTabIndexFocusable_(element);
};
goog.dom.setFocusableTabIndex = function(element, enable) {
  if (enable) {
    element.tabIndex = 0;
  } else {
    element.tabIndex = -1;
    element.removeAttribute("tabIndex");
  }
};
goog.dom.isFocusable = function(element) {
  var focusable;
  if (goog.dom.nativelySupportsFocus_(element)) {
    focusable = !element.disabled && (!goog.dom.hasSpecifiedTabIndex_(element) || goog.dom.isTabIndexFocusable_(element));
  } else {
    focusable = goog.dom.isFocusableTabIndex(element);
  }
  return focusable && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(element) : focusable;
};
goog.dom.hasSpecifiedTabIndex_ = function(element) {
  var attrNode = element.getAttributeNode("tabindex");
  return goog.isDefAndNotNull(attrNode) && attrNode.specified;
};
goog.dom.isTabIndexFocusable_ = function(element) {
  var index = element.tabIndex;
  return goog.isNumber(index) && index >= 0 && index < 32768;
};
goog.dom.nativelySupportsFocus_ = function(element) {
  return element.tagName == goog.dom.TagName.A || element.tagName == goog.dom.TagName.INPUT || element.tagName == goog.dom.TagName.TEXTAREA || element.tagName == goog.dom.TagName.SELECT || element.tagName == goog.dom.TagName.BUTTON;
};
goog.dom.hasNonZeroBoundingRect_ = function(element) {
  var rect = goog.isFunction(element["getBoundingClientRect"]) ? element.getBoundingClientRect() : {"height":element.offsetHeight, "width":element.offsetWidth};
  return goog.isDefAndNotNull(rect) && rect.height > 0 && rect.width > 0;
};
goog.dom.getTextContent = function(node) {
  var textContent;
  if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && "innerText" in node) {
    textContent = goog.string.canonicalizeNewlines(node.innerText);
  } else {
    var buf = [];
    goog.dom.getTextContent_(node, buf, true);
    textContent = buf.join("");
  }
  textContent = textContent.replace(/ \xAD /g, " ").replace(/\xAD/g, "");
  textContent = textContent.replace(/\u200B/g, "");
  if (!goog.dom.BrowserFeature.CAN_USE_INNER_TEXT) {
    textContent = textContent.replace(/ +/g, " ");
  }
  if (textContent != " ") {
    textContent = textContent.replace(/^\s*/, "");
  }
  return textContent;
};
goog.dom.getRawTextContent = function(node) {
  var buf = [];
  goog.dom.getTextContent_(node, buf, false);
  return buf.join("");
};
goog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {
  if (node.nodeName in goog.dom.TAGS_TO_IGNORE_) {
  } else {
    if (node.nodeType == goog.dom.NodeType.TEXT) {
      if (normalizeWhitespace) {
        buf.push(String(node.nodeValue).replace(/(\r\n|\r|\n)/g, ""));
      } else {
        buf.push(node.nodeValue);
      }
    } else {
      if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {
        buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);
      } else {
        var child = node.firstChild;
        while (child) {
          goog.dom.getTextContent_(child, buf, normalizeWhitespace);
          child = child.nextSibling;
        }
      }
    }
  }
};
goog.dom.getNodeTextLength = function(node) {
  return goog.dom.getTextContent(node).length;
};
goog.dom.getNodeTextOffset = function(node, opt_offsetParent) {
  var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body;
  var buf = [];
  while (node && node != root) {
    var cur = node;
    while (cur = cur.previousSibling) {
      buf.unshift(goog.dom.getTextContent(cur));
    }
    node = node.parentNode;
  }
  return goog.string.trimLeft(buf.join("")).replace(/ +/g, " ").length;
};
goog.dom.getNodeAtOffset = function(parent, offset, opt_result) {
  var stack = [parent], pos = 0, cur = null;
  while (stack.length > 0 && pos < offset) {
    cur = stack.pop();
    if (cur.nodeName in goog.dom.TAGS_TO_IGNORE_) {
    } else {
      if (cur.nodeType == goog.dom.NodeType.TEXT) {
        var text = cur.nodeValue.replace(/(\r\n|\r|\n)/g, "").replace(/ +/g, " ");
        pos += text.length;
      } else {
        if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {
          pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;
        } else {
          for (var i = cur.childNodes.length - 1;i >= 0;i--) {
            stack.push(cur.childNodes[i]);
          }
        }
      }
    }
  }
  if (goog.isObject(opt_result)) {
    opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0;
    opt_result.node = cur;
  }
  return cur;
};
goog.dom.isNodeList = function(val) {
  if (val && typeof val.length == "number") {
    if (goog.isObject(val)) {
      return typeof val.item == "function" || typeof val.item == "string";
    } else {
      if (goog.isFunction(val)) {
        return typeof val.item == "function";
      }
    }
  }
  return false;
};
goog.dom.getAncestorByTagNameAndClass = function(element, opt_tag, opt_class, opt_maxSearchSteps) {
  if (!opt_tag && !opt_class) {
    return null;
  }
  var tagName = opt_tag ? opt_tag.toUpperCase() : null;
  return (goog.dom.getAncestor(element, function(node) {
    return (!tagName || node.nodeName == tagName) && (!opt_class || goog.isString(node.className) && goog.array.contains(node.className.split(/\s+/), opt_class));
  }, true, opt_maxSearchSteps));
};
goog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {
  return goog.dom.getAncestorByTagNameAndClass(element, null, className, opt_maxSearchSteps);
};
goog.dom.getAncestor = function(element, matcher, opt_includeNode, opt_maxSearchSteps) {
  if (!opt_includeNode) {
    element = element.parentNode;
  }
  var ignoreSearchSteps = opt_maxSearchSteps == null;
  var steps = 0;
  while (element && (ignoreSearchSteps || steps <= opt_maxSearchSteps)) {
    goog.asserts.assert(element.name != "parentNode");
    if (matcher(element)) {
      return element;
    }
    element = element.parentNode;
    steps++;
  }
  return null;
};
goog.dom.getActiveElement = function(doc) {
  try {
    return doc && doc.activeElement;
  } catch (e) {
  }
  return null;
};
goog.dom.getPixelRatio = function() {
  var win = goog.dom.getWindow();
  if (goog.isDef(win.devicePixelRatio)) {
    return win.devicePixelRatio;
  } else {
    if (win.matchMedia) {
      return goog.dom.matchesPixelRatio_(.75) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(3) || 1;
    }
  }
  return 1;
};
goog.dom.matchesPixelRatio_ = function(pixelRatio) {
  var win = goog.dom.getWindow();
  var query = "(-webkit-min-device-pixel-ratio: " + pixelRatio + ")," + "(min--moz-device-pixel-ratio: " + pixelRatio + ")," + "(min-resolution: " + pixelRatio + "dppx)";
  return win.matchMedia(query).matches ? pixelRatio : 0;
};
goog.dom.DomHelper = function(opt_document) {
  this.document_ = opt_document || goog.global.document || document;
};
goog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;
goog.dom.DomHelper.prototype.setDocument = function(document) {
  this.document_ = document;
};
goog.dom.DomHelper.prototype.getDocument = function() {
  return this.document_;
};
goog.dom.DomHelper.prototype.getElement = function(element) {
  return goog.dom.getElementHelper_(this.document_, element);
};
goog.dom.DomHelper.prototype.getRequiredElement = function(id) {
  return goog.dom.getRequiredElementHelper_(this.document_, id);
};
goog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;
goog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {
  return goog.dom.getElementsByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);
};
goog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {
  var doc = opt_el || this.document_;
  return goog.dom.getElementsByClass(className, doc);
};
goog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {
  var doc = opt_el || this.document_;
  return goog.dom.getElementByClass(className, doc);
};
goog.dom.DomHelper.prototype.getRequiredElementByClass = function(className, opt_root) {
  var root = opt_root || this.document_;
  return goog.dom.getRequiredElementByClass(className, root);
};
goog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;
goog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;
goog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {
  return goog.dom.getViewportSize(opt_window || this.getWindow());
};
goog.dom.DomHelper.prototype.getDocumentHeight = function() {
  return goog.dom.getDocumentHeight_(this.getWindow());
};
goog.dom.Appendable;
goog.dom.DomHelper.prototype.createDom = function(tagName, opt_attributes, var_args) {
  return goog.dom.createDom_(this.document_, arguments);
};
goog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;
goog.dom.DomHelper.prototype.createElement = function(name) {
  return this.document_.createElement(name);
};
goog.dom.DomHelper.prototype.createTextNode = function(content) {
  return this.document_.createTextNode(String(content));
};
goog.dom.DomHelper.prototype.createTable = function(rows, columns, opt_fillWithNbsp) {
  return goog.dom.createTable_(this.document_, rows, columns, !!opt_fillWithNbsp);
};
goog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {
  return goog.dom.safeHtmlToNode_(this.document_, html);
};
goog.dom.DomHelper.prototype.htmlToDocumentFragment = function(htmlString) {
  return goog.dom.htmlToDocumentFragment_(this.document_, htmlString);
};
goog.dom.DomHelper.prototype.isCss1CompatMode = function() {
  return goog.dom.isCss1CompatMode_(this.document_);
};
goog.dom.DomHelper.prototype.getWindow = function() {
  return goog.dom.getWindow_(this.document_);
};
goog.dom.DomHelper.prototype.getDocumentScrollElement = function() {
  return goog.dom.getDocumentScrollElement_(this.document_);
};
goog.dom.DomHelper.prototype.getDocumentScroll = function() {
  return goog.dom.getDocumentScroll_(this.document_);
};
goog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {
  return goog.dom.getActiveElement(opt_doc || this.document_);
};
goog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;
goog.dom.DomHelper.prototype.append = goog.dom.append;
goog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;
goog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;
goog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;
goog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;
goog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;
goog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;
goog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;
goog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;
goog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;
goog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;
goog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;
goog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;
goog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;
goog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;
goog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;
goog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;
goog.dom.DomHelper.prototype.isElement = goog.dom.isElement;
goog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;
goog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;
goog.dom.DomHelper.prototype.contains = goog.dom.contains;
goog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;
goog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;
goog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;
goog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;
goog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;
goog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;
goog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;
goog.dom.DomHelper.prototype.findNode = goog.dom.findNode;
goog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;
goog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;
goog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;
goog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;
goog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;
goog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;
goog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;
goog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;
goog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;
goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;
goog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;
goog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;
goog.provide("goog.a11y.aria.Role");
goog.a11y.aria.Role = {ALERT:"alert", ALERTDIALOG:"alertdialog", APPLICATION:"application", ARTICLE:"article", BANNER:"banner", BUTTON:"button", CHECKBOX:"checkbox", COLUMNHEADER:"columnheader", COMBOBOX:"combobox", COMPLEMENTARY:"complementary", CONTENTINFO:"contentinfo", DEFINITION:"definition", DIALOG:"dialog", DIRECTORY:"directory", DOCUMENT:"document", FORM:"form", GRID:"grid", GRIDCELL:"gridcell", GROUP:"group", HEADING:"heading", IMG:"img", LINK:"link", LIST:"list", LISTBOX:"listbox", LISTITEM:"listitem", 
LOG:"log", MAIN:"main", MARQUEE:"marquee", MATH:"math", MENU:"menu", MENUBAR:"menubar", MENU_ITEM:"menuitem", MENU_ITEM_CHECKBOX:"menuitemcheckbox", MENU_ITEM_RADIO:"menuitemradio", NAVIGATION:"navigation", NOTE:"note", OPTION:"option", PRESENTATION:"presentation", PROGRESSBAR:"progressbar", RADIO:"radio", RADIOGROUP:"radiogroup", REGION:"region", ROW:"row", ROWGROUP:"rowgroup", ROWHEADER:"rowheader", SCROLLBAR:"scrollbar", SEARCH:"search", SEPARATOR:"separator", SLIDER:"slider", SPINBUTTON:"spinbutton", 
STATUS:"status", TAB:"tab", TAB_LIST:"tablist", TAB_PANEL:"tabpanel", TEXTBOX:"textbox", TEXTINFO:"textinfo", TIMER:"timer", TOOLBAR:"toolbar", TOOLTIP:"tooltip", TREE:"tree", TREEGRID:"treegrid", TREEITEM:"treeitem"};
goog.provide("goog.dom.classlist");
goog.require("goog.array");
goog.define("goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST", false);
goog.dom.classlist.get = function(element) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    return element.classList;
  }
  var className = element.className;
  return goog.isString(className) && className.match(/\S+/g) || [];
};
goog.dom.classlist.set = function(element, className) {
  element.className = className;
};
goog.dom.classlist.contains = function(element, className) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    return element.classList.contains(className);
  }
  return goog.array.contains(goog.dom.classlist.get(element), className);
};
goog.dom.classlist.add = function(element, className) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    element.classList.add(className);
    return;
  }
  if (!goog.dom.classlist.contains(element, className)) {
    element.className += element.className.length > 0 ? " " + className : className;
  }
};
goog.dom.classlist.addAll = function(element, classesToAdd) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    goog.array.forEach(classesToAdd, function(className) {
      goog.dom.classlist.add(element, className);
    });
    return;
  }
  var classMap = {};
  goog.array.forEach(goog.dom.classlist.get(element), function(className) {
    classMap[className] = true;
  });
  goog.array.forEach(classesToAdd, function(className) {
    classMap[className] = true;
  });
  element.className = "";
  for (var className in classMap) {
    element.className += element.className.length > 0 ? " " + className : className;
  }
};
goog.dom.classlist.remove = function(element, className) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    element.classList.remove(className);
    return;
  }
  if (goog.dom.classlist.contains(element, className)) {
    element.className = goog.array.filter(goog.dom.classlist.get(element), function(c) {
      return c != className;
    }).join(" ");
  }
};
goog.dom.classlist.removeAll = function(element, classesToRemove) {
  if (goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST || element.classList) {
    goog.array.forEach(classesToRemove, function(className) {
      goog.dom.classlist.remove(element, className);
    });
    return;
  }
  element.className = goog.array.filter(goog.dom.classlist.get(element), function(className) {
    return !goog.array.contains(classesToRemove, className);
  }).join(" ");
};
goog.dom.classlist.enable = function(element, className, enabled) {
  if (enabled) {
    goog.dom.classlist.add(element, className);
  } else {
    goog.dom.classlist.remove(element, className);
  }
};
goog.dom.classlist.enableAll = function(element, classesToEnable, enabled) {
  var f = enabled ? goog.dom.classlist.addAll : goog.dom.classlist.removeAll;
  f(element, classesToEnable);
};
goog.dom.classlist.swap = function(element, fromClass, toClass) {
  if (goog.dom.classlist.contains(element, fromClass)) {
    goog.dom.classlist.remove(element, fromClass);
    goog.dom.classlist.add(element, toClass);
    return true;
  }
  return false;
};
goog.dom.classlist.toggle = function(element, className) {
  var add = !goog.dom.classlist.contains(element, className);
  goog.dom.classlist.enable(element, className, add);
  return add;
};
goog.dom.classlist.addRemove = function(element, classToRemove, classToAdd) {
  goog.dom.classlist.remove(element, classToRemove);
  goog.dom.classlist.add(element, classToAdd);
};
goog.provide("goog.events.EventType");
goog.require("goog.userAgent");
goog.events.getVendorPrefixedName_ = function(eventName) {
  return goog.userAgent.WEBKIT ? "webkit" + eventName : goog.userAgent.OPERA ? "o" + eventName.toLowerCase() : eventName.toLowerCase();
};
goog.events.EventType = {CLICK:"click", RIGHTCLICK:"rightclick", DBLCLICK:"dblclick", MOUSEDOWN:"mousedown", MOUSEUP:"mouseup", MOUSEOVER:"mouseover", MOUSEOUT:"mouseout", MOUSEMOVE:"mousemove", MOUSEENTER:"mouseenter", MOUSELEAVE:"mouseleave", SELECTSTART:"selectstart", WHEEL:"wheel", KEYPRESS:"keypress", KEYDOWN:"keydown", KEYUP:"keyup", BLUR:"blur", FOCUS:"focus", DEACTIVATE:"deactivate", FOCUSIN:goog.userAgent.IE ? "focusin" : "DOMFocusIn", FOCUSOUT:goog.userAgent.IE ? "focusout" : "DOMFocusOut", 
CHANGE:"change", RESET:"reset", SELECT:"select", SUBMIT:"submit", INPUT:"input", PROPERTYCHANGE:"propertychange", DRAGSTART:"dragstart", DRAG:"drag", DRAGENTER:"dragenter", DRAGOVER:"dragover", DRAGLEAVE:"dragleave", DROP:"drop", DRAGEND:"dragend", TOUCHSTART:"touchstart", TOUCHMOVE:"touchmove", TOUCHEND:"touchend", TOUCHCANCEL:"touchcancel", BEFOREUNLOAD:"beforeunload", CONSOLEMESSAGE:"consolemessage", CONTEXTMENU:"contextmenu", DOMCONTENTLOADED:"DOMContentLoaded", ERROR:"error", HELP:"help", LOAD:"load", 
LOSECAPTURE:"losecapture", ORIENTATIONCHANGE:"orientationchange", READYSTATECHANGE:"readystatechange", RESIZE:"resize", SCROLL:"scroll", UNLOAD:"unload", HASHCHANGE:"hashchange", PAGEHIDE:"pagehide", PAGESHOW:"pageshow", POPSTATE:"popstate", COPY:"copy", PASTE:"paste", CUT:"cut", BEFORECOPY:"beforecopy", BEFORECUT:"beforecut", BEFOREPASTE:"beforepaste", ONLINE:"online", OFFLINE:"offline", MESSAGE:"message", CONNECT:"connect", ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"), ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"), 
ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"), TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"), POINTERDOWN:"pointerdown", POINTERUP:"pointerup", POINTERCANCEL:"pointercancel", POINTERMOVE:"pointermove", POINTEROVER:"pointerover", POINTEROUT:"pointerout", POINTERENTER:"pointerenter", POINTERLEAVE:"pointerleave", GOTPOINTERCAPTURE:"gotpointercapture", LOSTPOINTERCAPTURE:"lostpointercapture", MSGESTURECHANGE:"MSGestureChange", MSGESTUREEND:"MSGestureEnd", 
MSGESTUREHOLD:"MSGestureHold", MSGESTURESTART:"MSGestureStart", MSGESTURETAP:"MSGestureTap", MSGOTPOINTERCAPTURE:"MSGotPointerCapture", MSINERTIASTART:"MSInertiaStart", MSLOSTPOINTERCAPTURE:"MSLostPointerCapture", MSPOINTERCANCEL:"MSPointerCancel", MSPOINTERDOWN:"MSPointerDown", MSPOINTERENTER:"MSPointerEnter", MSPOINTERHOVER:"MSPointerHover", MSPOINTERLEAVE:"MSPointerLeave", MSPOINTERMOVE:"MSPointerMove", MSPOINTEROUT:"MSPointerOut", MSPOINTEROVER:"MSPointerOver", MSPOINTERUP:"MSPointerUp", TEXT:"text", 
TEXTINPUT:"textInput", COMPOSITIONSTART:"compositionstart", COMPOSITIONUPDATE:"compositionupdate", COMPOSITIONEND:"compositionend", EXIT:"exit", LOADABORT:"loadabort", LOADCOMMIT:"loadcommit", LOADREDIRECT:"loadredirect", LOADSTART:"loadstart", LOADSTOP:"loadstop", RESPONSIVE:"responsive", SIZECHANGED:"sizechanged", UNRESPONSIVE:"unresponsive", VISIBILITYCHANGE:"visibilitychange", STORAGE:"storage", DOMSUBTREEMODIFIED:"DOMSubtreeModified", DOMNODEINSERTED:"DOMNodeInserted", DOMNODEREMOVED:"DOMNodeRemoved", 
DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument", DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument", DOMATTRMODIFIED:"DOMAttrModified", DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified", BEFOREPRINT:"beforeprint", AFTERPRINT:"afterprint"};
goog.provide("goog.events.KeyCodes");
goog.require("goog.userAgent");
goog.forwardDeclare("goog.events.BrowserEvent");
goog.events.KeyCodes = {WIN_KEY_FF_LINUX:0, MAC_ENTER:3, BACKSPACE:8, TAB:9, NUM_CENTER:12, ENTER:13, SHIFT:16, CTRL:17, ALT:18, PAUSE:19, CAPS_LOCK:20, ESC:27, SPACE:32, PAGE_UP:33, PAGE_DOWN:34, END:35, HOME:36, LEFT:37, UP:38, RIGHT:39, DOWN:40, PLUS_SIGN:43, PRINT_SCREEN:44, INSERT:45, DELETE:46, ZERO:48, ONE:49, TWO:50, THREE:51, FOUR:52, FIVE:53, SIX:54, SEVEN:55, EIGHT:56, NINE:57, FF_SEMICOLON:59, FF_EQUALS:61, FF_DASH:173, QUESTION_MARK:63, AT_SIGN:64, A:65, B:66, C:67, D:68, E:69, F:70, 
G:71, H:72, I:73, J:74, K:75, L:76, M:77, N:78, O:79, P:80, Q:81, R:82, S:83, T:84, U:85, V:86, W:87, X:88, Y:89, Z:90, META:91, WIN_KEY_RIGHT:92, CONTEXT_MENU:93, NUM_ZERO:96, NUM_ONE:97, NUM_TWO:98, NUM_THREE:99, NUM_FOUR:100, NUM_FIVE:101, NUM_SIX:102, NUM_SEVEN:103, NUM_EIGHT:104, NUM_NINE:105, NUM_MULTIPLY:106, NUM_PLUS:107, NUM_MINUS:109, NUM_PERIOD:110, NUM_DIVISION:111, F1:112, F2:113, F3:114, F4:115, F5:116, F6:117, F7:118, F8:119, F9:120, F10:121, F11:122, F12:123, NUMLOCK:144, SCROLL_LOCK:145, 
FIRST_MEDIA_KEY:166, LAST_MEDIA_KEY:183, SEMICOLON:186, DASH:189, EQUALS:187, COMMA:188, PERIOD:190, SLASH:191, APOSTROPHE:192, TILDE:192, SINGLE_QUOTE:222, OPEN_SQUARE_BRACKET:219, BACKSLASH:220, CLOSE_SQUARE_BRACKET:221, WIN_KEY:224, MAC_FF_META:224, MAC_WK_CMD_LEFT:91, MAC_WK_CMD_RIGHT:93, WIN_IME:229, VK_NONAME:252, PHANTOM:255};
goog.events.KeyCodes.isTextModifyingKeyEvent = function(e) {
  if (e.altKey && !e.ctrlKey || e.metaKey || e.keyCode >= goog.events.KeyCodes.F1 && e.keyCode <= goog.events.KeyCodes.F12) {
    return false;
  }
  switch(e.keyCode) {
    case goog.events.KeyCodes.ALT:
    ;
    case goog.events.KeyCodes.CAPS_LOCK:
    ;
    case goog.events.KeyCodes.CONTEXT_MENU:
    ;
    case goog.events.KeyCodes.CTRL:
    ;
    case goog.events.KeyCodes.DOWN:
    ;
    case goog.events.KeyCodes.END:
    ;
    case goog.events.KeyCodes.ESC:
    ;
    case goog.events.KeyCodes.HOME:
    ;
    case goog.events.KeyCodes.INSERT:
    ;
    case goog.events.KeyCodes.LEFT:
    ;
    case goog.events.KeyCodes.MAC_FF_META:
    ;
    case goog.events.KeyCodes.META:
    ;
    case goog.events.KeyCodes.NUMLOCK:
    ;
    case goog.events.KeyCodes.NUM_CENTER:
    ;
    case goog.events.KeyCodes.PAGE_DOWN:
    ;
    case goog.events.KeyCodes.PAGE_UP:
    ;
    case goog.events.KeyCodes.PAUSE:
    ;
    case goog.events.KeyCodes.PHANTOM:
    ;
    case goog.events.KeyCodes.PRINT_SCREEN:
    ;
    case goog.events.KeyCodes.RIGHT:
    ;
    case goog.events.KeyCodes.SCROLL_LOCK:
    ;
    case goog.events.KeyCodes.SHIFT:
    ;
    case goog.events.KeyCodes.UP:
    ;
    case goog.events.KeyCodes.VK_NONAME:
    ;
    case goog.events.KeyCodes.WIN_KEY:
    ;
    case goog.events.KeyCodes.WIN_KEY_RIGHT:
      return false;
    case goog.events.KeyCodes.WIN_KEY_FF_LINUX:
      return !goog.userAgent.GECKO;
    default:
      return e.keyCode < goog.events.KeyCodes.FIRST_MEDIA_KEY || e.keyCode > goog.events.KeyCodes.LAST_MEDIA_KEY;
  }
};
goog.events.KeyCodes.firesKeyPressEvent = function(keyCode, opt_heldKeyCode, opt_shiftKey, opt_ctrlKey, opt_altKey) {
  if (!goog.userAgent.IE && !goog.userAgent.EDGE && !(goog.userAgent.WEBKIT && goog.userAgent.isVersionOrHigher("525"))) {
    return true;
  }
  if (goog.userAgent.MAC && opt_altKey) {
    return goog.events.KeyCodes.isCharacterKey(keyCode);
  }
  if (opt_altKey && !opt_ctrlKey) {
    return false;
  }
  if (goog.isNumber(opt_heldKeyCode)) {
    opt_heldKeyCode = goog.events.KeyCodes.normalizeKeyCode(opt_heldKeyCode);
  }
  if (!opt_shiftKey && (opt_heldKeyCode == goog.events.KeyCodes.CTRL || opt_heldKeyCode == goog.events.KeyCodes.ALT || goog.userAgent.MAC && opt_heldKeyCode == goog.events.KeyCodes.META)) {
    return false;
  }
  if ((goog.userAgent.WEBKIT || goog.userAgent.EDGE) && opt_ctrlKey && opt_shiftKey) {
    switch(keyCode) {
      case goog.events.KeyCodes.BACKSLASH:
      ;
      case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:
      ;
      case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:
      ;
      case goog.events.KeyCodes.TILDE:
      ;
      case goog.events.KeyCodes.SEMICOLON:
      ;
      case goog.events.KeyCodes.DASH:
      ;
      case goog.events.KeyCodes.EQUALS:
      ;
      case goog.events.KeyCodes.COMMA:
      ;
      case goog.events.KeyCodes.PERIOD:
      ;
      case goog.events.KeyCodes.SLASH:
      ;
      case goog.events.KeyCodes.APOSTROPHE:
      ;
      case goog.events.KeyCodes.SINGLE_QUOTE:
        return false;
    }
  }
  if (goog.userAgent.IE && opt_ctrlKey && opt_heldKeyCode == keyCode) {
    return false;
  }
  switch(keyCode) {
    case goog.events.KeyCodes.ENTER:
      return true;
    case goog.events.KeyCodes.ESC:
      return !(goog.userAgent.WEBKIT || goog.userAgent.EDGE);
  }
  return goog.events.KeyCodes.isCharacterKey(keyCode);
};
goog.events.KeyCodes.isCharacterKey = function(keyCode) {
  if (keyCode >= goog.events.KeyCodes.ZERO && keyCode <= goog.events.KeyCodes.NINE) {
    return true;
  }
  if (keyCode >= goog.events.KeyCodes.NUM_ZERO && keyCode <= goog.events.KeyCodes.NUM_MULTIPLY) {
    return true;
  }
  if (keyCode >= goog.events.KeyCodes.A && keyCode <= goog.events.KeyCodes.Z) {
    return true;
  }
  if ((goog.userAgent.WEBKIT || goog.userAgent.EDGE) && keyCode == 0) {
    return true;
  }
  switch(keyCode) {
    case goog.events.KeyCodes.SPACE:
    ;
    case goog.events.KeyCodes.PLUS_SIGN:
    ;
    case goog.events.KeyCodes.QUESTION_MARK:
    ;
    case goog.events.KeyCodes.AT_SIGN:
    ;
    case goog.events.KeyCodes.NUM_PLUS:
    ;
    case goog.events.KeyCodes.NUM_MINUS:
    ;
    case goog.events.KeyCodes.NUM_PERIOD:
    ;
    case goog.events.KeyCodes.NUM_DIVISION:
    ;
    case goog.events.KeyCodes.SEMICOLON:
    ;
    case goog.events.KeyCodes.FF_SEMICOLON:
    ;
    case goog.events.KeyCodes.DASH:
    ;
    case goog.events.KeyCodes.EQUALS:
    ;
    case goog.events.KeyCodes.FF_EQUALS:
    ;
    case goog.events.KeyCodes.COMMA:
    ;
    case goog.events.KeyCodes.PERIOD:
    ;
    case goog.events.KeyCodes.SLASH:
    ;
    case goog.events.KeyCodes.APOSTROPHE:
    ;
    case goog.events.KeyCodes.SINGLE_QUOTE:
    ;
    case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:
    ;
    case goog.events.KeyCodes.BACKSLASH:
    ;
    case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:
      return true;
    default:
      return false;
  }
};
goog.events.KeyCodes.normalizeKeyCode = function(keyCode) {
  if (goog.userAgent.GECKO) {
    return goog.events.KeyCodes.normalizeGeckoKeyCode(keyCode);
  } else {
    if (goog.userAgent.MAC && goog.userAgent.WEBKIT) {
      return goog.events.KeyCodes.normalizeMacWebKitKeyCode(keyCode);
    } else {
      return keyCode;
    }
  }
};
goog.events.KeyCodes.normalizeGeckoKeyCode = function(keyCode) {
  switch(keyCode) {
    case goog.events.KeyCodes.FF_EQUALS:
      return goog.events.KeyCodes.EQUALS;
    case goog.events.KeyCodes.FF_SEMICOLON:
      return goog.events.KeyCodes.SEMICOLON;
    case goog.events.KeyCodes.FF_DASH:
      return goog.events.KeyCodes.DASH;
    case goog.events.KeyCodes.MAC_FF_META:
      return goog.events.KeyCodes.META;
    case goog.events.KeyCodes.WIN_KEY_FF_LINUX:
      return goog.events.KeyCodes.WIN_KEY;
    default:
      return keyCode;
  }
};
goog.events.KeyCodes.normalizeMacWebKitKeyCode = function(keyCode) {
  switch(keyCode) {
    case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:
      return goog.events.KeyCodes.META;
    default:
      return keyCode;
  }
};
goog.provide("goog.debug.EntryPointMonitor");
goog.provide("goog.debug.entryPointRegistry");
goog.require("goog.asserts");
goog.debug.EntryPointMonitor = function() {
};
goog.debug.EntryPointMonitor.prototype.wrap;
goog.debug.EntryPointMonitor.prototype.unwrap;
goog.debug.entryPointRegistry.refList_ = [];
goog.debug.entryPointRegistry.monitors_ = [];
goog.debug.entryPointRegistry.monitorsMayExist_ = false;
goog.debug.entryPointRegistry.register = function(callback) {
  goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = callback;
  if (goog.debug.entryPointRegistry.monitorsMayExist_) {
    var monitors = goog.debug.entryPointRegistry.monitors_;
    for (var i = 0;i < monitors.length;i++) {
      callback(goog.bind(monitors[i].wrap, monitors[i]));
    }
  }
};
goog.debug.entryPointRegistry.monitorAll = function(monitor) {
  goog.debug.entryPointRegistry.monitorsMayExist_ = true;
  var transformer = goog.bind(monitor.wrap, monitor);
  for (var i = 0;i < goog.debug.entryPointRegistry.refList_.length;i++) {
    goog.debug.entryPointRegistry.refList_[i](transformer);
  }
  goog.debug.entryPointRegistry.monitors_.push(monitor);
};
goog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {
  var monitors = goog.debug.entryPointRegistry.monitors_;
  goog.asserts.assert(monitor == monitors[monitors.length - 1], "Only the most recent monitor can be unwrapped.");
  var transformer = goog.bind(monitor.unwrap, monitor);
  for (var i = 0;i < goog.debug.entryPointRegistry.refList_.length;i++) {
    goog.debug.entryPointRegistry.refList_[i](transformer);
  }
  monitors.length--;
};
goog.provide("goog.events.BrowserFeature");
goog.require("goog.userAgent");
goog.events.BrowserFeature = {HAS_W3C_BUTTON:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9), SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT || goog.userAgent.isVersionOrHigher("528"), HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO && goog.userAgent.isVersionOrHigher("1.9b") || goog.userAgent.IE && 
goog.userAgent.isVersionOrHigher("8") || goog.userAgent.OPERA && goog.userAgent.isVersionOrHigher("9.5") || goog.userAgent.WEBKIT && goog.userAgent.isVersionOrHigher("528"), HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO && !goog.userAgent.isVersionOrHigher("8") || goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9"), TOUCH_ENABLED:"ontouchstart" in goog.global || !!(goog.global["document"] && document.documentElement && "ontouchstart" in document.documentElement) || !!(goog.global["navigator"] && 
goog.global["navigator"]["msMaxTouchPoints"])};
goog.provide("goog.disposable.IDisposable");
goog.disposable.IDisposable = function() {
};
goog.disposable.IDisposable.prototype.dispose = goog.abstractMethod;
goog.disposable.IDisposable.prototype.isDisposed = goog.abstractMethod;
goog.provide("goog.Disposable");
goog.provide("goog.dispose");
goog.provide("goog.disposeAll");
goog.require("goog.disposable.IDisposable");
goog.Disposable = function() {
  if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {
    if (goog.Disposable.INCLUDE_STACK_ON_CREATION) {
      this.creationStack = (new Error).stack;
    }
    goog.Disposable.instances_[goog.getUid(this)] = this;
  }
  this.disposed_ = this.disposed_;
  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;
};
goog.Disposable.MonitoringMode = {OFF:0, PERMANENT:1, INTERACTIVE:2};
goog.define("goog.Disposable.MONITORING_MODE", 0);
goog.define("goog.Disposable.INCLUDE_STACK_ON_CREATION", true);
goog.Disposable.instances_ = {};
goog.Disposable.getUndisposedObjects = function() {
  var ret = [];
  for (var id in goog.Disposable.instances_) {
    if (goog.Disposable.instances_.hasOwnProperty(id)) {
      ret.push(goog.Disposable.instances_[Number(id)]);
    }
  }
  return ret;
};
goog.Disposable.clearUndisposedObjects = function() {
  goog.Disposable.instances_ = {};
};
goog.Disposable.prototype.disposed_ = false;
goog.Disposable.prototype.onDisposeCallbacks_;
goog.Disposable.prototype.creationStack;
goog.Disposable.prototype.isDisposed = function() {
  return this.disposed_;
};
goog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose = function() {
  if (!this.disposed_) {
    this.disposed_ = true;
    this.disposeInternal();
    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {
      var uid = goog.getUid(this);
      if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(uid)) {
        throw Error(this + " did not call the goog.Disposable base " + "constructor or was disposed of after a clearUndisposedObjects " + "call");
      }
      delete goog.Disposable.instances_[uid];
    }
  }
};
goog.Disposable.prototype.registerDisposable = function(disposable) {
  this.addOnDisposeCallback(goog.partial(goog.dispose, disposable));
};
goog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {
  if (this.disposed_) {
    callback.call(opt_scope);
    return;
  }
  if (!this.onDisposeCallbacks_) {
    this.onDisposeCallbacks_ = [];
  }
  this.onDisposeCallbacks_.push(goog.isDef(opt_scope) ? goog.bind(callback, opt_scope) : callback);
};
goog.Disposable.prototype.disposeInternal = function() {
  if (this.onDisposeCallbacks_) {
    while (this.onDisposeCallbacks_.length) {
      this.onDisposeCallbacks_.shift()();
    }
  }
};
goog.Disposable.isDisposed = function(obj) {
  if (obj && typeof obj.isDisposed == "function") {
    return obj.isDisposed();
  }
  return false;
};
goog.dispose = function(obj) {
  if (obj && typeof obj.dispose == "function") {
    obj.dispose();
  }
};
goog.disposeAll = function(var_args) {
  for (var i = 0, len = arguments.length;i < len;++i) {
    var disposable = arguments[i];
    if (goog.isArrayLike(disposable)) {
      goog.disposeAll.apply(null, disposable);
    } else {
      goog.dispose(disposable);
    }
  }
};
goog.provide("goog.events.EventId");
goog.events.EventId = function(eventId) {
  this.id = eventId;
};
goog.events.EventId.prototype.toString = function() {
  return this.id;
};
goog.provide("goog.events.Event");
goog.provide("goog.events.EventLike");
goog.require("goog.Disposable");
goog.require("goog.events.EventId");
goog.events.EventLike;
goog.events.Event = function(type, opt_target) {
  this.type = type instanceof goog.events.EventId ? String(type) : type;
  this.target = opt_target;
  this.currentTarget = this.target;
  this.propagationStopped_ = false;
  this.defaultPrevented = false;
  this.returnValue_ = true;
};
goog.events.Event.prototype.stopPropagation = function() {
  this.propagationStopped_ = true;
};
goog.events.Event.prototype.preventDefault = function() {
  this.defaultPrevented = true;
  this.returnValue_ = false;
};
goog.events.Event.stopPropagation = function(e) {
  e.stopPropagation();
};
goog.events.Event.preventDefault = function(e) {
  e.preventDefault();
};
goog.provide("goog.reflect");
goog.reflect.object = function(type, object) {
  return object;
};
goog.reflect.sinkValue = function(x) {
  goog.reflect.sinkValue[" "](x);
  return x;
};
goog.reflect.sinkValue[" "] = goog.nullFunction;
goog.reflect.canAccessProperty = function(obj, prop) {
  try {
    goog.reflect.sinkValue(obj[prop]);
    return true;
  } catch (e) {
  }
  return false;
};
goog.provide("goog.events.BrowserEvent");
goog.provide("goog.events.BrowserEvent.MouseButton");
goog.require("goog.events.BrowserFeature");
goog.require("goog.events.Event");
goog.require("goog.events.EventType");
goog.require("goog.reflect");
goog.require("goog.userAgent");
goog.events.BrowserEvent = function(opt_e, opt_currentTarget) {
  goog.events.BrowserEvent.base(this, "constructor", opt_e ? opt_e.type : "");
  this.target = null;
  this.currentTarget = null;
  this.relatedTarget = null;
  this.offsetX = 0;
  this.offsetY = 0;
  this.clientX = 0;
  this.clientY = 0;
  this.screenX = 0;
  this.screenY = 0;
  this.button = 0;
  this.keyCode = 0;
  this.charCode = 0;
  this.ctrlKey = false;
  this.altKey = false;
  this.shiftKey = false;
  this.metaKey = false;
  this.state = null;
  this.platformModifierKey = false;
  this.event_ = null;
  if (opt_e) {
    this.init(opt_e, opt_currentTarget);
  }
};
goog.inherits(goog.events.BrowserEvent, goog.events.Event);
goog.events.BrowserEvent.MouseButton = {LEFT:0, MIDDLE:1, RIGHT:2};
goog.events.BrowserEvent.IEButtonMap = [1, 4, 2];
goog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {
  var type = this.type = e.type;
  var relevantTouch = e.changedTouches ? e.changedTouches[0] : null;
  this.target = (e.target) || e.srcElement;
  this.currentTarget = (opt_currentTarget);
  var relatedTarget = (e.relatedTarget);
  if (relatedTarget) {
    if (goog.userAgent.GECKO) {
      if (!goog.reflect.canAccessProperty(relatedTarget, "nodeName")) {
        relatedTarget = null;
      }
    }
  } else {
    if (type == goog.events.EventType.MOUSEOVER) {
      relatedTarget = e.fromElement;
    } else {
      if (type == goog.events.EventType.MOUSEOUT) {
        relatedTarget = e.toElement;
      }
    }
  }
  this.relatedTarget = relatedTarget;
  if (!goog.isNull(relevantTouch)) {
    this.clientX = relevantTouch.clientX !== undefined ? relevantTouch.clientX : relevantTouch.pageX;
    this.clientY = relevantTouch.clientY !== undefined ? relevantTouch.clientY : relevantTouch.pageY;
    this.screenX = relevantTouch.screenX || 0;
    this.screenY = relevantTouch.screenY || 0;
  } else {
    this.offsetX = goog.userAgent.WEBKIT || e.offsetX !== undefined ? e.offsetX : e.layerX;
    this.offsetY = goog.userAgent.WEBKIT || e.offsetY !== undefined ? e.offsetY : e.layerY;
    this.clientX = e.clientX !== undefined ? e.clientX : e.pageX;
    this.clientY = e.clientY !== undefined ? e.clientY : e.pageY;
    this.screenX = e.screenX || 0;
    this.screenY = e.screenY || 0;
  }
  this.button = e.button;
  this.keyCode = e.keyCode || 0;
  this.charCode = e.charCode || (type == "keypress" ? e.keyCode : 0);
  this.ctrlKey = e.ctrlKey;
  this.altKey = e.altKey;
  this.shiftKey = e.shiftKey;
  this.metaKey = e.metaKey;
  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;
  this.state = e.state;
  this.event_ = e;
  if (e.defaultPrevented) {
    this.preventDefault();
  }
};
goog.events.BrowserEvent.prototype.isButton = function(button) {
  if (!goog.events.BrowserFeature.HAS_W3C_BUTTON) {
    if (this.type == "click") {
      return button == goog.events.BrowserEvent.MouseButton.LEFT;
    } else {
      return !!(this.event_.button & goog.events.BrowserEvent.IEButtonMap[button]);
    }
  } else {
    return this.event_.button == button;
  }
};
goog.events.BrowserEvent.prototype.isMouseActionButton = function() {
  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey);
};
goog.events.BrowserEvent.prototype.stopPropagation = function() {
  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);
  if (this.event_.stopPropagation) {
    this.event_.stopPropagation();
  } else {
    this.event_.cancelBubble = true;
  }
};
goog.events.BrowserEvent.prototype.preventDefault = function() {
  goog.events.BrowserEvent.superClass_.preventDefault.call(this);
  var be = this.event_;
  if (!be.preventDefault) {
    be.returnValue = false;
    if (goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) {
      try {
        var VK_F1 = 112;
        var VK_F12 = 123;
        if (be.ctrlKey || be.keyCode >= VK_F1 && be.keyCode <= VK_F12) {
          be.keyCode = -1;
        }
      } catch (ex) {
      }
    }
  } else {
    be.preventDefault();
  }
};
goog.events.BrowserEvent.prototype.getBrowserEvent = function() {
  return this.event_;
};
goog.provide("goog.events.Listenable");
goog.provide("goog.events.ListenableKey");
goog.require("goog.events.EventId");
goog.events.Listenable = function() {
};
goog.events.Listenable.IMPLEMENTED_BY_PROP = "closure_listenable_" + (Math.random() * 1E6 | 0);
goog.events.Listenable.addImplementation = function(cls) {
  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = true;
};
goog.events.Listenable.isImplementedBy = function(obj) {
  return !!(obj && obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);
};
goog.events.Listenable.prototype.listen;
goog.events.Listenable.prototype.listenOnce;
goog.events.Listenable.prototype.unlisten;
goog.events.Listenable.prototype.unlistenByKey;
goog.events.Listenable.prototype.dispatchEvent;
goog.events.Listenable.prototype.removeAllListeners;
goog.events.Listenable.prototype.getParentEventTarget;
goog.events.Listenable.prototype.fireListeners;
goog.events.Listenable.prototype.getListeners;
goog.events.Listenable.prototype.getListener;
goog.events.Listenable.prototype.hasListener;
goog.events.ListenableKey = function() {
};
goog.events.ListenableKey.counter_ = 0;
goog.events.ListenableKey.reserveKey = function() {
  return ++goog.events.ListenableKey.counter_;
};
goog.events.ListenableKey.prototype.src;
goog.events.ListenableKey.prototype.type;
goog.events.ListenableKey.prototype.listener;
goog.events.ListenableKey.prototype.capture;
goog.events.ListenableKey.prototype.handler;
goog.events.ListenableKey.prototype.key;
goog.provide("goog.events.Listener");
goog.require("goog.events.ListenableKey");
goog.events.Listener = function(listener, proxy, src, type, capture, opt_handler) {
  if (goog.events.Listener.ENABLE_MONITORING) {
    this.creationStack = (new Error).stack;
  }
  this.listener = listener;
  this.proxy = proxy;
  this.src = src;
  this.type = type;
  this.capture = !!capture;
  this.handler = opt_handler;
  this.key = goog.events.ListenableKey.reserveKey();
  this.callOnce = false;
  this.removed = false;
};
goog.define("goog.events.Listener.ENABLE_MONITORING", false);
goog.events.Listener.prototype.creationStack;
goog.events.Listener.prototype.markAsRemoved = function() {
  this.removed = true;
  this.listener = null;
  this.proxy = null;
  this.src = null;
  this.handler = null;
};
goog.provide("goog.events.ListenerMap");
goog.require("goog.array");
goog.require("goog.events.Listener");
goog.require("goog.object");
goog.events.ListenerMap = function(src) {
  this.src = src;
  this.listeners = {};
  this.typeCount_ = 0;
};
goog.events.ListenerMap.prototype.getTypeCount = function() {
  return this.typeCount_;
};
goog.events.ListenerMap.prototype.getListenerCount = function() {
  var count = 0;
  for (var type in this.listeners) {
    count += this.listeners[type].length;
  }
  return count;
};
goog.events.ListenerMap.prototype.add = function(type, listener, callOnce, opt_useCapture, opt_listenerScope) {
  var typeStr = type.toString();
  var listenerArray = this.listeners[typeStr];
  if (!listenerArray) {
    listenerArray = this.listeners[typeStr] = [];
    this.typeCount_++;
  }
  var listenerObj;
  var index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);
  if (index > -1) {
    listenerObj = listenerArray[index];
    if (!callOnce) {
      listenerObj.callOnce = false;
    }
  } else {
    listenerObj = new goog.events.Listener(listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope);
    listenerObj.callOnce = callOnce;
    listenerArray.push(listenerObj);
  }
  return listenerObj;
};
goog.events.ListenerMap.prototype.remove = function(type, listener, opt_useCapture, opt_listenerScope) {
  var typeStr = type.toString();
  if (!(typeStr in this.listeners)) {
    return false;
  }
  var listenerArray = this.listeners[typeStr];
  var index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);
  if (index > -1) {
    var listenerObj = listenerArray[index];
    listenerObj.markAsRemoved();
    goog.array.removeAt(listenerArray, index);
    if (listenerArray.length == 0) {
      delete this.listeners[typeStr];
      this.typeCount_--;
    }
    return true;
  }
  return false;
};
goog.events.ListenerMap.prototype.removeByKey = function(listener) {
  var type = listener.type;
  if (!(type in this.listeners)) {
    return false;
  }
  var removed = goog.array.remove(this.listeners[type], listener);
  if (removed) {
    listener.markAsRemoved();
    if (this.listeners[type].length == 0) {
      delete this.listeners[type];
      this.typeCount_--;
    }
  }
  return removed;
};
goog.events.ListenerMap.prototype.removeAll = function(opt_type) {
  var typeStr = opt_type && opt_type.toString();
  var count = 0;
  for (var type in this.listeners) {
    if (!typeStr || type == typeStr) {
      var listenerArray = this.listeners[type];
      for (var i = 0;i < listenerArray.length;i++) {
        ++count;
        listenerArray[i].markAsRemoved();
      }
      delete this.listeners[type];
      this.typeCount_--;
    }
  }
  return count;
};
goog.events.ListenerMap.prototype.getListeners = function(type, capture) {
  var listenerArray = this.listeners[type.toString()];
  var rv = [];
  if (listenerArray) {
    for (var i = 0;i < listenerArray.length;++i) {
      var listenerObj = listenerArray[i];
      if (listenerObj.capture == capture) {
        rv.push(listenerObj);
      }
    }
  }
  return rv;
};
goog.events.ListenerMap.prototype.getListener = function(type, listener, capture, opt_listenerScope) {
  var listenerArray = this.listeners[type.toString()];
  var i = -1;
  if (listenerArray) {
    i = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, capture, opt_listenerScope);
  }
  return i > -1 ? listenerArray[i] : null;
};
goog.events.ListenerMap.prototype.hasListener = function(opt_type, opt_capture) {
  var hasType = goog.isDef(opt_type);
  var typeStr = hasType ? opt_type.toString() : "";
  var hasCapture = goog.isDef(opt_capture);
  return goog.object.some(this.listeners, function(listenerArray, type) {
    for (var i = 0;i < listenerArray.length;++i) {
      if ((!hasType || listenerArray[i].type == typeStr) && (!hasCapture || listenerArray[i].capture == opt_capture)) {
        return true;
      }
    }
    return false;
  });
};
goog.events.ListenerMap.findListenerIndex_ = function(listenerArray, listener, opt_useCapture, opt_listenerScope) {
  for (var i = 0;i < listenerArray.length;++i) {
    var listenerObj = listenerArray[i];
    if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {
      return i;
    }
  }
  return -1;
};
goog.provide("goog.events");
goog.provide("goog.events.CaptureSimulationMode");
goog.provide("goog.events.Key");
goog.provide("goog.events.ListenableType");
goog.require("goog.asserts");
goog.require("goog.debug.entryPointRegistry");
goog.require("goog.events.BrowserEvent");
goog.require("goog.events.BrowserFeature");
goog.require("goog.events.Listenable");
goog.require("goog.events.ListenerMap");
goog.forwardDeclare("goog.debug.ErrorHandler");
goog.forwardDeclare("goog.events.EventWrapper");
goog.events.Key;
goog.events.ListenableType;
goog.events.LISTENER_MAP_PROP_ = "closure_lm_" + (Math.random() * 1E6 | 0);
goog.events.onString_ = "on";
goog.events.onStringMap_ = {};
goog.events.CaptureSimulationMode = {OFF_AND_FAIL:0, OFF_AND_SILENT:1, ON:2};
goog.define("goog.events.CAPTURE_SIMULATION_MODE", 2);
goog.events.listenerCountEstimate_ = 0;
goog.events.listen = function(src, type, listener, opt_capt, opt_handler) {
  if (goog.isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog.events.listen(src, type[i], listener, opt_capt, opt_handler);
    }
    return null;
  }
  listener = goog.events.wrapListener(listener);
  if (goog.events.Listenable.isImplementedBy(src)) {
    return src.listen((type), listener, opt_capt, opt_handler);
  } else {
    return goog.events.listen_((src), (type), listener, false, opt_capt, opt_handler);
  }
};
goog.events.listen_ = function(src, type, listener, callOnce, opt_capt, opt_handler) {
  if (!type) {
    throw Error("Invalid event type");
  }
  var capture = !!opt_capt;
  if (capture && !goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {
    if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_FAIL) {
      goog.asserts.fail("Can not register capture listener in IE8-.");
      return null;
    } else {
      if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.OFF_AND_SILENT) {
        return null;
      }
    }
  }
  var listenerMap = goog.events.getListenerMap_(src);
  if (!listenerMap) {
    src[goog.events.LISTENER_MAP_PROP_] = listenerMap = new goog.events.ListenerMap(src);
  }
  var listenerObj = listenerMap.add(type, listener, callOnce, opt_capt, opt_handler);
  if (listenerObj.proxy) {
    return listenerObj;
  }
  var proxy = goog.events.getProxy();
  listenerObj.proxy = proxy;
  proxy.src = src;
  proxy.listener = listenerObj;
  if (src.addEventListener) {
    src.addEventListener(type.toString(), proxy, capture);
  } else {
    if (src.attachEvent) {
      src.attachEvent(goog.events.getOnString_(type.toString()), proxy);
    } else {
      throw Error("addEventListener and attachEvent are unavailable.");
    }
  }
  goog.events.listenerCountEstimate_++;
  return listenerObj;
};
goog.events.getProxy = function() {
  var proxyCallbackFunction = goog.events.handleBrowserEvent_;
  var f = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function(eventObject) {
    return proxyCallbackFunction.call(f.src, f.listener, eventObject);
  } : function(eventObject) {
    var v = proxyCallbackFunction.call(f.src, f.listener, eventObject);
    if (!v) {
      return v;
    }
  };
  return f;
};
goog.events.listenOnce = function(src, type, listener, opt_capt, opt_handler) {
  if (goog.isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog.events.listenOnce(src, type[i], listener, opt_capt, opt_handler);
    }
    return null;
  }
  listener = goog.events.wrapListener(listener);
  if (goog.events.Listenable.isImplementedBy(src)) {
    return src.listenOnce((type), listener, opt_capt, opt_handler);
  } else {
    return goog.events.listen_((src), (type), listener, true, opt_capt, opt_handler);
  }
};
goog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {
  wrapper.listen(src, listener, opt_capt, opt_handler);
};
goog.events.unlisten = function(src, type, listener, opt_capt, opt_handler) {
  if (goog.isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      goog.events.unlisten(src, type[i], listener, opt_capt, opt_handler);
    }
    return null;
  }
  listener = goog.events.wrapListener(listener);
  if (goog.events.Listenable.isImplementedBy(src)) {
    return src.unlisten((type), listener, opt_capt, opt_handler);
  }
  if (!src) {
    return false;
  }
  var capture = !!opt_capt;
  var listenerMap = goog.events.getListenerMap_((src));
  if (listenerMap) {
    var listenerObj = listenerMap.getListener((type), listener, capture, opt_handler);
    if (listenerObj) {
      return goog.events.unlistenByKey(listenerObj);
    }
  }
  return false;
};
goog.events.unlistenByKey = function(key) {
  if (goog.isNumber(key)) {
    return false;
  }
  var listener = key;
  if (!listener || listener.removed) {
    return false;
  }
  var src = listener.src;
  if (goog.events.Listenable.isImplementedBy(src)) {
    return src.unlistenByKey(listener);
  }
  var type = listener.type;
  var proxy = listener.proxy;
  if (src.removeEventListener) {
    src.removeEventListener(type, proxy, listener.capture);
  } else {
    if (src.detachEvent) {
      src.detachEvent(goog.events.getOnString_(type), proxy);
    }
  }
  goog.events.listenerCountEstimate_--;
  var listenerMap = goog.events.getListenerMap_((src));
  if (listenerMap) {
    listenerMap.removeByKey(listener);
    if (listenerMap.getTypeCount() == 0) {
      listenerMap.src = null;
      src[goog.events.LISTENER_MAP_PROP_] = null;
    }
  } else {
    listener.markAsRemoved();
  }
  return true;
};
goog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {
  wrapper.unlisten(src, listener, opt_capt, opt_handler);
};
goog.events.removeAll = function(obj, opt_type) {
  if (!obj) {
    return 0;
  }
  if (goog.events.Listenable.isImplementedBy(obj)) {
    return obj.removeAllListeners(opt_type);
  }
  var listenerMap = goog.events.getListenerMap_((obj));
  if (!listenerMap) {
    return 0;
  }
  var count = 0;
  var typeStr = opt_type && opt_type.toString();
  for (var type in listenerMap.listeners) {
    if (!typeStr || type == typeStr) {
      var listeners = listenerMap.listeners[type].concat();
      for (var i = 0;i < listeners.length;++i) {
        if (goog.events.unlistenByKey(listeners[i])) {
          ++count;
        }
      }
    }
  }
  return count;
};
goog.events.getListeners = function(obj, type, capture) {
  if (goog.events.Listenable.isImplementedBy(obj)) {
    return obj.getListeners(type, capture);
  } else {
    if (!obj) {
      return [];
    }
    var listenerMap = goog.events.getListenerMap_((obj));
    return listenerMap ? listenerMap.getListeners(type, capture) : [];
  }
};
goog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {
  type = (type);
  listener = goog.events.wrapListener(listener);
  var capture = !!opt_capt;
  if (goog.events.Listenable.isImplementedBy(src)) {
    return src.getListener(type, listener, capture, opt_handler);
  }
  if (!src) {
    return null;
  }
  var listenerMap = goog.events.getListenerMap_((src));
  if (listenerMap) {
    return listenerMap.getListener(type, listener, capture, opt_handler);
  }
  return null;
};
goog.events.hasListener = function(obj, opt_type, opt_capture) {
  if (goog.events.Listenable.isImplementedBy(obj)) {
    return obj.hasListener(opt_type, opt_capture);
  }
  var listenerMap = goog.events.getListenerMap_((obj));
  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);
};
goog.events.expose = function(e) {
  var str = [];
  for (var key in e) {
    if (e[key] && e[key].id) {
      str.push(key + " \x3d " + e[key] + " (" + e[key].id + ")");
    } else {
      str.push(key + " \x3d " + e[key]);
    }
  }
  return str.join("\n");
};
goog.events.getOnString_ = function(type) {
  if (type in goog.events.onStringMap_) {
    return goog.events.onStringMap_[type];
  }
  return goog.events.onStringMap_[type] = goog.events.onString_ + type;
};
goog.events.fireListeners = function(obj, type, capture, eventObject) {
  if (goog.events.Listenable.isImplementedBy(obj)) {
    return obj.fireListeners(type, capture, eventObject);
  }
  return goog.events.fireListeners_(obj, type, capture, eventObject);
};
goog.events.fireListeners_ = function(obj, type, capture, eventObject) {
  var retval = true;
  var listenerMap = goog.events.getListenerMap_((obj));
  if (listenerMap) {
    var listenerArray = listenerMap.listeners[type.toString()];
    if (listenerArray) {
      listenerArray = listenerArray.concat();
      for (var i = 0;i < listenerArray.length;i++) {
        var listener = listenerArray[i];
        if (listener && listener.capture == capture && !listener.removed) {
          var result = goog.events.fireListener(listener, eventObject);
          retval = retval && result !== false;
        }
      }
    }
  }
  return retval;
};
goog.events.fireListener = function(listener, eventObject) {
  var listenerFn = listener.listener;
  var listenerHandler = listener.handler || listener.src;
  if (listener.callOnce) {
    goog.events.unlistenByKey(listener);
  }
  return listenerFn.call(listenerHandler, eventObject);
};
goog.events.getTotalListenerCount = function() {
  return goog.events.listenerCountEstimate_;
};
goog.events.dispatchEvent = function(src, e) {
  goog.asserts.assert(goog.events.Listenable.isImplementedBy(src), "Can not use goog.events.dispatchEvent with " + "non-goog.events.Listenable instance.");
  return src.dispatchEvent(e);
};
goog.events.protectBrowserEventEntryPoint = function(errorHandler) {
  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);
};
goog.events.handleBrowserEvent_ = function(listener, opt_evt) {
  if (listener.removed) {
    return true;
  }
  if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {
    var ieEvent = opt_evt || (goog.getObjectByName("window.event"));
    var evt = new goog.events.BrowserEvent(ieEvent, this);
    var retval = true;
    if (goog.events.CAPTURE_SIMULATION_MODE == goog.events.CaptureSimulationMode.ON) {
      if (!goog.events.isMarkedIeEvent_(ieEvent)) {
        goog.events.markIeEvent_(ieEvent);
        var ancestors = [];
        for (var parent = evt.currentTarget;parent;parent = parent.parentNode) {
          ancestors.push(parent);
        }
        var type = listener.type;
        for (var i = ancestors.length - 1;!evt.propagationStopped_ && i >= 0;i--) {
          evt.currentTarget = ancestors[i];
          var result = goog.events.fireListeners_(ancestors[i], type, true, evt);
          retval = retval && result;
        }
        for (var i = 0;!evt.propagationStopped_ && i < ancestors.length;i++) {
          evt.currentTarget = ancestors[i];
          var result = goog.events.fireListeners_(ancestors[i], type, false, evt);
          retval = retval && result;
        }
      }
    } else {
      retval = goog.events.fireListener(listener, evt);
    }
    return retval;
  }
  return goog.events.fireListener(listener, new goog.events.BrowserEvent(opt_evt, this));
};
goog.events.markIeEvent_ = function(e) {
  var useReturnValue = false;
  if (e.keyCode == 0) {
    try {
      e.keyCode = -1;
      return;
    } catch (ex) {
      useReturnValue = true;
    }
  }
  if (useReturnValue || (e.returnValue) == undefined) {
    e.returnValue = true;
  }
};
goog.events.isMarkedIeEvent_ = function(e) {
  return e.keyCode < 0 || e.returnValue != undefined;
};
goog.events.uniqueIdCounter_ = 0;
goog.events.getUniqueId = function(identifier) {
  return identifier + "_" + goog.events.uniqueIdCounter_++;
};
goog.events.getListenerMap_ = function(src) {
  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];
  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;
};
goog.events.LISTENER_WRAPPER_PROP_ = "__closure_events_fn_" + (Math.random() * 1E9 >>> 0);
goog.events.wrapListener = function(listener) {
  goog.asserts.assert(listener, "Listener can not be null.");
  if (goog.isFunction(listener)) {
    return listener;
  }
  goog.asserts.assert(listener.handleEvent, "An object listener must have handleEvent method.");
  if (!listener[goog.events.LISTENER_WRAPPER_PROP_]) {
    listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {
      return listener.handleEvent(e);
    };
  }
  return listener[goog.events.LISTENER_WRAPPER_PROP_];
};
goog.debug.entryPointRegistry.register(function(transformer) {
  goog.events.handleBrowserEvent_ = transformer(goog.events.handleBrowserEvent_);
});
goog.provide("goog.events.EventTarget");
goog.require("goog.Disposable");
goog.require("goog.asserts");
goog.require("goog.events");
goog.require("goog.events.Event");
goog.require("goog.events.Listenable");
goog.require("goog.events.ListenerMap");
goog.require("goog.object");
goog.events.EventTarget = function() {
  goog.Disposable.call(this);
  this.eventTargetListeners_ = new goog.events.ListenerMap(this);
  this.actualEventTarget_ = this;
  this.parentEventTarget_ = null;
};
goog.inherits(goog.events.EventTarget, goog.Disposable);
goog.events.Listenable.addImplementation(goog.events.EventTarget);
goog.events.EventTarget.MAX_ANCESTORS_ = 1E3;
goog.events.EventTarget.prototype.getParentEventTarget = function() {
  return this.parentEventTarget_;
};
goog.events.EventTarget.prototype.setParentEventTarget = function(parent) {
  this.parentEventTarget_ = parent;
};
goog.events.EventTarget.prototype.addEventListener = function(type, handler, opt_capture, opt_handlerScope) {
  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);
};
goog.events.EventTarget.prototype.removeEventListener = function(type, handler, opt_capture, opt_handlerScope) {
  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);
};
goog.events.EventTarget.prototype.dispatchEvent = function(e) {
  this.assertInitialized_();
  var ancestorsTree, ancestor = this.getParentEventTarget();
  if (ancestor) {
    ancestorsTree = [];
    var ancestorCount = 1;
    for (;ancestor;ancestor = ancestor.getParentEventTarget()) {
      ancestorsTree.push(ancestor);
      goog.asserts.assert(++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_, "infinite loop");
    }
  }
  return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, e, ancestorsTree);
};
goog.events.EventTarget.prototype.disposeInternal = function() {
  goog.events.EventTarget.superClass_.disposeInternal.call(this);
  this.removeAllListeners();
  this.parentEventTarget_ = null;
};
goog.events.EventTarget.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {
  this.assertInitialized_();
  return this.eventTargetListeners_.add(String(type), listener, false, opt_useCapture, opt_listenerScope);
};
goog.events.EventTarget.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {
  return this.eventTargetListeners_.add(String(type), listener, true, opt_useCapture, opt_listenerScope);
};
goog.events.EventTarget.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {
  return this.eventTargetListeners_.remove(String(type), listener, opt_useCapture, opt_listenerScope);
};
goog.events.EventTarget.prototype.unlistenByKey = function(key) {
  return this.eventTargetListeners_.removeByKey(key);
};
goog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {
  if (!this.eventTargetListeners_) {
    return 0;
  }
  return this.eventTargetListeners_.removeAll(opt_type);
};
goog.events.EventTarget.prototype.fireListeners = function(type, capture, eventObject) {
  var listenerArray = this.eventTargetListeners_.listeners[String(type)];
  if (!listenerArray) {
    return true;
  }
  listenerArray = listenerArray.concat();
  var rv = true;
  for (var i = 0;i < listenerArray.length;++i) {
    var listener = listenerArray[i];
    if (listener && !listener.removed && listener.capture == capture) {
      var listenerFn = listener.listener;
      var listenerHandler = listener.handler || listener.src;
      if (listener.callOnce) {
        this.unlistenByKey(listener);
      }
      rv = listenerFn.call(listenerHandler, eventObject) !== false && rv;
    }
  }
  return rv && eventObject.returnValue_ != false;
};
goog.events.EventTarget.prototype.getListeners = function(type, capture) {
  return this.eventTargetListeners_.getListeners(String(type), capture);
};
goog.events.EventTarget.prototype.getListener = function(type, listener, capture, opt_listenerScope) {
  return this.eventTargetListeners_.getListener(String(type), listener, capture, opt_listenerScope);
};
goog.events.EventTarget.prototype.hasListener = function(opt_type, opt_capture) {
  var id = goog.isDef(opt_type) ? String(opt_type) : undefined;
  return this.eventTargetListeners_.hasListener(id, opt_capture);
};
goog.events.EventTarget.prototype.setTargetForTesting = function(target) {
  this.actualEventTarget_ = target;
};
goog.events.EventTarget.prototype.assertInitialized_ = function() {
  goog.asserts.assert(this.eventTargetListeners_, "Event target is not initialized. Did you call the superclass " + "(goog.events.EventTarget) constructor?");
};
goog.events.EventTarget.dispatchEventInternal_ = function(target, e, opt_ancestorsTree) {
  var type = e.type || (e);
  if (goog.isString(e)) {
    e = new goog.events.Event(e, target);
  } else {
    if (!(e instanceof goog.events.Event)) {
      var oldEvent = e;
      e = new goog.events.Event(type, target);
      goog.object.extend(e, oldEvent);
    } else {
      e.target = e.target || target;
    }
  }
  var rv = true, currentTarget;
  if (opt_ancestorsTree) {
    for (var i = opt_ancestorsTree.length - 1;!e.propagationStopped_ && i >= 0;i--) {
      currentTarget = e.currentTarget = opt_ancestorsTree[i];
      rv = currentTarget.fireListeners(type, true, e) && rv;
    }
  }
  if (!e.propagationStopped_) {
    currentTarget = e.currentTarget = target;
    rv = currentTarget.fireListeners(type, true, e) && rv;
    if (!e.propagationStopped_) {
      rv = currentTarget.fireListeners(type, false, e) && rv;
    }
  }
  if (opt_ancestorsTree) {
    for (i = 0;!e.propagationStopped_ && i < opt_ancestorsTree.length;i++) {
      currentTarget = e.currentTarget = opt_ancestorsTree[i];
      rv = currentTarget.fireListeners(type, false, e) && rv;
    }
  }
  return rv;
};
goog.provide("goog.events.KeyEvent");
goog.provide("goog.events.KeyHandler");
goog.provide("goog.events.KeyHandler.EventType");
goog.require("goog.events");
goog.require("goog.events.BrowserEvent");
goog.require("goog.events.EventTarget");
goog.require("goog.events.EventType");
goog.require("goog.events.KeyCodes");
goog.require("goog.userAgent");
goog.events.KeyHandler = function(opt_element, opt_capture) {
  goog.events.EventTarget.call(this);
  if (opt_element) {
    this.attach(opt_element, opt_capture);
  }
};
goog.inherits(goog.events.KeyHandler, goog.events.EventTarget);
goog.events.KeyHandler.prototype.element_ = null;
goog.events.KeyHandler.prototype.keyPressKey_ = null;
goog.events.KeyHandler.prototype.keyDownKey_ = null;
goog.events.KeyHandler.prototype.keyUpKey_ = null;
goog.events.KeyHandler.prototype.lastKey_ = -1;
goog.events.KeyHandler.prototype.keyCode_ = -1;
goog.events.KeyHandler.prototype.altKey_ = false;
goog.events.KeyHandler.EventType = {KEY:"key"};
goog.events.KeyHandler.safariKey_ = {3:goog.events.KeyCodes.ENTER, 12:goog.events.KeyCodes.NUMLOCK, 63232:goog.events.KeyCodes.UP, 63233:goog.events.KeyCodes.DOWN, 63234:goog.events.KeyCodes.LEFT, 63235:goog.events.KeyCodes.RIGHT, 63236:goog.events.KeyCodes.F1, 63237:goog.events.KeyCodes.F2, 63238:goog.events.KeyCodes.F3, 63239:goog.events.KeyCodes.F4, 63240:goog.events.KeyCodes.F5, 63241:goog.events.KeyCodes.F6, 63242:goog.events.KeyCodes.F7, 63243:goog.events.KeyCodes.F8, 63244:goog.events.KeyCodes.F9, 
63245:goog.events.KeyCodes.F10, 63246:goog.events.KeyCodes.F11, 63247:goog.events.KeyCodes.F12, 63248:goog.events.KeyCodes.PRINT_SCREEN, 63272:goog.events.KeyCodes.DELETE, 63273:goog.events.KeyCodes.HOME, 63275:goog.events.KeyCodes.END, 63276:goog.events.KeyCodes.PAGE_UP, 63277:goog.events.KeyCodes.PAGE_DOWN, 63289:goog.events.KeyCodes.NUMLOCK, 63302:goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.keyIdentifier_ = {"Up":goog.events.KeyCodes.UP, "Down":goog.events.KeyCodes.DOWN, "Left":goog.events.KeyCodes.LEFT, "Right":goog.events.KeyCodes.RIGHT, "Enter":goog.events.KeyCodes.ENTER, "F1":goog.events.KeyCodes.F1, "F2":goog.events.KeyCodes.F2, "F3":goog.events.KeyCodes.F3, "F4":goog.events.KeyCodes.F4, "F5":goog.events.KeyCodes.F5, "F6":goog.events.KeyCodes.F6, "F7":goog.events.KeyCodes.F7, "F8":goog.events.KeyCodes.F8, "F9":goog.events.KeyCodes.F9, "F10":goog.events.KeyCodes.F10, 
"F11":goog.events.KeyCodes.F11, "F12":goog.events.KeyCodes.F12, "U+007F":goog.events.KeyCodes.DELETE, "Home":goog.events.KeyCodes.HOME, "End":goog.events.KeyCodes.END, "PageUp":goog.events.KeyCodes.PAGE_UP, "PageDown":goog.events.KeyCodes.PAGE_DOWN, "Insert":goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.USES_KEYDOWN_ = goog.userAgent.IE || goog.userAgent.EDGE || goog.userAgent.WEBKIT && goog.userAgent.isVersionOrHigher("525");
goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_ = goog.userAgent.MAC && goog.userAgent.GECKO;
goog.events.KeyHandler.prototype.handleKeyDown_ = function(e) {
  if (goog.userAgent.WEBKIT || goog.userAgent.EDGE) {
    if (this.lastKey_ == goog.events.KeyCodes.CTRL && !e.ctrlKey || this.lastKey_ == goog.events.KeyCodes.ALT && !e.altKey || goog.userAgent.MAC && this.lastKey_ == goog.events.KeyCodes.META && !e.metaKey) {
      this.resetState();
    }
  }
  if (this.lastKey_ == -1) {
    if (e.ctrlKey && e.keyCode != goog.events.KeyCodes.CTRL) {
      this.lastKey_ = goog.events.KeyCodes.CTRL;
    } else {
      if (e.altKey && e.keyCode != goog.events.KeyCodes.ALT) {
        this.lastKey_ = goog.events.KeyCodes.ALT;
      } else {
        if (e.metaKey && e.keyCode != goog.events.KeyCodes.META) {
          this.lastKey_ = goog.events.KeyCodes.META;
        }
      }
    }
  }
  if (goog.events.KeyHandler.USES_KEYDOWN_ && !goog.events.KeyCodes.firesKeyPressEvent(e.keyCode, this.lastKey_, e.shiftKey, e.ctrlKey, e.altKey)) {
    this.handleEvent(e);
  } else {
    this.keyCode_ = goog.events.KeyCodes.normalizeKeyCode(e.keyCode);
    if (goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_) {
      this.altKey_ = e.altKey;
    }
  }
};
goog.events.KeyHandler.prototype.resetState = function() {
  this.lastKey_ = -1;
  this.keyCode_ = -1;
};
goog.events.KeyHandler.prototype.handleKeyup_ = function(e) {
  this.resetState();
  this.altKey_ = e.altKey;
};
goog.events.KeyHandler.prototype.handleEvent = function(e) {
  var be = e.getBrowserEvent();
  var keyCode, charCode;
  var altKey = be.altKey;
  if (goog.userAgent.IE && e.type == goog.events.EventType.KEYPRESS) {
    keyCode = this.keyCode_;
    charCode = keyCode != goog.events.KeyCodes.ENTER && keyCode != goog.events.KeyCodes.ESC ? be.keyCode : 0;
  } else {
    if ((goog.userAgent.WEBKIT || goog.userAgent.EDGE) && e.type == goog.events.EventType.KEYPRESS) {
      keyCode = this.keyCode_;
      charCode = be.charCode >= 0 && be.charCode < 63232 && goog.events.KeyCodes.isCharacterKey(keyCode) ? be.charCode : 0;
    } else {
      if (goog.userAgent.OPERA && !goog.userAgent.WEBKIT) {
        keyCode = this.keyCode_;
        charCode = goog.events.KeyCodes.isCharacterKey(keyCode) ? be.keyCode : 0;
      } else {
        keyCode = be.keyCode || this.keyCode_;
        charCode = be.charCode || 0;
        if (goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_) {
          altKey = this.altKey_;
        }
        if (goog.userAgent.MAC && charCode == goog.events.KeyCodes.QUESTION_MARK && keyCode == goog.events.KeyCodes.WIN_KEY) {
          keyCode = goog.events.KeyCodes.SLASH;
        }
      }
    }
  }
  keyCode = goog.events.KeyCodes.normalizeKeyCode(keyCode);
  var key = keyCode;
  var keyIdentifier = be.keyIdentifier;
  if (keyCode) {
    if (keyCode >= 63232 && keyCode in goog.events.KeyHandler.safariKey_) {
      key = goog.events.KeyHandler.safariKey_[keyCode];
    } else {
      if (keyCode == 25 && e.shiftKey) {
        key = 9;
      }
    }
  } else {
    if (keyIdentifier && keyIdentifier in goog.events.KeyHandler.keyIdentifier_) {
      key = goog.events.KeyHandler.keyIdentifier_[keyIdentifier];
    }
  }
  var repeat = key == this.lastKey_;
  this.lastKey_ = key;
  var event = new goog.events.KeyEvent(key, charCode, repeat, be);
  event.altKey = altKey;
  this.dispatchEvent(event);
};
goog.events.KeyHandler.prototype.getElement = function() {
  return this.element_;
};
goog.events.KeyHandler.prototype.attach = function(element, opt_capture) {
  if (this.keyUpKey_) {
    this.detach();
  }
  this.element_ = element;
  this.keyPressKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYPRESS, this, opt_capture);
  this.keyDownKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYDOWN, this.handleKeyDown_, opt_capture, this);
  this.keyUpKey_ = goog.events.listen(this.element_, goog.events.EventType.KEYUP, this.handleKeyup_, opt_capture, this);
};
goog.events.KeyHandler.prototype.detach = function() {
  if (this.keyPressKey_) {
    goog.events.unlistenByKey(this.keyPressKey_);
    goog.events.unlistenByKey(this.keyDownKey_);
    goog.events.unlistenByKey(this.keyUpKey_);
    this.keyPressKey_ = null;
    this.keyDownKey_ = null;
    this.keyUpKey_ = null;
  }
  this.element_ = null;
  this.lastKey_ = -1;
  this.keyCode_ = -1;
};
goog.events.KeyHandler.prototype.disposeInternal = function() {
  goog.events.KeyHandler.superClass_.disposeInternal.call(this);
  this.detach();
};
goog.events.KeyEvent = function(keyCode, charCode, repeat, browserEvent) {
  goog.events.BrowserEvent.call(this, browserEvent);
  this.type = goog.events.KeyHandler.EventType.KEY;
  this.keyCode = keyCode;
  this.charCode = charCode;
  this.repeat = repeat;
};
goog.inherits(goog.events.KeyEvent, goog.events.BrowserEvent);
goog.provide("goog.a11y.aria.AutoCompleteValues");
goog.provide("goog.a11y.aria.CheckedValues");
goog.provide("goog.a11y.aria.DropEffectValues");
goog.provide("goog.a11y.aria.ExpandedValues");
goog.provide("goog.a11y.aria.GrabbedValues");
goog.provide("goog.a11y.aria.InvalidValues");
goog.provide("goog.a11y.aria.LivePriority");
goog.provide("goog.a11y.aria.OrientationValues");
goog.provide("goog.a11y.aria.PressedValues");
goog.provide("goog.a11y.aria.RelevantValues");
goog.provide("goog.a11y.aria.SelectedValues");
goog.provide("goog.a11y.aria.SortValues");
goog.provide("goog.a11y.aria.State");
goog.a11y.aria.State = {ACTIVEDESCENDANT:"activedescendant", ATOMIC:"atomic", AUTOCOMPLETE:"autocomplete", BUSY:"busy", CHECKED:"checked", CONTROLS:"controls", DESCRIBEDBY:"describedby", DISABLED:"disabled", DROPEFFECT:"dropeffect", EXPANDED:"expanded", FLOWTO:"flowto", GRABBED:"grabbed", HASPOPUP:"haspopup", HIDDEN:"hidden", INVALID:"invalid", LABEL:"label", LABELLEDBY:"labelledby", LEVEL:"level", LIVE:"live", MULTILINE:"multiline", MULTISELECTABLE:"multiselectable", ORIENTATION:"orientation", OWNS:"owns", 
POSINSET:"posinset", PRESSED:"pressed", READONLY:"readonly", RELEVANT:"relevant", REQUIRED:"required", SELECTED:"selected", SETSIZE:"setsize", SORT:"sort", VALUEMAX:"valuemax", VALUEMIN:"valuemin", VALUENOW:"valuenow", VALUETEXT:"valuetext"};
goog.a11y.aria.AutoCompleteValues = {INLINE:"inline", LIST:"list", BOTH:"both", NONE:"none"};
goog.a11y.aria.DropEffectValues = {COPY:"copy", MOVE:"move", LINK:"link", EXECUTE:"execute", POPUP:"popup", NONE:"none"};
goog.a11y.aria.LivePriority = {OFF:"off", POLITE:"polite", ASSERTIVE:"assertive"};
goog.a11y.aria.OrientationValues = {VERTICAL:"vertical", HORIZONTAL:"horizontal"};
goog.a11y.aria.RelevantValues = {ADDITIONS:"additions", REMOVALS:"removals", TEXT:"text", ALL:"all"};
goog.a11y.aria.SortValues = {ASCENDING:"ascending", DESCENDING:"descending", NONE:"none", OTHER:"other"};
goog.a11y.aria.CheckedValues = {TRUE:"true", FALSE:"false", MIXED:"mixed", UNDEFINED:"undefined"};
goog.a11y.aria.ExpandedValues = {TRUE:"true", FALSE:"false", UNDEFINED:"undefined"};
goog.a11y.aria.GrabbedValues = {TRUE:"true", FALSE:"false", UNDEFINED:"undefined"};
goog.a11y.aria.InvalidValues = {FALSE:"false", TRUE:"true", GRAMMAR:"grammar", SPELLING:"spelling"};
goog.a11y.aria.PressedValues = {TRUE:"true", FALSE:"false", MIXED:"mixed", UNDEFINED:"undefined"};
goog.a11y.aria.SelectedValues = {TRUE:"true", FALSE:"false", UNDEFINED:"undefined"};
goog.provide("goog.a11y.aria.datatables");
goog.require("goog.a11y.aria.State");
goog.require("goog.object");
goog.a11y.aria.DefaultStateValueMap_;
goog.a11y.aria.datatables.getDefaultValuesMap = function() {
  if (!goog.a11y.aria.DefaultStateValueMap_) {
    goog.a11y.aria.DefaultStateValueMap_ = goog.object.create(goog.a11y.aria.State.ATOMIC, false, goog.a11y.aria.State.AUTOCOMPLETE, "none", goog.a11y.aria.State.DROPEFFECT, "none", goog.a11y.aria.State.HASPOPUP, false, goog.a11y.aria.State.LIVE, "off", goog.a11y.aria.State.MULTILINE, false, goog.a11y.aria.State.MULTISELECTABLE, false, goog.a11y.aria.State.ORIENTATION, "vertical", goog.a11y.aria.State.READONLY, false, goog.a11y.aria.State.RELEVANT, "additions text", goog.a11y.aria.State.REQUIRED, 
    false, goog.a11y.aria.State.SORT, "none", goog.a11y.aria.State.BUSY, false, goog.a11y.aria.State.DISABLED, false, goog.a11y.aria.State.HIDDEN, false, goog.a11y.aria.State.INVALID, "false");
  }
  return goog.a11y.aria.DefaultStateValueMap_;
};
goog.provide("goog.a11y.aria");
goog.require("goog.a11y.aria.Role");
goog.require("goog.a11y.aria.State");
goog.require("goog.a11y.aria.datatables");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.object");
goog.require("goog.string");
goog.a11y.aria.ARIA_PREFIX_ = "aria-";
goog.a11y.aria.ROLE_ATTRIBUTE_ = "role";
goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_ = [goog.dom.TagName.A, goog.dom.TagName.AREA, goog.dom.TagName.BUTTON, goog.dom.TagName.HEAD, goog.dom.TagName.INPUT, goog.dom.TagName.LINK, goog.dom.TagName.MENU, goog.dom.TagName.META, goog.dom.TagName.OPTGROUP, goog.dom.TagName.OPTION, goog.dom.TagName.PROGRESS, goog.dom.TagName.STYLE, goog.dom.TagName.SELECT, goog.dom.TagName.SOURCE, goog.dom.TagName.TEXTAREA, goog.dom.TagName.TITLE, goog.dom.TagName.TRACK];
goog.a11y.aria.CONTAINER_ROLES_ = [goog.a11y.aria.Role.COMBOBOX, goog.a11y.aria.Role.GRID, goog.a11y.aria.Role.GROUP, goog.a11y.aria.Role.LISTBOX, goog.a11y.aria.Role.MENU, goog.a11y.aria.Role.MENUBAR, goog.a11y.aria.Role.RADIOGROUP, goog.a11y.aria.Role.ROW, goog.a11y.aria.Role.ROWGROUP, goog.a11y.aria.Role.TAB_LIST, goog.a11y.aria.Role.TEXTBOX, goog.a11y.aria.Role.TOOLBAR, goog.a11y.aria.Role.TREE, goog.a11y.aria.Role.TREEGRID];
goog.a11y.aria.setRole = function(element, roleName) {
  if (!roleName) {
    goog.a11y.aria.removeRole(element);
  } else {
    if (goog.asserts.ENABLE_ASSERTS) {
      goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role, roleName), "No such ARIA role " + roleName);
    }
    element.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_, roleName);
  }
};
goog.a11y.aria.getRole = function(element) {
  var role = element.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_);
  return (role) || null;
};
goog.a11y.aria.removeRole = function(element) {
  element.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_);
};
goog.a11y.aria.setState = function(element, stateName, value) {
  if (goog.isArray(value)) {
    value = value.join(" ");
  }
  var attrStateName = goog.a11y.aria.getAriaAttributeName_(stateName);
  if (value === "" || value == undefined) {
    var defaultValueMap = goog.a11y.aria.datatables.getDefaultValuesMap();
    if (stateName in defaultValueMap) {
      element.setAttribute(attrStateName, defaultValueMap[stateName]);
    } else {
      element.removeAttribute(attrStateName);
    }
  } else {
    element.setAttribute(attrStateName, value);
  }
};
goog.a11y.aria.toggleState = function(el, attr) {
  var val = goog.a11y.aria.getState(el, attr);
  if (!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(val)) && !(val == "true" || val == "false")) {
    goog.a11y.aria.removeState(el, (attr));
    return;
  }
  goog.a11y.aria.setState(el, attr, val == "true" ? "false" : "true");
};
goog.a11y.aria.removeState = function(element, stateName) {
  element.removeAttribute(goog.a11y.aria.getAriaAttributeName_(stateName));
};
goog.a11y.aria.getState = function(element, stateName) {
  var attr = (element.getAttribute(goog.a11y.aria.getAriaAttributeName_(stateName)));
  var isNullOrUndefined = attr == null || attr == undefined;
  return isNullOrUndefined ? "" : String(attr);
};
goog.a11y.aria.getActiveDescendant = function(element) {
  var id = goog.a11y.aria.getState(element, goog.a11y.aria.State.ACTIVEDESCENDANT);
  return goog.dom.getOwnerDocument(element).getElementById(id);
};
goog.a11y.aria.setActiveDescendant = function(element, activeElement) {
  var id = "";
  if (activeElement) {
    id = activeElement.id;
    goog.asserts.assert(id, "The active element should have an id.");
  }
  goog.a11y.aria.setState(element, goog.a11y.aria.State.ACTIVEDESCENDANT, id);
};
goog.a11y.aria.getLabel = function(element) {
  return goog.a11y.aria.getState(element, goog.a11y.aria.State.LABEL);
};
goog.a11y.aria.setLabel = function(element, label) {
  goog.a11y.aria.setState(element, goog.a11y.aria.State.LABEL, label);
};
goog.a11y.aria.assertRoleIsSetInternalUtil = function(element, allowedRoles) {
  if (goog.array.contains(goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_, element.tagName)) {
    return;
  }
  var elementRole = (goog.a11y.aria.getRole(element));
  goog.asserts.assert(elementRole != null, "The element ARIA role cannot be null.");
  goog.asserts.assert(goog.array.contains(allowedRoles, elementRole), "Non existing or incorrect role set for element." + 'The role set is "' + elementRole + '". The role should be any of "' + allowedRoles + '". Check the ARIA specification for more details ' + "http://www.w3.org/TR/wai-aria/roles.");
};
goog.a11y.aria.getStateBoolean = function(element, stateName) {
  var attr = (element.getAttribute(goog.a11y.aria.getAriaAttributeName_(stateName)));
  goog.asserts.assert(goog.isBoolean(attr) || attr == null || attr == "true" || attr == "false");
  if (attr == null) {
    return attr;
  }
  return goog.isBoolean(attr) ? attr : attr == "true";
};
goog.a11y.aria.getStateNumber = function(element, stateName) {
  var attr = (element.getAttribute(goog.a11y.aria.getAriaAttributeName_(stateName)));
  goog.asserts.assert((attr == null || !isNaN(Number(attr))) && !goog.isBoolean(attr));
  return attr == null ? null : Number(attr);
};
goog.a11y.aria.getStateString = function(element, stateName) {
  var attr = element.getAttribute(goog.a11y.aria.getAriaAttributeName_(stateName));
  goog.asserts.assert((attr == null || goog.isString(attr)) && (attr == "" || isNaN(Number(attr))) && attr != "true" && attr != "false");
  return attr == null || attr == "" ? null : attr;
};
goog.a11y.aria.getStringArrayStateInternalUtil = function(element, stateName) {
  var attrValue = element.getAttribute(goog.a11y.aria.getAriaAttributeName_(stateName));
  return goog.a11y.aria.splitStringOnWhitespace_(attrValue);
};
goog.a11y.aria.hasState = function(element, stateName) {
  return element.hasAttribute(goog.a11y.aria.getAriaAttributeName_(stateName));
};
goog.a11y.aria.isContainerRole = function(element) {
  var role = goog.a11y.aria.getRole(element);
  return goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_, role);
};
goog.a11y.aria.splitStringOnWhitespace_ = function(stringValue) {
  return stringValue ? stringValue.split(/\s+/) : [];
};
goog.a11y.aria.getAriaAttributeName_ = function(ariaName) {
  if (goog.asserts.ENABLE_ASSERTS) {
    goog.asserts.assert(ariaName, "ARIA attribute cannot be empty.");
    goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State, ariaName), "No such ARIA attribute " + ariaName);
  }
  return goog.a11y.aria.ARIA_PREFIX_ + ariaName;
};
goog.provide("goog.ui.ButtonSide");
goog.ui.ButtonSide = {NONE:0, START:1, END:2, BOTH:3};
goog.provide("goog.events.EventHandler");
goog.require("goog.Disposable");
goog.require("goog.events");
goog.require("goog.object");
goog.forwardDeclare("goog.events.EventWrapper");
goog.events.EventHandler = function(opt_scope) {
  goog.Disposable.call(this);
  this.handler_ = opt_scope;
  this.keys_ = {};
};
goog.inherits(goog.events.EventHandler, goog.Disposable);
goog.events.EventHandler.typeArray_ = [];
goog.events.EventHandler.prototype.listen = function(src, type, opt_fn, opt_capture) {
  return this.listen_(src, type, opt_fn, opt_capture);
};
goog.events.EventHandler.prototype.listenWithScope = function(src, type, fn, capture, scope) {
  return this.listen_(src, type, fn, capture, scope);
};
goog.events.EventHandler.prototype.listen_ = function(src, type, opt_fn, opt_capture, opt_scope) {
  if (!goog.isArray(type)) {
    if (type) {
      goog.events.EventHandler.typeArray_[0] = type.toString();
    }
    type = goog.events.EventHandler.typeArray_;
  }
  for (var i = 0;i < type.length;i++) {
    var listenerObj = goog.events.listen(src, type[i], opt_fn || this.handleEvent, opt_capture || false, opt_scope || this.handler_ || this);
    if (!listenerObj) {
      return this;
    }
    var key = listenerObj.key;
    this.keys_[key] = listenerObj;
  }
  return this;
};
goog.events.EventHandler.prototype.listenOnce = function(src, type, opt_fn, opt_capture) {
  return this.listenOnce_(src, type, opt_fn, opt_capture);
};
goog.events.EventHandler.prototype.listenOnceWithScope = function(src, type, fn, capture, scope) {
  return this.listenOnce_(src, type, fn, capture, scope);
};
goog.events.EventHandler.prototype.listenOnce_ = function(src, type, opt_fn, opt_capture, opt_scope) {
  if (goog.isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      this.listenOnce_(src, type[i], opt_fn, opt_capture, opt_scope);
    }
  } else {
    var listenerObj = goog.events.listenOnce(src, type, opt_fn || this.handleEvent, opt_capture, opt_scope || this.handler_ || this);
    if (!listenerObj) {
      return this;
    }
    var key = listenerObj.key;
    this.keys_[key] = listenerObj;
  }
  return this;
};
goog.events.EventHandler.prototype.listenWithWrapper = function(src, wrapper, listener, opt_capt) {
  return this.listenWithWrapper_(src, wrapper, listener, opt_capt);
};
goog.events.EventHandler.prototype.listenWithWrapperAndScope = function(src, wrapper, listener, capture, scope) {
  return this.listenWithWrapper_(src, wrapper, listener, capture, scope);
};
goog.events.EventHandler.prototype.listenWithWrapper_ = function(src, wrapper, listener, opt_capt, opt_scope) {
  wrapper.listen(src, listener, opt_capt, opt_scope || this.handler_ || this, this);
  return this;
};
goog.events.EventHandler.prototype.getListenerCount = function() {
  var count = 0;
  for (var key in this.keys_) {
    if (Object.prototype.hasOwnProperty.call(this.keys_, key)) {
      count++;
    }
  }
  return count;
};
goog.events.EventHandler.prototype.unlisten = function(src, type, opt_fn, opt_capture, opt_scope) {
  if (goog.isArray(type)) {
    for (var i = 0;i < type.length;i++) {
      this.unlisten(src, type[i], opt_fn, opt_capture, opt_scope);
    }
  } else {
    var listener = goog.events.getListener(src, type, opt_fn || this.handleEvent, opt_capture, opt_scope || this.handler_ || this);
    if (listener) {
      goog.events.unlistenByKey(listener);
      delete this.keys_[listener.key];
    }
  }
  return this;
};
goog.events.EventHandler.prototype.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_scope) {
  wrapper.unlisten(src, listener, opt_capt, opt_scope || this.handler_ || this, this);
  return this;
};
goog.events.EventHandler.prototype.removeAll = function() {
  goog.object.forEach(this.keys_, function(listenerObj, key) {
    if (this.keys_.hasOwnProperty(key)) {
      goog.events.unlistenByKey(listenerObj);
    }
  }, this);
  this.keys_ = {};
};
goog.events.EventHandler.prototype.disposeInternal = function() {
  goog.events.EventHandler.superClass_.disposeInternal.call(this);
  this.removeAll();
};
goog.events.EventHandler.prototype.handleEvent = function(e) {
  throw Error("EventHandler.handleEvent not implemented");
};
goog.provide("goog.dom.vendor");
goog.require("goog.string");
goog.require("goog.userAgent");
goog.dom.vendor.getVendorJsPrefix = function() {
  if (goog.userAgent.WEBKIT) {
    return "Webkit";
  } else {
    if (goog.userAgent.GECKO) {
      return "Moz";
    } else {
      if (goog.userAgent.IE) {
        return "ms";
      } else {
        if (goog.userAgent.OPERA) {
          return "O";
        }
      }
    }
  }
  return null;
};
goog.dom.vendor.getVendorPrefix = function() {
  if (goog.userAgent.WEBKIT) {
    return "-webkit";
  } else {
    if (goog.userAgent.GECKO) {
      return "-moz";
    } else {
      if (goog.userAgent.IE) {
        return "-ms";
      } else {
        if (goog.userAgent.OPERA) {
          return "-o";
        }
      }
    }
  }
  return null;
};
goog.dom.vendor.getPrefixedPropertyName = function(propertyName, opt_object) {
  if (opt_object && propertyName in opt_object) {
    return propertyName;
  }
  var prefix = goog.dom.vendor.getVendorJsPrefix();
  if (prefix) {
    prefix = prefix.toLowerCase();
    var prefixedPropertyName = prefix + goog.string.toTitleCase(propertyName);
    return !goog.isDef(opt_object) || prefixedPropertyName in opt_object ? prefixedPropertyName : null;
  }
  return null;
};
goog.dom.vendor.getPrefixedEventType = function(eventType) {
  var prefix = goog.dom.vendor.getVendorJsPrefix() || "";
  return (prefix + eventType).toLowerCase();
};
goog.provide("goog.math.Box");
goog.require("goog.math.Coordinate");
goog.math.Box = function(top, right, bottom, left) {
  this.top = top;
  this.right = right;
  this.bottom = bottom;
  this.left = left;
};
goog.math.Box.boundingBox = function(var_args) {
  var box = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x);
  for (var i = 1;i < arguments.length;i++) {
    box.expandToIncludeCoordinate(arguments[i]);
  }
  return box;
};
goog.math.Box.prototype.getWidth = function() {
  return this.right - this.left;
};
goog.math.Box.prototype.getHeight = function() {
  return this.bottom - this.top;
};
goog.math.Box.prototype.clone = function() {
  return new goog.math.Box(this.top, this.right, this.bottom, this.left);
};
if (goog.DEBUG) {
  goog.math.Box.prototype.toString = function() {
    return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)";
  };
}
goog.math.Box.prototype.contains = function(other) {
  return goog.math.Box.contains(this, other);
};
goog.math.Box.prototype.expand = function(top, opt_right, opt_bottom, opt_left) {
  if (goog.isObject(top)) {
    this.top -= top.top;
    this.right += top.right;
    this.bottom += top.bottom;
    this.left -= top.left;
  } else {
    this.top -= top;
    this.right += opt_right;
    this.bottom += opt_bottom;
    this.left -= opt_left;
  }
  return this;
};
goog.math.Box.prototype.expandToInclude = function(box) {
  this.left = Math.min(this.left, box.left);
  this.top = Math.min(this.top, box.top);
  this.right = Math.max(this.right, box.right);
  this.bottom = Math.max(this.bottom, box.bottom);
};
goog.math.Box.prototype.expandToIncludeCoordinate = function(coord) {
  this.top = Math.min(this.top, coord.y);
  this.right = Math.max(this.right, coord.x);
  this.bottom = Math.max(this.bottom, coord.y);
  this.left = Math.min(this.left, coord.x);
};
goog.math.Box.equals = function(a, b) {
  if (a == b) {
    return true;
  }
  if (!a || !b) {
    return false;
  }
  return a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left;
};
goog.math.Box.contains = function(box, other) {
  if (!box || !other) {
    return false;
  }
  if (other instanceof goog.math.Box) {
    return other.left >= box.left && other.right <= box.right && other.top >= box.top && other.bottom <= box.bottom;
  }
  return other.x >= box.left && other.x <= box.right && other.y >= box.top && other.y <= box.bottom;
};
goog.math.Box.relativePositionX = function(box, coord) {
  if (coord.x < box.left) {
    return coord.x - box.left;
  } else {
    if (coord.x > box.right) {
      return coord.x - box.right;
    }
  }
  return 0;
};
goog.math.Box.relativePositionY = function(box, coord) {
  if (coord.y < box.top) {
    return coord.y - box.top;
  } else {
    if (coord.y > box.bottom) {
      return coord.y - box.bottom;
    }
  }
  return 0;
};
goog.math.Box.distance = function(box, coord) {
  var x = goog.math.Box.relativePositionX(box, coord);
  var y = goog.math.Box.relativePositionY(box, coord);
  return Math.sqrt(x * x + y * y);
};
goog.math.Box.intersects = function(a, b) {
  return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;
};
goog.math.Box.intersectsWithPadding = function(a, b, padding) {
  return a.left <= b.right + padding && b.left <= a.right + padding && a.top <= b.bottom + padding && b.top <= a.bottom + padding;
};
goog.math.Box.prototype.ceil = function() {
  this.top = Math.ceil(this.top);
  this.right = Math.ceil(this.right);
  this.bottom = Math.ceil(this.bottom);
  this.left = Math.ceil(this.left);
  return this;
};
goog.math.Box.prototype.floor = function() {
  this.top = Math.floor(this.top);
  this.right = Math.floor(this.right);
  this.bottom = Math.floor(this.bottom);
  this.left = Math.floor(this.left);
  return this;
};
goog.math.Box.prototype.round = function() {
  this.top = Math.round(this.top);
  this.right = Math.round(this.right);
  this.bottom = Math.round(this.bottom);
  this.left = Math.round(this.left);
  return this;
};
goog.math.Box.prototype.translate = function(tx, opt_ty) {
  if (tx instanceof goog.math.Coordinate) {
    this.left += tx.x;
    this.right += tx.x;
    this.top += tx.y;
    this.bottom += tx.y;
  } else {
    this.left += tx;
    this.right += tx;
    if (goog.isNumber(opt_ty)) {
      this.top += opt_ty;
      this.bottom += opt_ty;
    }
  }
  return this;
};
goog.math.Box.prototype.scale = function(sx, opt_sy) {
  var sy = goog.isNumber(opt_sy) ? opt_sy : sx;
  this.left *= sx;
  this.right *= sx;
  this.top *= sy;
  this.bottom *= sy;
  return this;
};
goog.provide("goog.math.Rect");
goog.require("goog.math.Box");
goog.require("goog.math.Coordinate");
goog.require("goog.math.Size");
goog.math.Rect = function(x, y, w, h) {
  this.left = x;
  this.top = y;
  this.width = w;
  this.height = h;
};
goog.math.Rect.prototype.clone = function() {
  return new goog.math.Rect(this.left, this.top, this.width, this.height);
};
goog.math.Rect.prototype.toBox = function() {
  var right = this.left + this.width;
  var bottom = this.top + this.height;
  return new goog.math.Box(this.top, right, bottom, this.left);
};
goog.math.Rect.createFromPositionAndSize = function(position, size) {
  return new goog.math.Rect(position.x, position.y, size.width, size.height);
};
goog.math.Rect.createFromBox = function(box) {
  return new goog.math.Rect(box.left, box.top, box.right - box.left, box.bottom - box.top);
};
if (goog.DEBUG) {
  goog.math.Rect.prototype.toString = function() {
    return "(" + this.left + ", " + this.top + " - " + this.width + "w x " + this.height + "h)";
  };
}
goog.math.Rect.equals = function(a, b) {
  if (a == b) {
    return true;
  }
  if (!a || !b) {
    return false;
  }
  return a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height;
};
goog.math.Rect.prototype.intersection = function(rect) {
  var x0 = Math.max(this.left, rect.left);
  var x1 = Math.min(this.left + this.width, rect.left + rect.width);
  if (x0 <= x1) {
    var y0 = Math.max(this.top, rect.top);
    var y1 = Math.min(this.top + this.height, rect.top + rect.height);
    if (y0 <= y1) {
      this.left = x0;
      this.top = y0;
      this.width = x1 - x0;
      this.height = y1 - y0;
      return true;
    }
  }
  return false;
};
goog.math.Rect.intersection = function(a, b) {
  var x0 = Math.max(a.left, b.left);
  var x1 = Math.min(a.left + a.width, b.left + b.width);
  if (x0 <= x1) {
    var y0 = Math.max(a.top, b.top);
    var y1 = Math.min(a.top + a.height, b.top + b.height);
    if (y0 <= y1) {
      return new goog.math.Rect(x0, y0, x1 - x0, y1 - y0);
    }
  }
  return null;
};
goog.math.Rect.intersects = function(a, b) {
  return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;
};
goog.math.Rect.prototype.intersects = function(rect) {
  return goog.math.Rect.intersects(this, rect);
};
goog.math.Rect.difference = function(a, b) {
  var intersection = goog.math.Rect.intersection(a, b);
  if (!intersection || !intersection.height || !intersection.width) {
    return [a.clone()];
  }
  var result = [];
  var top = a.top;
  var height = a.height;
  var ar = a.left + a.width;
  var ab = a.top + a.height;
  var br = b.left + b.width;
  var bb = b.top + b.height;
  if (b.top > a.top) {
    result.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top));
    top = b.top;
    height -= b.top - a.top;
  }
  if (bb < ab) {
    result.push(new goog.math.Rect(a.left, bb, a.width, ab - bb));
    height = bb - top;
  }
  if (b.left > a.left) {
    result.push(new goog.math.Rect(a.left, top, b.left - a.left, height));
  }
  if (br < ar) {
    result.push(new goog.math.Rect(br, top, ar - br, height));
  }
  return result;
};
goog.math.Rect.prototype.difference = function(rect) {
  return goog.math.Rect.difference(this, rect);
};
goog.math.Rect.prototype.boundingRect = function(rect) {
  var right = Math.max(this.left + this.width, rect.left + rect.width);
  var bottom = Math.max(this.top + this.height, rect.top + rect.height);
  this.left = Math.min(this.left, rect.left);
  this.top = Math.min(this.top, rect.top);
  this.width = right - this.left;
  this.height = bottom - this.top;
};
goog.math.Rect.boundingRect = function(a, b) {
  if (!a || !b) {
    return null;
  }
  var clone = a.clone();
  clone.boundingRect(b);
  return clone;
};
goog.math.Rect.prototype.contains = function(another) {
  if (another instanceof goog.math.Rect) {
    return this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;
  } else {
    return another.x >= this.left && another.x <= this.left + this.width && another.y >= this.top && another.y <= this.top + this.height;
  }
};
goog.math.Rect.prototype.squaredDistance = function(point) {
  var dx = point.x < this.left ? this.left - point.x : Math.max(point.x - (this.left + this.width), 0);
  var dy = point.y < this.top ? this.top - point.y : Math.max(point.y - (this.top + this.height), 0);
  return dx * dx + dy * dy;
};
goog.math.Rect.prototype.distance = function(point) {
  return Math.sqrt(this.squaredDistance(point));
};
goog.math.Rect.prototype.getSize = function() {
  return new goog.math.Size(this.width, this.height);
};
goog.math.Rect.prototype.getTopLeft = function() {
  return new goog.math.Coordinate(this.left, this.top);
};
goog.math.Rect.prototype.getCenter = function() {
  return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);
};
goog.math.Rect.prototype.getBottomRight = function() {
  return new goog.math.Coordinate(this.left + this.width, this.top + this.height);
};
goog.math.Rect.prototype.ceil = function() {
  this.left = Math.ceil(this.left);
  this.top = Math.ceil(this.top);
  this.width = Math.ceil(this.width);
  this.height = Math.ceil(this.height);
  return this;
};
goog.math.Rect.prototype.floor = function() {
  this.left = Math.floor(this.left);
  this.top = Math.floor(this.top);
  this.width = Math.floor(this.width);
  this.height = Math.floor(this.height);
  return this;
};
goog.math.Rect.prototype.round = function() {
  this.left = Math.round(this.left);
  this.top = Math.round(this.top);
  this.width = Math.round(this.width);
  this.height = Math.round(this.height);
  return this;
};
goog.math.Rect.prototype.translate = function(tx, opt_ty) {
  if (tx instanceof goog.math.Coordinate) {
    this.left += tx.x;
    this.top += tx.y;
  } else {
    this.left += tx;
    if (goog.isNumber(opt_ty)) {
      this.top += opt_ty;
    }
  }
  return this;
};
goog.math.Rect.prototype.scale = function(sx, opt_sy) {
  var sy = goog.isNumber(opt_sy) ? opt_sy : sx;
  this.left *= sx;
  this.width *= sx;
  this.top *= sy;
  this.height *= sy;
  return this;
};
goog.provide("goog.style");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.NodeType");
goog.require("goog.dom.TagName");
goog.require("goog.dom.vendor");
goog.require("goog.math.Box");
goog.require("goog.math.Coordinate");
goog.require("goog.math.Rect");
goog.require("goog.math.Size");
goog.require("goog.object");
goog.require("goog.string");
goog.require("goog.userAgent");
goog.forwardDeclare("goog.events.BrowserEvent");
goog.forwardDeclare("goog.events.Event");
goog.style.setStyle = function(element, style, opt_value) {
  if (goog.isString(style)) {
    goog.style.setStyle_(element, opt_value, style);
  } else {
    for (var key in style) {
      goog.style.setStyle_(element, style[key], key);
    }
  }
};
goog.style.setStyle_ = function(element, value, style) {
  var propertyName = goog.style.getVendorJsStyleName_(element, style);
  if (propertyName) {
    element.style[propertyName] = value;
  }
};
goog.style.styleNameCache_ = {};
goog.style.getVendorJsStyleName_ = function(element, style) {
  var propertyName = goog.style.styleNameCache_[style];
  if (!propertyName) {
    var camelStyle = goog.string.toCamelCase(style);
    propertyName = camelStyle;
    if (element.style[camelStyle] === undefined) {
      var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);
      if (element.style[prefixedStyle] !== undefined) {
        propertyName = prefixedStyle;
      }
    }
    goog.style.styleNameCache_[style] = propertyName;
  }
  return propertyName;
};
goog.style.getVendorStyleName_ = function(element, style) {
  var camelStyle = goog.string.toCamelCase(style);
  if (element.style[camelStyle] === undefined) {
    var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);
    if (element.style[prefixedStyle] !== undefined) {
      return goog.dom.vendor.getVendorPrefix() + "-" + style;
    }
  }
  return style;
};
goog.style.getStyle = function(element, property) {
  var styleValue = element.style[goog.string.toCamelCase(property)];
  if (typeof styleValue !== "undefined") {
    return styleValue;
  }
  return element.style[goog.style.getVendorJsStyleName_(element, property)] || "";
};
goog.style.getComputedStyle = function(element, property) {
  var doc = goog.dom.getOwnerDocument(element);
  if (doc.defaultView && doc.defaultView.getComputedStyle) {
    var styles = doc.defaultView.getComputedStyle(element, null);
    if (styles) {
      return styles[property] || styles.getPropertyValue(property) || "";
    }
  }
  return "";
};
goog.style.getCascadedStyle = function(element, style) {
  return element.currentStyle ? element.currentStyle[style] : null;
};
goog.style.getStyle_ = function(element, style) {
  return goog.style.getComputedStyle(element, style) || goog.style.getCascadedStyle(element, style) || element.style && element.style[style];
};
goog.style.getComputedBoxSizing = function(element) {
  return goog.style.getStyle_(element, "boxSizing") || goog.style.getStyle_(element, "MozBoxSizing") || goog.style.getStyle_(element, "WebkitBoxSizing") || null;
};
goog.style.getComputedPosition = function(element) {
  return goog.style.getStyle_(element, "position");
};
goog.style.getBackgroundColor = function(element) {
  return goog.style.getStyle_(element, "backgroundColor");
};
goog.style.getComputedOverflowX = function(element) {
  return goog.style.getStyle_(element, "overflowX");
};
goog.style.getComputedOverflowY = function(element) {
  return goog.style.getStyle_(element, "overflowY");
};
goog.style.getComputedZIndex = function(element) {
  return goog.style.getStyle_(element, "zIndex");
};
goog.style.getComputedTextAlign = function(element) {
  return goog.style.getStyle_(element, "textAlign");
};
goog.style.getComputedCursor = function(element) {
  return goog.style.getStyle_(element, "cursor");
};
goog.style.getComputedTransform = function(element) {
  var property = goog.style.getVendorStyleName_(element, "transform");
  return goog.style.getStyle_(element, property) || goog.style.getStyle_(element, "transform");
};
goog.style.setPosition = function(el, arg1, opt_arg2) {
  var x, y;
  if (arg1 instanceof goog.math.Coordinate) {
    x = arg1.x;
    y = arg1.y;
  } else {
    x = arg1;
    y = opt_arg2;
  }
  el.style.left = goog.style.getPixelStyleValue_((x), false);
  el.style.top = goog.style.getPixelStyleValue_((y), false);
};
goog.style.getPosition = function(element) {
  return new goog.math.Coordinate((element).offsetLeft, (element).offsetTop);
};
goog.style.getClientViewportElement = function(opt_node) {
  var doc;
  if (opt_node) {
    doc = goog.dom.getOwnerDocument(opt_node);
  } else {
    doc = goog.dom.getDocument();
  }
  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9) && !goog.dom.getDomHelper(doc).isCss1CompatMode()) {
    return doc.body;
  }
  return doc.documentElement;
};
goog.style.getViewportPageOffset = function(doc) {
  var body = doc.body;
  var documentElement = doc.documentElement;
  var scrollLeft = body.scrollLeft || documentElement.scrollLeft;
  var scrollTop = body.scrollTop || documentElement.scrollTop;
  return new goog.math.Coordinate(scrollLeft, scrollTop);
};
goog.style.getBoundingClientRect_ = function(el) {
  var rect;
  try {
    rect = el.getBoundingClientRect();
  } catch (e) {
    return {"left":0, "top":0, "right":0, "bottom":0};
  }
  if (goog.userAgent.IE && el.ownerDocument.body) {
    var doc = el.ownerDocument;
    rect.left -= doc.documentElement.clientLeft + doc.body.clientLeft;
    rect.top -= doc.documentElement.clientTop + doc.body.clientTop;
  }
  return rect;
};
goog.style.getOffsetParent = function(element) {
  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) {
    return element.offsetParent;
  }
  var doc = goog.dom.getOwnerDocument(element);
  var positionStyle = goog.style.getStyle_(element, "position");
  var skipStatic = positionStyle == "fixed" || positionStyle == "absolute";
  for (var parent = element.parentNode;parent && parent != doc;parent = parent.parentNode) {
    if (parent.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && parent.host) {
      parent = parent.host;
    }
    positionStyle = goog.style.getStyle_((parent), "position");
    skipStatic = skipStatic && positionStyle == "static" && parent != doc.documentElement && parent != doc.body;
    if (!skipStatic && (parent.scrollWidth > parent.clientWidth || parent.scrollHeight > parent.clientHeight || positionStyle == "fixed" || positionStyle == "absolute" || positionStyle == "relative")) {
      return (parent);
    }
  }
  return null;
};
goog.style.getVisibleRectForElement = function(element) {
  var visibleRect = new goog.math.Box(0, Infinity, Infinity, 0);
  var dom = goog.dom.getDomHelper(element);
  var body = dom.getDocument().body;
  var documentElement = dom.getDocument().documentElement;
  var scrollEl = dom.getDocumentScrollElement();
  for (var el = element;el = goog.style.getOffsetParent(el);) {
    if ((!goog.userAgent.IE || el.clientWidth != 0) && (!goog.userAgent.WEBKIT || el.clientHeight != 0 || el != body) && (el != body && el != documentElement && goog.style.getStyle_(el, "overflow") != "visible")) {
      var pos = goog.style.getPageOffset(el);
      var client = goog.style.getClientLeftTop(el);
      pos.x += client.x;
      pos.y += client.y;
      visibleRect.top = Math.max(visibleRect.top, pos.y);
      visibleRect.right = Math.min(visibleRect.right, pos.x + el.clientWidth);
      visibleRect.bottom = Math.min(visibleRect.bottom, pos.y + el.clientHeight);
      visibleRect.left = Math.max(visibleRect.left, pos.x);
    }
  }
  var scrollX = scrollEl.scrollLeft, scrollY = scrollEl.scrollTop;
  visibleRect.left = Math.max(visibleRect.left, scrollX);
  visibleRect.top = Math.max(visibleRect.top, scrollY);
  var winSize = dom.getViewportSize();
  visibleRect.right = Math.min(visibleRect.right, scrollX + winSize.width);
  visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + winSize.height);
  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;
};
goog.style.getContainerOffsetToScrollInto = function(element, opt_container, opt_center) {
  var container = opt_container || goog.dom.getDocumentScrollElement();
  var elementPos = goog.style.getPageOffset(element);
  var containerPos = goog.style.getPageOffset(container);
  var containerBorder = goog.style.getBorderBox(container);
  if (container == goog.dom.getDocumentScrollElement()) {
    var relX = elementPos.x - container.scrollLeft;
    var relY = elementPos.y - container.scrollTop;
    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10)) {
      relX += containerBorder.left;
      relY += containerBorder.top;
    }
  } else {
    var relX = elementPos.x - containerPos.x - containerBorder.left;
    var relY = elementPos.y - containerPos.y - containerBorder.top;
  }
  var spaceX = container.clientWidth - (element).offsetWidth;
  var spaceY = container.clientHeight - (element).offsetHeight;
  var scrollLeft = container.scrollLeft;
  var scrollTop = container.scrollTop;
  if (opt_center) {
    scrollLeft += relX - spaceX / 2;
    scrollTop += relY - spaceY / 2;
  } else {
    scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0));
    scrollTop += Math.min(relY, Math.max(relY - spaceY, 0));
  }
  return new goog.math.Coordinate(scrollLeft, scrollTop);
};
goog.style.scrollIntoContainerView = function(element, opt_container, opt_center) {
  var container = opt_container || goog.dom.getDocumentScrollElement();
  var offset = goog.style.getContainerOffsetToScrollInto(element, container, opt_center);
  container.scrollLeft = offset.x;
  container.scrollTop = offset.y;
};
goog.style.getClientLeftTop = function(el) {
  return new goog.math.Coordinate(el.clientLeft, el.clientTop);
};
goog.style.getPageOffset = function(el) {
  var doc = goog.dom.getOwnerDocument(el);
  goog.asserts.assertObject(el, "Parameter is required");
  var pos = new goog.math.Coordinate(0, 0);
  var viewportElement = goog.style.getClientViewportElement(doc);
  if (el == viewportElement) {
    return pos;
  }
  var box = goog.style.getBoundingClientRect_(el);
  var scrollCoord = goog.dom.getDomHelper(doc).getDocumentScroll();
  pos.x = box.left + scrollCoord.x;
  pos.y = box.top + scrollCoord.y;
  return pos;
};
goog.style.getPageOffsetLeft = function(el) {
  return goog.style.getPageOffset(el).x;
};
goog.style.getPageOffsetTop = function(el) {
  return goog.style.getPageOffset(el).y;
};
goog.style.getFramedPageOffset = function(el, relativeWin) {
  var position = new goog.math.Coordinate(0, 0);
  var currentWin = goog.dom.getWindow(goog.dom.getOwnerDocument(el));
  var currentEl = el;
  do {
    var offset = currentWin == relativeWin ? goog.style.getPageOffset(currentEl) : goog.style.getClientPositionForElement_(goog.asserts.assert(currentEl));
    position.x += offset.x;
    position.y += offset.y;
  } while (currentWin && currentWin != relativeWin && currentWin != currentWin.parent && (currentEl = currentWin.frameElement) && (currentWin = currentWin.parent));
  return position;
};
goog.style.translateRectForAnotherFrame = function(rect, origBase, newBase) {
  if (origBase.getDocument() != newBase.getDocument()) {
    var body = origBase.getDocument().body;
    var pos = goog.style.getFramedPageOffset(body, newBase.getWindow());
    pos = goog.math.Coordinate.difference(pos, goog.style.getPageOffset(body));
    if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9) && !origBase.isCss1CompatMode()) {
      pos = goog.math.Coordinate.difference(pos, origBase.getDocumentScroll());
    }
    rect.left += pos.x;
    rect.top += pos.y;
  }
};
goog.style.getRelativePosition = function(a, b) {
  var ap = goog.style.getClientPosition(a);
  var bp = goog.style.getClientPosition(b);
  return new goog.math.Coordinate(ap.x - bp.x, ap.y - bp.y);
};
goog.style.getClientPositionForElement_ = function(el) {
  var box = goog.style.getBoundingClientRect_(el);
  return new goog.math.Coordinate(box.left, box.top);
};
goog.style.getClientPosition = function(el) {
  goog.asserts.assert(el);
  if (el.nodeType == goog.dom.NodeType.ELEMENT) {
    return goog.style.getClientPositionForElement_((el));
  } else {
    var targetEvent = el.changedTouches ? el.changedTouches[0] : el;
    return new goog.math.Coordinate(targetEvent.clientX, targetEvent.clientY);
  }
};
goog.style.setPageOffset = function(el, x, opt_y) {
  var cur = goog.style.getPageOffset(el);
  if (x instanceof goog.math.Coordinate) {
    opt_y = x.y;
    x = x.x;
  }
  var dx = x - cur.x;
  var dy = opt_y - cur.y;
  goog.style.setPosition(el, (el).offsetLeft + dx, (el).offsetTop + dy);
};
goog.style.setSize = function(element, w, opt_h) {
  var h;
  if (w instanceof goog.math.Size) {
    h = w.height;
    w = w.width;
  } else {
    if (opt_h == undefined) {
      throw Error("missing height argument");
    }
    h = opt_h;
  }
  goog.style.setWidth(element, (w));
  goog.style.setHeight(element, h);
};
goog.style.getPixelStyleValue_ = function(value, round) {
  if (typeof value == "number") {
    value = (round ? Math.round(value) : value) + "px";
  }
  return value;
};
goog.style.setHeight = function(element, height) {
  element.style.height = goog.style.getPixelStyleValue_(height, true);
};
goog.style.setWidth = function(element, width) {
  element.style.width = goog.style.getPixelStyleValue_(width, true);
};
goog.style.getSize = function(element) {
  return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, (element));
};
goog.style.evaluateWithTemporaryDisplay_ = function(fn, element) {
  if (goog.style.getStyle_(element, "display") != "none") {
    return fn(element);
  }
  var style = element.style;
  var originalDisplay = style.display;
  var originalVisibility = style.visibility;
  var originalPosition = style.position;
  style.visibility = "hidden";
  style.position = "absolute";
  style.display = "inline";
  var retVal = fn(element);
  style.display = originalDisplay;
  style.position = originalPosition;
  style.visibility = originalVisibility;
  return retVal;
};
goog.style.getSizeWithDisplay_ = function(element) {
  var offsetWidth = (element).offsetWidth;
  var offsetHeight = (element).offsetHeight;
  var webkitOffsetsZero = goog.userAgent.WEBKIT && !offsetWidth && !offsetHeight;
  if ((!goog.isDef(offsetWidth) || webkitOffsetsZero) && element.getBoundingClientRect) {
    var clientRect = goog.style.getBoundingClientRect_(element);
    return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);
  }
  return new goog.math.Size(offsetWidth, offsetHeight);
};
goog.style.getTransformedSize = function(element) {
  if (!element.getBoundingClientRect) {
    return null;
  }
  var clientRect = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, element);
  return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);
};
goog.style.getBounds = function(element) {
  var o = goog.style.getPageOffset(element);
  var s = goog.style.getSize(element);
  return new goog.math.Rect(o.x, o.y, s.width, s.height);
};
goog.style.toCamelCase = function(selector) {
  return goog.string.toCamelCase(String(selector));
};
goog.style.toSelectorCase = function(selector) {
  return goog.string.toSelectorCase(selector);
};
goog.style.getOpacity = function(el) {
  var style = el.style;
  var result = "";
  if ("opacity" in style) {
    result = style.opacity;
  } else {
    if ("MozOpacity" in style) {
      result = style.MozOpacity;
    } else {
      if ("filter" in style) {
        var match = style.filter.match(/alpha\(opacity=([\d.]+)\)/);
        if (match) {
          result = String(match[1] / 100);
        }
      }
    }
  }
  return result == "" ? result : Number(result);
};
goog.style.setOpacity = function(el, alpha) {
  var style = el.style;
  if ("opacity" in style) {
    style.opacity = alpha;
  } else {
    if ("MozOpacity" in style) {
      style.MozOpacity = alpha;
    } else {
      if ("filter" in style) {
        if (alpha === "") {
          style.filter = "";
        } else {
          style.filter = "alpha(opacity\x3d" + alpha * 100 + ")";
        }
      }
    }
  }
};
goog.style.setTransparentBackgroundImage = function(el, src) {
  var style = el.style;
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8")) {
    style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(" + 'src\x3d"' + src + '", sizingMethod\x3d"crop")';
  } else {
    style.backgroundImage = "url(" + src + ")";
    style.backgroundPosition = "top left";
    style.backgroundRepeat = "no-repeat";
  }
};
goog.style.clearTransparentBackgroundImage = function(el) {
  var style = el.style;
  if ("filter" in style) {
    style.filter = "";
  } else {
    style.backgroundImage = "none";
  }
};
goog.style.showElement = function(el, display) {
  goog.style.setElementShown(el, display);
};
goog.style.setElementShown = function(el, isShown) {
  el.style.display = isShown ? "" : "none";
};
goog.style.isElementShown = function(el) {
  return el.style.display != "none";
};
goog.style.installStyles = function(stylesString, opt_node) {
  var dh = goog.dom.getDomHelper(opt_node);
  var styleSheet = null;
  var doc = dh.getDocument();
  if (goog.userAgent.IE && doc.createStyleSheet) {
    styleSheet = doc.createStyleSheet();
    goog.style.setStyles(styleSheet, stylesString);
  } else {
    var head = dh.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];
    if (!head) {
      var body = dh.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];
      head = dh.createDom(goog.dom.TagName.HEAD);
      body.parentNode.insertBefore(head, body);
    }
    styleSheet = dh.createDom(goog.dom.TagName.STYLE);
    goog.style.setStyles(styleSheet, stylesString);
    dh.appendChild(head, styleSheet);
  }
  return styleSheet;
};
goog.style.uninstallStyles = function(styleSheet) {
  var node = styleSheet.ownerNode || styleSheet.owningElement || (styleSheet);
  goog.dom.removeNode(node);
};
goog.style.setStyles = function(element, stylesString) {
  if (goog.userAgent.IE && goog.isDef(element.cssText)) {
    element.cssText = stylesString;
  } else {
    element.innerHTML = stylesString;
  }
};
goog.style.setPreWrap = function(el) {
  var style = el.style;
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8")) {
    style.whiteSpace = "pre";
    style.wordWrap = "break-word";
  } else {
    if (goog.userAgent.GECKO) {
      style.whiteSpace = "-moz-pre-wrap";
    } else {
      style.whiteSpace = "pre-wrap";
    }
  }
};
goog.style.setInlineBlock = function(el) {
  var style = el.style;
  style.position = "relative";
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("8")) {
    style.zoom = "1";
    style.display = "inline";
  } else {
    style.display = "inline-block";
  }
};
goog.style.isRightToLeft = function(el) {
  return "rtl" == goog.style.getStyle_(el, "direction");
};
goog.style.unselectableStyle_ = goog.userAgent.GECKO ? "MozUserSelect" : goog.userAgent.WEBKIT ? "WebkitUserSelect" : null;
goog.style.isUnselectable = function(el) {
  if (goog.style.unselectableStyle_) {
    return el.style[goog.style.unselectableStyle_].toLowerCase() == "none";
  } else {
    if (goog.userAgent.IE || goog.userAgent.OPERA) {
      return el.getAttribute("unselectable") == "on";
    }
  }
  return false;
};
goog.style.setUnselectable = function(el, unselectable, opt_noRecurse) {
  var descendants = !opt_noRecurse ? el.getElementsByTagName("*") : null;
  var name = goog.style.unselectableStyle_;
  if (name) {
    var value = unselectable ? "none" : "";
    if (el.style) {
      el.style[name] = value;
    }
    if (descendants) {
      for (var i = 0, descendant;descendant = descendants[i];i++) {
        if (descendant.style) {
          descendant.style[name] = value;
        }
      }
    }
  } else {
    if (goog.userAgent.IE || goog.userAgent.OPERA) {
      var value = unselectable ? "on" : "";
      el.setAttribute("unselectable", value);
      if (descendants) {
        for (var i = 0, descendant;descendant = descendants[i];i++) {
          descendant.setAttribute("unselectable", value);
        }
      }
    }
  }
};
goog.style.getBorderBoxSize = function(element) {
  return new goog.math.Size((element).offsetWidth, (element).offsetHeight);
};
goog.style.setBorderBoxSize = function(element, size) {
  var doc = goog.dom.getOwnerDocument(element);
  var isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("10") && (!isCss1CompatMode || !goog.userAgent.isVersionOrHigher("8"))) {
    var style = element.style;
    if (isCss1CompatMode) {
      var paddingBox = goog.style.getPaddingBox(element);
      var borderBox = goog.style.getBorderBox(element);
      style.pixelWidth = size.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right;
      style.pixelHeight = size.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom;
    } else {
      style.pixelWidth = size.width;
      style.pixelHeight = size.height;
    }
  } else {
    goog.style.setBoxSizingSize_(element, size, "border-box");
  }
};
goog.style.getContentBoxSize = function(element) {
  var doc = goog.dom.getOwnerDocument(element);
  var ieCurrentStyle = goog.userAgent.IE && element.currentStyle;
  if (ieCurrentStyle && goog.dom.getDomHelper(doc).isCss1CompatMode() && ieCurrentStyle.width != "auto" && ieCurrentStyle.height != "auto" && !ieCurrentStyle.boxSizing) {
    var width = goog.style.getIePixelValue_(element, ieCurrentStyle.width, "width", "pixelWidth");
    var height = goog.style.getIePixelValue_(element, ieCurrentStyle.height, "height", "pixelHeight");
    return new goog.math.Size(width, height);
  } else {
    var borderBoxSize = goog.style.getBorderBoxSize(element);
    var paddingBox = goog.style.getPaddingBox(element);
    var borderBox = goog.style.getBorderBox(element);
    return new goog.math.Size(borderBoxSize.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right, borderBoxSize.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom);
  }
};
goog.style.setContentBoxSize = function(element, size) {
  var doc = goog.dom.getOwnerDocument(element);
  var isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("10") && (!isCss1CompatMode || !goog.userAgent.isVersionOrHigher("8"))) {
    var style = element.style;
    if (isCss1CompatMode) {
      style.pixelWidth = size.width;
      style.pixelHeight = size.height;
    } else {
      var paddingBox = goog.style.getPaddingBox(element);
      var borderBox = goog.style.getBorderBox(element);
      style.pixelWidth = size.width + borderBox.left + paddingBox.left + paddingBox.right + borderBox.right;
      style.pixelHeight = size.height + borderBox.top + paddingBox.top + paddingBox.bottom + borderBox.bottom;
    }
  } else {
    goog.style.setBoxSizingSize_(element, size, "content-box");
  }
};
goog.style.setBoxSizingSize_ = function(element, size, boxSizing) {
  var style = element.style;
  if (goog.userAgent.GECKO) {
    style.MozBoxSizing = boxSizing;
  } else {
    if (goog.userAgent.WEBKIT) {
      style.WebkitBoxSizing = boxSizing;
    } else {
      style.boxSizing = boxSizing;
    }
  }
  style.width = Math.max(size.width, 0) + "px";
  style.height = Math.max(size.height, 0) + "px";
};
goog.style.getIePixelValue_ = function(element, value, name, pixelName) {
  if (/^\d+px?$/.test(value)) {
    return parseInt(value, 10);
  } else {
    var oldStyleValue = element.style[name];
    var oldRuntimeValue = element.runtimeStyle[name];
    element.runtimeStyle[name] = element.currentStyle[name];
    element.style[name] = value;
    var pixelValue = element.style[pixelName];
    element.style[name] = oldStyleValue;
    element.runtimeStyle[name] = oldRuntimeValue;
    return pixelValue;
  }
};
goog.style.getIePixelDistance_ = function(element, propName) {
  var value = goog.style.getCascadedStyle(element, propName);
  return value ? goog.style.getIePixelValue_(element, value, "left", "pixelLeft") : 0;
};
goog.style.getBox_ = function(element, stylePrefix) {
  if (goog.userAgent.IE) {
    var left = goog.style.getIePixelDistance_(element, stylePrefix + "Left");
    var right = goog.style.getIePixelDistance_(element, stylePrefix + "Right");
    var top = goog.style.getIePixelDistance_(element, stylePrefix + "Top");
    var bottom = goog.style.getIePixelDistance_(element, stylePrefix + "Bottom");
    return new goog.math.Box(top, right, bottom, left);
  } else {
    var left = goog.style.getComputedStyle(element, stylePrefix + "Left");
    var right = goog.style.getComputedStyle(element, stylePrefix + "Right");
    var top = goog.style.getComputedStyle(element, stylePrefix + "Top");
    var bottom = goog.style.getComputedStyle(element, stylePrefix + "Bottom");
    return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));
  }
};
goog.style.getPaddingBox = function(element) {
  return goog.style.getBox_(element, "padding");
};
goog.style.getMarginBox = function(element) {
  return goog.style.getBox_(element, "margin");
};
goog.style.ieBorderWidthKeywords_ = {"thin":2, "medium":4, "thick":6};
goog.style.getIePixelBorder_ = function(element, prop) {
  if (goog.style.getCascadedStyle(element, prop + "Style") == "none") {
    return 0;
  }
  var width = goog.style.getCascadedStyle(element, prop + "Width");
  if (width in goog.style.ieBorderWidthKeywords_) {
    return goog.style.ieBorderWidthKeywords_[width];
  }
  return goog.style.getIePixelValue_(element, width, "left", "pixelLeft");
};
goog.style.getBorderBox = function(element) {
  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {
    var left = goog.style.getIePixelBorder_(element, "borderLeft");
    var right = goog.style.getIePixelBorder_(element, "borderRight");
    var top = goog.style.getIePixelBorder_(element, "borderTop");
    var bottom = goog.style.getIePixelBorder_(element, "borderBottom");
    return new goog.math.Box(top, right, bottom, left);
  } else {
    var left = goog.style.getComputedStyle(element, "borderLeftWidth");
    var right = goog.style.getComputedStyle(element, "borderRightWidth");
    var top = goog.style.getComputedStyle(element, "borderTopWidth");
    var bottom = goog.style.getComputedStyle(element, "borderBottomWidth");
    return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));
  }
};
goog.style.getFontFamily = function(el) {
  var doc = goog.dom.getOwnerDocument(el);
  var font = "";
  if (doc.body.createTextRange && goog.dom.contains(doc, el)) {
    var range = doc.body.createTextRange();
    range.moveToElementText(el);
    try {
      font = range.queryCommandValue("FontName");
    } catch (e) {
      font = "";
    }
  }
  if (!font) {
    font = goog.style.getStyle_(el, "fontFamily");
  }
  var fontsArray = font.split(",");
  if (fontsArray.length > 1) {
    font = fontsArray[0];
  }
  return goog.string.stripQuotes(font, "\"'");
};
goog.style.lengthUnitRegex_ = /[^\d]+$/;
goog.style.getLengthUnits = function(value) {
  var units = value.match(goog.style.lengthUnitRegex_);
  return units && units[0] || null;
};
goog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {"cm":1, "in":1, "mm":1, "pc":1, "pt":1};
goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {"em":1, "ex":1};
goog.style.getFontSize = function(el) {
  var fontSize = goog.style.getStyle_(el, "fontSize");
  var sizeUnits = goog.style.getLengthUnits(fontSize);
  if (fontSize && "px" == sizeUnits) {
    return parseInt(fontSize, 10);
  }
  if (goog.userAgent.IE) {
    if (sizeUnits in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) {
      return goog.style.getIePixelValue_(el, fontSize, "left", "pixelLeft");
    } else {
      if (el.parentNode && el.parentNode.nodeType == goog.dom.NodeType.ELEMENT && sizeUnits in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) {
        var parentElement = (el.parentNode);
        var parentSize = goog.style.getStyle_(parentElement, "fontSize");
        return goog.style.getIePixelValue_(parentElement, fontSize == parentSize ? "1em" : fontSize, "left", "pixelLeft");
      }
    }
  }
  var sizeElement = goog.dom.createDom(goog.dom.TagName.SPAN, {"style":"visibility:hidden;position:absolute;" + "line-height:0;padding:0;margin:0;border:0;height:1em;"});
  goog.dom.appendChild(el, sizeElement);
  fontSize = sizeElement.offsetHeight;
  goog.dom.removeNode(sizeElement);
  return fontSize;
};
goog.style.parseStyleAttribute = function(value) {
  var result = {};
  goog.array.forEach(value.split(/\s*;\s*/), function(pair) {
    var keyValue = pair.match(/\s*([\w-]+)\s*\:(.+)/);
    if (keyValue) {
      var styleName = keyValue[1];
      var styleValue = goog.string.trim(keyValue[2]);
      result[goog.string.toCamelCase(styleName.toLowerCase())] = styleValue;
    }
  });
  return result;
};
goog.style.toStyleAttribute = function(obj) {
  var buffer = [];
  goog.object.forEach(obj, function(value, key) {
    buffer.push(goog.string.toSelectorCase(key), ":", value, ";");
  });
  return buffer.join("");
};
goog.style.setFloat = function(el, value) {
  el.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] = value;
};
goog.style.getFloat = function(el) {
  return el.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] || "";
};
goog.style.getScrollbarWidth = function(opt_className) {
  var outerDiv = goog.dom.createElement(goog.dom.TagName.DIV);
  if (opt_className) {
    outerDiv.className = opt_className;
  }
  outerDiv.style.cssText = "overflow:auto;" + "position:absolute;top:0;width:100px;height:100px";
  var innerDiv = goog.dom.createElement(goog.dom.TagName.DIV);
  goog.style.setSize(innerDiv, "200px", "200px");
  outerDiv.appendChild(innerDiv);
  goog.dom.appendChild(goog.dom.getDocument().body, outerDiv);
  var width = outerDiv.offsetWidth - outerDiv.clientWidth;
  goog.dom.removeNode(outerDiv);
  return width;
};
goog.style.MATRIX_TRANSLATION_REGEX_ = new RegExp("matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, " + "[0-9\\.\\-]+, [0-9\\.\\-]+, " + "([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)");
goog.style.getCssTranslation = function(element) {
  var transform = goog.style.getComputedTransform(element);
  if (!transform) {
    return new goog.math.Coordinate(0, 0);
  }
  var matches = transform.match(goog.style.MATRIX_TRANSLATION_REGEX_);
  if (!matches) {
    return new goog.math.Coordinate(0, 0);
  }
  return new goog.math.Coordinate(parseFloat(matches[1]), parseFloat(matches[2]));
};
goog.provide("goog.ui.IdGenerator");
goog.ui.IdGenerator = function() {
};
goog.addSingletonGetter(goog.ui.IdGenerator);
goog.ui.IdGenerator.prototype.nextId_ = 0;
goog.ui.IdGenerator.prototype.getNextUniqueId = function() {
  return ":" + (this.nextId_++).toString(36);
};
goog.provide("goog.ui.Component");
goog.provide("goog.ui.Component.Error");
goog.provide("goog.ui.Component.EventType");
goog.provide("goog.ui.Component.State");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.NodeType");
goog.require("goog.dom.TagName");
goog.require("goog.events.EventHandler");
goog.require("goog.events.EventTarget");
goog.require("goog.object");
goog.require("goog.style");
goog.require("goog.ui.IdGenerator");
goog.ui.Component = function(opt_domHelper) {
  goog.events.EventTarget.call(this);
  this.dom_ = opt_domHelper || goog.dom.getDomHelper();
  this.rightToLeft_ = goog.ui.Component.defaultRightToLeft_;
  this.id_ = null;
  this.inDocument_ = false;
  this.element_ = null;
  this.googUiComponentHandler_ = void 0;
  this.model_ = null;
  this.parent_ = null;
  this.children_ = null;
  this.childIndex_ = null;
  this.wasDecorated_ = false;
};
goog.inherits(goog.ui.Component, goog.events.EventTarget);
goog.define("goog.ui.Component.ALLOW_DETACHED_DECORATION", false);
goog.ui.Component.prototype.idGenerator_ = goog.ui.IdGenerator.getInstance();
goog.define("goog.ui.Component.DEFAULT_BIDI_DIR", 0);
goog.ui.Component.defaultRightToLeft_ = goog.ui.Component.DEFAULT_BIDI_DIR == 1 ? false : goog.ui.Component.DEFAULT_BIDI_DIR == -1 ? true : null;
goog.ui.Component.EventType = {BEFORE_SHOW:"beforeshow", SHOW:"show", HIDE:"hide", DISABLE:"disable", ENABLE:"enable", HIGHLIGHT:"highlight", UNHIGHLIGHT:"unhighlight", ACTIVATE:"activate", DEACTIVATE:"deactivate", SELECT:"select", UNSELECT:"unselect", CHECK:"check", UNCHECK:"uncheck", FOCUS:"focus", BLUR:"blur", OPEN:"open", CLOSE:"close", ENTER:"enter", LEAVE:"leave", ACTION:"action", CHANGE:"change"};
goog.ui.Component.Error = {NOT_SUPPORTED:"Method not supported", DECORATE_INVALID:"Invalid element to decorate", ALREADY_RENDERED:"Component already rendered", PARENT_UNABLE_TO_BE_SET:"Unable to set parent component", CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds", NOT_OUR_CHILD:"Child is not in parent component", NOT_IN_DOCUMENT:"Operation not supported while component is not in document", STATE_INVALID:"Invalid component state"};
goog.ui.Component.State = {ALL:255, DISABLED:1, HOVER:2, ACTIVE:4, SELECTED:8, CHECKED:16, FOCUSED:32, OPENED:64};
goog.ui.Component.getStateTransitionEvent = function(state, isEntering) {
  switch(state) {
    case goog.ui.Component.State.DISABLED:
      return isEntering ? goog.ui.Component.EventType.DISABLE : goog.ui.Component.EventType.ENABLE;
    case goog.ui.Component.State.HOVER:
      return isEntering ? goog.ui.Component.EventType.HIGHLIGHT : goog.ui.Component.EventType.UNHIGHLIGHT;
    case goog.ui.Component.State.ACTIVE:
      return isEntering ? goog.ui.Component.EventType.ACTIVATE : goog.ui.Component.EventType.DEACTIVATE;
    case goog.ui.Component.State.SELECTED:
      return isEntering ? goog.ui.Component.EventType.SELECT : goog.ui.Component.EventType.UNSELECT;
    case goog.ui.Component.State.CHECKED:
      return isEntering ? goog.ui.Component.EventType.CHECK : goog.ui.Component.EventType.UNCHECK;
    case goog.ui.Component.State.FOCUSED:
      return isEntering ? goog.ui.Component.EventType.FOCUS : goog.ui.Component.EventType.BLUR;
    case goog.ui.Component.State.OPENED:
      return isEntering ? goog.ui.Component.EventType.OPEN : goog.ui.Component.EventType.CLOSE;
    default:
    ;
  }
  throw Error(goog.ui.Component.Error.STATE_INVALID);
};
goog.ui.Component.setDefaultRightToLeft = function(rightToLeft) {
  goog.ui.Component.defaultRightToLeft_ = rightToLeft;
};
goog.ui.Component.prototype.getId = function() {
  return this.id_ || (this.id_ = this.idGenerator_.getNextUniqueId());
};
goog.ui.Component.prototype.setId = function(id) {
  if (this.parent_ && this.parent_.childIndex_) {
    goog.object.remove(this.parent_.childIndex_, this.id_);
    goog.object.add(this.parent_.childIndex_, id, this);
  }
  this.id_ = id;
};
goog.ui.Component.prototype.getElement = function() {
  return this.element_;
};
goog.ui.Component.prototype.getElementStrict = function() {
  var el = this.element_;
  goog.asserts.assert(el, "Can not call getElementStrict before rendering/decorating.");
  return el;
};
goog.ui.Component.prototype.setElementInternal = function(element) {
  this.element_ = element;
};
goog.ui.Component.prototype.getElementsByClass = function(className) {
  return this.element_ ? this.dom_.getElementsByClass(className, this.element_) : [];
};
goog.ui.Component.prototype.getElementByClass = function(className) {
  return this.element_ ? this.dom_.getElementByClass(className, this.element_) : null;
};
goog.ui.Component.prototype.getRequiredElementByClass = function(className) {
  var el = this.getElementByClass(className);
  goog.asserts.assert(el, "Expected element in component with class: %s", className);
  return el;
};
goog.ui.Component.prototype.getHandler = function() {
  var self = (this);
  if (!self.googUiComponentHandler_) {
    self.googUiComponentHandler_ = new goog.events.EventHandler(self);
  }
  return self.googUiComponentHandler_;
};
goog.ui.Component.prototype.setParent = function(parent) {
  if (this == parent) {
    throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);
  }
  if (parent && this.parent_ && this.id_ && this.parent_.getChild(this.id_) && this.parent_ != parent) {
    throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);
  }
  this.parent_ = parent;
  goog.ui.Component.superClass_.setParentEventTarget.call(this, parent);
};
goog.ui.Component.prototype.getParent = function() {
  return this.parent_;
};
goog.ui.Component.prototype.setParentEventTarget = function(parent) {
  if (this.parent_ && this.parent_ != parent) {
    throw Error(goog.ui.Component.Error.NOT_SUPPORTED);
  }
  goog.ui.Component.superClass_.setParentEventTarget.call(this, parent);
};
goog.ui.Component.prototype.getDomHelper = function() {
  return this.dom_;
};
goog.ui.Component.prototype.isInDocument = function() {
  return this.inDocument_;
};
goog.ui.Component.prototype.createDom = function() {
  this.element_ = this.dom_.createElement(goog.dom.TagName.DIV);
};
goog.ui.Component.prototype.render = function(opt_parentElement) {
  this.render_(opt_parentElement);
};
goog.ui.Component.prototype.renderBefore = function(sibling) {
  this.render_((sibling.parentNode), sibling);
};
goog.ui.Component.prototype.render_ = function(opt_parentElement, opt_beforeNode) {
  if (this.inDocument_) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  }
  if (!this.element_) {
    this.createDom();
  }
  if (opt_parentElement) {
    opt_parentElement.insertBefore(this.element_, opt_beforeNode || null);
  } else {
    this.dom_.getDocument().body.appendChild(this.element_);
  }
  if (!this.parent_ || this.parent_.isInDocument()) {
    this.enterDocument();
  }
};
goog.ui.Component.prototype.decorate = function(element) {
  if (this.inDocument_) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  } else {
    if (element && this.canDecorate(element)) {
      this.wasDecorated_ = true;
      var doc = goog.dom.getOwnerDocument(element);
      if (!this.dom_ || this.dom_.getDocument() != doc) {
        this.dom_ = goog.dom.getDomHelper(element);
      }
      this.decorateInternal(element);
      if (!goog.ui.Component.ALLOW_DETACHED_DECORATION || goog.dom.contains(doc, element)) {
        this.enterDocument();
      }
    } else {
      throw Error(goog.ui.Component.Error.DECORATE_INVALID);
    }
  }
};
goog.ui.Component.prototype.canDecorate = function(element) {
  return true;
};
goog.ui.Component.prototype.wasDecorated = function() {
  return this.wasDecorated_;
};
goog.ui.Component.prototype.decorateInternal = function(element) {
  this.element_ = element;
};
goog.ui.Component.prototype.enterDocument = function() {
  this.inDocument_ = true;
  this.forEachChild(function(child) {
    if (!child.isInDocument() && child.getElement()) {
      child.enterDocument();
    }
  });
};
goog.ui.Component.prototype.exitDocument = function() {
  this.forEachChild(function(child) {
    if (child.isInDocument()) {
      child.exitDocument();
    }
  });
  if (this.googUiComponentHandler_) {
    this.googUiComponentHandler_.removeAll();
  }
  this.inDocument_ = false;
};
goog.ui.Component.prototype.disposeInternal = function() {
  if (this.inDocument_) {
    this.exitDocument();
  }
  if (this.googUiComponentHandler_) {
    this.googUiComponentHandler_.dispose();
    delete this.googUiComponentHandler_;
  }
  this.forEachChild(function(child) {
    child.dispose();
  });
  if (!this.wasDecorated_ && this.element_) {
    goog.dom.removeNode(this.element_);
  }
  this.children_ = null;
  this.childIndex_ = null;
  this.element_ = null;
  this.model_ = null;
  this.parent_ = null;
  goog.ui.Component.superClass_.disposeInternal.call(this);
};
goog.ui.Component.prototype.makeId = function(idFragment) {
  return this.getId() + "." + idFragment;
};
goog.ui.Component.prototype.makeIds = function(object) {
  var ids = {};
  for (var key in object) {
    ids[key] = this.makeId(object[key]);
  }
  return ids;
};
goog.ui.Component.prototype.getModel = function() {
  return this.model_;
};
goog.ui.Component.prototype.setModel = function(obj) {
  this.model_ = obj;
};
goog.ui.Component.prototype.getFragmentFromId = function(id) {
  return id.substring(this.getId().length + 1);
};
goog.ui.Component.prototype.getElementByFragment = function(idFragment) {
  if (!this.inDocument_) {
    throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);
  }
  return this.dom_.getElement(this.makeId(idFragment));
};
goog.ui.Component.prototype.addChild = function(child, opt_render) {
  this.addChildAt(child, this.getChildCount(), opt_render);
};
goog.ui.Component.prototype.addChildAt = function(child, index, opt_render) {
  goog.asserts.assert(!!child, "Provided element must not be null.");
  if (child.inDocument_ && (opt_render || !this.inDocument_)) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  }
  if (index < 0 || index > this.getChildCount()) {
    throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);
  }
  if (!this.childIndex_ || !this.children_) {
    this.childIndex_ = {};
    this.children_ = [];
  }
  if (child.getParent() == this) {
    goog.object.set(this.childIndex_, child.getId(), child);
    goog.array.remove(this.children_, child);
  } else {
    goog.object.add(this.childIndex_, child.getId(), child);
  }
  child.setParent(this);
  goog.array.insertAt(this.children_, child, index);
  if (child.inDocument_ && this.inDocument_ && child.getParent() == this) {
    var contentElement = this.getContentElement();
    var insertBeforeElement = contentElement.childNodes[index] || null;
    if (insertBeforeElement != child.getElement()) {
      contentElement.insertBefore(child.getElement(), insertBeforeElement);
    }
  } else {
    if (opt_render) {
      if (!this.element_) {
        this.createDom();
      }
      var sibling = this.getChildAt(index + 1);
      child.render_(this.getContentElement(), sibling ? sibling.element_ : null);
    } else {
      if (this.inDocument_ && !child.inDocument_ && child.element_ && child.element_.parentNode && child.element_.parentNode.nodeType == goog.dom.NodeType.ELEMENT) {
        child.enterDocument();
      }
    }
  }
};
goog.ui.Component.prototype.getContentElement = function() {
  return this.element_;
};
goog.ui.Component.prototype.isRightToLeft = function() {
  if (this.rightToLeft_ == null) {
    this.rightToLeft_ = goog.style.isRightToLeft(this.inDocument_ ? this.element_ : this.dom_.getDocument().body);
  }
  return this.rightToLeft_;
};
goog.ui.Component.prototype.setRightToLeft = function(rightToLeft) {
  if (this.inDocument_) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  }
  this.rightToLeft_ = rightToLeft;
};
goog.ui.Component.prototype.hasChildren = function() {
  return !!this.children_ && this.children_.length != 0;
};
goog.ui.Component.prototype.getChildCount = function() {
  return this.children_ ? this.children_.length : 0;
};
goog.ui.Component.prototype.getChildIds = function() {
  var ids = [];
  this.forEachChild(function(child) {
    ids.push(child.getId());
  });
  return ids;
};
goog.ui.Component.prototype.getChild = function(id) {
  return this.childIndex_ && id ? (goog.object.get(this.childIndex_, id)) || null : null;
};
goog.ui.Component.prototype.getChildAt = function(index) {
  return this.children_ ? this.children_[index] || null : null;
};
goog.ui.Component.prototype.forEachChild = function(f, opt_obj) {
  if (this.children_) {
    goog.array.forEach(this.children_, f, opt_obj);
  }
};
goog.ui.Component.prototype.indexOfChild = function(child) {
  return this.children_ && child ? goog.array.indexOf(this.children_, child) : -1;
};
goog.ui.Component.prototype.removeChild = function(child, opt_unrender) {
  if (child) {
    var id = goog.isString(child) ? child : child.getId();
    child = this.getChild(id);
    if (id && child) {
      goog.object.remove(this.childIndex_, id);
      goog.array.remove(this.children_, child);
      if (opt_unrender) {
        child.exitDocument();
        if (child.element_) {
          goog.dom.removeNode(child.element_);
        }
      }
      child.setParent(null);
    }
  }
  if (!child) {
    throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);
  }
  return (child);
};
goog.ui.Component.prototype.removeChildAt = function(index, opt_unrender) {
  return this.removeChild(this.getChildAt(index), opt_unrender);
};
goog.ui.Component.prototype.removeChildren = function(opt_unrender) {
  var removedChildren = [];
  while (this.hasChildren()) {
    removedChildren.push(this.removeChildAt(0, opt_unrender));
  }
  return removedChildren;
};
goog.provide("goog.ui.ControlRenderer");
goog.require("goog.a11y.aria");
goog.require("goog.a11y.aria.Role");
goog.require("goog.a11y.aria.State");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.dom.classlist");
goog.require("goog.object");
goog.require("goog.string");
goog.require("goog.style");
goog.require("goog.ui.Component");
goog.require("goog.userAgent");
goog.ui.ControlRenderer = function() {
};
goog.addSingletonGetter(goog.ui.ControlRenderer);
goog.tagUnsealableClass(goog.ui.ControlRenderer);
goog.ui.ControlRenderer.getCustomRenderer = function(ctor, cssClassName) {
  var renderer = new ctor;
  renderer.getCssClass = function() {
    return cssClassName;
  };
  return renderer;
};
goog.ui.ControlRenderer.CSS_CLASS = goog.getCssName("goog-control");
goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS = [];
goog.ui.ControlRenderer.ariaAttributeMap_;
goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_ = goog.object.create(goog.a11y.aria.Role.BUTTON, goog.a11y.aria.State.PRESSED, goog.a11y.aria.Role.CHECKBOX, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.MENU_ITEM, goog.a11y.aria.State.SELECTED, goog.a11y.aria.Role.MENU_ITEM_CHECKBOX, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.MENU_ITEM_RADIO, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.RADIO, goog.a11y.aria.State.CHECKED, goog.a11y.aria.Role.TAB, goog.a11y.aria.State.SELECTED, goog.a11y.aria.Role.TREEITEM, 
goog.a11y.aria.State.SELECTED);
goog.ui.ControlRenderer.prototype.getAriaRole = function() {
  return undefined;
};
goog.ui.ControlRenderer.prototype.createDom = function(control) {
  var element = control.getDomHelper().createDom(goog.dom.TagName.DIV, this.getClassNames(control).join(" "), control.getContent());
  return element;
};
goog.ui.ControlRenderer.prototype.getContentElement = function(element) {
  return element;
};
goog.ui.ControlRenderer.prototype.enableClassName = function(control, className, enable) {
  var element = (control.getElement ? control.getElement() : control);
  if (element) {
    var classNames = [className];
    if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("7")) {
      classNames = this.getAppliedCombinedClassNames_(goog.dom.classlist.get(element), className);
      classNames.push(className);
    }
    goog.dom.classlist.enableAll(element, classNames, enable);
  }
};
goog.ui.ControlRenderer.prototype.enableExtraClassName = function(control, className, enable) {
  this.enableClassName(control, className, enable);
};
goog.ui.ControlRenderer.prototype.canDecorate = function(element) {
  return true;
};
goog.ui.ControlRenderer.prototype.decorate = function(control, element) {
  if (element.id) {
    control.setId(element.id);
  }
  var contentElem = this.getContentElement(element);
  if (contentElem && contentElem.firstChild) {
    control.setContentInternal(contentElem.firstChild.nextSibling ? goog.array.clone(contentElem.childNodes) : contentElem.firstChild);
  } else {
    control.setContentInternal(null);
  }
  var state = 0;
  var rendererClassName = this.getCssClass();
  var structuralClassName = this.getStructuralCssClass();
  var hasRendererClassName = false;
  var hasStructuralClassName = false;
  var hasCombinedClassName = false;
  var classNames = goog.array.toArray(goog.dom.classlist.get(element));
  goog.array.forEach(classNames, function(className) {
    if (!hasRendererClassName && className == rendererClassName) {
      hasRendererClassName = true;
      if (structuralClassName == rendererClassName) {
        hasStructuralClassName = true;
      }
    } else {
      if (!hasStructuralClassName && className == structuralClassName) {
        hasStructuralClassName = true;
      } else {
        state |= this.getStateFromClass(className);
      }
    }
    if (this.getStateFromClass(className) == goog.ui.Component.State.DISABLED) {
      goog.asserts.assertElement(contentElem);
      if (goog.dom.isFocusableTabIndex(contentElem)) {
        goog.dom.setFocusableTabIndex(contentElem, false);
      }
    }
  }, this);
  control.setStateInternal(state);
  if (!hasRendererClassName) {
    classNames.push(rendererClassName);
    if (structuralClassName == rendererClassName) {
      hasStructuralClassName = true;
    }
  }
  if (!hasStructuralClassName) {
    classNames.push(structuralClassName);
  }
  var extraClassNames = control.getExtraClassNames();
  if (extraClassNames) {
    classNames.push.apply(classNames, extraClassNames);
  }
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("7")) {
    var combinedClasses = this.getAppliedCombinedClassNames_(classNames);
    if (combinedClasses.length > 0) {
      classNames.push.apply(classNames, combinedClasses);
      hasCombinedClassName = true;
    }
  }
  if (!hasRendererClassName || !hasStructuralClassName || extraClassNames || hasCombinedClassName) {
    goog.dom.classlist.set(element, classNames.join(" "));
  }
  return element;
};
goog.ui.ControlRenderer.prototype.initializeDom = function(control) {
  if (control.isRightToLeft()) {
    this.setRightToLeft(control.getElement(), true);
  }
  if (control.isEnabled()) {
    this.setFocusable(control, control.isVisible());
  }
};
goog.ui.ControlRenderer.prototype.setAriaRole = function(element, opt_preferredRole) {
  var ariaRole = opt_preferredRole || this.getAriaRole();
  if (ariaRole) {
    goog.asserts.assert(element, "The element passed as a first parameter cannot be null.");
    var currentRole = goog.a11y.aria.getRole(element);
    if (ariaRole == currentRole) {
      return;
    }
    goog.a11y.aria.setRole(element, ariaRole);
  }
};
goog.ui.ControlRenderer.prototype.setAriaStates = function(control, element) {
  goog.asserts.assert(control);
  goog.asserts.assert(element);
  var ariaLabel = control.getAriaLabel();
  if (goog.isDefAndNotNull(ariaLabel)) {
    this.setAriaLabel(element, ariaLabel);
  }
  if (!control.isVisible()) {
    goog.a11y.aria.setState(element, goog.a11y.aria.State.HIDDEN, !control.isVisible());
  }
  if (!control.isEnabled()) {
    this.updateAriaState(element, goog.ui.Component.State.DISABLED, !control.isEnabled());
  }
  if (control.isSupportedState(goog.ui.Component.State.SELECTED)) {
    this.updateAriaState(element, goog.ui.Component.State.SELECTED, control.isSelected());
  }
  if (control.isSupportedState(goog.ui.Component.State.CHECKED)) {
    this.updateAriaState(element, goog.ui.Component.State.CHECKED, control.isChecked());
  }
  if (control.isSupportedState(goog.ui.Component.State.OPENED)) {
    this.updateAriaState(element, goog.ui.Component.State.OPENED, control.isOpen());
  }
};
goog.ui.ControlRenderer.prototype.setAriaLabel = function(element, ariaLabel) {
  goog.a11y.aria.setLabel(element, ariaLabel);
};
goog.ui.ControlRenderer.prototype.setAllowTextSelection = function(element, allow) {
  goog.style.setUnselectable(element, !allow, !goog.userAgent.IE && !goog.userAgent.OPERA);
};
goog.ui.ControlRenderer.prototype.setRightToLeft = function(element, rightToLeft) {
  this.enableClassName(element, goog.getCssName(this.getStructuralCssClass(), "rtl"), rightToLeft);
};
goog.ui.ControlRenderer.prototype.isFocusable = function(control) {
  var keyTarget;
  if (control.isSupportedState(goog.ui.Component.State.FOCUSED) && (keyTarget = control.getKeyEventTarget())) {
    return goog.dom.isFocusableTabIndex(keyTarget);
  }
  return false;
};
goog.ui.ControlRenderer.prototype.setFocusable = function(control, focusable) {
  var keyTarget;
  if (control.isSupportedState(goog.ui.Component.State.FOCUSED) && (keyTarget = control.getKeyEventTarget())) {
    if (!focusable && control.isFocused()) {
      try {
        keyTarget.blur();
      } catch (e) {
      }
      if (control.isFocused()) {
        control.handleBlur(null);
      }
    }
    if (goog.dom.isFocusableTabIndex(keyTarget) != focusable) {
      goog.dom.setFocusableTabIndex(keyTarget, focusable);
    }
  }
};
goog.ui.ControlRenderer.prototype.setVisible = function(element, visible) {
  goog.style.setElementShown(element, visible);
  if (element) {
    goog.a11y.aria.setState(element, goog.a11y.aria.State.HIDDEN, !visible);
  }
};
goog.ui.ControlRenderer.prototype.setState = function(control, state, enable) {
  var element = control.getElement();
  if (element) {
    var className = this.getClassForState(state);
    if (className) {
      this.enableClassName(control, className, enable);
    }
    this.updateAriaState(element, state, enable);
  }
};
goog.ui.ControlRenderer.prototype.updateAriaState = function(element, state, enable) {
  if (!goog.ui.ControlRenderer.ariaAttributeMap_) {
    goog.ui.ControlRenderer.ariaAttributeMap_ = goog.object.create(goog.ui.Component.State.DISABLED, goog.a11y.aria.State.DISABLED, goog.ui.Component.State.SELECTED, goog.a11y.aria.State.SELECTED, goog.ui.Component.State.CHECKED, goog.a11y.aria.State.CHECKED, goog.ui.Component.State.OPENED, goog.a11y.aria.State.EXPANDED);
  }
  goog.asserts.assert(element, "The element passed as a first parameter cannot be null.");
  var ariaAttr = goog.ui.ControlRenderer.getAriaStateForAriaRole_(element, goog.ui.ControlRenderer.ariaAttributeMap_[state]);
  if (ariaAttr) {
    goog.a11y.aria.setState(element, ariaAttr, enable);
  }
};
goog.ui.ControlRenderer.getAriaStateForAriaRole_ = function(element, attr) {
  var role = goog.a11y.aria.getRole(element);
  if (!role) {
    return attr;
  }
  role = (role);
  var matchAttr = goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[role] || attr;
  return goog.ui.ControlRenderer.isAriaState_(attr) ? matchAttr : attr;
};
goog.ui.ControlRenderer.isAriaState_ = function(attr) {
  return attr == goog.a11y.aria.State.CHECKED || attr == goog.a11y.aria.State.SELECTED;
};
goog.ui.ControlRenderer.prototype.setContent = function(element, content) {
  var contentElem = this.getContentElement(element);
  if (contentElem) {
    goog.dom.removeChildren(contentElem);
    if (content) {
      if (goog.isString(content)) {
        goog.dom.setTextContent(contentElem, content);
      } else {
        var childHandler = function(child) {
          if (child) {
            var doc = goog.dom.getOwnerDocument(contentElem);
            contentElem.appendChild(goog.isString(child) ? doc.createTextNode(child) : child);
          }
        };
        if (goog.isArray(content)) {
          goog.array.forEach(content, childHandler);
        } else {
          if (goog.isArrayLike(content) && !("nodeType" in content)) {
            goog.array.forEach(goog.array.clone((content)), childHandler);
          } else {
            childHandler(content);
          }
        }
      }
    }
  }
};
goog.ui.ControlRenderer.prototype.getKeyEventTarget = function(control) {
  return control.getElement();
};
goog.ui.ControlRenderer.prototype.getCssClass = function() {
  return goog.ui.ControlRenderer.CSS_CLASS;
};
goog.ui.ControlRenderer.prototype.getIe6ClassCombinations = function() {
  return [];
};
goog.ui.ControlRenderer.prototype.getStructuralCssClass = function() {
  return this.getCssClass();
};
goog.ui.ControlRenderer.prototype.getClassNames = function(control) {
  var cssClass = this.getCssClass();
  var classNames = [cssClass];
  var structuralCssClass = this.getStructuralCssClass();
  if (structuralCssClass != cssClass) {
    classNames.push(structuralCssClass);
  }
  var classNamesForState = this.getClassNamesForState(control.getState());
  classNames.push.apply(classNames, classNamesForState);
  var extraClassNames = control.getExtraClassNames();
  if (extraClassNames) {
    classNames.push.apply(classNames, extraClassNames);
  }
  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("7")) {
    classNames.push.apply(classNames, this.getAppliedCombinedClassNames_(classNames));
  }
  return classNames;
};
goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_ = function(classes, opt_includedClass) {
  var toAdd = [];
  if (opt_includedClass) {
    classes = classes.concat([opt_includedClass]);
  }
  goog.array.forEach(this.getIe6ClassCombinations(), function(combo) {
    if (goog.array.every(combo, goog.partial(goog.array.contains, classes)) && (!opt_includedClass || goog.array.contains(combo, opt_includedClass))) {
      toAdd.push(combo.join("_"));
    }
  });
  return toAdd;
};
goog.ui.ControlRenderer.prototype.getClassNamesForState = function(state) {
  var classNames = [];
  while (state) {
    var mask = state & -state;
    classNames.push(this.getClassForState((mask)));
    state &= ~mask;
  }
  return classNames;
};
goog.ui.ControlRenderer.prototype.getClassForState = function(state) {
  if (!this.classByState_) {
    this.createClassByStateMap_();
  }
  return this.classByState_[state];
};
goog.ui.ControlRenderer.prototype.getStateFromClass = function(className) {
  if (!this.stateByClass_) {
    this.createStateByClassMap_();
  }
  var state = parseInt(this.stateByClass_[className], 10);
  return (isNaN(state) ? 0 : state);
};
goog.ui.ControlRenderer.prototype.createClassByStateMap_ = function() {
  var baseClass = this.getStructuralCssClass();
  var isValidClassName = !goog.string.contains(goog.string.normalizeWhitespace(baseClass), " ");
  goog.asserts.assert(isValidClassName, "ControlRenderer has an invalid css class: '" + baseClass + "'");
  this.classByState_ = goog.object.create(goog.ui.Component.State.DISABLED, goog.getCssName(baseClass, "disabled"), goog.ui.Component.State.HOVER, goog.getCssName(baseClass, "hover"), goog.ui.Component.State.ACTIVE, goog.getCssName(baseClass, "active"), goog.ui.Component.State.SELECTED, goog.getCssName(baseClass, "selected"), goog.ui.Component.State.CHECKED, goog.getCssName(baseClass, "checked"), goog.ui.Component.State.FOCUSED, goog.getCssName(baseClass, "focused"), goog.ui.Component.State.OPENED, 
  goog.getCssName(baseClass, "open"));
};
goog.ui.ControlRenderer.prototype.createStateByClassMap_ = function() {
  if (!this.classByState_) {
    this.createClassByStateMap_();
  }
  this.stateByClass_ = goog.object.transpose(this.classByState_);
};
goog.provide("goog.ui.ButtonRenderer");
goog.require("goog.a11y.aria");
goog.require("goog.a11y.aria.Role");
goog.require("goog.a11y.aria.State");
goog.require("goog.asserts");
goog.require("goog.ui.ButtonSide");
goog.require("goog.ui.Component");
goog.require("goog.ui.ControlRenderer");
goog.ui.ButtonRenderer = function() {
  goog.ui.ControlRenderer.call(this);
};
goog.inherits(goog.ui.ButtonRenderer, goog.ui.ControlRenderer);
goog.addSingletonGetter(goog.ui.ButtonRenderer);
goog.ui.ButtonRenderer.CSS_CLASS = goog.getCssName("goog-button");
goog.ui.ButtonRenderer.prototype.getAriaRole = function() {
  return goog.a11y.aria.Role.BUTTON;
};
goog.ui.ButtonRenderer.prototype.updateAriaState = function(element, state, enable) {
  switch(state) {
    case goog.ui.Component.State.SELECTED:
    ;
    case goog.ui.Component.State.CHECKED:
      goog.asserts.assert(element, "The button DOM element cannot be null.");
      goog.a11y.aria.setState(element, goog.a11y.aria.State.PRESSED, enable);
      break;
    default:
    ;
    case goog.ui.Component.State.OPENED:
    ;
    case goog.ui.Component.State.DISABLED:
      goog.ui.ButtonRenderer.base(this, "updateAriaState", element, state, enable);
      break;
  }
};
goog.ui.ButtonRenderer.prototype.createDom = function(button) {
  var element = goog.ui.ButtonRenderer.base(this, "createDom", button);
  this.setTooltip(element, button.getTooltip());
  var value = button.getValue();
  if (value) {
    this.setValue(element, value);
  }
  if (button.isSupportedState(goog.ui.Component.State.CHECKED)) {
    this.updateAriaState(element, goog.ui.Component.State.CHECKED, button.isChecked());
  }
  return element;
};
goog.ui.ButtonRenderer.prototype.decorate = function(button, element) {
  element = goog.ui.ButtonRenderer.superClass_.decorate.call(this, button, element);
  button.setValueInternal(this.getValue(element));
  button.setTooltipInternal(this.getTooltip(element));
  if (button.isSupportedState(goog.ui.Component.State.CHECKED)) {
    this.updateAriaState(element, goog.ui.Component.State.CHECKED, button.isChecked());
  }
  return element;
};
goog.ui.ButtonRenderer.prototype.getValue = goog.nullFunction;
goog.ui.ButtonRenderer.prototype.setValue = goog.nullFunction;
goog.ui.ButtonRenderer.prototype.getTooltip = function(element) {
  return element.title;
};
goog.ui.ButtonRenderer.prototype.setTooltip = function(element, tooltip) {
  if (element) {
    if (tooltip) {
      element.title = tooltip;
    } else {
      element.removeAttribute("title");
    }
  }
};
goog.ui.ButtonRenderer.prototype.setCollapsed = function(button, sides) {
  var isRtl = button.isRightToLeft();
  var collapseLeftClassName = goog.getCssName(this.getStructuralCssClass(), "collapse-left");
  var collapseRightClassName = goog.getCssName(this.getStructuralCssClass(), "collapse-right");
  button.enableClassName(isRtl ? collapseRightClassName : collapseLeftClassName, !!(sides & goog.ui.ButtonSide.START));
  button.enableClassName(isRtl ? collapseLeftClassName : collapseRightClassName, !!(sides & goog.ui.ButtonSide.END));
};
goog.ui.ButtonRenderer.prototype.getCssClass = function() {
  return goog.ui.ButtonRenderer.CSS_CLASS;
};
goog.provide("goog.ui.ControlContent");
goog.ui.ControlContent;
goog.provide("goog.ui.registry");
goog.require("goog.asserts");
goog.require("goog.dom.classlist");
goog.ui.registry.getDefaultRenderer = function(componentCtor) {
  var key;
  var rendererCtor;
  while (componentCtor) {
    key = goog.getUid(componentCtor);
    if (rendererCtor = goog.ui.registry.defaultRenderers_[key]) {
      break;
    }
    componentCtor = componentCtor.superClass_ ? componentCtor.superClass_.constructor : null;
  }
  if (rendererCtor) {
    return goog.isFunction(rendererCtor.getInstance) ? rendererCtor.getInstance() : new rendererCtor;
  }
  return null;
};
goog.ui.registry.setDefaultRenderer = function(componentCtor, rendererCtor) {
  if (!goog.isFunction(componentCtor)) {
    throw Error("Invalid component class " + componentCtor);
  }
  if (!goog.isFunction(rendererCtor)) {
    throw Error("Invalid renderer class " + rendererCtor);
  }
  var key = goog.getUid(componentCtor);
  goog.ui.registry.defaultRenderers_[key] = rendererCtor;
};
goog.ui.registry.getDecoratorByClassName = function(className) {
  return className in goog.ui.registry.decoratorFunctions_ ? goog.ui.registry.decoratorFunctions_[className]() : null;
};
goog.ui.registry.setDecoratorByClassName = function(className, decoratorFn) {
  if (!className) {
    throw Error("Invalid class name " + className);
  }
  if (!goog.isFunction(decoratorFn)) {
    throw Error("Invalid decorator function " + decoratorFn);
  }
  goog.ui.registry.decoratorFunctions_[className] = decoratorFn;
};
goog.ui.registry.getDecorator = function(element) {
  var decorator;
  goog.asserts.assert(element);
  var classNames = goog.dom.classlist.get(element);
  for (var i = 0, len = classNames.length;i < len;i++) {
    if (decorator = goog.ui.registry.getDecoratorByClassName(classNames[i])) {
      return decorator;
    }
  }
  return null;
};
goog.ui.registry.reset = function() {
  goog.ui.registry.defaultRenderers_ = {};
  goog.ui.registry.decoratorFunctions_ = {};
};
goog.ui.registry.defaultRenderers_ = {};
goog.ui.registry.decoratorFunctions_ = {};
goog.provide("goog.ui.decorate");
goog.require("goog.ui.registry");
goog.ui.decorate = function(element) {
  var decorator = goog.ui.registry.getDecorator(element);
  if (decorator) {
    decorator.decorate(element);
  }
  return decorator;
};
goog.provide("goog.ui.Control");
goog.require("goog.Disposable");
goog.require("goog.array");
goog.require("goog.dom");
goog.require("goog.events.BrowserEvent");
goog.require("goog.events.Event");
goog.require("goog.events.EventHandler");
goog.require("goog.events.EventType");
goog.require("goog.events.KeyCodes");
goog.require("goog.events.KeyHandler");
goog.require("goog.string");
goog.require("goog.ui.Component");
goog.require("goog.ui.ControlContent");
goog.require("goog.ui.ControlRenderer");
goog.require("goog.ui.decorate");
goog.require("goog.ui.registry");
goog.require("goog.userAgent");
goog.ui.Control = function(opt_content, opt_renderer, opt_domHelper) {
  goog.ui.Component.call(this, opt_domHelper);
  this.renderer_ = opt_renderer || goog.ui.registry.getDefaultRenderer(this.constructor);
  this.setContentInternal(goog.isDef(opt_content) ? opt_content : null);
  this.ariaLabel_ = null;
  this.ieMouseEventSequenceSimulator_;
};
goog.inherits(goog.ui.Control, goog.ui.Component);
goog.tagUnsealableClass(goog.ui.Control);
goog.ui.Control.registerDecorator = goog.ui.registry.setDecoratorByClassName;
goog.ui.Control.getDecorator = (goog.ui.registry.getDecorator);
goog.ui.Control.decorate = (goog.ui.decorate);
goog.ui.Control.prototype.renderer_;
goog.ui.Control.prototype.content_ = null;
goog.ui.Control.prototype.state_ = 0;
goog.ui.Control.prototype.supportedStates_ = goog.ui.Component.State.DISABLED | goog.ui.Component.State.HOVER | goog.ui.Component.State.ACTIVE | goog.ui.Component.State.FOCUSED;
goog.ui.Control.prototype.autoStates_ = goog.ui.Component.State.ALL;
goog.ui.Control.prototype.statesWithTransitionEvents_ = 0;
goog.ui.Control.prototype.visible_ = true;
goog.ui.Control.prototype.keyHandler_;
goog.ui.Control.prototype.extraClassNames_ = null;
goog.ui.Control.prototype.handleMouseEvents_ = true;
goog.ui.Control.prototype.allowTextSelection_ = false;
goog.ui.Control.prototype.preferredAriaRole_ = null;
goog.ui.Control.prototype.isHandleMouseEvents = function() {
  return this.handleMouseEvents_;
};
goog.ui.Control.prototype.setHandleMouseEvents = function(enable) {
  if (this.isInDocument() && enable != this.handleMouseEvents_) {
    this.enableMouseEventHandling_(enable);
  }
  this.handleMouseEvents_ = enable;
};
goog.ui.Control.prototype.getKeyEventTarget = function() {
  return this.renderer_.getKeyEventTarget(this);
};
goog.ui.Control.prototype.getKeyHandler = function() {
  return this.keyHandler_ || (this.keyHandler_ = new goog.events.KeyHandler);
};
goog.ui.Control.prototype.getRenderer = function() {
  return this.renderer_;
};
goog.ui.Control.prototype.setRenderer = function(renderer) {
  if (this.isInDocument()) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  }
  if (this.getElement()) {
    this.setElementInternal(null);
  }
  this.renderer_ = renderer;
};
goog.ui.Control.prototype.getExtraClassNames = function() {
  return this.extraClassNames_;
};
goog.ui.Control.prototype.addClassName = function(className) {
  if (className) {
    if (this.extraClassNames_) {
      if (!goog.array.contains(this.extraClassNames_, className)) {
        this.extraClassNames_.push(className);
      }
    } else {
      this.extraClassNames_ = [className];
    }
    this.renderer_.enableExtraClassName(this, className, true);
  }
};
goog.ui.Control.prototype.removeClassName = function(className) {
  if (className && this.extraClassNames_ && goog.array.remove(this.extraClassNames_, className)) {
    if (this.extraClassNames_.length == 0) {
      this.extraClassNames_ = null;
    }
    this.renderer_.enableExtraClassName(this, className, false);
  }
};
goog.ui.Control.prototype.enableClassName = function(className, enable) {
  if (enable) {
    this.addClassName(className);
  } else {
    this.removeClassName(className);
  }
};
goog.ui.Control.prototype.createDom = function() {
  var element = this.renderer_.createDom(this);
  this.setElementInternal(element);
  this.renderer_.setAriaRole(element, this.getPreferredAriaRole());
  if (!this.isAllowTextSelection()) {
    this.renderer_.setAllowTextSelection(element, false);
  }
  if (!this.isVisible()) {
    this.renderer_.setVisible(element, false);
  }
};
goog.ui.Control.prototype.getPreferredAriaRole = function() {
  return this.preferredAriaRole_;
};
goog.ui.Control.prototype.setPreferredAriaRole = function(role) {
  this.preferredAriaRole_ = role;
};
goog.ui.Control.prototype.getAriaLabel = function() {
  return this.ariaLabel_;
};
goog.ui.Control.prototype.setAriaLabel = function(label) {
  this.ariaLabel_ = label;
  var element = this.getElement();
  if (element) {
    this.renderer_.setAriaLabel(element, label);
  }
};
goog.ui.Control.prototype.getContentElement = function() {
  return this.renderer_.getContentElement(this.getElement());
};
goog.ui.Control.prototype.canDecorate = function(element) {
  return this.renderer_.canDecorate(element);
};
goog.ui.Control.prototype.decorateInternal = function(element) {
  element = this.renderer_.decorate(this, element);
  this.setElementInternal(element);
  this.renderer_.setAriaRole(element, this.getPreferredAriaRole());
  if (!this.isAllowTextSelection()) {
    this.renderer_.setAllowTextSelection(element, false);
  }
  this.visible_ = element.style.display != "none";
};
goog.ui.Control.prototype.enterDocument = function() {
  goog.ui.Control.superClass_.enterDocument.call(this);
  this.renderer_.setAriaStates(this, this.getElementStrict());
  this.renderer_.initializeDom(this);
  if (this.supportedStates_ & ~goog.ui.Component.State.DISABLED) {
    if (this.isHandleMouseEvents()) {
      this.enableMouseEventHandling_(true);
    }
    if (this.isSupportedState(goog.ui.Component.State.FOCUSED)) {
      var keyTarget = this.getKeyEventTarget();
      if (keyTarget) {
        var keyHandler = this.getKeyHandler();
        keyHandler.attach(keyTarget);
        this.getHandler().listen(keyHandler, goog.events.KeyHandler.EventType.KEY, this.handleKeyEvent).listen(keyTarget, goog.events.EventType.FOCUS, this.handleFocus).listen(keyTarget, goog.events.EventType.BLUR, this.handleBlur);
      }
    }
  }
};
goog.ui.Control.prototype.enableMouseEventHandling_ = function(enable) {
  var handler = this.getHandler();
  var element = this.getElement();
  if (enable) {
    handler.listen(element, goog.events.EventType.MOUSEOVER, this.handleMouseOver).listen(element, goog.events.EventType.MOUSEDOWN, this.handleMouseDown).listen(element, goog.events.EventType.MOUSEUP, this.handleMouseUp).listen(element, goog.events.EventType.MOUSEOUT, this.handleMouseOut);
    if (this.handleContextMenu != goog.nullFunction) {
      handler.listen(element, goog.events.EventType.CONTEXTMENU, this.handleContextMenu);
    }
    if (goog.userAgent.IE) {
      handler.listen(element, goog.events.EventType.DBLCLICK, this.handleDblClick);
      if (!this.ieMouseEventSequenceSimulator_) {
        this.ieMouseEventSequenceSimulator_ = new goog.ui.Control.IeMouseEventSequenceSimulator_(this);
        this.registerDisposable(this.ieMouseEventSequenceSimulator_);
      }
    }
  } else {
    handler.unlisten(element, goog.events.EventType.MOUSEOVER, this.handleMouseOver).unlisten(element, goog.events.EventType.MOUSEDOWN, this.handleMouseDown).unlisten(element, goog.events.EventType.MOUSEUP, this.handleMouseUp).unlisten(element, goog.events.EventType.MOUSEOUT, this.handleMouseOut);
    if (this.handleContextMenu != goog.nullFunction) {
      handler.unlisten(element, goog.events.EventType.CONTEXTMENU, this.handleContextMenu);
    }
    if (goog.userAgent.IE) {
      handler.unlisten(element, goog.events.EventType.DBLCLICK, this.handleDblClick);
      goog.dispose(this.ieMouseEventSequenceSimulator_);
      this.ieMouseEventSequenceSimulator_ = null;
    }
  }
};
goog.ui.Control.prototype.exitDocument = function() {
  goog.ui.Control.superClass_.exitDocument.call(this);
  if (this.keyHandler_) {
    this.keyHandler_.detach();
  }
  if (this.isVisible() && this.isEnabled()) {
    this.renderer_.setFocusable(this, false);
  }
};
goog.ui.Control.prototype.disposeInternal = function() {
  goog.ui.Control.superClass_.disposeInternal.call(this);
  if (this.keyHandler_) {
    this.keyHandler_.dispose();
    delete this.keyHandler_;
  }
  delete this.renderer_;
  this.content_ = null;
  this.extraClassNames_ = null;
  this.ieMouseEventSequenceSimulator_ = null;
};
goog.ui.Control.prototype.getContent = function() {
  return this.content_;
};
goog.ui.Control.prototype.setContent = function(content) {
  this.renderer_.setContent(this.getElement(), content);
  this.setContentInternal(content);
};
goog.ui.Control.prototype.setContentInternal = function(content) {
  this.content_ = content;
};
goog.ui.Control.prototype.getCaption = function() {
  var content = this.getContent();
  if (!content) {
    return "";
  }
  var caption = goog.isString(content) ? content : goog.isArray(content) ? goog.array.map(content, goog.dom.getRawTextContent).join("") : goog.dom.getTextContent((content));
  return goog.string.collapseBreakingSpaces(caption);
};
goog.ui.Control.prototype.setCaption = function(caption) {
  this.setContent(caption);
};
goog.ui.Control.prototype.setRightToLeft = function(rightToLeft) {
  goog.ui.Control.superClass_.setRightToLeft.call(this, rightToLeft);
  var element = this.getElement();
  if (element) {
    this.renderer_.setRightToLeft(element, rightToLeft);
  }
};
goog.ui.Control.prototype.isAllowTextSelection = function() {
  return this.allowTextSelection_;
};
goog.ui.Control.prototype.setAllowTextSelection = function(allow) {
  this.allowTextSelection_ = allow;
  var element = this.getElement();
  if (element) {
    this.renderer_.setAllowTextSelection(element, allow);
  }
};
goog.ui.Control.prototype.isVisible = function() {
  return this.visible_;
};
goog.ui.Control.prototype.setVisible = function(visible, opt_force) {
  if (opt_force || this.visible_ != visible && this.dispatchEvent(visible ? goog.ui.Component.EventType.SHOW : goog.ui.Component.EventType.HIDE)) {
    var element = this.getElement();
    if (element) {
      this.renderer_.setVisible(element, visible);
    }
    if (this.isEnabled()) {
      this.renderer_.setFocusable(this, visible);
    }
    this.visible_ = visible;
    return true;
  }
  return false;
};
goog.ui.Control.prototype.isEnabled = function() {
  return !this.hasState(goog.ui.Component.State.DISABLED);
};
goog.ui.Control.prototype.isParentDisabled_ = function() {
  var parent = this.getParent();
  return !!parent && typeof parent.isEnabled == "function" && !parent.isEnabled();
};
goog.ui.Control.prototype.setEnabled = function(enable) {
  if (!this.isParentDisabled_() && this.isTransitionAllowed(goog.ui.Component.State.DISABLED, !enable)) {
    if (!enable) {
      this.setActive(false);
      this.setHighlighted(false);
    }
    if (this.isVisible()) {
      this.renderer_.setFocusable(this, enable);
    }
    this.setState(goog.ui.Component.State.DISABLED, !enable, true);
  }
};
goog.ui.Control.prototype.isHighlighted = function() {
  return this.hasState(goog.ui.Component.State.HOVER);
};
goog.ui.Control.prototype.setHighlighted = function(highlight) {
  if (this.isTransitionAllowed(goog.ui.Component.State.HOVER, highlight)) {
    this.setState(goog.ui.Component.State.HOVER, highlight);
  }
};
goog.ui.Control.prototype.isActive = function() {
  return this.hasState(goog.ui.Component.State.ACTIVE);
};
goog.ui.Control.prototype.setActive = function(active) {
  if (this.isTransitionAllowed(goog.ui.Component.State.ACTIVE, active)) {
    this.setState(goog.ui.Component.State.ACTIVE, active);
  }
};
goog.ui.Control.prototype.isSelected = function() {
  return this.hasState(goog.ui.Component.State.SELECTED);
};
goog.ui.Control.prototype.setSelected = function(select) {
  if (this.isTransitionAllowed(goog.ui.Component.State.SELECTED, select)) {
    this.setState(goog.ui.Component.State.SELECTED, select);
  }
};
goog.ui.Control.prototype.isChecked = function() {
  return this.hasState(goog.ui.Component.State.CHECKED);
};
goog.ui.Control.prototype.setChecked = function(check) {
  if (this.isTransitionAllowed(goog.ui.Component.State.CHECKED, check)) {
    this.setState(goog.ui.Component.State.CHECKED, check);
  }
};
goog.ui.Control.prototype.isFocused = function() {
  return this.hasState(goog.ui.Component.State.FOCUSED);
};
goog.ui.Control.prototype.setFocused = function(focused) {
  if (this.isTransitionAllowed(goog.ui.Component.State.FOCUSED, focused)) {
    this.setState(goog.ui.Component.State.FOCUSED, focused);
  }
};
goog.ui.Control.prototype.isOpen = function() {
  return this.hasState(goog.ui.Component.State.OPENED);
};
goog.ui.Control.prototype.setOpen = function(open) {
  if (this.isTransitionAllowed(goog.ui.Component.State.OPENED, open)) {
    this.setState(goog.ui.Component.State.OPENED, open);
  }
};
goog.ui.Control.prototype.getState = function() {
  return this.state_;
};
goog.ui.Control.prototype.hasState = function(state) {
  return !!(this.state_ & state);
};
goog.ui.Control.prototype.setState = function(state, enable, opt_calledFrom) {
  if (!opt_calledFrom && state == goog.ui.Component.State.DISABLED) {
    this.setEnabled(!enable);
    return;
  }
  if (this.isSupportedState(state) && enable != this.hasState(state)) {
    this.renderer_.setState(this, state, enable);
    this.state_ = enable ? this.state_ | state : this.state_ & ~state;
  }
};
goog.ui.Control.prototype.setStateInternal = function(state) {
  this.state_ = state;
};
goog.ui.Control.prototype.isSupportedState = function(state) {
  return !!(this.supportedStates_ & state);
};
goog.ui.Control.prototype.setSupportedState = function(state, support) {
  if (this.isInDocument() && this.hasState(state) && !support) {
    throw Error(goog.ui.Component.Error.ALREADY_RENDERED);
  }
  if (!support && this.hasState(state)) {
    this.setState(state, false);
  }
  this.supportedStates_ = support ? this.supportedStates_ | state : this.supportedStates_ & ~state;
};
goog.ui.Control.prototype.isAutoState = function(state) {
  return !!(this.autoStates_ & state) && this.isSupportedState(state);
};
goog.ui.Control.prototype.setAutoStates = function(states, enable) {
  this.autoStates_ = enable ? this.autoStates_ | states : this.autoStates_ & ~states;
};
goog.ui.Control.prototype.isDispatchTransitionEvents = function(state) {
  return !!(this.statesWithTransitionEvents_ & state) && this.isSupportedState(state);
};
goog.ui.Control.prototype.setDispatchTransitionEvents = function(states, enable) {
  this.statesWithTransitionEvents_ = enable ? this.statesWithTransitionEvents_ | states : this.statesWithTransitionEvents_ & ~states;
};
goog.ui.Control.prototype.isTransitionAllowed = function(state, enable) {
  return this.isSupportedState(state) && this.hasState(state) != enable && (!(this.statesWithTransitionEvents_ & state) || this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(state, enable))) && !this.isDisposed();
};
goog.ui.Control.prototype.handleMouseOver = function(e) {
  if (!goog.ui.Control.isMouseEventWithinElement_(e, this.getElement()) && this.dispatchEvent(goog.ui.Component.EventType.ENTER) && this.isEnabled() && this.isAutoState(goog.ui.Component.State.HOVER)) {
    this.setHighlighted(true);
  }
};
goog.ui.Control.prototype.handleMouseOut = function(e) {
  if (!goog.ui.Control.isMouseEventWithinElement_(e, this.getElement()) && this.dispatchEvent(goog.ui.Component.EventType.LEAVE)) {
    if (this.isAutoState(goog.ui.Component.State.ACTIVE)) {
      this.setActive(false);
    }
    if (this.isAutoState(goog.ui.Component.State.HOVER)) {
      this.setHighlighted(false);
    }
  }
};
goog.ui.Control.prototype.handleContextMenu = goog.nullFunction;
goog.ui.Control.isMouseEventWithinElement_ = function(e, elem) {
  return !!e.relatedTarget && goog.dom.contains(elem, e.relatedTarget);
};
goog.ui.Control.prototype.handleMouseDown = function(e) {
  if (this.isEnabled()) {
    if (this.isAutoState(goog.ui.Component.State.HOVER)) {
      this.setHighlighted(true);
    }
    if (e.isMouseActionButton()) {
      if (this.isAutoState(goog.ui.Component.State.ACTIVE)) {
        this.setActive(true);
      }
      if (this.renderer_ && this.renderer_.isFocusable(this)) {
        this.getKeyEventTarget().focus();
      }
    }
  }
  if (!this.isAllowTextSelection() && e.isMouseActionButton()) {
    e.preventDefault();
  }
};
goog.ui.Control.prototype.handleMouseUp = function(e) {
  if (this.isEnabled()) {
    if (this.isAutoState(goog.ui.Component.State.HOVER)) {
      this.setHighlighted(true);
    }
    if (this.isActive() && this.performActionInternal(e) && this.isAutoState(goog.ui.Component.State.ACTIVE)) {
      this.setActive(false);
    }
  }
};
goog.ui.Control.prototype.handleDblClick = function(e) {
  if (this.isEnabled()) {
    this.performActionInternal(e);
  }
};
goog.ui.Control.prototype.performActionInternal = function(e) {
  if (this.isAutoState(goog.ui.Component.State.CHECKED)) {
    this.setChecked(!this.isChecked());
  }
  if (this.isAutoState(goog.ui.Component.State.SELECTED)) {
    this.setSelected(true);
  }
  if (this.isAutoState(goog.ui.Component.State.OPENED)) {
    this.setOpen(!this.isOpen());
  }
  var actionEvent = new goog.events.Event(goog.ui.Component.EventType.ACTION, this);
  if (e) {
    actionEvent.altKey = e.altKey;
    actionEvent.ctrlKey = e.ctrlKey;
    actionEvent.metaKey = e.metaKey;
    actionEvent.shiftKey = e.shiftKey;
    actionEvent.platformModifierKey = e.platformModifierKey;
  }
  return this.dispatchEvent(actionEvent);
};
goog.ui.Control.prototype.handleFocus = function(e) {
  if (this.isAutoState(goog.ui.Component.State.FOCUSED)) {
    this.setFocused(true);
  }
};
goog.ui.Control.prototype.handleBlur = function(e) {
  if (this.isAutoState(goog.ui.Component.State.ACTIVE)) {
    this.setActive(false);
  }
  if (this.isAutoState(goog.ui.Component.State.FOCUSED)) {
    this.setFocused(false);
  }
};
goog.ui.Control.prototype.handleKeyEvent = function(e) {
  if (this.isVisible() && this.isEnabled() && this.handleKeyEventInternal(e)) {
    e.preventDefault();
    e.stopPropagation();
    return true;
  }
  return false;
};
goog.ui.Control.prototype.handleKeyEventInternal = function(e) {
  return e.keyCode == goog.events.KeyCodes.ENTER && this.performActionInternal(e);
};
goog.ui.registry.setDefaultRenderer(goog.ui.Control, goog.ui.ControlRenderer);
goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS, function() {
  return new goog.ui.Control(null);
});
goog.ui.Control.IeMouseEventSequenceSimulator_ = function(control) {
  goog.ui.Control.IeMouseEventSequenceSimulator_.base(this, "constructor");
  this.control_ = control;
  this.clickExpected_ = false;
  this.handler_ = new goog.events.EventHandler(this);
  this.registerDisposable(this.handler_);
  var element = this.control_.getElementStrict();
  this.handler_.listen(element, goog.events.EventType.MOUSEDOWN, this.handleMouseDown_).listen(element, goog.events.EventType.MOUSEUP, this.handleMouseUp_).listen(element, goog.events.EventType.CLICK, this.handleClick_);
};
goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_, goog.Disposable);
goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_ = function() {
  this.clickExpected_ = false;
};
goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_ = function() {
  this.clickExpected_ = true;
};
goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_ = function(e) {
  if (this.clickExpected_) {
    this.clickExpected_ = false;
    return;
  }
  var browserEvent = (e);
  var event = browserEvent.getBrowserEvent();
  var origEventButton = event.button;
  var origEventType = event.type;
  event.button = goog.events.BrowserEvent.MouseButton.LEFT;
  event.type = goog.events.EventType.MOUSEDOWN;
  this.control_.handleMouseDown(new goog.events.BrowserEvent(event, browserEvent.currentTarget));
  event.type = goog.events.EventType.MOUSEUP;
  this.control_.handleMouseUp(new goog.events.BrowserEvent(event, browserEvent.currentTarget));
  event.button = origEventButton;
  event.type = origEventType;
};
goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal = function() {
  this.control_ = null;
  goog.ui.Control.IeMouseEventSequenceSimulator_.base(this, "disposeInternal");
};
goog.provide("goog.dom.InputType");
goog.dom.InputType = {BUTTON:"button", CHECKBOX:"checkbox", COLOR:"color", DATE:"date", DATETIME:"datetime", DATETIME_LOCAL:"datetime-local", EMAIL:"email", FILE:"file", HIDDEN:"hidden", IMAGE:"image", MENU:"menu", MONTH:"month", NUMBER:"number", PASSWORD:"password", RADIO:"radio", RANGE:"range", RESET:"reset", SEARCH:"search", SELECT_MULTIPLE:"select-multiple", SELECT_ONE:"select-one", SUBMIT:"submit", TEL:"tel", TEXT:"text", TEXTAREA:"textarea", TIME:"time", URL:"url", WEEK:"week"};
goog.provide("goog.ui.NativeButtonRenderer");
goog.require("goog.asserts");
goog.require("goog.dom.InputType");
goog.require("goog.dom.TagName");
goog.require("goog.dom.classlist");
goog.require("goog.events.EventType");
goog.require("goog.ui.ButtonRenderer");
goog.require("goog.ui.Component");
goog.ui.NativeButtonRenderer = function() {
  goog.ui.ButtonRenderer.call(this);
};
goog.inherits(goog.ui.NativeButtonRenderer, goog.ui.ButtonRenderer);
goog.addSingletonGetter(goog.ui.NativeButtonRenderer);
goog.ui.NativeButtonRenderer.prototype.getAriaRole = function() {
  return undefined;
};
goog.ui.NativeButtonRenderer.prototype.createDom = function(button) {
  this.setUpNativeButton_(button);
  return button.getDomHelper().createDom(goog.dom.TagName.BUTTON, {"class":this.getClassNames(button).join(" "), "disabled":!button.isEnabled(), "title":button.getTooltip() || "", "value":button.getValue() || ""}, button.getCaption() || "");
};
goog.ui.NativeButtonRenderer.prototype.canDecorate = function(element) {
  return element.tagName == goog.dom.TagName.BUTTON || element.tagName == goog.dom.TagName.INPUT && (element.type == goog.dom.InputType.BUTTON || element.type == goog.dom.InputType.SUBMIT || element.type == goog.dom.InputType.RESET);
};
goog.ui.NativeButtonRenderer.prototype.decorate = function(button, element) {
  this.setUpNativeButton_(button);
  if (element.disabled) {
    var disabledClassName = goog.asserts.assertString(this.getClassForState(goog.ui.Component.State.DISABLED));
    goog.dom.classlist.add(element, disabledClassName);
  }
  return goog.ui.NativeButtonRenderer.superClass_.decorate.call(this, button, element);
};
goog.ui.NativeButtonRenderer.prototype.initializeDom = function(button) {
  button.getHandler().listen(button.getElement(), goog.events.EventType.CLICK, button.performActionInternal);
};
goog.ui.NativeButtonRenderer.prototype.setAllowTextSelection = goog.nullFunction;
goog.ui.NativeButtonRenderer.prototype.setRightToLeft = goog.nullFunction;
goog.ui.NativeButtonRenderer.prototype.isFocusable = function(button) {
  return button.isEnabled();
};
goog.ui.NativeButtonRenderer.prototype.setFocusable = goog.nullFunction;
goog.ui.NativeButtonRenderer.prototype.setState = function(button, state, enable) {
  goog.ui.NativeButtonRenderer.superClass_.setState.call(this, button, state, enable);
  var element = button.getElement();
  if (element && state == goog.ui.Component.State.DISABLED) {
    element.disabled = enable;
  }
};
goog.ui.NativeButtonRenderer.prototype.getValue = function(element) {
  return element.value;
};
goog.ui.NativeButtonRenderer.prototype.setValue = function(element, value) {
  if (element) {
    element.value = value;
  }
};
goog.ui.NativeButtonRenderer.prototype.updateAriaState = goog.nullFunction;
goog.ui.NativeButtonRenderer.prototype.setUpNativeButton_ = function(button) {
  button.setHandleMouseEvents(false);
  button.setAutoStates(goog.ui.Component.State.ALL, false);
  button.setSupportedState(goog.ui.Component.State.FOCUSED, false);
};
goog.provide("goog.ui.Button");
goog.provide("goog.ui.Button.Side");
goog.require("goog.events.EventType");
goog.require("goog.events.KeyCodes");
goog.require("goog.events.KeyHandler");
goog.require("goog.ui.ButtonRenderer");
goog.require("goog.ui.ButtonSide");
goog.require("goog.ui.Component");
goog.require("goog.ui.Control");
goog.require("goog.ui.NativeButtonRenderer");
goog.require("goog.ui.registry");
goog.ui.Button = function(opt_content, opt_renderer, opt_domHelper) {
  goog.ui.Control.call(this, opt_content, opt_renderer || goog.ui.NativeButtonRenderer.getInstance(), opt_domHelper);
};
goog.inherits(goog.ui.Button, goog.ui.Control);
goog.tagUnsealableClass(goog.ui.Button);
goog.ui.Button.Side = goog.ui.ButtonSide;
goog.ui.Button.prototype.value_;
goog.ui.Button.prototype.tooltip_;
goog.ui.Button.prototype.getValue = function() {
  return this.value_;
};
goog.ui.Button.prototype.setValue = function(value) {
  this.value_ = value;
  var renderer = (this.getRenderer());
  renderer.setValue(this.getElement(), (value));
};
goog.ui.Button.prototype.setValueInternal = function(value) {
  this.value_ = value;
};
goog.ui.Button.prototype.getTooltip = function() {
  return this.tooltip_;
};
goog.ui.Button.prototype.setTooltip = function(tooltip) {
  this.tooltip_ = tooltip;
  this.getRenderer().setTooltip(this.getElement(), tooltip);
};
goog.ui.Button.prototype.setTooltipInternal = function(tooltip) {
  this.tooltip_ = tooltip;
};
goog.ui.Button.prototype.setCollapsed = function(sides) {
  this.getRenderer().setCollapsed(this, sides);
};
goog.ui.Button.prototype.disposeInternal = function() {
  goog.ui.Button.superClass_.disposeInternal.call(this);
  delete this.value_;
  delete this.tooltip_;
};
goog.ui.Button.prototype.enterDocument = function() {
  goog.ui.Button.superClass_.enterDocument.call(this);
  if (this.isSupportedState(goog.ui.Component.State.FOCUSED)) {
    var keyTarget = this.getKeyEventTarget();
    if (keyTarget) {
      this.getHandler().listen(keyTarget, goog.events.EventType.KEYUP, this.handleKeyEventInternal);
    }
  }
};
goog.ui.Button.prototype.handleKeyEventInternal = function(e) {
  if (e.keyCode == goog.events.KeyCodes.ENTER && e.type == goog.events.KeyHandler.EventType.KEY || e.keyCode == goog.events.KeyCodes.SPACE && e.type == goog.events.EventType.KEYUP) {
    return this.performActionInternal(e);
  }
  return e.keyCode == goog.events.KeyCodes.SPACE;
};
goog.ui.registry.setDecoratorByClassName(goog.ui.ButtonRenderer.CSS_CLASS, function() {
  return new goog.ui.Button(null);
});
goog.provide("goog.ui.INLINE_BLOCK_CLASSNAME");
goog.ui.INLINE_BLOCK_CLASSNAME = goog.getCssName("goog-inline-block");
goog.provide("goog.ui.FlatButtonRenderer");
goog.require("goog.a11y.aria.Role");
goog.require("goog.asserts");
goog.require("goog.dom.TagName");
goog.require("goog.dom.classlist");
goog.require("goog.ui.Button");
goog.require("goog.ui.ButtonRenderer");
goog.require("goog.ui.INLINE_BLOCK_CLASSNAME");
goog.require("goog.ui.registry");
goog.ui.FlatButtonRenderer = function() {
  goog.ui.ButtonRenderer.call(this);
};
goog.inherits(goog.ui.FlatButtonRenderer, goog.ui.ButtonRenderer);
goog.addSingletonGetter(goog.ui.FlatButtonRenderer);
goog.ui.FlatButtonRenderer.CSS_CLASS = goog.getCssName("goog-flat-button");
goog.ui.FlatButtonRenderer.prototype.createDom = function(button) {
  var classNames = this.getClassNames(button);
  var attributes = {"class":goog.ui.INLINE_BLOCK_CLASSNAME + " " + classNames.join(" ")};
  var element = button.getDomHelper().createDom(goog.dom.TagName.DIV, attributes, button.getContent());
  this.setTooltip(element, button.getTooltip());
  return element;
};
goog.ui.FlatButtonRenderer.prototype.getAriaRole = function() {
  return goog.a11y.aria.Role.BUTTON;
};
goog.ui.FlatButtonRenderer.prototype.canDecorate = function(element) {
  return element.tagName == goog.dom.TagName.DIV;
};
goog.ui.FlatButtonRenderer.prototype.decorate = function(button, element) {
  goog.asserts.assert(element);
  goog.dom.classlist.add(element, goog.ui.INLINE_BLOCK_CLASSNAME);
  return goog.ui.FlatButtonRenderer.superClass_.decorate.call(this, button, element);
};
goog.ui.FlatButtonRenderer.prototype.getValue = function(element) {
  return "";
};
goog.ui.FlatButtonRenderer.prototype.getCssClass = function() {
  return goog.ui.FlatButtonRenderer.CSS_CLASS;
};
goog.ui.registry.setDecoratorByClassName(goog.ui.FlatButtonRenderer.CSS_CLASS, function() {
  return new goog.ui.Button(null, goog.ui.FlatButtonRenderer.getInstance());
});
goog.provide("goog.structs");
goog.require("goog.array");
goog.require("goog.object");
goog.structs.getCount = function(col) {
  if (col.getCount && typeof col.getCount == "function") {
    return col.getCount();
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return col.length;
  }
  return goog.object.getCount(col);
};
goog.structs.getValues = function(col) {
  if (col.getValues && typeof col.getValues == "function") {
    return col.getValues();
  }
  if (goog.isString(col)) {
    return col.split("");
  }
  if (goog.isArrayLike(col)) {
    var rv = [];
    var l = col.length;
    for (var i = 0;i < l;i++) {
      rv.push(col[i]);
    }
    return rv;
  }
  return goog.object.getValues(col);
};
goog.structs.getKeys = function(col) {
  if (col.getKeys && typeof col.getKeys == "function") {
    return col.getKeys();
  }
  if (col.getValues && typeof col.getValues == "function") {
    return undefined;
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    var rv = [];
    var l = col.length;
    for (var i = 0;i < l;i++) {
      rv.push(i);
    }
    return rv;
  }
  return goog.object.getKeys(col);
};
goog.structs.contains = function(col, val) {
  if (col.contains && typeof col.contains == "function") {
    return col.contains(val);
  }
  if (col.containsValue && typeof col.containsValue == "function") {
    return col.containsValue(val);
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.contains((col), val);
  }
  return goog.object.containsValue(col, val);
};
goog.structs.isEmpty = function(col) {
  if (col.isEmpty && typeof col.isEmpty == "function") {
    return col.isEmpty();
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.isEmpty((col));
  }
  return goog.object.isEmpty(col);
};
goog.structs.clear = function(col) {
  if (col.clear && typeof col.clear == "function") {
    col.clear();
  } else {
    if (goog.isArrayLike(col)) {
      goog.array.clear((col));
    } else {
      goog.object.clear(col);
    }
  }
};
goog.structs.forEach = function(col, f, opt_obj) {
  if (col.forEach && typeof col.forEach == "function") {
    col.forEach(f, opt_obj);
  } else {
    if (goog.isArrayLike(col) || goog.isString(col)) {
      goog.array.forEach((col), f, opt_obj);
    } else {
      var keys = goog.structs.getKeys(col);
      var values = goog.structs.getValues(col);
      var l = values.length;
      for (var i = 0;i < l;i++) {
        f.call(opt_obj, values[i], keys && keys[i], col);
      }
    }
  }
};
goog.structs.filter = function(col, f, opt_obj) {
  if (typeof col.filter == "function") {
    return col.filter(f, opt_obj);
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.filter((col), f, opt_obj);
  }
  var rv;
  var keys = goog.structs.getKeys(col);
  var values = goog.structs.getValues(col);
  var l = values.length;
  if (keys) {
    rv = {};
    for (var i = 0;i < l;i++) {
      if (f.call(opt_obj, values[i], keys[i], col)) {
        rv[keys[i]] = values[i];
      }
    }
  } else {
    rv = [];
    for (var i = 0;i < l;i++) {
      if (f.call(opt_obj, values[i], undefined, col)) {
        rv.push(values[i]);
      }
    }
  }
  return rv;
};
goog.structs.map = function(col, f, opt_obj) {
  if (typeof col.map == "function") {
    return col.map(f, opt_obj);
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.map((col), f, opt_obj);
  }
  var rv;
  var keys = goog.structs.getKeys(col);
  var values = goog.structs.getValues(col);
  var l = values.length;
  if (keys) {
    rv = {};
    for (var i = 0;i < l;i++) {
      rv[keys[i]] = f.call(opt_obj, values[i], keys[i], col);
    }
  } else {
    rv = [];
    for (var i = 0;i < l;i++) {
      rv[i] = f.call(opt_obj, values[i], undefined, col);
    }
  }
  return rv;
};
goog.structs.some = function(col, f, opt_obj) {
  if (typeof col.some == "function") {
    return col.some(f, opt_obj);
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.some((col), f, opt_obj);
  }
  var keys = goog.structs.getKeys(col);
  var values = goog.structs.getValues(col);
  var l = values.length;
  for (var i = 0;i < l;i++) {
    if (f.call(opt_obj, values[i], keys && keys[i], col)) {
      return true;
    }
  }
  return false;
};
goog.structs.every = function(col, f, opt_obj) {
  if (typeof col.every == "function") {
    return col.every(f, opt_obj);
  }
  if (goog.isArrayLike(col) || goog.isString(col)) {
    return goog.array.every((col), f, opt_obj);
  }
  var keys = goog.structs.getKeys(col);
  var values = goog.structs.getValues(col);
  var l = values.length;
  for (var i = 0;i < l;i++) {
    if (!f.call(opt_obj, values[i], keys && keys[i], col)) {
      return false;
    }
  }
  return true;
};
goog.provide("goog.functions");
goog.functions.constant = function(retValue) {
  return function() {
    return retValue;
  };
};
goog.functions.FALSE = goog.functions.constant(false);
goog.functions.TRUE = goog.functions.constant(true);
goog.functions.NULL = goog.functions.constant(null);
goog.functions.identity = function(opt_returnValue, var_args) {
  return opt_returnValue;
};
goog.functions.error = function(message) {
  return function() {
    throw Error(message);
  };
};
goog.functions.fail = function(err) {
  return function() {
    throw err;
  };
};
goog.functions.lock = function(f, opt_numArgs) {
  opt_numArgs = opt_numArgs || 0;
  return function() {
    return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));
  };
};
goog.functions.nth = function(n) {
  return function() {
    return arguments[n];
  };
};
goog.functions.withReturnValue = function(f, retValue) {
  return goog.functions.sequence(f, goog.functions.constant(retValue));
};
goog.functions.equalTo = function(value, opt_useLooseComparison) {
  return function(other) {
    return opt_useLooseComparison ? value == other : value === other;
  };
};
goog.functions.compose = function(fn, var_args) {
  var functions = arguments;
  var length = functions.length;
  return function() {
    var result;
    if (length) {
      result = functions[length - 1].apply(this, arguments);
    }
    for (var i = length - 2;i >= 0;i--) {
      result = functions[i].call(this, result);
    }
    return result;
  };
};
goog.functions.sequence = function(var_args) {
  var functions = arguments;
  var length = functions.length;
  return function() {
    var result;
    for (var i = 0;i < length;i++) {
      result = functions[i].apply(this, arguments);
    }
    return result;
  };
};
goog.functions.and = function(var_args) {
  var functions = arguments;
  var length = functions.length;
  return function() {
    for (var i = 0;i < length;i++) {
      if (!functions[i].apply(this, arguments)) {
        return false;
      }
    }
    return true;
  };
};
goog.functions.or = function(var_args) {
  var functions = arguments;
  var length = functions.length;
  return function() {
    for (var i = 0;i < length;i++) {
      if (functions[i].apply(this, arguments)) {
        return true;
      }
    }
    return false;
  };
};
goog.functions.not = function(f) {
  return function() {
    return !f.apply(this, arguments);
  };
};
goog.functions.create = function(constructor, var_args) {
  var temp = function() {
  };
  temp.prototype = constructor.prototype;
  var obj = new temp;
  constructor.apply(obj, Array.prototype.slice.call(arguments, 1));
  return obj;
};
goog.define("goog.functions.CACHE_RETURN_VALUE", true);
goog.functions.cacheReturnValue = function(fn) {
  var called = false;
  var value;
  return function() {
    if (!goog.functions.CACHE_RETURN_VALUE) {
      return fn();
    }
    if (!called) {
      value = fn();
      called = true;
    }
    return value;
  };
};
goog.functions.once = function(f) {
  var inner = f;
  return function() {
    if (inner) {
      var tmp = inner;
      inner = null;
      tmp();
    }
  };
};
goog.functions.debounce = function(f, interval, opt_scope) {
  if (opt_scope) {
    f = goog.bind(f, opt_scope);
  }
  var timeout = null;
  return (function(var_args) {
    goog.global.clearTimeout(timeout);
    var args = arguments;
    timeout = goog.global.setTimeout(function() {
      f.apply(null, args);
    }, interval);
  });
};
goog.functions.throttle = function(f, interval, opt_scope) {
  if (opt_scope) {
    f = goog.bind(f, opt_scope);
  }
  var timeout = null;
  var shouldFire = false;
  var args = [];
  var handleTimeout = function() {
    timeout = null;
    if (shouldFire) {
      shouldFire = false;
      fire();
    }
  };
  var fire = function() {
    timeout = goog.global.setTimeout(handleTimeout, interval);
    f.apply(null, args);
  };
  return (function(var_args) {
    args = arguments;
    if (!timeout) {
      fire();
    } else {
      shouldFire = true;
    }
  });
};
goog.provide("goog.iter");
goog.provide("goog.iter.Iterable");
goog.provide("goog.iter.Iterator");
goog.provide("goog.iter.StopIteration");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.functions");
goog.require("goog.math");
goog.iter.Iterable;
goog.iter.StopIteration = "StopIteration" in goog.global ? goog.global["StopIteration"] : {message:"StopIteration", stack:""};
goog.iter.Iterator = function() {
};
goog.iter.Iterator.prototype.next = function() {
  throw goog.iter.StopIteration;
};
goog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {
  return this;
};
goog.iter.toIterator = function(iterable) {
  if (iterable instanceof goog.iter.Iterator) {
    return iterable;
  }
  if (typeof iterable.__iterator__ == "function") {
    return iterable.__iterator__(false);
  }
  if (goog.isArrayLike(iterable)) {
    var i = 0;
    var newIter = new goog.iter.Iterator;
    newIter.next = function() {
      while (true) {
        if (i >= iterable.length) {
          throw goog.iter.StopIteration;
        }
        if (!(i in iterable)) {
          i++;
          continue;
        }
        return iterable[i++];
      }
    };
    return newIter;
  }
  throw Error("Not implemented");
};
goog.iter.forEach = function(iterable, f, opt_obj) {
  if (goog.isArrayLike(iterable)) {
    try {
      goog.array.forEach((iterable), f, opt_obj);
    } catch (ex) {
      if (ex !== goog.iter.StopIteration) {
        throw ex;
      }
    }
  } else {
    iterable = goog.iter.toIterator(iterable);
    try {
      while (true) {
        f.call(opt_obj, iterable.next(), undefined, iterable);
      }
    } catch (ex) {
      if (ex !== goog.iter.StopIteration) {
        throw ex;
      }
    }
  }
};
goog.iter.filter = function(iterable, f, opt_obj) {
  var iterator = goog.iter.toIterator(iterable);
  var newIter = new goog.iter.Iterator;
  newIter.next = function() {
    while (true) {
      var val = iterator.next();
      if (f.call(opt_obj, val, undefined, iterator)) {
        return val;
      }
    }
  };
  return newIter;
};
goog.iter.filterFalse = function(iterable, f, opt_obj) {
  return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);
};
goog.iter.range = function(startOrStop, opt_stop, opt_step) {
  var start = 0;
  var stop = startOrStop;
  var step = opt_step || 1;
  if (arguments.length > 1) {
    start = startOrStop;
    stop = opt_stop;
  }
  if (step == 0) {
    throw Error("Range step argument must not be zero");
  }
  var newIter = new goog.iter.Iterator;
  newIter.next = function() {
    if (step > 0 && start >= stop || step < 0 && start <= stop) {
      throw goog.iter.StopIteration;
    }
    var rv = start;
    start += step;
    return rv;
  };
  return newIter;
};
goog.iter.join = function(iterable, deliminator) {
  return goog.iter.toArray(iterable).join(deliminator);
};
goog.iter.map = function(iterable, f, opt_obj) {
  var iterator = goog.iter.toIterator(iterable);
  var newIter = new goog.iter.Iterator;
  newIter.next = function() {
    var val = iterator.next();
    return f.call(opt_obj, val, undefined, iterator);
  };
  return newIter;
};
goog.iter.reduce = function(iterable, f, val, opt_obj) {
  var rval = val;
  goog.iter.forEach(iterable, function(val) {
    rval = f.call(opt_obj, rval, val);
  });
  return rval;
};
goog.iter.some = function(iterable, f, opt_obj) {
  iterable = goog.iter.toIterator(iterable);
  try {
    while (true) {
      if (f.call(opt_obj, iterable.next(), undefined, iterable)) {
        return true;
      }
    }
  } catch (ex) {
    if (ex !== goog.iter.StopIteration) {
      throw ex;
    }
  }
  return false;
};
goog.iter.every = function(iterable, f, opt_obj) {
  iterable = goog.iter.toIterator(iterable);
  try {
    while (true) {
      if (!f.call(opt_obj, iterable.next(), undefined, iterable)) {
        return false;
      }
    }
  } catch (ex) {
    if (ex !== goog.iter.StopIteration) {
      throw ex;
    }
  }
  return true;
};
goog.iter.chain = function(var_args) {
  return goog.iter.chainFromIterable(arguments);
};
goog.iter.chainFromIterable = function(iterable) {
  var iterator = goog.iter.toIterator(iterable);
  var iter = new goog.iter.Iterator;
  var current = null;
  iter.next = function() {
    while (true) {
      if (current == null) {
        var it = iterator.next();
        current = goog.iter.toIterator(it);
      }
      try {
        return current.next();
      } catch (ex) {
        if (ex !== goog.iter.StopIteration) {
          throw ex;
        }
        current = null;
      }
    }
  };
  return iter;
};
goog.iter.dropWhile = function(iterable, f, opt_obj) {
  var iterator = goog.iter.toIterator(iterable);
  var newIter = new goog.iter.Iterator;
  var dropping = true;
  newIter.next = function() {
    while (true) {
      var val = iterator.next();
      if (dropping && f.call(opt_obj, val, undefined, iterator)) {
        continue;
      } else {
        dropping = false;
      }
      return val;
    }
  };
  return newIter;
};
goog.iter.takeWhile = function(iterable, f, opt_obj) {
  var iterator = goog.iter.toIterator(iterable);
  var iter = new goog.iter.Iterator;
  iter.next = function() {
    var val = iterator.next();
    if (f.call(opt_obj, val, undefined, iterator)) {
      return val;
    }
    throw goog.iter.StopIteration;
  };
  return iter;
};
goog.iter.toArray = function(iterable) {
  if (goog.isArrayLike(iterable)) {
    return goog.array.toArray((iterable));
  }
  iterable = goog.iter.toIterator(iterable);
  var array = [];
  goog.iter.forEach(iterable, function(val) {
    array.push(val);
  });
  return array;
};
goog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {
  var fillValue = {};
  var pairs = goog.iter.zipLongest(fillValue, iterable1, iterable2);
  var equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;
  return goog.iter.every(pairs, function(pair) {
    return equalsFn(pair[0], pair[1]);
  });
};
goog.iter.nextOrValue = function(iterable, defaultValue) {
  try {
    return goog.iter.toIterator(iterable).next();
  } catch (e) {
    if (e != goog.iter.StopIteration) {
      throw e;
    }
    return defaultValue;
  }
};
goog.iter.product = function(var_args) {
  var someArrayEmpty = goog.array.some(arguments, function(arr) {
    return !arr.length;
  });
  if (someArrayEmpty || !arguments.length) {
    return new goog.iter.Iterator;
  }
  var iter = new goog.iter.Iterator;
  var arrays = arguments;
  var indicies = goog.array.repeat(0, arrays.length);
  iter.next = function() {
    if (indicies) {
      var retVal = goog.array.map(indicies, function(valueIndex, arrayIndex) {
        return arrays[arrayIndex][valueIndex];
      });
      for (var i = indicies.length - 1;i >= 0;i--) {
        goog.asserts.assert(indicies);
        if (indicies[i] < arrays[i].length - 1) {
          indicies[i]++;
          break;
        }
        if (i == 0) {
          indicies = null;
          break;
        }
        indicies[i] = 0;
      }
      return retVal;
    }
    throw goog.iter.StopIteration;
  };
  return iter;
};
goog.iter.cycle = function(iterable) {
  var baseIterator = goog.iter.toIterator(iterable);
  var cache = [];
  var cacheIndex = 0;
  var iter = new goog.iter.Iterator;
  var useCache = false;
  iter.next = function() {
    var returnElement = null;
    if (!useCache) {
      try {
        returnElement = baseIterator.next();
        cache.push(returnElement);
        return returnElement;
      } catch (e) {
        if (e != goog.iter.StopIteration || goog.array.isEmpty(cache)) {
          throw e;
        }
        useCache = true;
      }
    }
    returnElement = cache[cacheIndex];
    cacheIndex = (cacheIndex + 1) % cache.length;
    return returnElement;
  };
  return iter;
};
goog.iter.count = function(opt_start, opt_step) {
  var counter = opt_start || 0;
  var step = goog.isDef(opt_step) ? opt_step : 1;
  var iter = new goog.iter.Iterator;
  iter.next = function() {
    var returnValue = counter;
    counter += step;
    return returnValue;
  };
  return iter;
};
goog.iter.repeat = function(value) {
  var iter = new goog.iter.Iterator;
  iter.next = goog.functions.constant(value);
  return iter;
};
goog.iter.accumulate = function(iterable) {
  var iterator = goog.iter.toIterator(iterable);
  var total = 0;
  var iter = new goog.iter.Iterator;
  iter.next = function() {
    total += iterator.next();
    return total;
  };
  return iter;
};
goog.iter.zip = function(var_args) {
  var args = arguments;
  var iter = new goog.iter.Iterator;
  if (args.length > 0) {
    var iterators = goog.array.map(args, goog.iter.toIterator);
    iter.next = function() {
      var arr = goog.array.map(iterators, function(it) {
        return it.next();
      });
      return arr;
    };
  }
  return iter;
};
goog.iter.zipLongest = function(fillValue, var_args) {
  var args = goog.array.slice(arguments, 1);
  var iter = new goog.iter.Iterator;
  if (args.length > 0) {
    var iterators = goog.array.map(args, goog.iter.toIterator);
    iter.next = function() {
      var iteratorsHaveValues = false;
      var arr = goog.array.map(iterators, function(it) {
        var returnValue;
        try {
          returnValue = it.next();
          iteratorsHaveValues = true;
        } catch (ex) {
          if (ex !== goog.iter.StopIteration) {
            throw ex;
          }
          returnValue = fillValue;
        }
        return returnValue;
      });
      if (!iteratorsHaveValues) {
        throw goog.iter.StopIteration;
      }
      return arr;
    };
  }
  return iter;
};
goog.iter.compress = function(iterable, selectors) {
  var selectorIterator = goog.iter.toIterator(selectors);
  return goog.iter.filter(iterable, function() {
    return !!selectorIterator.next();
  });
};
goog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {
  this.iterator = goog.iter.toIterator(iterable);
  this.keyFunc = opt_keyFunc || goog.functions.identity;
  this.targetKey;
  this.currentKey;
  this.currentValue;
};
goog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);
goog.iter.GroupByIterator_.prototype.next = function() {
  while (this.currentKey == this.targetKey) {
    this.currentValue = this.iterator.next();
    this.currentKey = this.keyFunc(this.currentValue);
  }
  this.targetKey = this.currentKey;
  return [this.currentKey, this.groupItems_(this.targetKey)];
};
goog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {
  var arr = [];
  while (this.currentKey == targetKey) {
    arr.push(this.currentValue);
    try {
      this.currentValue = this.iterator.next();
    } catch (ex) {
      if (ex !== goog.iter.StopIteration) {
        throw ex;
      }
      break;
    }
    this.currentKey = this.keyFunc(this.currentValue);
  }
  return arr;
};
goog.iter.groupBy = function(iterable, opt_keyFunc) {
  return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);
};
goog.iter.starMap = function(iterable, f, opt_obj) {
  var iterator = goog.iter.toIterator(iterable);
  var iter = new goog.iter.Iterator;
  iter.next = function() {
    var args = goog.iter.toArray(iterator.next());
    return f.apply(opt_obj, goog.array.concat(args, undefined, iterator));
  };
  return iter;
};
goog.iter.tee = function(iterable, opt_num) {
  var iterator = goog.iter.toIterator(iterable);
  var num = goog.isNumber(opt_num) ? opt_num : 2;
  var buffers = goog.array.map(goog.array.range(num), function() {
    return [];
  });
  var addNextIteratorValueToBuffers = function() {
    var val = iterator.next();
    goog.array.forEach(buffers, function(buffer) {
      buffer.push(val);
    });
  };
  var createIterator = function(buffer) {
    var iter = new goog.iter.Iterator;
    iter.next = function() {
      if (goog.array.isEmpty(buffer)) {
        addNextIteratorValueToBuffers();
      }
      goog.asserts.assert(!goog.array.isEmpty(buffer));
      return buffer.shift();
    };
    return iter;
  };
  return goog.array.map(buffers, createIterator);
};
goog.iter.enumerate = function(iterable, opt_start) {
  return goog.iter.zip(goog.iter.count(opt_start), iterable);
};
goog.iter.limit = function(iterable, limitSize) {
  goog.asserts.assert(goog.math.isInt(limitSize) && limitSize >= 0);
  var iterator = goog.iter.toIterator(iterable);
  var iter = new goog.iter.Iterator;
  var remaining = limitSize;
  iter.next = function() {
    if (remaining-- > 0) {
      return iterator.next();
    }
    throw goog.iter.StopIteration;
  };
  return iter;
};
goog.iter.consume = function(iterable, count) {
  goog.asserts.assert(goog.math.isInt(count) && count >= 0);
  var iterator = goog.iter.toIterator(iterable);
  while (count-- > 0) {
    goog.iter.nextOrValue(iterator, null);
  }
  return iterator;
};
goog.iter.slice = function(iterable, start, opt_end) {
  goog.asserts.assert(goog.math.isInt(start) && start >= 0);
  var iterator = goog.iter.consume(iterable, start);
  if (goog.isNumber(opt_end)) {
    goog.asserts.assert(goog.math.isInt(opt_end) && opt_end >= start);
    iterator = goog.iter.limit(iterator, opt_end - start);
  }
  return iterator;
};
goog.iter.hasDuplicates_ = function(arr) {
  var deduped = [];
  goog.array.removeDuplicates(arr, deduped);
  return arr.length != deduped.length;
};
goog.iter.permutations = function(iterable, opt_length) {
  var elements = goog.iter.toArray(iterable);
  var length = goog.isNumber(opt_length) ? opt_length : elements.length;
  var sets = goog.array.repeat(elements, length);
  var product = goog.iter.product.apply(undefined, sets);
  return goog.iter.filter(product, function(arr) {
    return !goog.iter.hasDuplicates_(arr);
  });
};
goog.iter.combinations = function(iterable, length) {
  var elements = goog.iter.toArray(iterable);
  var indexes = goog.iter.range(elements.length);
  var indexIterator = goog.iter.permutations(indexes, length);
  var sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {
    return goog.array.isSorted(arr);
  });
  var iter = new goog.iter.Iterator;
  function getIndexFromElements(index) {
    return elements[index];
  }
  iter.next = function() {
    return goog.array.map(sortedIndexIterator.next(), getIndexFromElements);
  };
  return iter;
};
goog.iter.combinationsWithReplacement = function(iterable, length) {
  var elements = goog.iter.toArray(iterable);
  var indexes = goog.array.range(elements.length);
  var sets = goog.array.repeat(indexes, length);
  var indexIterator = goog.iter.product.apply(undefined, sets);
  var sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {
    return goog.array.isSorted(arr);
  });
  var iter = new goog.iter.Iterator;
  function getIndexFromElements(index) {
    return elements[index];
  }
  iter.next = function() {
    return goog.array.map((sortedIndexIterator.next()), getIndexFromElements);
  };
  return iter;
};
goog.provide("goog.structs.Map");
goog.require("goog.iter.Iterator");
goog.require("goog.iter.StopIteration");
goog.require("goog.object");
goog.structs.Map = function(opt_map, var_args) {
  this.map_ = {};
  this.keys_ = [];
  this.count_ = 0;
  this.version_ = 0;
  var argLength = arguments.length;
  if (argLength > 1) {
    if (argLength % 2) {
      throw Error("Uneven number of arguments");
    }
    for (var i = 0;i < argLength;i += 2) {
      this.set(arguments[i], arguments[i + 1]);
    }
  } else {
    if (opt_map) {
      this.addAll((opt_map));
    }
  }
};
goog.structs.Map.prototype.getCount = function() {
  return this.count_;
};
goog.structs.Map.prototype.getValues = function() {
  this.cleanupKeysArray_();
  var rv = [];
  for (var i = 0;i < this.keys_.length;i++) {
    var key = this.keys_[i];
    rv.push(this.map_[key]);
  }
  return rv;
};
goog.structs.Map.prototype.getKeys = function() {
  this.cleanupKeysArray_();
  return (this.keys_.concat());
};
goog.structs.Map.prototype.containsKey = function(key) {
  return goog.structs.Map.hasKey_(this.map_, key);
};
goog.structs.Map.prototype.containsValue = function(val) {
  for (var i = 0;i < this.keys_.length;i++) {
    var key = this.keys_[i];
    if (goog.structs.Map.hasKey_(this.map_, key) && this.map_[key] == val) {
      return true;
    }
  }
  return false;
};
goog.structs.Map.prototype.equals = function(otherMap, opt_equalityFn) {
  if (this === otherMap) {
    return true;
  }
  if (this.count_ != otherMap.getCount()) {
    return false;
  }
  var equalityFn = opt_equalityFn || goog.structs.Map.defaultEquals;
  this.cleanupKeysArray_();
  for (var key, i = 0;key = this.keys_[i];i++) {
    if (!equalityFn(this.get(key), otherMap.get(key))) {
      return false;
    }
  }
  return true;
};
goog.structs.Map.defaultEquals = function(a, b) {
  return a === b;
};
goog.structs.Map.prototype.isEmpty = function() {
  return this.count_ == 0;
};
goog.structs.Map.prototype.clear = function() {
  this.map_ = {};
  this.keys_.length = 0;
  this.count_ = 0;
  this.version_ = 0;
};
goog.structs.Map.prototype.remove = function(key) {
  if (goog.structs.Map.hasKey_(this.map_, key)) {
    delete this.map_[key];
    this.count_--;
    this.version_++;
    if (this.keys_.length > 2 * this.count_) {
      this.cleanupKeysArray_();
    }
    return true;
  }
  return false;
};
goog.structs.Map.prototype.cleanupKeysArray_ = function() {
  if (this.count_ != this.keys_.length) {
    var srcIndex = 0;
    var destIndex = 0;
    while (srcIndex < this.keys_.length) {
      var key = this.keys_[srcIndex];
      if (goog.structs.Map.hasKey_(this.map_, key)) {
        this.keys_[destIndex++] = key;
      }
      srcIndex++;
    }
    this.keys_.length = destIndex;
  }
  if (this.count_ != this.keys_.length) {
    var seen = {};
    var srcIndex = 0;
    var destIndex = 0;
    while (srcIndex < this.keys_.length) {
      var key = this.keys_[srcIndex];
      if (!goog.structs.Map.hasKey_(seen, key)) {
        this.keys_[destIndex++] = key;
        seen[key] = 1;
      }
      srcIndex++;
    }
    this.keys_.length = destIndex;
  }
};
goog.structs.Map.prototype.get = function(key, opt_val) {
  if (goog.structs.Map.hasKey_(this.map_, key)) {
    return this.map_[key];
  }
  return opt_val;
};
goog.structs.Map.prototype.set = function(key, value) {
  if (!goog.structs.Map.hasKey_(this.map_, key)) {
    this.count_++;
    this.keys_.push((key));
    this.version_++;
  }
  this.map_[key] = value;
};
goog.structs.Map.prototype.addAll = function(map) {
  var keys, values;
  if (map instanceof goog.structs.Map) {
    keys = map.getKeys();
    values = map.getValues();
  } else {
    keys = goog.object.getKeys(map);
    values = goog.object.getValues(map);
  }
  for (var i = 0;i < keys.length;i++) {
    this.set(keys[i], values[i]);
  }
};
goog.structs.Map.prototype.forEach = function(f, opt_obj) {
  var keys = this.getKeys();
  for (var i = 0;i < keys.length;i++) {
    var key = keys[i];
    var value = this.get(key);
    f.call(opt_obj, value, key, this);
  }
};
goog.structs.Map.prototype.clone = function() {
  return new goog.structs.Map(this);
};
goog.structs.Map.prototype.transpose = function() {
  var transposed = new goog.structs.Map;
  for (var i = 0;i < this.keys_.length;i++) {
    var key = this.keys_[i];
    var value = this.map_[key];
    transposed.set(value, key);
  }
  return transposed;
};
goog.structs.Map.prototype.toObject = function() {
  this.cleanupKeysArray_();
  var obj = {};
  for (var i = 0;i < this.keys_.length;i++) {
    var key = this.keys_[i];
    obj[key] = this.map_[key];
  }
  return obj;
};
goog.structs.Map.prototype.getKeyIterator = function() {
  return this.__iterator__(true);
};
goog.structs.Map.prototype.getValueIterator = function() {
  return this.__iterator__(false);
};
goog.structs.Map.prototype.__iterator__ = function(opt_keys) {
  this.cleanupKeysArray_();
  var i = 0;
  var version = this.version_;
  var selfObj = this;
  var newIter = new goog.iter.Iterator;
  newIter.next = function() {
    if (version != selfObj.version_) {
      throw Error("The map has changed since the iterator was created");
    }
    if (i >= selfObj.keys_.length) {
      throw goog.iter.StopIteration;
    }
    var key = selfObj.keys_[i++];
    return opt_keys ? key : selfObj.map_[key];
  };
  return newIter;
};
goog.structs.Map.hasKey_ = function(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
};
goog.provide("goog.uri.utils");
goog.provide("goog.uri.utils.ComponentIndex");
goog.provide("goog.uri.utils.QueryArray");
goog.provide("goog.uri.utils.QueryValue");
goog.provide("goog.uri.utils.StandardQueryParam");
goog.require("goog.asserts");
goog.require("goog.string");
goog.uri.utils.CharCode_ = {AMPERSAND:38, EQUAL:61, HASH:35, QUESTION:63};
goog.uri.utils.buildFromEncodedParts = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {
  var out = "";
  if (opt_scheme) {
    out += opt_scheme + ":";
  }
  if (opt_domain) {
    out += "//";
    if (opt_userInfo) {
      out += opt_userInfo + "@";
    }
    out += opt_domain;
    if (opt_port) {
      out += ":" + opt_port;
    }
  }
  if (opt_path) {
    out += opt_path;
  }
  if (opt_queryData) {
    out += "?" + opt_queryData;
  }
  if (opt_fragment) {
    out += "#" + opt_fragment;
  }
  return out;
};
goog.uri.utils.splitRe_ = new RegExp("^" + "(?:" + "([^:/?#.]+)" + ":)?" + "(?://" + "(?:([^/?#]*)@)?" + "([^/#?]*?)" + "(?::([0-9]+))?" + "(?\x3d[/#?]|$)" + ")?" + "([^?#]+)?" + "(?:\\?([^#]*))?" + "(?:#(.*))?" + "$");
goog.uri.utils.ComponentIndex = {SCHEME:1, USER_INFO:2, DOMAIN:3, PORT:4, PATH:5, QUERY_DATA:6, FRAGMENT:7};
goog.uri.utils.split = function(uri) {
  return (uri.match(goog.uri.utils.splitRe_));
};
goog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {
  if (!uri) {
    return uri;
  }
  return opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri);
};
goog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {
  return goog.uri.utils.split(uri)[componentIndex] || null;
};
goog.uri.utils.getScheme = function(uri) {
  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME, uri);
};
goog.uri.utils.getEffectiveScheme = function(uri) {
  var scheme = goog.uri.utils.getScheme(uri);
  if (!scheme && goog.global.self && goog.global.self.location) {
    var protocol = goog.global.self.location.protocol;
    scheme = protocol.substr(0, protocol.length - 1);
  }
  return scheme ? scheme.toLowerCase() : "";
};
goog.uri.utils.getUserInfoEncoded = function(uri) {
  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO, uri);
};
goog.uri.utils.getUserInfo = function(uri) {
  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri));
};
goog.uri.utils.getDomainEncoded = function(uri) {
  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN, uri);
};
goog.uri.utils.getDomain = function(uri) {
  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri), true);
};
goog.uri.utils.getPort = function(uri) {
  return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT, uri)) || null;
};
goog.uri.utils.getPathEncoded = function(uri) {
  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH, uri);
};
goog.uri.utils.getPath = function(uri) {
  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri), true);
};
goog.uri.utils.getQueryData = function(uri) {
  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA, uri);
};
goog.uri.utils.getFragmentEncoded = function(uri) {
  var hashIndex = uri.indexOf("#");
  return hashIndex < 0 ? null : uri.substr(hashIndex + 1);
};
goog.uri.utils.setFragmentEncoded = function(uri, fragment) {
  return goog.uri.utils.removeFragment(uri) + (fragment ? "#" + fragment : "");
};
goog.uri.utils.getFragment = function(uri) {
  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri));
};
goog.uri.utils.getHost = function(uri) {
  var pieces = goog.uri.utils.split(uri);
  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], pieces[goog.uri.utils.ComponentIndex.USER_INFO], pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);
};
goog.uri.utils.getPathAndAfter = function(uri) {
  var pieces = goog.uri.utils.split(uri);
  return goog.uri.utils.buildFromEncodedParts(null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH], pieces[goog.uri.utils.ComponentIndex.QUERY_DATA], pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);
};
goog.uri.utils.removeFragment = function(uri) {
  var hashIndex = uri.indexOf("#");
  return hashIndex < 0 ? uri : uri.substr(0, hashIndex);
};
goog.uri.utils.haveSameDomain = function(uri1, uri2) {
  var pieces1 = goog.uri.utils.split(uri1);
  var pieces2 = goog.uri.utils.split(uri2);
  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.SCHEME] == pieces2[goog.uri.utils.ComponentIndex.SCHEME] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];
};
goog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {
  if (goog.DEBUG && (uri.indexOf("#") >= 0 || uri.indexOf("?") >= 0)) {
    throw Error("goog.uri.utils: Fragment or query identifiers are not " + "supported: [" + uri + "]");
  }
};
goog.uri.utils.QueryValue;
goog.uri.utils.QueryArray;
goog.uri.utils.parseQueryData = function(encodedQuery, callback) {
  if (!encodedQuery) {
    return;
  }
  var pairs = encodedQuery.split("\x26");
  for (var i = 0;i < pairs.length;i++) {
    var indexOfEquals = pairs[i].indexOf("\x3d");
    var name = null;
    var value = null;
    if (indexOfEquals >= 0) {
      name = pairs[i].substring(0, indexOfEquals);
      value = pairs[i].substring(indexOfEquals + 1);
    } else {
      name = pairs[i];
    }
    callback(name, value ? goog.string.urlDecode(value) : "");
  }
};
goog.uri.utils.appendQueryData_ = function(buffer) {
  if (buffer[1]) {
    var baseUri = (buffer[0]);
    var hashIndex = baseUri.indexOf("#");
    if (hashIndex >= 0) {
      buffer.push(baseUri.substr(hashIndex));
      buffer[0] = baseUri = baseUri.substr(0, hashIndex);
    }
    var questionIndex = baseUri.indexOf("?");
    if (questionIndex < 0) {
      buffer[1] = "?";
    } else {
      if (questionIndex == baseUri.length - 1) {
        buffer[1] = undefined;
      }
    }
  }
  return buffer.join("");
};
goog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {
  if (goog.isArray(value)) {
    goog.asserts.assertArray(value);
    for (var j = 0;j < value.length;j++) {
      goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);
    }
  } else {
    if (value != null) {
      pairs.push("\x26", key, value === "" ? "" : "\x3d", goog.string.urlEncode(value));
    }
  }
};
goog.uri.utils.buildQueryDataBuffer_ = function(buffer, keysAndValues, opt_startIndex) {
  goog.asserts.assert(Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2 == 0, "goog.uri.utils: Key/value lists must be even in length.");
  for (var i = opt_startIndex || 0;i < keysAndValues.length;i += 2) {
    goog.uri.utils.appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], buffer);
  }
  return buffer;
};
goog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {
  var buffer = goog.uri.utils.buildQueryDataBuffer_([], keysAndValues, opt_startIndex);
  buffer[0] = "";
  return buffer.join("");
};
goog.uri.utils.buildQueryDataBufferFromMap_ = function(buffer, map) {
  for (var key in map) {
    goog.uri.utils.appendKeyValuePairs_(key, map[key], buffer);
  }
  return buffer;
};
goog.uri.utils.buildQueryDataFromMap = function(map) {
  var buffer = goog.uri.utils.buildQueryDataBufferFromMap_([], map);
  buffer[0] = "";
  return buffer.join("");
};
goog.uri.utils.appendParams = function(uri, var_args) {
  return goog.uri.utils.appendQueryData_(arguments.length == 2 ? goog.uri.utils.buildQueryDataBuffer_([uri], arguments[1], 0) : goog.uri.utils.buildQueryDataBuffer_([uri], arguments, 1));
};
goog.uri.utils.appendParamsFromMap = function(uri, map) {
  return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([uri], map));
};
goog.uri.utils.appendParam = function(uri, key, opt_value) {
  var paramArr = [uri, "\x26", key];
  if (goog.isDefAndNotNull(opt_value)) {
    paramArr.push("\x3d", goog.string.urlEncode(opt_value));
  }
  return goog.uri.utils.appendQueryData_(paramArr);
};
goog.uri.utils.findParam_ = function(uri, startIndex, keyEncoded, hashOrEndIndex) {
  var index = startIndex;
  var keyLength = keyEncoded.length;
  while ((index = uri.indexOf(keyEncoded, index)) >= 0 && index < hashOrEndIndex) {
    var precedingChar = uri.charCodeAt(index - 1);
    if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND || precedingChar == goog.uri.utils.CharCode_.QUESTION) {
      var followingChar = uri.charCodeAt(index + keyLength);
      if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL || followingChar == goog.uri.utils.CharCode_.AMPERSAND || followingChar == goog.uri.utils.CharCode_.HASH) {
        return index;
      }
    }
    index += keyLength + 1;
  }
  return -1;
};
goog.uri.utils.hashOrEndRe_ = /#|$/;
goog.uri.utils.hasParam = function(uri, keyEncoded) {
  return goog.uri.utils.findParam_(uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_)) >= 0;
};
goog.uri.utils.getParamValue = function(uri, keyEncoded) {
  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);
  var foundIndex = goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);
  if (foundIndex < 0) {
    return null;
  } else {
    var endPosition = uri.indexOf("\x26", foundIndex);
    if (endPosition < 0 || endPosition > hashOrEndIndex) {
      endPosition = hashOrEndIndex;
    }
    foundIndex += keyEncoded.length + 1;
    return goog.string.urlDecode(uri.substr(foundIndex, endPosition - foundIndex));
  }
};
goog.uri.utils.getParamValues = function(uri, keyEncoded) {
  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);
  var position = 0;
  var foundIndex;
  var result = [];
  while ((foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex)) >= 0) {
    position = uri.indexOf("\x26", foundIndex);
    if (position < 0 || position > hashOrEndIndex) {
      position = hashOrEndIndex;
    }
    foundIndex += keyEncoded.length + 1;
    result.push(goog.string.urlDecode(uri.substr(foundIndex, position - foundIndex)));
  }
  return result;
};
goog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;
goog.uri.utils.removeParam = function(uri, keyEncoded) {
  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_);
  var position = 0;
  var foundIndex;
  var buffer = [];
  while ((foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex)) >= 0) {
    buffer.push(uri.substring(position, foundIndex));
    position = Math.min(uri.indexOf("\x26", foundIndex) + 1 || hashOrEndIndex, hashOrEndIndex);
  }
  buffer.push(uri.substr(position));
  return buffer.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_, "$1");
};
goog.uri.utils.setParam = function(uri, keyEncoded, value) {
  return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);
};
goog.uri.utils.appendPath = function(baseUri, path) {
  goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);
  if (goog.string.endsWith(baseUri, "/")) {
    baseUri = baseUri.substr(0, baseUri.length - 1);
  }
  if (goog.string.startsWith(path, "/")) {
    path = path.substr(1);
  }
  return goog.string.buildString(baseUri, "/", path);
};
goog.uri.utils.setPath = function(uri, path) {
  if (!goog.string.startsWith(path, "/")) {
    path = "/" + path;
  }
  var parts = goog.uri.utils.split(uri);
  return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME], parts[goog.uri.utils.ComponentIndex.USER_INFO], parts[goog.uri.utils.ComponentIndex.DOMAIN], parts[goog.uri.utils.ComponentIndex.PORT], path, parts[goog.uri.utils.ComponentIndex.QUERY_DATA], parts[goog.uri.utils.ComponentIndex.FRAGMENT]);
};
goog.uri.utils.StandardQueryParam = {RANDOM:"zx"};
goog.uri.utils.makeUnique = function(uri) {
  return goog.uri.utils.setParam(uri, goog.uri.utils.StandardQueryParam.RANDOM, goog.string.getRandomString());
};
goog.provide("goog.Uri");
goog.provide("goog.Uri.QueryData");
goog.require("goog.array");
goog.require("goog.string");
goog.require("goog.structs");
goog.require("goog.structs.Map");
goog.require("goog.uri.utils");
goog.require("goog.uri.utils.ComponentIndex");
goog.require("goog.uri.utils.StandardQueryParam");
goog.Uri = function(opt_uri, opt_ignoreCase) {
  this.scheme_ = "";
  this.userInfo_ = "";
  this.domain_ = "";
  this.port_ = null;
  this.path_ = "";
  this.fragment_ = "";
  this.isReadOnly_ = false;
  this.ignoreCase_ = false;
  this.queryData_;
  var m;
  if (opt_uri instanceof goog.Uri) {
    this.ignoreCase_ = goog.isDef(opt_ignoreCase) ? opt_ignoreCase : opt_uri.getIgnoreCase();
    this.setScheme(opt_uri.getScheme());
    this.setUserInfo(opt_uri.getUserInfo());
    this.setDomain(opt_uri.getDomain());
    this.setPort(opt_uri.getPort());
    this.setPath(opt_uri.getPath());
    this.setQueryData(opt_uri.getQueryData().clone());
    this.setFragment(opt_uri.getFragment());
  } else {
    if (opt_uri && (m = goog.uri.utils.split(String(opt_uri)))) {
      this.ignoreCase_ = !!opt_ignoreCase;
      this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] || "", true);
      this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || "", true);
      this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || "", true);
      this.setPort(m[goog.uri.utils.ComponentIndex.PORT]);
      this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || "", true);
      this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || "", true);
      this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || "", true);
    } else {
      this.ignoreCase_ = !!opt_ignoreCase;
      this.queryData_ = new goog.Uri.QueryData(null, null, this.ignoreCase_);
    }
  }
};
goog.Uri.preserveParameterTypesCompatibilityFlag = false;
goog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;
goog.Uri.prototype.toString = function() {
  var out = [];
  var scheme = this.getScheme();
  if (scheme) {
    out.push(goog.Uri.encodeSpecialChars_(scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, true), ":");
  }
  var domain = this.getDomain();
  if (domain || scheme == "file") {
    out.push("//");
    var userInfo = this.getUserInfo();
    if (userInfo) {
      out.push(goog.Uri.encodeSpecialChars_(userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, true), "@");
    }
    out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));
    var port = this.getPort();
    if (port != null) {
      out.push(":", String(port));
    }
  }
  var path = this.getPath();
  if (path) {
    if (this.hasDomain() && path.charAt(0) != "/") {
      out.push("/");
    }
    out.push(goog.Uri.encodeSpecialChars_(path, path.charAt(0) == "/" ? goog.Uri.reDisallowedInAbsolutePath_ : goog.Uri.reDisallowedInRelativePath_, true));
  }
  var query = this.getEncodedQuery();
  if (query) {
    out.push("?", query);
  }
  var fragment = this.getFragment();
  if (fragment) {
    out.push("#", goog.Uri.encodeSpecialChars_(fragment, goog.Uri.reDisallowedInFragment_));
  }
  return out.join("");
};
goog.Uri.prototype.resolve = function(relativeUri) {
  var absoluteUri = this.clone();
  var overridden = relativeUri.hasScheme();
  if (overridden) {
    absoluteUri.setScheme(relativeUri.getScheme());
  } else {
    overridden = relativeUri.hasUserInfo();
  }
  if (overridden) {
    absoluteUri.setUserInfo(relativeUri.getUserInfo());
  } else {
    overridden = relativeUri.hasDomain();
  }
  if (overridden) {
    absoluteUri.setDomain(relativeUri.getDomain());
  } else {
    overridden = relativeUri.hasPort();
  }
  var path = relativeUri.getPath();
  if (overridden) {
    absoluteUri.setPort(relativeUri.getPort());
  } else {
    overridden = relativeUri.hasPath();
    if (overridden) {
      if (path.charAt(0) != "/") {
        if (this.hasDomain() && !this.hasPath()) {
          path = "/" + path;
        } else {
          var lastSlashIndex = absoluteUri.getPath().lastIndexOf("/");
          if (lastSlashIndex != -1) {
            path = absoluteUri.getPath().substr(0, lastSlashIndex + 1) + path;
          }
        }
      }
      path = goog.Uri.removeDotSegments(path);
    }
  }
  if (overridden) {
    absoluteUri.setPath(path);
  } else {
    overridden = relativeUri.hasQuery();
  }
  if (overridden) {
    absoluteUri.setQueryData(relativeUri.getDecodedQuery());
  } else {
    overridden = relativeUri.hasFragment();
  }
  if (overridden) {
    absoluteUri.setFragment(relativeUri.getFragment());
  }
  return absoluteUri;
};
goog.Uri.prototype.clone = function() {
  return new goog.Uri(this);
};
goog.Uri.prototype.getScheme = function() {
  return this.scheme_;
};
goog.Uri.prototype.setScheme = function(newScheme, opt_decode) {
  this.enforceReadOnly();
  this.scheme_ = opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, true) : newScheme;
  if (this.scheme_) {
    this.scheme_ = this.scheme_.replace(/:$/, "");
  }
  return this;
};
goog.Uri.prototype.hasScheme = function() {
  return !!this.scheme_;
};
goog.Uri.prototype.getUserInfo = function() {
  return this.userInfo_;
};
goog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {
  this.enforceReadOnly();
  this.userInfo_ = opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;
  return this;
};
goog.Uri.prototype.hasUserInfo = function() {
  return !!this.userInfo_;
};
goog.Uri.prototype.getDomain = function() {
  return this.domain_;
};
goog.Uri.prototype.setDomain = function(newDomain, opt_decode) {
  this.enforceReadOnly();
  this.domain_ = opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, true) : newDomain;
  return this;
};
goog.Uri.prototype.hasDomain = function() {
  return !!this.domain_;
};
goog.Uri.prototype.getPort = function() {
  return this.port_;
};
goog.Uri.prototype.setPort = function(newPort) {
  this.enforceReadOnly();
  if (newPort) {
    newPort = Number(newPort);
    if (isNaN(newPort) || newPort < 0) {
      throw Error("Bad port number " + newPort);
    }
    this.port_ = newPort;
  } else {
    this.port_ = null;
  }
  return this;
};
goog.Uri.prototype.hasPort = function() {
  return this.port_ != null;
};
goog.Uri.prototype.getPath = function() {
  return this.path_;
};
goog.Uri.prototype.setPath = function(newPath, opt_decode) {
  this.enforceReadOnly();
  this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, true) : newPath;
  return this;
};
goog.Uri.prototype.hasPath = function() {
  return !!this.path_;
};
goog.Uri.prototype.hasQuery = function() {
  return this.queryData_.toString() !== "";
};
goog.Uri.prototype.setQueryData = function(queryData, opt_decode) {
  this.enforceReadOnly();
  if (queryData instanceof goog.Uri.QueryData) {
    this.queryData_ = queryData;
    this.queryData_.setIgnoreCase(this.ignoreCase_);
  } else {
    if (!opt_decode) {
      queryData = goog.Uri.encodeSpecialChars_(queryData, goog.Uri.reDisallowedInQuery_);
    }
    this.queryData_ = new goog.Uri.QueryData(queryData, null, this.ignoreCase_);
  }
  return this;
};
goog.Uri.prototype.setQuery = function(newQuery, opt_decode) {
  return this.setQueryData(newQuery, opt_decode);
};
goog.Uri.prototype.getEncodedQuery = function() {
  return this.queryData_.toString();
};
goog.Uri.prototype.getDecodedQuery = function() {
  return this.queryData_.toDecodedString();
};
goog.Uri.prototype.getQueryData = function() {
  return this.queryData_;
};
goog.Uri.prototype.getQuery = function() {
  return this.getEncodedQuery();
};
goog.Uri.prototype.setParameterValue = function(key, value) {
  this.enforceReadOnly();
  this.queryData_.set(key, value);
  return this;
};
goog.Uri.prototype.setParameterValues = function(key, values) {
  this.enforceReadOnly();
  if (!goog.isArray(values)) {
    values = [String(values)];
  }
  this.queryData_.setValues(key, values);
  return this;
};
goog.Uri.prototype.getParameterValues = function(name) {
  return this.queryData_.getValues(name);
};
goog.Uri.prototype.getParameterValue = function(paramName) {
  return (this.queryData_.get(paramName));
};
goog.Uri.prototype.getFragment = function() {
  return this.fragment_;
};
goog.Uri.prototype.setFragment = function(newFragment, opt_decode) {
  this.enforceReadOnly();
  this.fragment_ = opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;
  return this;
};
goog.Uri.prototype.hasFragment = function() {
  return !!this.fragment_;
};
goog.Uri.prototype.hasSameDomainAs = function(uri2) {
  return (!this.hasDomain() && !uri2.hasDomain() || this.getDomain() == uri2.getDomain()) && (!this.hasPort() && !uri2.hasPort() || this.getPort() == uri2.getPort());
};
goog.Uri.prototype.makeUnique = function() {
  this.enforceReadOnly();
  this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());
  return this;
};
goog.Uri.prototype.removeParameter = function(key) {
  this.enforceReadOnly();
  this.queryData_.remove(key);
  return this;
};
goog.Uri.prototype.setReadOnly = function(isReadOnly) {
  this.isReadOnly_ = isReadOnly;
  return this;
};
goog.Uri.prototype.isReadOnly = function() {
  return this.isReadOnly_;
};
goog.Uri.prototype.enforceReadOnly = function() {
  if (this.isReadOnly_) {
    throw Error("Tried to modify a read-only Uri");
  }
};
goog.Uri.prototype.setIgnoreCase = function(ignoreCase) {
  this.ignoreCase_ = ignoreCase;
  if (this.queryData_) {
    this.queryData_.setIgnoreCase(ignoreCase);
  }
  return this;
};
goog.Uri.prototype.getIgnoreCase = function() {
  return this.ignoreCase_;
};
goog.Uri.parse = function(uri, opt_ignoreCase) {
  return uri instanceof goog.Uri ? uri.clone() : new goog.Uri(uri, opt_ignoreCase);
};
goog.Uri.create = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query, opt_fragment, opt_ignoreCase) {
  var uri = new goog.Uri(null, opt_ignoreCase);
  opt_scheme && uri.setScheme(opt_scheme);
  opt_userInfo && uri.setUserInfo(opt_userInfo);
  opt_domain && uri.setDomain(opt_domain);
  opt_port && uri.setPort(opt_port);
  opt_path && uri.setPath(opt_path);
  opt_query && uri.setQueryData(opt_query);
  opt_fragment && uri.setFragment(opt_fragment);
  return uri;
};
goog.Uri.resolve = function(base, rel) {
  if (!(base instanceof goog.Uri)) {
    base = goog.Uri.parse(base);
  }
  if (!(rel instanceof goog.Uri)) {
    rel = goog.Uri.parse(rel);
  }
  return base.resolve(rel);
};
goog.Uri.removeDotSegments = function(path) {
  if (path == ".." || path == ".") {
    return "";
  } else {
    if (!goog.string.contains(path, "./") && !goog.string.contains(path, "/.")) {
      return path;
    } else {
      var leadingSlash = goog.string.startsWith(path, "/");
      var segments = path.split("/");
      var out = [];
      for (var pos = 0;pos < segments.length;) {
        var segment = segments[pos++];
        if (segment == ".") {
          if (leadingSlash && pos == segments.length) {
            out.push("");
          }
        } else {
          if (segment == "..") {
            if (out.length > 1 || out.length == 1 && out[0] != "") {
              out.pop();
            }
            if (leadingSlash && pos == segments.length) {
              out.push("");
            }
          } else {
            out.push(segment);
            leadingSlash = true;
          }
        }
      }
      return out.join("/");
    }
  }
};
goog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {
  if (!val) {
    return "";
  }
  return opt_preserveReserved ? decodeURI(val.replace(/%25/g, "%2525")) : decodeURIComponent(val);
};
goog.Uri.encodeSpecialChars_ = function(unescapedPart, extra, opt_removeDoubleEncoding) {
  if (goog.isString(unescapedPart)) {
    var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);
    if (opt_removeDoubleEncoding) {
      encoded = goog.Uri.removeDoubleEncoding_(encoded);
    }
    return encoded;
  }
  return null;
};
goog.Uri.encodeChar_ = function(ch) {
  var n = ch.charCodeAt(0);
  return "%" + (n >> 4 & 15).toString(16) + (n & 15).toString(16);
};
goog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {
  return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, "%$1");
};
goog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\/\?@]/g;
goog.Uri.reDisallowedInRelativePath_ = /[\#\?:]/g;
goog.Uri.reDisallowedInAbsolutePath_ = /[\#\?]/g;
goog.Uri.reDisallowedInQuery_ = /[\#\?@]/g;
goog.Uri.reDisallowedInFragment_ = /#/g;
goog.Uri.haveSameDomain = function(uri1String, uri2String) {
  var pieces1 = goog.uri.utils.split(uri1String);
  var pieces2 = goog.uri.utils.split(uri2String);
  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];
};
goog.Uri.QueryData = function(opt_query, opt_uri, opt_ignoreCase) {
  this.keyMap_ = null;
  this.count_ = null;
  this.encodedQuery_ = opt_query || null;
  this.ignoreCase_ = !!opt_ignoreCase;
};
goog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {
  if (!this.keyMap_) {
    this.keyMap_ = new goog.structs.Map;
    this.count_ = 0;
    if (this.encodedQuery_) {
      var self = this;
      goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {
        self.add(goog.string.urlDecode(name), value);
      });
    }
  }
};
goog.Uri.QueryData.createFromMap = function(map, opt_uri, opt_ignoreCase) {
  var keys = goog.structs.getKeys(map);
  if (typeof keys == "undefined") {
    throw Error("Keys are undefined");
  }
  var queryData = new goog.Uri.QueryData(null, null, opt_ignoreCase);
  var values = goog.structs.getValues(map);
  for (var i = 0;i < keys.length;i++) {
    var key = keys[i];
    var value = values[i];
    if (!goog.isArray(value)) {
      queryData.add(key, value);
    } else {
      queryData.setValues(key, value);
    }
  }
  return queryData;
};
goog.Uri.QueryData.createFromKeysValues = function(keys, values, opt_uri, opt_ignoreCase) {
  if (keys.length != values.length) {
    throw Error("Mismatched lengths for keys/values");
  }
  var queryData = new goog.Uri.QueryData(null, null, opt_ignoreCase);
  for (var i = 0;i < keys.length;i++) {
    queryData.add(keys[i], values[i]);
  }
  return queryData;
};
goog.Uri.QueryData.prototype.getCount = function() {
  this.ensureKeyMapInitialized_();
  return this.count_;
};
goog.Uri.QueryData.prototype.add = function(key, value) {
  this.ensureKeyMapInitialized_();
  this.invalidateCache_();
  key = this.getKeyName_(key);
  var values = this.keyMap_.get(key);
  if (!values) {
    this.keyMap_.set(key, values = []);
  }
  values.push(value);
  this.count_++;
  return this;
};
goog.Uri.QueryData.prototype.remove = function(key) {
  this.ensureKeyMapInitialized_();
  key = this.getKeyName_(key);
  if (this.keyMap_.containsKey(key)) {
    this.invalidateCache_();
    this.count_ -= this.keyMap_.get(key).length;
    return this.keyMap_.remove(key);
  }
  return false;
};
goog.Uri.QueryData.prototype.clear = function() {
  this.invalidateCache_();
  this.keyMap_ = null;
  this.count_ = 0;
};
goog.Uri.QueryData.prototype.isEmpty = function() {
  this.ensureKeyMapInitialized_();
  return this.count_ == 0;
};
goog.Uri.QueryData.prototype.containsKey = function(key) {
  this.ensureKeyMapInitialized_();
  key = this.getKeyName_(key);
  return this.keyMap_.containsKey(key);
};
goog.Uri.QueryData.prototype.containsValue = function(value) {
  var vals = this.getValues();
  return goog.array.contains(vals, value);
};
goog.Uri.QueryData.prototype.getKeys = function() {
  this.ensureKeyMapInitialized_();
  var vals = (this.keyMap_.getValues());
  var keys = this.keyMap_.getKeys();
  var rv = [];
  for (var i = 0;i < keys.length;i++) {
    var val = vals[i];
    for (var j = 0;j < val.length;j++) {
      rv.push(keys[i]);
    }
  }
  return rv;
};
goog.Uri.QueryData.prototype.getValues = function(opt_key) {
  this.ensureKeyMapInitialized_();
  var rv = [];
  if (goog.isString(opt_key)) {
    if (this.containsKey(opt_key)) {
      rv = goog.array.concat(rv, this.keyMap_.get(this.getKeyName_(opt_key)));
    }
  } else {
    var values = this.keyMap_.getValues();
    for (var i = 0;i < values.length;i++) {
      rv = goog.array.concat(rv, values[i]);
    }
  }
  return rv;
};
goog.Uri.QueryData.prototype.set = function(key, value) {
  this.ensureKeyMapInitialized_();
  this.invalidateCache_();
  key = this.getKeyName_(key);
  if (this.containsKey(key)) {
    this.count_ -= this.keyMap_.get(key).length;
  }
  this.keyMap_.set(key, [value]);
  this.count_++;
  return this;
};
goog.Uri.QueryData.prototype.get = function(key, opt_default) {
  var values = key ? this.getValues(key) : [];
  if (goog.Uri.preserveParameterTypesCompatibilityFlag) {
    return values.length > 0 ? values[0] : opt_default;
  } else {
    return values.length > 0 ? String(values[0]) : opt_default;
  }
};
goog.Uri.QueryData.prototype.setValues = function(key, values) {
  this.remove(key);
  if (values.length > 0) {
    this.invalidateCache_();
    this.keyMap_.set(this.getKeyName_(key), goog.array.clone(values));
    this.count_ += values.length;
  }
};
goog.Uri.QueryData.prototype.toString = function() {
  if (this.encodedQuery_) {
    return this.encodedQuery_;
  }
  if (!this.keyMap_) {
    return "";
  }
  var sb = [];
  var keys = this.keyMap_.getKeys();
  for (var i = 0;i < keys.length;i++) {
    var key = keys[i];
    var encodedKey = goog.string.urlEncode(key);
    var val = this.getValues(key);
    for (var j = 0;j < val.length;j++) {
      var param = encodedKey;
      if (val[j] !== "") {
        param += "\x3d" + goog.string.urlEncode(val[j]);
      }
      sb.push(param);
    }
  }
  return this.encodedQuery_ = sb.join("\x26");
};
goog.Uri.QueryData.prototype.toDecodedString = function() {
  return goog.Uri.decodeOrEmpty_(this.toString());
};
goog.Uri.QueryData.prototype.invalidateCache_ = function() {
  this.encodedQuery_ = null;
};
goog.Uri.QueryData.prototype.filterKeys = function(keys) {
  this.ensureKeyMapInitialized_();
  this.keyMap_.forEach(function(value, key) {
    if (!goog.array.contains(keys, key)) {
      this.remove(key);
    }
  }, this);
  return this;
};
goog.Uri.QueryData.prototype.clone = function() {
  var rv = new goog.Uri.QueryData;
  rv.encodedQuery_ = this.encodedQuery_;
  if (this.keyMap_) {
    rv.keyMap_ = this.keyMap_.clone();
    rv.count_ = this.count_;
  }
  return rv;
};
goog.Uri.QueryData.prototype.getKeyName_ = function(arg) {
  var keyName = String(arg);
  if (this.ignoreCase_) {
    keyName = keyName.toLowerCase();
  }
  return keyName;
};
goog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {
  var resetKeys = ignoreCase && !this.ignoreCase_;
  if (resetKeys) {
    this.ensureKeyMapInitialized_();
    this.invalidateCache_();
    this.keyMap_.forEach(function(value, key) {
      var lowerCase = key.toLowerCase();
      if (key != lowerCase) {
        this.remove(key);
        this.setValues(lowerCase, value);
      }
    }, this);
  }
  this.ignoreCase_ = ignoreCase;
};
goog.Uri.QueryData.prototype.extend = function(var_args) {
  for (var i = 0;i < arguments.length;i++) {
    var data = arguments[i];
    goog.structs.forEach(data, function(value, key) {
      this.add(key, value);
    }, this);
  }
};
goog.provide("goog.Thenable");
goog.Thenable = function() {
};
goog.Thenable.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {
};
goog.Thenable.IMPLEMENTED_BY_PROP = "$goog_Thenable";
goog.Thenable.addImplementation = function(ctor) {
  goog.exportProperty(ctor.prototype, "then", ctor.prototype.then);
  if (COMPILED) {
    ctor.prototype[goog.Thenable.IMPLEMENTED_BY_PROP] = true;
  } else {
    ctor.prototype.$goog_Thenable = true;
  }
};
goog.Thenable.isImplementedBy = function(object) {
  if (!object) {
    return false;
  }
  try {
    if (COMPILED) {
      return !!object[goog.Thenable.IMPLEMENTED_BY_PROP];
    }
    return !!object.$goog_Thenable;
  } catch (e) {
    return false;
  }
};
goog.provide("goog.async.FreeList");
goog.async.FreeList = goog.defineClass(null, {constructor:function(create, reset, limit) {
  this.limit_ = limit;
  this.create_ = create;
  this.reset_ = reset;
  this.occupants_ = 0;
  this.head_ = null;
}, get:function() {
  var item;
  if (this.occupants_ > 0) {
    this.occupants_--;
    item = this.head_;
    this.head_ = item.next;
    item.next = null;
  } else {
    item = this.create_();
  }
  return item;
}, put:function(item) {
  this.reset_(item);
  if (this.occupants_ < this.limit_) {
    this.occupants_++;
    item.next = this.head_;
    this.head_ = item;
  }
}, occupants:function() {
  return this.occupants_;
}});
goog.provide("goog.async.WorkItem");
goog.provide("goog.async.WorkQueue");
goog.require("goog.asserts");
goog.require("goog.async.FreeList");
goog.async.WorkQueue = function() {
  this.workHead_ = null;
  this.workTail_ = null;
};
goog.define("goog.async.WorkQueue.DEFAULT_MAX_UNUSED", 100);
goog.async.WorkQueue.freelist_ = new goog.async.FreeList(function() {
  return new goog.async.WorkItem;
}, function(item) {
  item.reset();
}, goog.async.WorkQueue.DEFAULT_MAX_UNUSED);
goog.async.WorkQueue.prototype.add = function(fn, scope) {
  var item = this.getUnusedItem_();
  item.set(fn, scope);
  if (this.workTail_) {
    this.workTail_.next = item;
    this.workTail_ = item;
  } else {
    goog.asserts.assert(!this.workHead_);
    this.workHead_ = item;
    this.workTail_ = item;
  }
};
goog.async.WorkQueue.prototype.remove = function() {
  var item = null;
  if (this.workHead_) {
    item = this.workHead_;
    this.workHead_ = this.workHead_.next;
    if (!this.workHead_) {
      this.workTail_ = null;
    }
    item.next = null;
  }
  return item;
};
goog.async.WorkQueue.prototype.returnUnused = function(item) {
  goog.async.WorkQueue.freelist_.put(item);
};
goog.async.WorkQueue.prototype.getUnusedItem_ = function() {
  return goog.async.WorkQueue.freelist_.get();
};
goog.async.WorkItem = function() {
  this.fn = null;
  this.scope = null;
  this.next = null;
};
goog.async.WorkItem.prototype.set = function(fn, scope) {
  this.fn = fn;
  this.scope = scope;
  this.next = null;
};
goog.async.WorkItem.prototype.reset = function() {
  this.fn = null;
  this.scope = null;
  this.next = null;
};
goog.provide("goog.async.nextTick");
goog.provide("goog.async.throwException");
goog.require("goog.debug.entryPointRegistry");
goog.require("goog.dom.TagName");
goog.require("goog.functions");
goog.require("goog.labs.userAgent.browser");
goog.require("goog.labs.userAgent.engine");
goog.async.throwException = function(exception) {
  goog.global.setTimeout(function() {
    throw exception;
  }, 0);
};
goog.async.nextTick = function(callback, opt_context, opt_useSetImmediate) {
  var cb = callback;
  if (opt_context) {
    cb = goog.bind(callback, opt_context);
  }
  cb = goog.async.nextTick.wrapCallback_(cb);
  if (goog.isFunction(goog.global.setImmediate) && (opt_useSetImmediate || !goog.global.Window || !goog.global.Window.prototype || goog.global.Window.prototype.setImmediate != goog.global.setImmediate)) {
    goog.global.setImmediate(cb);
    return;
  }
  if (!goog.async.nextTick.setImmediate_) {
    goog.async.nextTick.setImmediate_ = goog.async.nextTick.getSetImmediateEmulator_();
  }
  goog.async.nextTick.setImmediate_(cb);
};
goog.async.nextTick.setImmediate_;
goog.async.nextTick.getSetImmediateEmulator_ = function() {
  var Channel = goog.global["MessageChannel"];
  if (typeof Channel === "undefined" && typeof window !== "undefined" && window.postMessage && window.addEventListener && !goog.labs.userAgent.engine.isPresto()) {
    Channel = function() {
      var iframe = document.createElement(goog.dom.TagName.IFRAME);
      iframe.style.display = "none";
      iframe.src = "";
      document.documentElement.appendChild(iframe);
      var win = iframe.contentWindow;
      var doc = win.document;
      doc.open();
      doc.write("");
      doc.close();
      var message = "callImmediate" + Math.random();
      var origin = win.location.protocol == "file:" ? "*" : win.location.protocol + "//" + win.location.host;
      var onmessage = goog.bind(function(e) {
        if (origin != "*" && e.origin != origin || e.data != message) {
          return;
        }
        this["port1"].onmessage();
      }, this);
      win.addEventListener("message", onmessage, false);
      this["port1"] = {};
      this["port2"] = {postMessage:function() {
        win.postMessage(message, origin);
      }};
    };
  }
  if (typeof Channel !== "undefined" && !goog.labs.userAgent.browser.isIE()) {
    var channel = new Channel;
    var head = {};
    var tail = head;
    channel["port1"].onmessage = function() {
      if (goog.isDef(head.next)) {
        head = head.next;
        var cb = head.cb;
        head.cb = null;
        cb();
      }
    };
    return function(cb) {
      tail.next = {cb:cb};
      tail = tail.next;
      channel["port2"].postMessage(0);
    };
  }
  if (typeof document !== "undefined" && "onreadystatechange" in document.createElement(goog.dom.TagName.SCRIPT)) {
    return function(cb) {
      var script = document.createElement(goog.dom.TagName.SCRIPT);
      script.onreadystatechange = function() {
        script.onreadystatechange = null;
        script.parentNode.removeChild(script);
        script = null;
        cb();
        cb = null;
      };
      document.documentElement.appendChild(script);
    };
  }
  return function(cb) {
    goog.global.setTimeout(cb, 0);
  };
};
goog.async.nextTick.wrapCallback_ = goog.functions.identity;
goog.debug.entryPointRegistry.register(function(transformer) {
  goog.async.nextTick.wrapCallback_ = transformer;
});
goog.provide("goog.async.run");
goog.require("goog.async.WorkQueue");
goog.require("goog.async.nextTick");
goog.require("goog.async.throwException");
goog.async.run = function(callback, opt_context) {
  if (!goog.async.run.schedule_) {
    goog.async.run.initializeRunner_();
  }
  if (!goog.async.run.workQueueScheduled_) {
    goog.async.run.schedule_();
    goog.async.run.workQueueScheduled_ = true;
  }
  goog.async.run.workQueue_.add(callback, opt_context);
};
goog.async.run.initializeRunner_ = function() {
  if (goog.global.Promise && goog.global.Promise.resolve) {
    var promise = goog.global.Promise.resolve(undefined);
    goog.async.run.schedule_ = function() {
      promise.then(goog.async.run.processWorkQueue);
    };
  } else {
    goog.async.run.schedule_ = function() {
      goog.async.nextTick(goog.async.run.processWorkQueue);
    };
  }
};
goog.async.run.forceNextTick = function(opt_realSetTimeout) {
  goog.async.run.schedule_ = function() {
    goog.async.nextTick(goog.async.run.processWorkQueue);
    if (opt_realSetTimeout) {
      opt_realSetTimeout(goog.async.run.processWorkQueue);
    }
  };
};
goog.async.run.schedule_;
goog.async.run.workQueueScheduled_ = false;
goog.async.run.workQueue_ = new goog.async.WorkQueue;
if (goog.DEBUG) {
  goog.async.run.resetQueue = function() {
    goog.async.run.workQueueScheduled_ = false;
    goog.async.run.workQueue_ = new goog.async.WorkQueue;
  };
}
goog.async.run.processWorkQueue = function() {
  var item = null;
  while (item = goog.async.run.workQueue_.remove()) {
    try {
      item.fn.call(item.scope);
    } catch (e) {
      goog.async.throwException(e);
    }
    goog.async.run.workQueue_.returnUnused(item);
  }
  goog.async.run.workQueueScheduled_ = false;
};
goog.provide("goog.promise.Resolver");
goog.promise.Resolver = function() {
};
goog.promise.Resolver.prototype.promise;
goog.promise.Resolver.prototype.resolve;
goog.promise.Resolver.prototype.reject;
goog.provide("goog.Promise");
goog.require("goog.Thenable");
goog.require("goog.asserts");
goog.require("goog.async.FreeList");
goog.require("goog.async.run");
goog.require("goog.async.throwException");
goog.require("goog.debug.Error");
goog.require("goog.promise.Resolver");
goog.Promise = function(resolver, opt_context) {
  this.state_ = goog.Promise.State_.PENDING;
  this.result_ = undefined;
  this.parent_ = null;
  this.callbackEntries_ = null;
  this.callbackEntriesTail_ = null;
  this.executing_ = false;
  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {
    this.unhandledRejectionId_ = 0;
  } else {
    if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {
      this.hadUnhandledRejection_ = false;
    }
  }
  if (goog.Promise.LONG_STACK_TRACES) {
    this.stack_ = [];
    this.addStackTrace_(new Error("created"));
    this.currentStep_ = 0;
  }
  if (resolver != goog.nullFunction) {
    try {
      var self = this;
      resolver.call(opt_context, function(value) {
        self.resolve_(goog.Promise.State_.FULFILLED, value);
      }, function(reason) {
        if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {
          try {
            if (reason instanceof Error) {
              throw reason;
            } else {
              throw new Error("Promise rejected.");
            }
          } catch (e) {
          }
        }
        self.resolve_(goog.Promise.State_.REJECTED, reason);
      });
    } catch (e) {
      this.resolve_(goog.Promise.State_.REJECTED, e);
    }
  }
};
goog.define("goog.Promise.LONG_STACK_TRACES", false);
goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY", 0);
goog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};
goog.Promise.CallbackEntry_ = function() {
  this.child = null;
  this.onFulfilled = null;
  this.onRejected = null;
  this.context = null;
  this.next = null;
  this.always = false;
};
goog.Promise.CallbackEntry_.prototype.reset = function() {
  this.child = null;
  this.onFulfilled = null;
  this.onRejected = null;
  this.context = null;
  this.always = false;
};
goog.define("goog.Promise.DEFAULT_MAX_UNUSED", 100);
goog.Promise.freelist_ = new goog.async.FreeList(function() {
  return new goog.Promise.CallbackEntry_;
}, function(item) {
  item.reset();
}, goog.Promise.DEFAULT_MAX_UNUSED);
goog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {
  var entry = goog.Promise.freelist_.get();
  entry.onFulfilled = onFulfilled;
  entry.onRejected = onRejected;
  entry.context = context;
  return entry;
};
goog.Promise.returnEntry_ = function(entry) {
  goog.Promise.freelist_.put(entry);
};
goog.Promise.resolve = function(opt_value) {
  if (opt_value instanceof goog.Promise) {
    return opt_value;
  }
  var promise = new goog.Promise(goog.nullFunction);
  promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);
  return promise;
};
goog.Promise.reject = function(opt_reason) {
  return new goog.Promise(function(resolve, reject) {
    reject(opt_reason);
  });
};
goog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {
  var isThenable = goog.Promise.maybeThen_(value, onFulfilled, onRejected, null);
  if (!isThenable) {
    goog.async.run(goog.partial(onFulfilled, value));
  }
};
goog.Promise.race = function(promises) {
  return new goog.Promise(function(resolve, reject) {
    if (!promises.length) {
      resolve(undefined);
    }
    for (var i = 0, promise;i < promises.length;i++) {
      promise = promises[i];
      goog.Promise.resolveThen_(promise, resolve, reject);
    }
  });
};
goog.Promise.all = function(promises) {
  return new goog.Promise(function(resolve, reject) {
    var toFulfill = promises.length;
    var values = [];
    if (!toFulfill) {
      resolve(values);
      return;
    }
    var onFulfill = function(index, value) {
      toFulfill--;
      values[index] = value;
      if (toFulfill == 0) {
        resolve(values);
      }
    };
    var onReject = function(reason) {
      reject(reason);
    };
    for (var i = 0, promise;i < promises.length;i++) {
      promise = promises[i];
      goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);
    }
  });
};
goog.Promise.allSettled = function(promises) {
  return new goog.Promise(function(resolve, reject) {
    var toSettle = promises.length;
    var results = [];
    if (!toSettle) {
      resolve(results);
      return;
    }
    var onSettled = function(index, fulfilled, result) {
      toSettle--;
      results[index] = fulfilled ? {fulfilled:true, value:result} : {fulfilled:false, reason:result};
      if (toSettle == 0) {
        resolve(results);
      }
    };
    for (var i = 0, promise;i < promises.length;i++) {
      promise = promises[i];
      goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, true), goog.partial(onSettled, i, false));
    }
  });
};
goog.Promise.firstFulfilled = function(promises) {
  return new goog.Promise(function(resolve, reject) {
    var toReject = promises.length;
    var reasons = [];
    if (!toReject) {
      resolve(undefined);
      return;
    }
    var onFulfill = function(value) {
      resolve(value);
    };
    var onReject = function(index, reason) {
      toReject--;
      reasons[index] = reason;
      if (toReject == 0) {
        reject(reasons);
      }
    };
    for (var i = 0, promise;i < promises.length;i++) {
      promise = promises[i];
      goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));
    }
  });
};
goog.Promise.withResolver = function() {
  var resolve, reject;
  var promise = new goog.Promise(function(rs, rj) {
    resolve = rs;
    reject = rj;
  });
  return new goog.Promise.Resolver_(promise, resolve, reject);
};
goog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {
  if (opt_onFulfilled != null) {
    goog.asserts.assertFunction(opt_onFulfilled, "opt_onFulfilled should be a function.");
  }
  if (opt_onRejected != null) {
    goog.asserts.assertFunction(opt_onRejected, "opt_onRejected should be a function. Did you pass opt_context " + "as the second argument instead of the third?");
  }
  if (goog.Promise.LONG_STACK_TRACES) {
    this.addStackTrace_(new Error("then"));
  }
  return this.addChildPromise_(goog.isFunction(opt_onFulfilled) ? opt_onFulfilled : null, goog.isFunction(opt_onRejected) ? opt_onRejected : null, opt_context);
};
goog.Thenable.addImplementation(goog.Promise);
goog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {
  if (opt_onFulfilled != null) {
    goog.asserts.assertFunction(opt_onFulfilled, "opt_onFulfilled should be a function.");
  }
  if (opt_onRejected != null) {
    goog.asserts.assertFunction(opt_onRejected, "opt_onRejected should be a function. Did you pass opt_context " + "as the second argument instead of the third?");
  }
  if (goog.Promise.LONG_STACK_TRACES) {
    this.addStackTrace_(new Error("then"));
  }
  this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.nullFunction, opt_onRejected || null, opt_context));
};
goog.Promise.prototype.thenAlways = function(onSettled, opt_context) {
  if (goog.Promise.LONG_STACK_TRACES) {
    this.addStackTrace_(new Error("thenAlways"));
  }
  var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);
  entry.always = true;
  this.addCallbackEntry_(entry);
  return this;
};
goog.Promise.prototype.thenCatch = function(onRejected, opt_context) {
  if (goog.Promise.LONG_STACK_TRACES) {
    this.addStackTrace_(new Error("thenCatch"));
  }
  return this.addChildPromise_(null, onRejected, opt_context);
};
goog.Promise.prototype.cancel = function(opt_message) {
  if (this.state_ == goog.Promise.State_.PENDING) {
    goog.async.run(function() {
      var err = new goog.Promise.CancellationError(opt_message);
      this.cancelInternal_(err);
    }, this);
  }
};
goog.Promise.prototype.cancelInternal_ = function(err) {
  if (this.state_ == goog.Promise.State_.PENDING) {
    if (this.parent_) {
      this.parent_.cancelChild_(this, err);
      this.parent_ = null;
    } else {
      this.resolve_(goog.Promise.State_.REJECTED, err);
    }
  }
};
goog.Promise.prototype.cancelChild_ = function(childPromise, err) {
  if (!this.callbackEntries_) {
    return;
  }
  var childCount = 0;
  var childEntry = null;
  var beforeChildEntry = null;
  for (var entry = this.callbackEntries_;entry;entry = entry.next) {
    if (!entry.always) {
      childCount++;
      if (entry.child == childPromise) {
        childEntry = entry;
      }
      if (childEntry && childCount > 1) {
        break;
      }
    }
    if (!childEntry) {
      beforeChildEntry = entry;
    }
  }
  if (childEntry) {
    if (this.state_ == goog.Promise.State_.PENDING && childCount == 1) {
      this.cancelInternal_(err);
    } else {
      if (beforeChildEntry) {
        this.removeEntryAfter_(beforeChildEntry);
      } else {
        this.popEntry_();
      }
      this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err);
    }
  }
};
goog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {
  if (!this.hasEntry_() && (this.state_ == goog.Promise.State_.FULFILLED || this.state_ == goog.Promise.State_.REJECTED)) {
    this.scheduleCallbacks_();
  }
  this.queueEntry_(callbackEntry);
};
goog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {
  var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);
  callbackEntry.child = new goog.Promise(function(resolve, reject) {
    callbackEntry.onFulfilled = onFulfilled ? function(value) {
      try {
        var result = onFulfilled.call(opt_context, value);
        resolve(result);
      } catch (err) {
        reject(err);
      }
    } : resolve;
    callbackEntry.onRejected = onRejected ? function(reason) {
      try {
        var result = onRejected.call(opt_context, reason);
        if (!goog.isDef(result) && reason instanceof goog.Promise.CancellationError) {
          reject(reason);
        } else {
          resolve(result);
        }
      } catch (err) {
        reject(err);
      }
    } : reject;
  });
  callbackEntry.child.parent_ = this;
  this.addCallbackEntry_(callbackEntry);
  return callbackEntry.child;
};
goog.Promise.prototype.unblockAndFulfill_ = function(value) {
  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);
  this.state_ = goog.Promise.State_.PENDING;
  this.resolve_(goog.Promise.State_.FULFILLED, value);
};
goog.Promise.prototype.unblockAndReject_ = function(reason) {
  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);
  this.state_ = goog.Promise.State_.PENDING;
  this.resolve_(goog.Promise.State_.REJECTED, reason);
};
goog.Promise.prototype.resolve_ = function(state, x) {
  if (this.state_ != goog.Promise.State_.PENDING) {
    return;
  }
  if (this == x) {
    state = goog.Promise.State_.REJECTED;
    x = new TypeError("Promise cannot resolve to itself");
  }
  this.state_ = goog.Promise.State_.BLOCKED;
  var isThenable = goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this);
  if (isThenable) {
    return;
  }
  this.result_ = x;
  this.state_ = state;
  this.parent_ = null;
  this.scheduleCallbacks_();
  if (state == goog.Promise.State_.REJECTED && !(x instanceof goog.Promise.CancellationError)) {
    goog.Promise.addUnhandledRejection_(this, x);
  }
};
goog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {
  if (value instanceof goog.Promise) {
    value.thenVoid(onFulfilled, onRejected, context);
    return true;
  } else {
    if (goog.Thenable.isImplementedBy(value)) {
      value = (value);
      value.then(onFulfilled, onRejected, context);
      return true;
    } else {
      if (goog.isObject(value)) {
        try {
          var then = value["then"];
          if (goog.isFunction(then)) {
            goog.Promise.tryThen_(value, then, onFulfilled, onRejected, context);
            return true;
          }
        } catch (e) {
          onRejected.call(context, e);
          return true;
        }
      }
    }
  }
  return false;
};
goog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {
  var called = false;
  var resolve = function(value) {
    if (!called) {
      called = true;
      onFulfilled.call(context, value);
    }
  };
  var reject = function(reason) {
    if (!called) {
      called = true;
      onRejected.call(context, reason);
    }
  };
  try {
    then.call(thenable, resolve, reject);
  } catch (e) {
    reject(e);
  }
};
goog.Promise.prototype.scheduleCallbacks_ = function() {
  if (!this.executing_) {
    this.executing_ = true;
    goog.async.run(this.executeCallbacks_, this);
  }
};
goog.Promise.prototype.hasEntry_ = function() {
  return !!this.callbackEntries_;
};
goog.Promise.prototype.queueEntry_ = function(entry) {
  goog.asserts.assert(entry.onFulfilled != null);
  if (this.callbackEntriesTail_) {
    this.callbackEntriesTail_.next = entry;
    this.callbackEntriesTail_ = entry;
  } else {
    this.callbackEntries_ = entry;
    this.callbackEntriesTail_ = entry;
  }
};
goog.Promise.prototype.popEntry_ = function() {
  var entry = null;
  if (this.callbackEntries_) {
    entry = this.callbackEntries_;
    this.callbackEntries_ = entry.next;
    entry.next = null;
  }
  if (!this.callbackEntries_) {
    this.callbackEntriesTail_ = null;
  }
  if (entry != null) {
    goog.asserts.assert(entry.onFulfilled != null);
  }
  return entry;
};
goog.Promise.prototype.removeEntryAfter_ = function(previous) {
  goog.asserts.assert(this.callbackEntries_);
  goog.asserts.assert(previous != null);
  if (previous.next == this.callbackEntriesTail_) {
    this.callbackEntriesTail_ = previous;
  }
  previous.next = previous.next.next;
};
goog.Promise.prototype.executeCallbacks_ = function() {
  var entry = null;
  while (entry = this.popEntry_()) {
    if (goog.Promise.LONG_STACK_TRACES) {
      this.currentStep_++;
    }
    this.executeCallback_(entry, this.state_, this.result_);
  }
  this.executing_ = false;
};
goog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {
  if (state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always) {
    this.removeUnhandledRejection_();
  }
  if (callbackEntry.child) {
    callbackEntry.child.parent_ = null;
    goog.Promise.invokeCallback_(callbackEntry, state, result);
  } else {
    try {
      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);
    } catch (err) {
      goog.Promise.handleRejection_.call(null, err);
    }
  }
  goog.Promise.returnEntry_(callbackEntry);
};
goog.Promise.invokeCallback_ = function(callbackEntry, state, result) {
  if (state == goog.Promise.State_.FULFILLED) {
    callbackEntry.onFulfilled.call(callbackEntry.context, result);
  } else {
    if (callbackEntry.onRejected) {
      callbackEntry.onRejected.call(callbackEntry.context, result);
    }
  }
};
goog.Promise.prototype.addStackTrace_ = function(err) {
  if (goog.Promise.LONG_STACK_TRACES && goog.isString(err.stack)) {
    var trace = err.stack.split("\n", 4)[3];
    var message = err.message;
    message += Array(11 - message.length).join(" ");
    this.stack_.push(message + trace);
  }
};
goog.Promise.prototype.appendLongStack_ = function(err) {
  if (goog.Promise.LONG_STACK_TRACES && err && goog.isString(err.stack) && this.stack_.length) {
    var longTrace = ["Promise trace:"];
    for (var promise = this;promise;promise = promise.parent_) {
      for (var i = this.currentStep_;i >= 0;i--) {
        longTrace.push(promise.stack_[i]);
      }
      longTrace.push("Value: " + "[" + (promise.state_ == goog.Promise.State_.REJECTED ? "REJECTED" : "FULFILLED") + "] " + "\x3c" + String(promise.result_) + "\x3e");
    }
    err.stack += "\n\n" + longTrace.join("\n");
  }
};
goog.Promise.prototype.removeUnhandledRejection_ = function() {
  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {
    for (var p = this;p && p.unhandledRejectionId_;p = p.parent_) {
      goog.global.clearTimeout(p.unhandledRejectionId_);
      p.unhandledRejectionId_ = 0;
    }
  } else {
    if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {
      for (var p = this;p && p.hadUnhandledRejection_;p = p.parent_) {
        p.hadUnhandledRejection_ = false;
      }
    }
  }
};
goog.Promise.addUnhandledRejection_ = function(promise, reason) {
  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {
    promise.unhandledRejectionId_ = goog.global.setTimeout(function() {
      promise.appendLongStack_(reason);
      goog.Promise.handleRejection_.call(null, reason);
    }, goog.Promise.UNHANDLED_REJECTION_DELAY);
  } else {
    if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {
      promise.hadUnhandledRejection_ = true;
      goog.async.run(function() {
        if (promise.hadUnhandledRejection_) {
          promise.appendLongStack_(reason);
          goog.Promise.handleRejection_.call(null, reason);
        }
      });
    }
  }
};
goog.Promise.handleRejection_ = goog.async.throwException;
goog.Promise.setUnhandledRejectionHandler = function(handler) {
  goog.Promise.handleRejection_ = handler;
};
goog.Promise.CancellationError = function(opt_message) {
  goog.Promise.CancellationError.base(this, "constructor", opt_message);
};
goog.inherits(goog.Promise.CancellationError, goog.debug.Error);
goog.Promise.CancellationError.prototype.name = "cancel";
goog.Promise.Resolver_ = function(promise, resolve, reject) {
  this.promise = promise;
  this.resolve = resolve;
  this.reject = reject;
};
goog.provide("goog.Timer");
goog.require("goog.Promise");
goog.require("goog.events.EventTarget");
goog.Timer = function(opt_interval, opt_timerObject) {
  goog.events.EventTarget.call(this);
  this.interval_ = opt_interval || 1;
  this.timerObject_ = opt_timerObject || goog.Timer.defaultTimerObject;
  this.boundTick_ = goog.bind(this.tick_, this);
  this.last_ = goog.now();
};
goog.inherits(goog.Timer, goog.events.EventTarget);
goog.Timer.MAX_TIMEOUT_ = 2147483647;
goog.Timer.INVALID_TIMEOUT_ID_ = -1;
goog.Timer.prototype.enabled = false;
goog.Timer.defaultTimerObject = goog.global;
goog.Timer.intervalScale = .8;
goog.Timer.prototype.timer_ = null;
goog.Timer.prototype.getInterval = function() {
  return this.interval_;
};
goog.Timer.prototype.setInterval = function(interval) {
  this.interval_ = interval;
  if (this.timer_ && this.enabled) {
    this.stop();
    this.start();
  } else {
    if (this.timer_) {
      this.stop();
    }
  }
};
goog.Timer.prototype.tick_ = function() {
  if (this.enabled) {
    var elapsed = goog.now() - this.last_;
    if (elapsed > 0 && elapsed < this.interval_ * goog.Timer.intervalScale) {
      this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - elapsed);
      return;
    }
    if (this.timer_) {
      this.timerObject_.clearTimeout(this.timer_);
      this.timer_ = null;
    }
    this.dispatchTick();
    if (this.enabled) {
      this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_);
      this.last_ = goog.now();
    }
  }
};
goog.Timer.prototype.dispatchTick = function() {
  this.dispatchEvent(goog.Timer.TICK);
};
goog.Timer.prototype.start = function() {
  this.enabled = true;
  if (!this.timer_) {
    this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_);
    this.last_ = goog.now();
  }
};
goog.Timer.prototype.stop = function() {
  this.enabled = false;
  if (this.timer_) {
    this.timerObject_.clearTimeout(this.timer_);
    this.timer_ = null;
  }
};
goog.Timer.prototype.disposeInternal = function() {
  goog.Timer.superClass_.disposeInternal.call(this);
  this.stop();
  delete this.timerObject_;
};
goog.Timer.TICK = "tick";
goog.Timer.callOnce = function(listener, opt_delay, opt_handler) {
  if (goog.isFunction(listener)) {
    if (opt_handler) {
      listener = goog.bind(listener, opt_handler);
    }
  } else {
    if (listener && typeof listener.handleEvent == "function") {
      listener = goog.bind(listener.handleEvent, listener);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  if (opt_delay > goog.Timer.MAX_TIMEOUT_) {
    return goog.Timer.INVALID_TIMEOUT_ID_;
  } else {
    return goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);
  }
};
goog.Timer.clear = function(timerId) {
  goog.Timer.defaultTimerObject.clearTimeout(timerId);
};
goog.Timer.promise = function(delay, opt_result) {
  var timerKey = null;
  return (new goog.Promise(function(resolve, reject) {
    timerKey = goog.Timer.callOnce(function() {
      resolve(opt_result);
    }, delay);
    if (timerKey == goog.Timer.INVALID_TIMEOUT_ID_) {
      reject(new Error("Failed to schedule timer."));
    }
  })).thenCatch(function(error) {
    goog.Timer.clear(timerKey);
    throw error;
  });
};
goog.provide("goog.events.FocusHandler");
goog.provide("goog.events.FocusHandler.EventType");
goog.require("goog.events");
goog.require("goog.events.BrowserEvent");
goog.require("goog.events.EventTarget");
goog.require("goog.userAgent");
goog.events.FocusHandler = function(element) {
  goog.events.EventTarget.call(this);
  this.element_ = element;
  var typeIn = goog.userAgent.IE ? "focusin" : "focus";
  var typeOut = goog.userAgent.IE ? "focusout" : "blur";
  this.listenKeyIn_ = goog.events.listen(this.element_, typeIn, this, !goog.userAgent.IE);
  this.listenKeyOut_ = goog.events.listen(this.element_, typeOut, this, !goog.userAgent.IE);
};
goog.inherits(goog.events.FocusHandler, goog.events.EventTarget);
goog.events.FocusHandler.EventType = {FOCUSIN:"focusin", FOCUSOUT:"focusout"};
goog.events.FocusHandler.prototype.handleEvent = function(e) {
  var be = e.getBrowserEvent();
  var event = new goog.events.BrowserEvent(be);
  event.type = e.type == "focusin" || e.type == "focus" ? goog.events.FocusHandler.EventType.FOCUSIN : goog.events.FocusHandler.EventType.FOCUSOUT;
  this.dispatchEvent(event);
};
goog.events.FocusHandler.prototype.disposeInternal = function() {
  goog.events.FocusHandler.superClass_.disposeInternal.call(this);
  goog.events.unlistenByKey(this.listenKeyIn_);
  goog.events.unlistenByKey(this.listenKeyOut_);
  delete this.element_;
};
goog.provide("goog.html.legacyconversions");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.SafeStyle");
goog.require("goog.html.SafeUrl");
goog.require("goog.html.TrustedResourceUrl");
goog.define("goog.html.legacyconversions.ALLOW_LEGACY_CONVERSIONS", true);
goog.html.legacyconversions.safeHtmlFromString = function(html) {
  goog.html.legacyconversions.throwIfConversionsDisallowed();
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, null);
};
goog.html.legacyconversions.safeStyleFromString = function(style) {
  goog.html.legacyconversions.throwIfConversionsDisallowed();
  return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);
};
goog.html.legacyconversions.trustedResourceUrlFromString = function(url) {
  goog.html.legacyconversions.throwIfConversionsDisallowed();
  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.html.legacyconversions.safeUrlFromString = function(url) {
  goog.html.legacyconversions.throwIfConversionsDisallowed();
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.html.legacyconversions.reportCallback_ = goog.nullFunction;
goog.html.legacyconversions.setReportCallback = function(callback) {
  goog.html.legacyconversions.reportCallback_ = callback;
};
goog.html.legacyconversions.throwIfConversionsDisallowed = function() {
  if (!goog.html.legacyconversions.ALLOW_LEGACY_CONVERSIONS) {
    throw Error("Error: Legacy conversion from string to goog.html types is disabled");
  }
  goog.html.legacyconversions.reportCallback_();
};
goog.provide("goog.style.bidi");
goog.require("goog.dom");
goog.require("goog.style");
goog.require("goog.userAgent");
goog.style.bidi.getScrollLeft = function(element) {
  var isRtl = goog.style.isRightToLeft(element);
  if (isRtl && goog.userAgent.GECKO) {
    return -element.scrollLeft;
  } else {
    if (isRtl && !(goog.userAgent.IE && goog.userAgent.isVersionOrHigher("8"))) {
      var overflowX = goog.style.getComputedOverflowX(element);
      if (overflowX == "visible") {
        return element.scrollLeft;
      } else {
        return element.scrollWidth - element.clientWidth - element.scrollLeft;
      }
    }
  }
  return element.scrollLeft;
};
goog.style.bidi.getOffsetStart = function(element) {
  element = (element);
  var offsetLeftForReal = element.offsetLeft;
  var bestParent = element.offsetParent;
  if (!bestParent && goog.style.getComputedPosition(element) == "fixed") {
    bestParent = goog.dom.getOwnerDocument(element).documentElement;
  }
  if (!bestParent) {
    return offsetLeftForReal;
  }
  if (goog.userAgent.GECKO) {
    var borderWidths = goog.style.getBorderBox(bestParent);
    offsetLeftForReal += borderWidths.left;
  } else {
    if (goog.userAgent.isDocumentModeOrHigher(8) && !goog.userAgent.isDocumentModeOrHigher(9)) {
      var borderWidths = goog.style.getBorderBox(bestParent);
      offsetLeftForReal -= borderWidths.left;
    }
  }
  if (goog.style.isRightToLeft(bestParent)) {
    var elementRightOffset = offsetLeftForReal + element.offsetWidth;
    return bestParent.clientWidth - elementRightOffset;
  }
  return offsetLeftForReal;
};
goog.style.bidi.setScrollOffset = function(element, offsetStart) {
  offsetStart = Math.max(offsetStart, 0);
  if (!goog.style.isRightToLeft(element)) {
    element.scrollLeft = offsetStart;
  } else {
    if (goog.userAgent.GECKO) {
      element.scrollLeft = -offsetStart;
    } else {
      if (!(goog.userAgent.IE && goog.userAgent.isVersionOrHigher("8"))) {
        element.scrollLeft = element.scrollWidth - offsetStart - element.clientWidth;
      } else {
        element.scrollLeft = offsetStart;
      }
    }
  }
};
goog.style.bidi.setPosition = function(elem, left, top, isRtl) {
  if (!goog.isNull(top)) {
    elem.style.top = top + "px";
  }
  if (isRtl) {
    elem.style.right = left + "px";
    elem.style.left = "";
  } else {
    elem.style.left = left + "px";
    elem.style.right = "";
  }
};
goog.provide("goog.positioning");
goog.provide("goog.positioning.Corner");
goog.provide("goog.positioning.CornerBit");
goog.provide("goog.positioning.Overflow");
goog.provide("goog.positioning.OverflowStatus");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.math.Coordinate");
goog.require("goog.math.Rect");
goog.require("goog.math.Size");
goog.require("goog.style");
goog.require("goog.style.bidi");
goog.positioning.Corner = {TOP_LEFT:0, TOP_RIGHT:2, BOTTOM_LEFT:1, BOTTOM_RIGHT:3, TOP_START:4, TOP_END:6, BOTTOM_START:5, BOTTOM_END:7};
goog.positioning.CornerBit = {BOTTOM:1, RIGHT:2, FLIP_RTL:4};
goog.positioning.Overflow = {IGNORE:0, ADJUST_X:1, FAIL_X:2, ADJUST_Y:4, FAIL_Y:8, RESIZE_WIDTH:16, RESIZE_HEIGHT:32, ADJUST_X_EXCEPT_OFFSCREEN:64 | 1, ADJUST_Y_EXCEPT_OFFSCREEN:128 | 4};
goog.positioning.OverflowStatus = {NONE:0, ADJUSTED_X:1, ADJUSTED_Y:2, WIDTH_ADJUSTED:4, HEIGHT_ADJUSTED:8, FAILED_LEFT:16, FAILED_RIGHT:32, FAILED_TOP:64, FAILED_BOTTOM:128, FAILED_OUTSIDE_VIEWPORT:256};
goog.positioning.OverflowStatus.FAILED = goog.positioning.OverflowStatus.FAILED_LEFT | goog.positioning.OverflowStatus.FAILED_RIGHT | goog.positioning.OverflowStatus.FAILED_TOP | goog.positioning.OverflowStatus.FAILED_BOTTOM | goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT;
goog.positioning.OverflowStatus.FAILED_HORIZONTAL = goog.positioning.OverflowStatus.FAILED_LEFT | goog.positioning.OverflowStatus.FAILED_RIGHT;
goog.positioning.OverflowStatus.FAILED_VERTICAL = goog.positioning.OverflowStatus.FAILED_TOP | goog.positioning.OverflowStatus.FAILED_BOTTOM;
goog.positioning.positionAtAnchor = function(anchorElement, anchorElementCorner, movableElement, movableElementCorner, opt_offset, opt_margin, opt_overflow, opt_preferredSize, opt_viewport) {
  goog.asserts.assert(movableElement);
  var movableParentTopLeft = goog.positioning.getOffsetParentPageOffset(movableElement);
  var anchorRect = goog.positioning.getVisiblePart_(anchorElement);
  goog.style.translateRectForAnotherFrame(anchorRect, goog.dom.getDomHelper(anchorElement), goog.dom.getDomHelper(movableElement));
  var corner = goog.positioning.getEffectiveCorner(anchorElement, anchorElementCorner);
  var absolutePos = new goog.math.Coordinate(corner & goog.positioning.CornerBit.RIGHT ? anchorRect.left + anchorRect.width : anchorRect.left, corner & goog.positioning.CornerBit.BOTTOM ? anchorRect.top + anchorRect.height : anchorRect.top);
  absolutePos = goog.math.Coordinate.difference(absolutePos, movableParentTopLeft);
  if (opt_offset) {
    absolutePos.x += (corner & goog.positioning.CornerBit.RIGHT ? -1 : 1) * opt_offset.x;
    absolutePos.y += (corner & goog.positioning.CornerBit.BOTTOM ? -1 : 1) * opt_offset.y;
  }
  var viewport;
  if (opt_overflow) {
    if (opt_viewport) {
      viewport = opt_viewport;
    } else {
      viewport = goog.style.getVisibleRectForElement(movableElement);
      if (viewport) {
        viewport.top -= movableParentTopLeft.y;
        viewport.right -= movableParentTopLeft.x;
        viewport.bottom -= movableParentTopLeft.y;
        viewport.left -= movableParentTopLeft.x;
      }
    }
  }
  return goog.positioning.positionAtCoordinate(absolutePos, movableElement, movableElementCorner, opt_margin, viewport, opt_overflow, opt_preferredSize);
};
goog.positioning.getOffsetParentPageOffset = function(movableElement) {
  var movableParentTopLeft;
  var parent = movableElement.offsetParent;
  if (parent) {
    var isBody = parent.tagName == goog.dom.TagName.HTML || parent.tagName == goog.dom.TagName.BODY;
    if (!isBody || goog.style.getComputedPosition(parent) != "static") {
      movableParentTopLeft = goog.style.getPageOffset(parent);
      if (!isBody) {
        movableParentTopLeft = goog.math.Coordinate.difference(movableParentTopLeft, new goog.math.Coordinate(goog.style.bidi.getScrollLeft(parent), parent.scrollTop));
      }
    }
  }
  return movableParentTopLeft || new goog.math.Coordinate;
};
goog.positioning.getVisiblePart_ = function(el) {
  var rect = goog.style.getBounds(el);
  var visibleBox = goog.style.getVisibleRectForElement(el);
  if (visibleBox) {
    rect.intersection(goog.math.Rect.createFromBox(visibleBox));
  }
  return rect;
};
goog.positioning.positionAtCoordinate = function(absolutePos, movableElement, movableElementCorner, opt_margin, opt_viewport, opt_overflow, opt_preferredSize) {
  absolutePos = absolutePos.clone();
  var corner = goog.positioning.getEffectiveCorner(movableElement, movableElementCorner);
  var elementSize = goog.style.getSize(movableElement);
  var size = opt_preferredSize ? opt_preferredSize.clone() : elementSize.clone();
  var positionResult = goog.positioning.getPositionAtCoordinate(absolutePos, size, corner, opt_margin, opt_viewport, opt_overflow);
  if (positionResult.status & goog.positioning.OverflowStatus.FAILED) {
    return positionResult.status;
  }
  goog.style.setPosition(movableElement, positionResult.rect.getTopLeft());
  size = positionResult.rect.getSize();
  if (!goog.math.Size.equals(elementSize, size)) {
    goog.style.setBorderBoxSize(movableElement, size);
  }
  return positionResult.status;
};
goog.positioning.getPositionAtCoordinate = function(absolutePos, elementSize, elementCorner, opt_margin, opt_viewport, opt_overflow) {
  absolutePos = absolutePos.clone();
  elementSize = elementSize.clone();
  var status = goog.positioning.OverflowStatus.NONE;
  if (opt_margin || elementCorner != goog.positioning.Corner.TOP_LEFT) {
    if (elementCorner & goog.positioning.CornerBit.RIGHT) {
      absolutePos.x -= elementSize.width + (opt_margin ? opt_margin.right : 0);
    } else {
      if (opt_margin) {
        absolutePos.x += opt_margin.left;
      }
    }
    if (elementCorner & goog.positioning.CornerBit.BOTTOM) {
      absolutePos.y -= elementSize.height + (opt_margin ? opt_margin.bottom : 0);
    } else {
      if (opt_margin) {
        absolutePos.y += opt_margin.top;
      }
    }
  }
  if (opt_overflow) {
    status = opt_viewport ? goog.positioning.adjustForViewport_(absolutePos, elementSize, opt_viewport, opt_overflow) : goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT;
  }
  var rect = new goog.math.Rect(0, 0, 0, 0);
  rect.left = absolutePos.x;
  rect.top = absolutePos.y;
  rect.width = elementSize.width;
  rect.height = elementSize.height;
  return {rect:rect, status:status};
};
goog.positioning.adjustForViewport_ = function(pos, size, viewport, overflow) {
  var status = goog.positioning.OverflowStatus.NONE;
  var ADJUST_X_EXCEPT_OFFSCREEN = goog.positioning.Overflow.ADJUST_X_EXCEPT_OFFSCREEN;
  var ADJUST_Y_EXCEPT_OFFSCREEN = goog.positioning.Overflow.ADJUST_Y_EXCEPT_OFFSCREEN;
  if ((overflow & ADJUST_X_EXCEPT_OFFSCREEN) == ADJUST_X_EXCEPT_OFFSCREEN && (pos.x < viewport.left || pos.x >= viewport.right)) {
    overflow &= ~goog.positioning.Overflow.ADJUST_X;
  }
  if ((overflow & ADJUST_Y_EXCEPT_OFFSCREEN) == ADJUST_Y_EXCEPT_OFFSCREEN && (pos.y < viewport.top || pos.y >= viewport.bottom)) {
    overflow &= ~goog.positioning.Overflow.ADJUST_Y;
  }
  if (pos.x < viewport.left && overflow & goog.positioning.Overflow.ADJUST_X) {
    pos.x = viewport.left;
    status |= goog.positioning.OverflowStatus.ADJUSTED_X;
  }
  if (overflow & goog.positioning.Overflow.RESIZE_WIDTH) {
    var originalX = pos.x;
    if (pos.x < viewport.left) {
      pos.x = viewport.left;
      status |= goog.positioning.OverflowStatus.WIDTH_ADJUSTED;
    }
    if (pos.x + size.width > viewport.right) {
      size.width = Math.min(viewport.right - pos.x, originalX + size.width - viewport.left);
      size.width = Math.max(size.width, 0);
      status |= goog.positioning.OverflowStatus.WIDTH_ADJUSTED;
    }
  }
  if (pos.x + size.width > viewport.right && overflow & goog.positioning.Overflow.ADJUST_X) {
    pos.x = Math.max(viewport.right - size.width, viewport.left);
    status |= goog.positioning.OverflowStatus.ADJUSTED_X;
  }
  if (overflow & goog.positioning.Overflow.FAIL_X) {
    status |= (pos.x < viewport.left ? goog.positioning.OverflowStatus.FAILED_LEFT : 0) | (pos.x + size.width > viewport.right ? goog.positioning.OverflowStatus.FAILED_RIGHT : 0);
  }
  if (pos.y < viewport.top && overflow & goog.positioning.Overflow.ADJUST_Y) {
    pos.y = viewport.top;
    status |= goog.positioning.OverflowStatus.ADJUSTED_Y;
  }
  if (overflow & goog.positioning.Overflow.RESIZE_HEIGHT) {
    var originalY = pos.y;
    if (pos.y < viewport.top) {
      pos.y = viewport.top;
      status |= goog.positioning.OverflowStatus.HEIGHT_ADJUSTED;
    }
    if (pos.y + size.height > viewport.bottom) {
      size.height = Math.min(viewport.bottom - pos.y, originalY + size.height - viewport.top);
      size.height = Math.max(size.height, 0);
      status |= goog.positioning.OverflowStatus.HEIGHT_ADJUSTED;
    }
  }
  if (pos.y + size.height > viewport.bottom && overflow & goog.positioning.Overflow.ADJUST_Y) {
    pos.y = Math.max(viewport.bottom - size.height, viewport.top);
    status |= goog.positioning.OverflowStatus.ADJUSTED_Y;
  }
  if (overflow & goog.positioning.Overflow.FAIL_Y) {
    status |= (pos.y < viewport.top ? goog.positioning.OverflowStatus.FAILED_TOP : 0) | (pos.y + size.height > viewport.bottom ? goog.positioning.OverflowStatus.FAILED_BOTTOM : 0);
  }
  return status;
};
goog.positioning.getEffectiveCorner = function(element, corner) {
  return ((corner & goog.positioning.CornerBit.FLIP_RTL && goog.style.isRightToLeft(element) ? corner ^ goog.positioning.CornerBit.RIGHT : corner) & ~goog.positioning.CornerBit.FLIP_RTL);
};
goog.positioning.flipCornerHorizontal = function(corner) {
  return (corner ^ goog.positioning.CornerBit.RIGHT);
};
goog.positioning.flipCornerVertical = function(corner) {
  return (corner ^ goog.positioning.CornerBit.BOTTOM);
};
goog.positioning.flipCorner = function(corner) {
  return (corner ^ goog.positioning.CornerBit.BOTTOM ^ goog.positioning.CornerBit.RIGHT);
};
goog.provide("goog.positioning.AbstractPosition");
goog.positioning.AbstractPosition = function() {
};
goog.positioning.AbstractPosition.prototype.reposition = function(movableElement, corner, opt_margin, opt_preferredSize) {
};
goog.provide("goog.positioning.AnchoredPosition");
goog.require("goog.positioning");
goog.require("goog.positioning.AbstractPosition");
goog.positioning.AnchoredPosition = function(anchorElement, corner, opt_overflow) {
  this.element = anchorElement;
  this.corner = corner;
  this.overflow_ = opt_overflow;
};
goog.inherits(goog.positioning.AnchoredPosition, goog.positioning.AbstractPosition);
goog.positioning.AnchoredPosition.prototype.reposition = function(movableElement, movableCorner, opt_margin, opt_preferredSize) {
  goog.positioning.positionAtAnchor(this.element, this.corner, movableElement, movableCorner, undefined, opt_margin, this.overflow_);
};
goog.provide("goog.positioning.ViewportPosition");
goog.require("goog.math.Coordinate");
goog.require("goog.positioning");
goog.require("goog.positioning.AbstractPosition");
goog.require("goog.positioning.Corner");
goog.require("goog.style");
goog.positioning.ViewportPosition = function(arg1, opt_arg2) {
  this.coordinate = arg1 instanceof goog.math.Coordinate ? arg1 : new goog.math.Coordinate((arg1), opt_arg2);
};
goog.inherits(goog.positioning.ViewportPosition, goog.positioning.AbstractPosition);
goog.positioning.ViewportPosition.prototype.reposition = function(element, popupCorner, opt_margin, opt_preferredSize) {
  goog.positioning.positionAtAnchor(goog.style.getClientViewportElement(element), goog.positioning.Corner.TOP_LEFT, element, popupCorner, this.coordinate, opt_margin, null, opt_preferredSize);
};
goog.provide("goog.structs.Collection");
goog.structs.Collection = function() {
};
goog.structs.Collection.prototype.add;
goog.structs.Collection.prototype.remove;
goog.structs.Collection.prototype.contains;
goog.structs.Collection.prototype.getCount;
goog.provide("goog.structs.Set");
goog.require("goog.structs");
goog.require("goog.structs.Collection");
goog.require("goog.structs.Map");
goog.structs.Set = function(opt_values) {
  this.map_ = new goog.structs.Map;
  if (opt_values) {
    this.addAll(opt_values);
  }
};
goog.structs.Set.getKey_ = function(val) {
  var type = typeof val;
  if (type == "object" && val || type == "function") {
    return "o" + goog.getUid((val));
  } else {
    return type.substr(0, 1) + val;
  }
};
goog.structs.Set.prototype.getCount = function() {
  return this.map_.getCount();
};
goog.structs.Set.prototype.add = function(element) {
  this.map_.set(goog.structs.Set.getKey_(element), element);
};
goog.structs.Set.prototype.addAll = function(col) {
  var values = goog.structs.getValues(col);
  var l = values.length;
  for (var i = 0;i < l;i++) {
    this.add(values[i]);
  }
};
goog.structs.Set.prototype.removeAll = function(col) {
  var values = goog.structs.getValues(col);
  var l = values.length;
  for (var i = 0;i < l;i++) {
    this.remove(values[i]);
  }
};
goog.structs.Set.prototype.remove = function(element) {
  return this.map_.remove(goog.structs.Set.getKey_(element));
};
goog.structs.Set.prototype.clear = function() {
  this.map_.clear();
};
goog.structs.Set.prototype.isEmpty = function() {
  return this.map_.isEmpty();
};
goog.structs.Set.prototype.contains = function(element) {
  return this.map_.containsKey(goog.structs.Set.getKey_(element));
};
goog.structs.Set.prototype.containsAll = function(col) {
  return goog.structs.every(col, this.contains, this);
};
goog.structs.Set.prototype.intersection = function(col) {
  var result = new goog.structs.Set;
  var values = goog.structs.getValues(col);
  for (var i = 0;i < values.length;i++) {
    var value = values[i];
    if (this.contains(value)) {
      result.add(value);
    }
  }
  return result;
};
goog.structs.Set.prototype.difference = function(col) {
  var result = this.clone();
  result.removeAll(col);
  return result;
};
goog.structs.Set.prototype.getValues = function() {
  return this.map_.getValues();
};
goog.structs.Set.prototype.clone = function() {
  return new goog.structs.Set(this);
};
goog.structs.Set.prototype.equals = function(col) {
  return this.getCount() == goog.structs.getCount(col) && this.isSubsetOf(col);
};
goog.structs.Set.prototype.isSubsetOf = function(col) {
  var colCount = goog.structs.getCount(col);
  if (this.getCount() > colCount) {
    return false;
  }
  if (!(col instanceof goog.structs.Set) && colCount > 5) {
    col = new goog.structs.Set(col);
  }
  return goog.structs.every(this, function(value) {
    return goog.structs.contains(col, value);
  });
};
goog.structs.Set.prototype.__iterator__ = function(opt_keys) {
  return this.map_.__iterator__(false);
};
goog.provide("goog.fx.Transition");
goog.provide("goog.fx.Transition.EventType");
goog.fx.Transition = function() {
};
goog.fx.Transition.EventType = {PLAY:"play", BEGIN:"begin", RESUME:"resume", END:"end", STOP:"stop", FINISH:"finish", PAUSE:"pause"};
goog.fx.Transition.prototype.play;
goog.fx.Transition.prototype.stop;
goog.provide("goog.ui.PopupBase");
goog.provide("goog.ui.PopupBase.EventType");
goog.provide("goog.ui.PopupBase.Type");
goog.require("goog.Timer");
goog.require("goog.array");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.events");
goog.require("goog.events.EventHandler");
goog.require("goog.events.EventTarget");
goog.require("goog.events.EventType");
goog.require("goog.events.KeyCodes");
goog.require("goog.fx.Transition");
goog.require("goog.style");
goog.require("goog.userAgent");
goog.ui.PopupBase = function(opt_element, opt_type) {
  goog.events.EventTarget.call(this);
  this.handler_ = new goog.events.EventHandler(this);
  this.setElement(opt_element || null);
  if (opt_type) {
    this.setType(opt_type);
  }
};
goog.inherits(goog.ui.PopupBase, goog.events.EventTarget);
goog.tagUnsealableClass(goog.ui.PopupBase);
goog.ui.PopupBase.Type = {TOGGLE_DISPLAY:"toggle_display", MOVE_OFFSCREEN:"move_offscreen"};
goog.ui.PopupBase.prototype.element_ = null;
goog.ui.PopupBase.prototype.autoHide_ = true;
goog.ui.PopupBase.prototype.autoHidePartners_ = null;
goog.ui.PopupBase.prototype.autoHideRegion_ = null;
goog.ui.PopupBase.prototype.isVisible_ = false;
goog.ui.PopupBase.prototype.shouldHideAsync_ = false;
goog.ui.PopupBase.prototype.lastShowTime_ = -1;
goog.ui.PopupBase.prototype.lastHideTime_ = -1;
goog.ui.PopupBase.prototype.hideOnEscape_ = false;
goog.ui.PopupBase.prototype.enableCrossIframeDismissal_ = true;
goog.ui.PopupBase.prototype.type_ = goog.ui.PopupBase.Type.TOGGLE_DISPLAY;
goog.ui.PopupBase.prototype.showTransition_;
goog.ui.PopupBase.prototype.hideTransition_;
goog.ui.PopupBase.EventType = {BEFORE_SHOW:"beforeshow", SHOW:"show", BEFORE_HIDE:"beforehide", HIDE:"hide"};
goog.ui.PopupBase.DEBOUNCE_DELAY_MS = 150;
goog.ui.PopupBase.prototype.getType = function() {
  return this.type_;
};
goog.ui.PopupBase.prototype.setType = function(type) {
  this.type_ = type;
};
goog.ui.PopupBase.prototype.shouldHideAsync = function() {
  return this.shouldHideAsync_;
};
goog.ui.PopupBase.prototype.setShouldHideAsync = function(b) {
  this.shouldHideAsync_ = b;
};
goog.ui.PopupBase.prototype.getElement = function() {
  return this.element_;
};
goog.ui.PopupBase.prototype.setElement = function(elt) {
  this.ensureNotVisible_();
  this.element_ = elt;
};
goog.ui.PopupBase.prototype.getAutoHide = function() {
  return this.autoHide_;
};
goog.ui.PopupBase.prototype.setAutoHide = function(autoHide) {
  this.ensureNotVisible_();
  this.autoHide_ = autoHide;
};
goog.ui.PopupBase.prototype.addAutoHidePartner = function(partner) {
  if (!this.autoHidePartners_) {
    this.autoHidePartners_ = [];
  }
  goog.array.insert(this.autoHidePartners_, partner);
};
goog.ui.PopupBase.prototype.removeAutoHidePartner = function(partner) {
  if (this.autoHidePartners_) {
    goog.array.remove(this.autoHidePartners_, partner);
  }
};
goog.ui.PopupBase.prototype.getHideOnEscape = function() {
  return this.hideOnEscape_;
};
goog.ui.PopupBase.prototype.setHideOnEscape = function(hideOnEscape) {
  this.ensureNotVisible_();
  this.hideOnEscape_ = hideOnEscape;
};
goog.ui.PopupBase.prototype.getEnableCrossIframeDismissal = function() {
  return this.enableCrossIframeDismissal_;
};
goog.ui.PopupBase.prototype.setEnableCrossIframeDismissal = function(enable) {
  this.enableCrossIframeDismissal_ = enable;
};
goog.ui.PopupBase.prototype.getAutoHideRegion = function() {
  return this.autoHideRegion_;
};
goog.ui.PopupBase.prototype.setAutoHideRegion = function(element) {
  this.autoHideRegion_ = element;
};
goog.ui.PopupBase.prototype.setTransition = function(opt_showTransition, opt_hideTransition) {
  this.showTransition_ = opt_showTransition;
  this.hideTransition_ = opt_hideTransition;
};
goog.ui.PopupBase.prototype.getLastShowTime = function() {
  return this.lastShowTime_;
};
goog.ui.PopupBase.prototype.getLastHideTime = function() {
  return this.lastHideTime_;
};
goog.ui.PopupBase.prototype.getHandler = function() {
  var self = (this);
  return self.handler_;
};
goog.ui.PopupBase.prototype.ensureNotVisible_ = function() {
  if (this.isVisible_) {
    throw Error("Can not change this state of the popup while showing.");
  }
};
goog.ui.PopupBase.prototype.isVisible = function() {
  return this.isVisible_;
};
goog.ui.PopupBase.prototype.isOrWasRecentlyVisible = function() {
  return this.isVisible_ || goog.now() - this.lastHideTime_ < goog.ui.PopupBase.DEBOUNCE_DELAY_MS;
};
goog.ui.PopupBase.prototype.setVisible = function(visible) {
  if (this.showTransition_) {
    this.showTransition_.stop();
  }
  if (this.hideTransition_) {
    this.hideTransition_.stop();
  }
  if (visible) {
    this.show_();
  } else {
    this.hide_();
  }
};
goog.ui.PopupBase.prototype.reposition = goog.nullFunction;
goog.ui.PopupBase.prototype.show_ = function() {
  if (this.isVisible_) {
    return;
  }
  if (!this.onBeforeShow()) {
    return;
  }
  if (!this.element_) {
    throw Error("Caller must call setElement before trying to show the popup");
  }
  this.reposition();
  var doc = goog.dom.getOwnerDocument(this.element_);
  if (this.hideOnEscape_) {
    this.handler_.listen(doc, goog.events.EventType.KEYDOWN, this.onDocumentKeyDown_, true);
  }
  if (this.autoHide_) {
    this.handler_.listen(doc, goog.events.EventType.MOUSEDOWN, this.onDocumentMouseDown_, true);
    if (goog.userAgent.IE) {
      var activeElement;
      try {
        activeElement = doc.activeElement;
      } catch (e) {
      }
      while (activeElement && activeElement.nodeName == goog.dom.TagName.IFRAME) {
        try {
          var tempDoc = goog.dom.getFrameContentDocument(activeElement);
        } catch (e) {
          break;
        }
        doc = tempDoc;
        activeElement = doc.activeElement;
      }
      this.handler_.listen(doc, goog.events.EventType.MOUSEDOWN, this.onDocumentMouseDown_, true);
      this.handler_.listen(doc, goog.events.EventType.DEACTIVATE, this.onDocumentBlur_);
    } else {
      this.handler_.listen(doc, goog.events.EventType.BLUR, this.onDocumentBlur_);
    }
  }
  if (this.type_ == goog.ui.PopupBase.Type.TOGGLE_DISPLAY) {
    this.showPopupElement();
  } else {
    if (this.type_ == goog.ui.PopupBase.Type.MOVE_OFFSCREEN) {
      this.reposition();
    }
  }
  this.isVisible_ = true;
  this.lastShowTime_ = goog.now();
  this.lastHideTime_ = -1;
  if (this.showTransition_) {
    goog.events.listenOnce((this.showTransition_), goog.fx.Transition.EventType.END, this.onShow_, false, this);
    this.showTransition_.play();
  } else {
    this.onShow_();
  }
};
goog.ui.PopupBase.prototype.hide_ = function(opt_target) {
  if (!this.isVisible_ || !this.onBeforeHide_(opt_target)) {
    return false;
  }
  if (this.handler_) {
    this.handler_.removeAll();
  }
  this.isVisible_ = false;
  this.lastHideTime_ = goog.now();
  if (this.hideTransition_) {
    goog.events.listenOnce((this.hideTransition_), goog.fx.Transition.EventType.END, goog.partial(this.continueHidingPopup_, opt_target), false, this);
    this.hideTransition_.play();
  } else {
    this.continueHidingPopup_(opt_target);
  }
  return true;
};
goog.ui.PopupBase.prototype.continueHidingPopup_ = function(opt_target) {
  if (this.type_ == goog.ui.PopupBase.Type.TOGGLE_DISPLAY) {
    if (this.shouldHideAsync_) {
      goog.Timer.callOnce(this.hidePopupElement, 0, this);
    } else {
      this.hidePopupElement();
    }
  } else {
    if (this.type_ == goog.ui.PopupBase.Type.MOVE_OFFSCREEN) {
      this.moveOffscreen_();
    }
  }
  this.onHide_(opt_target);
};
goog.ui.PopupBase.prototype.showPopupElement = function() {
  this.element_.style.visibility = "visible";
  goog.style.setElementShown(this.element_, true);
};
goog.ui.PopupBase.prototype.hidePopupElement = function() {
  this.element_.style.visibility = "hidden";
  goog.style.setElementShown(this.element_, false);
};
goog.ui.PopupBase.prototype.moveOffscreen_ = function() {
  this.element_.style.top = "-10000px";
};
goog.ui.PopupBase.prototype.onBeforeShow = function() {
  return this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW);
};
goog.ui.PopupBase.prototype.onShow_ = function() {
  this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW);
};
goog.ui.PopupBase.prototype.onBeforeHide_ = function(opt_target) {
  return this.dispatchEvent({type:goog.ui.PopupBase.EventType.BEFORE_HIDE, target:opt_target});
};
goog.ui.PopupBase.prototype.onHide_ = function(opt_target) {
  this.dispatchEvent({type:goog.ui.PopupBase.EventType.HIDE, target:opt_target});
};
goog.ui.PopupBase.prototype.onDocumentMouseDown_ = function(e) {
  var target = e.target;
  if (!goog.dom.contains(this.element_, target) && !this.isOrWithinAutoHidePartner_(target) && this.isWithinAutoHideRegion_(target) && !this.shouldDebounce_()) {
    this.hide_(target);
  }
};
goog.ui.PopupBase.prototype.onDocumentKeyDown_ = function(e) {
  if (e.keyCode == goog.events.KeyCodes.ESC) {
    if (this.hide_(e.target)) {
      e.preventDefault();
      e.stopPropagation();
    }
  }
};
goog.ui.PopupBase.prototype.onDocumentBlur_ = function(e) {
  if (!this.enableCrossIframeDismissal_) {
    return;
  }
  var doc = goog.dom.getOwnerDocument(this.element_);
  if (typeof document.activeElement != "undefined") {
    var activeElement = doc.activeElement;
    if (!activeElement || goog.dom.contains(this.element_, activeElement) || activeElement.tagName == goog.dom.TagName.BODY) {
      return;
    }
  } else {
    if (e.target != doc) {
      return;
    }
  }
  if (this.shouldDebounce_()) {
    return;
  }
  this.hide_();
};
goog.ui.PopupBase.prototype.isOrWithinAutoHidePartner_ = function(element) {
  return goog.array.some(this.autoHidePartners_ || [], function(partner) {
    return element === partner || goog.dom.contains(partner, element);
  });
};
goog.ui.PopupBase.prototype.isWithinAutoHideRegion_ = function(element) {
  return this.autoHideRegion_ ? goog.dom.contains(this.autoHideRegion_, element) : true;
};
goog.ui.PopupBase.prototype.shouldDebounce_ = function() {
  return goog.now() - this.lastShowTime_ < goog.ui.PopupBase.DEBOUNCE_DELAY_MS;
};
goog.ui.PopupBase.prototype.disposeInternal = function() {
  goog.ui.PopupBase.base(this, "disposeInternal");
  this.handler_.dispose();
  goog.dispose(this.showTransition_);
  goog.dispose(this.hideTransition_);
  delete this.element_;
  delete this.handler_;
  delete this.autoHidePartners_;
};
goog.provide("goog.ui.Popup");
goog.require("goog.math.Box");
goog.require("goog.positioning.Corner");
goog.require("goog.style");
goog.require("goog.ui.PopupBase");
goog.ui.Popup = function(opt_element, opt_position) {
  this.popupCorner_ = goog.positioning.Corner.TOP_START;
  this.position_ = opt_position || undefined;
  goog.ui.PopupBase.call(this, opt_element);
};
goog.inherits(goog.ui.Popup, goog.ui.PopupBase);
goog.tagUnsealableClass(goog.ui.Popup);
goog.ui.Popup.prototype.margin_;
goog.ui.Popup.prototype.getPinnedCorner = function() {
  return this.popupCorner_;
};
goog.ui.Popup.prototype.setPinnedCorner = function(corner) {
  this.popupCorner_ = corner;
  if (this.isVisible()) {
    this.reposition();
  }
};
goog.ui.Popup.prototype.getPosition = function() {
  return this.position_ || null;
};
goog.ui.Popup.prototype.setPosition = function(position) {
  this.position_ = position || undefined;
  if (this.isVisible()) {
    this.reposition();
  }
};
goog.ui.Popup.prototype.getMargin = function() {
  return this.margin_ || null;
};
goog.ui.Popup.prototype.setMargin = function(arg1, opt_arg2, opt_arg3, opt_arg4) {
  if (arg1 == null || arg1 instanceof goog.math.Box) {
    this.margin_ = arg1;
  } else {
    this.margin_ = new goog.math.Box(arg1, (opt_arg2), (opt_arg3), (opt_arg4));
  }
  if (this.isVisible()) {
    this.reposition();
  }
};
goog.ui.Popup.prototype.reposition = function() {
  if (!this.position_) {
    return;
  }
  var hideForPositioning = !this.isVisible() && this.getType() != goog.ui.PopupBase.Type.MOVE_OFFSCREEN;
  var el = this.getElement();
  if (hideForPositioning) {
    el.style.visibility = "hidden";
    goog.style.setElementShown(el, true);
  }
  this.position_.reposition(el, this.popupCorner_, this.margin_);
  if (hideForPositioning) {
    goog.style.setElementShown(el, false);
  }
};
goog.provide("goog.ui.Tooltip");
goog.provide("goog.ui.Tooltip.CursorTooltipPosition");
goog.provide("goog.ui.Tooltip.ElementTooltipPosition");
goog.provide("goog.ui.Tooltip.State");
goog.require("goog.Timer");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.dom.safe");
goog.require("goog.events");
goog.require("goog.events.EventType");
goog.require("goog.events.FocusHandler");
goog.require("goog.html.legacyconversions");
goog.require("goog.math.Box");
goog.require("goog.math.Coordinate");
goog.require("goog.positioning");
goog.require("goog.positioning.AnchoredPosition");
goog.require("goog.positioning.Corner");
goog.require("goog.positioning.Overflow");
goog.require("goog.positioning.OverflowStatus");
goog.require("goog.positioning.ViewportPosition");
goog.require("goog.structs.Set");
goog.require("goog.style");
goog.require("goog.ui.Popup");
goog.require("goog.ui.PopupBase");
goog.ui.Tooltip = function(opt_el, opt_str, opt_domHelper) {
  this.dom_ = opt_domHelper || (opt_el ? goog.dom.getDomHelper(goog.dom.getElement(opt_el)) : goog.dom.getDomHelper());
  goog.ui.Popup.call(this, this.dom_.createDom(goog.dom.TagName.DIV, {"style":"position:absolute;display:none;"}));
  this.cursorPosition = new goog.math.Coordinate(1, 1);
  this.elements_ = new goog.structs.Set;
  this.tooltipFocusHandler_ = null;
  if (opt_el) {
    this.attach(opt_el);
  }
  if (opt_str != null) {
    this.setText(opt_str);
  }
};
goog.inherits(goog.ui.Tooltip, goog.ui.Popup);
goog.tagUnsealableClass(goog.ui.Tooltip);
goog.ui.Tooltip.activeInstances_ = [];
goog.ui.Tooltip.prototype.activeEl_ = null;
goog.ui.Tooltip.prototype.className = goog.getCssName("goog-tooltip");
goog.ui.Tooltip.prototype.showDelayMs_ = 500;
goog.ui.Tooltip.prototype.showTimer;
goog.ui.Tooltip.prototype.hideDelayMs_ = 0;
goog.ui.Tooltip.prototype.hideTimer;
goog.ui.Tooltip.prototype.anchor;
goog.ui.Tooltip.State = {INACTIVE:0, WAITING_TO_SHOW:1, SHOWING:2, WAITING_TO_HIDE:3, UPDATING:4};
goog.ui.Tooltip.Activation = {CURSOR:0, FOCUS:1};
goog.ui.Tooltip.prototype.seenInteraction_;
goog.ui.Tooltip.prototype.requireInteraction_;
goog.ui.Tooltip.prototype.childTooltip_;
goog.ui.Tooltip.prototype.parentTooltip_;
goog.ui.Tooltip.prototype.getDomHelper = function() {
  return this.dom_;
};
goog.ui.Tooltip.prototype.getChildTooltip = function() {
  return this.childTooltip_;
};
goog.ui.Tooltip.prototype.attach = function(el) {
  el = goog.dom.getElement(el);
  this.elements_.add(el);
  goog.events.listen(el, goog.events.EventType.MOUSEOVER, this.handleMouseOver, false, this);
  goog.events.listen(el, goog.events.EventType.MOUSEOUT, this.handleMouseOutAndBlur, false, this);
  goog.events.listen(el, goog.events.EventType.MOUSEMOVE, this.handleMouseMove, false, this);
  goog.events.listen(el, goog.events.EventType.FOCUS, this.handleFocus, false, this);
  goog.events.listen(el, goog.events.EventType.BLUR, this.handleMouseOutAndBlur, false, this);
};
goog.ui.Tooltip.prototype.detach = function(opt_el) {
  if (opt_el) {
    var el = goog.dom.getElement(opt_el);
    this.detachElement_(el);
    this.elements_.remove(el);
  } else {
    var a = this.elements_.getValues();
    for (var el, i = 0;el = a[i];i++) {
      this.detachElement_(el);
    }
    this.elements_.clear();
  }
};
goog.ui.Tooltip.prototype.detachElement_ = function(el) {
  goog.events.unlisten(el, goog.events.EventType.MOUSEOVER, this.handleMouseOver, false, this);
  goog.events.unlisten(el, goog.events.EventType.MOUSEOUT, this.handleMouseOutAndBlur, false, this);
  goog.events.unlisten(el, goog.events.EventType.MOUSEMOVE, this.handleMouseMove, false, this);
  goog.events.unlisten(el, goog.events.EventType.FOCUS, this.handleFocus, false, this);
  goog.events.unlisten(el, goog.events.EventType.BLUR, this.handleMouseOutAndBlur, false, this);
};
goog.ui.Tooltip.prototype.setShowDelayMs = function(delay) {
  this.showDelayMs_ = delay;
};
goog.ui.Tooltip.prototype.getShowDelayMs = function() {
  return this.showDelayMs_;
};
goog.ui.Tooltip.prototype.setHideDelayMs = function(delay) {
  this.hideDelayMs_ = delay;
};
goog.ui.Tooltip.prototype.getHideDelayMs = function() {
  return this.hideDelayMs_;
};
goog.ui.Tooltip.prototype.setText = function(str) {
  goog.dom.setTextContent(this.getElement(), str);
};
goog.ui.Tooltip.prototype.setHtml = function(str) {
  this.setSafeHtml(goog.html.legacyconversions.safeHtmlFromString(str));
};
goog.ui.Tooltip.prototype.setSafeHtml = function(html) {
  var element = this.getElement();
  if (element) {
    goog.dom.safe.setInnerHtml(element, html);
  }
};
goog.ui.Tooltip.prototype.setElement = function(el) {
  var oldElement = this.getElement();
  if (oldElement) {
    goog.dom.removeNode(oldElement);
  }
  goog.ui.Tooltip.superClass_.setElement.call(this, el);
  if (el) {
    var body = this.dom_.getDocument().body;
    body.insertBefore(el, body.lastChild);
    this.registerContentFocusEvents_();
  } else {
    goog.dispose(this.tooltipFocusHandler_);
    this.tooltipFocusHandler_ = null;
  }
};
goog.ui.Tooltip.prototype.registerContentFocusEvents_ = function() {
  goog.dispose(this.tooltipFocusHandler_);
  this.tooltipFocusHandler_ = new goog.events.FocusHandler(goog.asserts.assert(this.getElement()));
  this.registerDisposable(this.tooltipFocusHandler_);
  goog.events.listen(this.tooltipFocusHandler_, goog.events.FocusHandler.EventType.FOCUSIN, this.clearHideTimer, undefined, this);
  goog.events.listen(this.tooltipFocusHandler_, goog.events.FocusHandler.EventType.FOCUSOUT, this.startHideTimer, undefined, this);
};
goog.ui.Tooltip.prototype.getText = function() {
  return goog.dom.getTextContent(this.getElement());
};
goog.ui.Tooltip.prototype.getHtml = function() {
  return this.getElement().innerHTML;
};
goog.ui.Tooltip.prototype.getState = function() {
  return this.showTimer ? this.isVisible() ? goog.ui.Tooltip.State.UPDATING : goog.ui.Tooltip.State.WAITING_TO_SHOW : this.hideTimer ? goog.ui.Tooltip.State.WAITING_TO_HIDE : this.isVisible() ? goog.ui.Tooltip.State.SHOWING : goog.ui.Tooltip.State.INACTIVE;
};
goog.ui.Tooltip.prototype.setRequireInteraction = function(requireInteraction) {
  this.requireInteraction_ = requireInteraction;
};
goog.ui.Tooltip.prototype.isCoordinateInTooltip = function(coord) {
  if (!this.isVisible()) {
    return false;
  }
  var offset = goog.style.getPageOffset(this.getElement());
  var size = goog.style.getSize(this.getElement());
  return offset.x <= coord.x && coord.x <= offset.x + size.width && offset.y <= coord.y && coord.y <= offset.y + size.height;
};
goog.ui.Tooltip.prototype.onBeforeShow = function() {
  if (!goog.ui.PopupBase.prototype.onBeforeShow.call(this)) {
    return false;
  }
  if (this.anchor) {
    for (var tt, i = 0;tt = goog.ui.Tooltip.activeInstances_[i];i++) {
      if (!goog.dom.contains(tt.getElement(), this.anchor)) {
        tt.setVisible(false);
      }
    }
  }
  goog.array.insert(goog.ui.Tooltip.activeInstances_, this);
  var element = this.getElement();
  element.className = this.className;
  this.clearHideTimer();
  goog.events.listen(element, goog.events.EventType.MOUSEOVER, this.handleTooltipMouseOver, false, this);
  goog.events.listen(element, goog.events.EventType.MOUSEOUT, this.handleTooltipMouseOut, false, this);
  this.clearShowTimer();
  return true;
};
goog.ui.Tooltip.prototype.onHide_ = function() {
  goog.array.remove(goog.ui.Tooltip.activeInstances_, this);
  var element = this.getElement();
  for (var tt, i = 0;tt = goog.ui.Tooltip.activeInstances_[i];i++) {
    if (tt.anchor && goog.dom.contains(element, tt.anchor)) {
      tt.setVisible(false);
    }
  }
  if (this.parentTooltip_) {
    this.parentTooltip_.startHideTimer();
  }
  goog.events.unlisten(element, goog.events.EventType.MOUSEOVER, this.handleTooltipMouseOver, false, this);
  goog.events.unlisten(element, goog.events.EventType.MOUSEOUT, this.handleTooltipMouseOut, false, this);
  this.anchor = undefined;
  if (this.getState() == goog.ui.Tooltip.State.INACTIVE) {
    this.seenInteraction_ = false;
  }
  goog.ui.PopupBase.prototype.onHide_.call(this);
};
goog.ui.Tooltip.prototype.maybeShow = function(el, opt_pos) {
  if (this.anchor == el && this.elements_.contains(this.anchor)) {
    if (this.seenInteraction_ || !this.requireInteraction_) {
      this.setVisible(false);
      if (!this.isVisible()) {
        this.positionAndShow_(el, opt_pos);
      }
    } else {
      this.anchor = undefined;
    }
  }
  this.showTimer = undefined;
};
goog.ui.Tooltip.prototype.getElements = function() {
  return this.elements_;
};
goog.ui.Tooltip.prototype.getActiveElement = function() {
  return this.activeEl_;
};
goog.ui.Tooltip.prototype.setActiveElement = function(activeEl) {
  this.activeEl_ = activeEl;
};
goog.ui.Tooltip.prototype.showForElement = function(el, opt_pos) {
  this.attach(el);
  this.activeEl_ = el;
  this.positionAndShow_(el, opt_pos);
};
goog.ui.Tooltip.prototype.positionAndShow_ = function(el, opt_pos) {
  this.anchor = el;
  this.setPosition(opt_pos || this.getPositioningStrategy(goog.ui.Tooltip.Activation.CURSOR));
  this.setVisible(true);
};
goog.ui.Tooltip.prototype.maybeHide = function(el) {
  this.hideTimer = undefined;
  if (el == this.anchor) {
    var dom = this.getDomHelper();
    var focusedEl = dom.getActiveElement();
    var tooltipContentFocused = focusedEl && this.getElement() && dom.contains(this.getElement(), focusedEl);
    if ((this.activeEl_ == null || this.activeEl_ != this.getElement() && !this.elements_.contains(this.activeEl_)) && !tooltipContentFocused && !this.hasActiveChild()) {
      this.setVisible(false);
    }
  }
};
goog.ui.Tooltip.prototype.hasActiveChild = function() {
  return !!(this.childTooltip_ && this.childTooltip_.activeEl_);
};
goog.ui.Tooltip.prototype.saveCursorPosition_ = function(event) {
  var scroll = this.dom_.getDocumentScroll();
  this.cursorPosition.x = event.clientX + scroll.x;
  this.cursorPosition.y = event.clientY + scroll.y;
};
goog.ui.Tooltip.prototype.handleMouseOver = function(event) {
  var el = this.getAnchorFromElement((event.target));
  this.activeEl_ = el;
  this.clearHideTimer();
  if (el != this.anchor) {
    this.anchor = el;
    this.startShowTimer(el);
    this.checkForParentTooltip_();
    this.saveCursorPosition_(event);
  }
};
goog.ui.Tooltip.prototype.getAnchorFromElement = function(el) {
  try {
    while (el && !this.elements_.contains(el)) {
      el = (el.parentNode);
    }
    return el;
  } catch (e) {
    return null;
  }
};
goog.ui.Tooltip.prototype.handleMouseMove = function(event) {
  this.saveCursorPosition_(event);
  this.seenInteraction_ = true;
};
goog.ui.Tooltip.prototype.handleFocus = function(event) {
  var el = this.getAnchorFromElement((event.target));
  this.activeEl_ = el;
  this.seenInteraction_ = true;
  if (this.anchor != el) {
    this.anchor = el;
    var pos = this.getPositioningStrategy(goog.ui.Tooltip.Activation.FOCUS);
    this.clearHideTimer();
    this.startShowTimer(el, pos);
    this.checkForParentTooltip_();
  }
};
goog.ui.Tooltip.prototype.getPositioningStrategy = function(activationType) {
  if (activationType == goog.ui.Tooltip.Activation.CURSOR) {
    var coord = this.cursorPosition.clone();
    return new goog.ui.Tooltip.CursorTooltipPosition(coord);
  }
  return new goog.ui.Tooltip.ElementTooltipPosition(this.activeEl_);
};
goog.ui.Tooltip.prototype.checkForParentTooltip_ = function() {
  if (this.anchor) {
    for (var tt, i = 0;tt = goog.ui.Tooltip.activeInstances_[i];i++) {
      if (goog.dom.contains(tt.getElement(), this.anchor)) {
        tt.childTooltip_ = this;
        this.parentTooltip_ = tt;
      }
    }
  }
};
goog.ui.Tooltip.prototype.handleMouseOutAndBlur = function(event) {
  var el = this.getAnchorFromElement((event.target));
  var elTo = this.getAnchorFromElement((event.relatedTarget));
  if (el == elTo) {
    return;
  }
  if (el == this.activeEl_) {
    this.activeEl_ = null;
  }
  this.clearShowTimer();
  this.seenInteraction_ = false;
  if (this.isVisible() && (!event.relatedTarget || !goog.dom.contains(this.getElement(), event.relatedTarget))) {
    this.startHideTimer();
  } else {
    this.anchor = undefined;
  }
};
goog.ui.Tooltip.prototype.handleTooltipMouseOver = function(event) {
  var element = this.getElement();
  if (this.activeEl_ != element) {
    this.clearHideTimer();
    this.activeEl_ = element;
  }
};
goog.ui.Tooltip.prototype.handleTooltipMouseOut = function(event) {
  var element = this.getElement();
  if (this.activeEl_ == element && (!event.relatedTarget || !goog.dom.contains(element, event.relatedTarget))) {
    this.activeEl_ = null;
    this.startHideTimer();
  }
};
goog.ui.Tooltip.prototype.startShowTimer = function(el, opt_pos) {
  if (!this.showTimer) {
    this.showTimer = goog.Timer.callOnce(goog.bind(this.maybeShow, this, el, opt_pos), this.showDelayMs_);
  }
};
goog.ui.Tooltip.prototype.clearShowTimer = function() {
  if (this.showTimer) {
    goog.Timer.clear(this.showTimer);
    this.showTimer = undefined;
  }
};
goog.ui.Tooltip.prototype.startHideTimer = function() {
  if (this.getState() == goog.ui.Tooltip.State.SHOWING) {
    this.hideTimer = goog.Timer.callOnce(goog.bind(this.maybeHide, this, this.anchor), this.getHideDelayMs());
  }
};
goog.ui.Tooltip.prototype.clearHideTimer = function() {
  if (this.hideTimer) {
    goog.Timer.clear(this.hideTimer);
    this.hideTimer = undefined;
  }
};
goog.ui.Tooltip.prototype.disposeInternal = function() {
  this.setVisible(false);
  this.clearShowTimer();
  this.detach();
  if (this.getElement()) {
    goog.dom.removeNode(this.getElement());
  }
  this.activeEl_ = null;
  delete this.dom_;
  goog.ui.Tooltip.superClass_.disposeInternal.call(this);
};
goog.ui.Tooltip.CursorTooltipPosition = function(arg1, opt_arg2) {
  goog.positioning.ViewportPosition.call(this, arg1, opt_arg2);
};
goog.inherits(goog.ui.Tooltip.CursorTooltipPosition, goog.positioning.ViewportPosition);
goog.ui.Tooltip.CursorTooltipPosition.prototype.reposition = function(element, popupCorner, opt_margin) {
  var viewportElt = goog.style.getClientViewportElement(element);
  var viewport = goog.style.getVisibleRectForElement(viewportElt);
  var margin = opt_margin ? new goog.math.Box(opt_margin.top + 10, opt_margin.right, opt_margin.bottom, opt_margin.left + 10) : new goog.math.Box(10, 0, 0, 10);
  if (goog.positioning.positionAtCoordinate(this.coordinate, element, goog.positioning.Corner.TOP_START, margin, viewport, goog.positioning.Overflow.ADJUST_X | goog.positioning.Overflow.FAIL_Y) & goog.positioning.OverflowStatus.FAILED) {
    goog.positioning.positionAtCoordinate(this.coordinate, element, goog.positioning.Corner.TOP_START, margin, viewport, goog.positioning.Overflow.ADJUST_X | goog.positioning.Overflow.ADJUST_Y);
  }
};
goog.ui.Tooltip.ElementTooltipPosition = function(element) {
  goog.positioning.AnchoredPosition.call(this, element, goog.positioning.Corner.BOTTOM_RIGHT);
};
goog.inherits(goog.ui.Tooltip.ElementTooltipPosition, goog.positioning.AnchoredPosition);
goog.ui.Tooltip.ElementTooltipPosition.prototype.reposition = function(element, popupCorner, opt_margin) {
  var offset = new goog.math.Coordinate(10, 0);
  if (goog.positioning.positionAtAnchor(this.element, this.corner, element, popupCorner, offset, opt_margin, goog.positioning.Overflow.ADJUST_X | goog.positioning.Overflow.FAIL_Y) & goog.positioning.OverflowStatus.FAILED) {
    goog.positioning.positionAtAnchor(this.element, goog.positioning.Corner.TOP_RIGHT, element, goog.positioning.Corner.BOTTOM_LEFT, offset, opt_margin, goog.positioning.Overflow.ADJUST_X | goog.positioning.Overflow.ADJUST_Y);
  }
};
goog.provide("clojure.set");
goog.require("cljs.core");
clojure.set.bubble_max_key = function clojure$set$bubble_max_key(k, coll) {
  var max = cljs.core.apply.call(null, cljs.core.max_key, k, coll);
  return cljs.core.cons.call(null, max, cljs.core.remove.call(null, function(max) {
    return function(p1__11362_SHARP_) {
      return max === p1__11362_SHARP_;
    };
  }(max), coll));
};
clojure.set.union = function clojure$set$union(var_args) {
  var args11363 = [];
  var len__7214__auto___11369 = arguments.length;
  var i__7215__auto___11370 = 0;
  while (true) {
    if (i__7215__auto___11370 < len__7214__auto___11369) {
      args11363.push(arguments[i__7215__auto___11370]);
      var G__11371 = i__7215__auto___11370 + 1;
      i__7215__auto___11370 = G__11371;
      continue;
    } else {
    }
    break;
  }
  var G__11368 = args11363.length;
  switch(G__11368) {
    case 0:
      return clojure.set.union.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return clojure.set.union.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.set.union.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args11363.slice(2), 0);
      return clojure.set.union.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
clojure.set.union.cljs$core$IFn$_invoke$arity$0 = function() {
  return cljs.core.PersistentHashSet.EMPTY;
};
clojure.set.union.cljs$core$IFn$_invoke$arity$1 = function(s1) {
  return s1;
};
clojure.set.union.cljs$core$IFn$_invoke$arity$2 = function(s1, s2) {
  if (cljs.core.count.call(null, s1) < cljs.core.count.call(null, s2)) {
    return cljs.core.reduce.call(null, cljs.core.conj, s2, s1);
  } else {
    return cljs.core.reduce.call(null, cljs.core.conj, s1, s2);
  }
};
clojure.set.union.cljs$core$IFn$_invoke$arity$variadic = function(s1, s2, sets) {
  var bubbled_sets = clojure.set.bubble_max_key.call(null, cljs.core.count, cljs.core.conj.call(null, sets, s2, s1));
  return cljs.core.reduce.call(null, cljs.core.into, cljs.core.first.call(null, bubbled_sets), cljs.core.rest.call(null, bubbled_sets));
};
clojure.set.union.cljs$lang$applyTo = function(seq11364) {
  var G__11365 = cljs.core.first.call(null, seq11364);
  var seq11364__$1 = cljs.core.next.call(null, seq11364);
  var G__11366 = cljs.core.first.call(null, seq11364__$1);
  var seq11364__$2 = cljs.core.next.call(null, seq11364__$1);
  return clojure.set.union.cljs$core$IFn$_invoke$arity$variadic(G__11365, G__11366, seq11364__$2);
};
clojure.set.union.cljs$lang$maxFixedArity = 2;
clojure.set.intersection = function clojure$set$intersection(var_args) {
  var args11374 = [];
  var len__7214__auto___11380 = arguments.length;
  var i__7215__auto___11381 = 0;
  while (true) {
    if (i__7215__auto___11381 < len__7214__auto___11380) {
      args11374.push(arguments[i__7215__auto___11381]);
      var G__11382 = i__7215__auto___11381 + 1;
      i__7215__auto___11381 = G__11382;
      continue;
    } else {
    }
    break;
  }
  var G__11379 = args11374.length;
  switch(G__11379) {
    case 1:
      return clojure.set.intersection.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args11374.slice(2), 0);
      return clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
clojure.set.intersection.cljs$core$IFn$_invoke$arity$1 = function(s1) {
  return s1;
};
clojure.set.intersection.cljs$core$IFn$_invoke$arity$2 = function(s1, s2) {
  while (true) {
    if (cljs.core.count.call(null, s2) < cljs.core.count.call(null, s1)) {
      var G__11384 = s2;
      var G__11385 = s1;
      s1 = G__11384;
      s2 = G__11385;
      continue;
    } else {
      return cljs.core.reduce.call(null, function(s1, s2) {
        return function(result, item) {
          if (cljs.core.contains_QMARK_.call(null, s2, item)) {
            return result;
          } else {
            return cljs.core.disj.call(null, result, item);
          }
        };
      }(s1, s2), s1, s1);
    }
    break;
  }
};
clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic = function(s1, s2, sets) {
  var bubbled_sets = clojure.set.bubble_max_key.call(null, function(p1__11373_SHARP_) {
    return -cljs.core.count.call(null, p1__11373_SHARP_);
  }, cljs.core.conj.call(null, sets, s2, s1));
  return cljs.core.reduce.call(null, clojure.set.intersection, cljs.core.first.call(null, bubbled_sets), cljs.core.rest.call(null, bubbled_sets));
};
clojure.set.intersection.cljs$lang$applyTo = function(seq11375) {
  var G__11376 = cljs.core.first.call(null, seq11375);
  var seq11375__$1 = cljs.core.next.call(null, seq11375);
  var G__11377 = cljs.core.first.call(null, seq11375__$1);
  var seq11375__$2 = cljs.core.next.call(null, seq11375__$1);
  return clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic(G__11376, G__11377, seq11375__$2);
};
clojure.set.intersection.cljs$lang$maxFixedArity = 2;
clojure.set.difference = function clojure$set$difference(var_args) {
  var args11386 = [];
  var len__7214__auto___11392 = arguments.length;
  var i__7215__auto___11393 = 0;
  while (true) {
    if (i__7215__auto___11393 < len__7214__auto___11392) {
      args11386.push(arguments[i__7215__auto___11393]);
      var G__11394 = i__7215__auto___11393 + 1;
      i__7215__auto___11393 = G__11394;
      continue;
    } else {
    }
    break;
  }
  var G__11391 = args11386.length;
  switch(G__11391) {
    case 1:
      return clojure.set.difference.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.set.difference.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      var argseq__7233__auto__ = new cljs.core.IndexedSeq(args11386.slice(2), 0);
      return clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7233__auto__);
  }
};
clojure.set.difference.cljs$core$IFn$_invoke$arity$1 = function(s1) {
  return s1;
};
clojure.set.difference.cljs$core$IFn$_invoke$arity$2 = function(s1, s2) {
  if (cljs.core.count.call(null, s1) < cljs.core.count.call(null, s2)) {
    return cljs.core.reduce.call(null, function(result, item) {
      if (cljs.core.contains_QMARK_.call(null, s2, item)) {
        return cljs.core.disj.call(null, result, item);
      } else {
        return result;
      }
    }, s1, s1);
  } else {
    return cljs.core.reduce.call(null, cljs.core.disj, s1, s2);
  }
};
clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic = function(s1, s2, sets) {
  return cljs.core.reduce.call(null, clojure.set.difference, s1, cljs.core.conj.call(null, sets, s2));
};
clojure.set.difference.cljs$lang$applyTo = function(seq11387) {
  var G__11388 = cljs.core.first.call(null, seq11387);
  var seq11387__$1 = cljs.core.next.call(null, seq11387);
  var G__11389 = cljs.core.first.call(null, seq11387__$1);
  var seq11387__$2 = cljs.core.next.call(null, seq11387__$1);
  return clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic(G__11388, G__11389, seq11387__$2);
};
clojure.set.difference.cljs$lang$maxFixedArity = 2;
clojure.set.select = function clojure$set$select(pred, xset) {
  return cljs.core.reduce.call(null, function(s, k) {
    if (cljs.core.truth_(pred.call(null, k))) {
      return s;
    } else {
      return cljs.core.disj.call(null, s, k);
    }
  }, xset, xset);
};
clojure.set.project = function clojure$set$project(xrel, ks) {
  return cljs.core.set.call(null, cljs.core.map.call(null, function(p1__11396_SHARP_) {
    return cljs.core.select_keys.call(null, p1__11396_SHARP_, ks);
  }, xrel));
};
clojure.set.rename_keys = function clojure$set$rename_keys(map, kmap) {
  return cljs.core.reduce.call(null, function(m, p__11399) {
    var vec__11400 = p__11399;
    var old = cljs.core.nth.call(null, vec__11400, 0, null);
    var new$ = cljs.core.nth.call(null, vec__11400, 1, null);
    if (cljs.core.contains_QMARK_.call(null, map, old)) {
      return cljs.core.assoc.call(null, m, new$, cljs.core.get.call(null, map, old));
    } else {
      return m;
    }
  }, cljs.core.apply.call(null, cljs.core.dissoc, map, cljs.core.keys.call(null, kmap)), kmap);
};
clojure.set.rename = function clojure$set$rename(xrel, kmap) {
  return cljs.core.set.call(null, cljs.core.map.call(null, function(p1__11401_SHARP_) {
    return clojure.set.rename_keys.call(null, p1__11401_SHARP_, kmap);
  }, xrel));
};
clojure.set.index = function clojure$set$index(xrel, ks) {
  return cljs.core.reduce.call(null, function(m, x) {
    var ik = cljs.core.select_keys.call(null, x, ks);
    return cljs.core.assoc.call(null, m, ik, cljs.core.conj.call(null, cljs.core.get.call(null, m, ik, cljs.core.PersistentHashSet.EMPTY), x));
  }, cljs.core.PersistentArrayMap.EMPTY, xrel);
};
clojure.set.map_invert = function clojure$set$map_invert(m) {
  return cljs.core.reduce.call(null, function(m__$1, p__11404) {
    var vec__11405 = p__11404;
    var k = cljs.core.nth.call(null, vec__11405, 0, null);
    var v = cljs.core.nth.call(null, vec__11405, 1, null);
    return cljs.core.assoc.call(null, m__$1, v, k);
  }, cljs.core.PersistentArrayMap.EMPTY, m);
};
clojure.set.join = function clojure$set$join(var_args) {
  var args11410 = [];
  var len__7214__auto___11415 = arguments.length;
  var i__7215__auto___11416 = 0;
  while (true) {
    if (i__7215__auto___11416 < len__7214__auto___11415) {
      args11410.push(arguments[i__7215__auto___11416]);
      var G__11417 = i__7215__auto___11416 + 1;
      i__7215__auto___11416 = G__11417;
      continue;
    } else {
    }
    break;
  }
  var G__11412 = args11410.length;
  switch(G__11412) {
    case 2:
      return clojure.set.join.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.set.join.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11410.length)].join(""));;
  }
};
clojure.set.join.cljs$core$IFn$_invoke$arity$2 = function(xrel, yrel) {
  if (cljs.core.seq.call(null, xrel) && cljs.core.seq.call(null, yrel)) {
    var ks = clojure.set.intersection.call(null, cljs.core.set.call(null, cljs.core.keys.call(null, cljs.core.first.call(null, xrel))), cljs.core.set.call(null, cljs.core.keys.call(null, cljs.core.first.call(null, yrel))));
    var vec__11413 = cljs.core.count.call(null, xrel) <= cljs.core.count.call(null, yrel) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [xrel, yrel], null) : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [yrel, xrel], null);
    var r = cljs.core.nth.call(null, vec__11413, 0, null);
    var s = cljs.core.nth.call(null, vec__11413, 1, null);
    var idx = clojure.set.index.call(null, r, ks);
    return cljs.core.reduce.call(null, function(ks, vec__11413, r, s, idx) {
      return function(ret, x) {
        var found = idx.call(null, cljs.core.select_keys.call(null, x, ks));
        if (cljs.core.truth_(found)) {
          return cljs.core.reduce.call(null, function(found, ks, vec__11413, r, s, idx) {
            return function(p1__11406_SHARP_, p2__11407_SHARP_) {
              return cljs.core.conj.call(null, p1__11406_SHARP_, cljs.core.merge.call(null, p2__11407_SHARP_, x));
            };
          }(found, ks, vec__11413, r, s, idx), ret, found);
        } else {
          return ret;
        }
      };
    }(ks, vec__11413, r, s, idx), cljs.core.PersistentHashSet.EMPTY, s);
  } else {
    return cljs.core.PersistentHashSet.EMPTY;
  }
};
clojure.set.join.cljs$core$IFn$_invoke$arity$3 = function(xrel, yrel, km) {
  var vec__11414 = cljs.core.count.call(null, xrel) <= cljs.core.count.call(null, yrel) ? new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [xrel, yrel, clojure.set.map_invert.call(null, km)], null) : new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [yrel, xrel, km], null);
  var r = cljs.core.nth.call(null, vec__11414, 0, null);
  var s = cljs.core.nth.call(null, vec__11414, 1, null);
  var k = cljs.core.nth.call(null, vec__11414, 2, null);
  var idx = clojure.set.index.call(null, r, cljs.core.vals.call(null, k));
  return cljs.core.reduce.call(null, function(vec__11414, r, s, k, idx) {
    return function(ret, x) {
      var found = idx.call(null, clojure.set.rename_keys.call(null, cljs.core.select_keys.call(null, x, cljs.core.keys.call(null, k)), k));
      if (cljs.core.truth_(found)) {
        return cljs.core.reduce.call(null, function(found, vec__11414, r, s, k, idx) {
          return function(p1__11408_SHARP_, p2__11409_SHARP_) {
            return cljs.core.conj.call(null, p1__11408_SHARP_, cljs.core.merge.call(null, p2__11409_SHARP_, x));
          };
        }(found, vec__11414, r, s, k, idx), ret, found);
      } else {
        return ret;
      }
    };
  }(vec__11414, r, s, k, idx), cljs.core.PersistentHashSet.EMPTY, s);
};
clojure.set.join.cljs$lang$maxFixedArity = 3;
clojure.set.subset_QMARK_ = function clojure$set$subset_QMARK_(set1, set2) {
  return cljs.core.count.call(null, set1) <= cljs.core.count.call(null, set2) && cljs.core.every_QMARK_.call(null, function(p1__11419_SHARP_) {
    return cljs.core.contains_QMARK_.call(null, set2, p1__11419_SHARP_);
  }, set1);
};
clojure.set.superset_QMARK_ = function clojure$set$superset_QMARK_(set1, set2) {
  return cljs.core.count.call(null, set1) >= cljs.core.count.call(null, set2) && cljs.core.every_QMARK_.call(null, function(p1__11420_SHARP_) {
    return cljs.core.contains_QMARK_.call(null, set1, p1__11420_SHARP_);
  }, set2);
};
goog.provide("cljs.reader");
goog.require("cljs.core");
goog.require("goog.string");
goog.require("goog.string.StringBuffer");
cljs.reader.PushbackReader = function() {
};
cljs.reader.read_char = function cljs$reader$read_char(reader) {
  if (!(reader == null) && !(reader.cljs$reader$PushbackReader$read_char$arity$1 == null)) {
    return reader.cljs$reader$PushbackReader$read_char$arity$1(reader);
  } else {
    var x__6811__auto__ = reader == null ? null : reader;
    var m__6812__auto__ = cljs.reader.read_char[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, reader);
    } else {
      var m__6812__auto____$1 = cljs.reader.read_char["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, reader);
      } else {
        throw cljs.core.missing_protocol.call(null, "PushbackReader.read-char", reader);
      }
    }
  }
};
cljs.reader.unread = function cljs$reader$unread(reader, ch) {
  if (!(reader == null) && !(reader.cljs$reader$PushbackReader$unread$arity$2 == null)) {
    return reader.cljs$reader$PushbackReader$unread$arity$2(reader, ch);
  } else {
    var x__6811__auto__ = reader == null ? null : reader;
    var m__6812__auto__ = cljs.reader.unread[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, reader, ch);
    } else {
      var m__6812__auto____$1 = cljs.reader.unread["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, reader, ch);
      } else {
        throw cljs.core.missing_protocol.call(null, "PushbackReader.unread", reader);
      }
    }
  }
};
cljs.reader.StringPushbackReader = function(s, buffer, idx) {
  this.s = s;
  this.buffer = buffer;
  this.idx = idx;
};
cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$ = true;
cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$read_char$arity$1 = function(reader) {
  var self__ = this;
  var reader__$1 = this;
  if (self__.buffer.length === 0) {
    self__.idx = self__.idx + 1;
    return self__.s[self__.idx];
  } else {
    return self__.buffer.pop();
  }
};
cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$unread$arity$2 = function(reader, ch) {
  var self__ = this;
  var reader__$1 = this;
  return self__.buffer.push(ch);
};
cljs.reader.StringPushbackReader.getBasis = function() {
  return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "s", "s", -948495851, null), new cljs.core.Symbol(null, "buffer", "buffer", -2037140571, null), cljs.core.with_meta(new cljs.core.Symbol(null, "idx", "idx", -1600747296, null), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "mutable", "mutable", 875778266), true], null))], null);
};
cljs.reader.StringPushbackReader.cljs$lang$type = true;
cljs.reader.StringPushbackReader.cljs$lang$ctorStr = "cljs.reader/StringPushbackReader";
cljs.reader.StringPushbackReader.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
  return cljs.core._write.call(null, writer__6755__auto__, "cljs.reader/StringPushbackReader");
};
cljs.reader.__GT_StringPushbackReader = function cljs$reader$__GT_StringPushbackReader(s, buffer, idx) {
  return new cljs.reader.StringPushbackReader(s, buffer, idx);
};
cljs.reader.push_back_reader = function cljs$reader$push_back_reader(s) {
  return new cljs.reader.StringPushbackReader(s, [], -1);
};
cljs.reader.whitespace_QMARK_ = function cljs$reader$whitespace_QMARK_(ch) {
  var or__6156__auto__ = goog.string.isBreakingWhitespace(ch);
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    return "," === ch;
  }
};
cljs.reader.numeric_QMARK_ = function cljs$reader$numeric_QMARK_(ch) {
  return goog.string.isNumeric(ch);
};
cljs.reader.comment_prefix_QMARK_ = function cljs$reader$comment_prefix_QMARK_(ch) {
  return ";" === ch;
};
cljs.reader.number_literal_QMARK_ = function cljs$reader$number_literal_QMARK_(reader, initch) {
  return cljs.reader.numeric_QMARK_.call(null, initch) || ("+" === initch || "-" === initch) && cljs.reader.numeric_QMARK_.call(null, function() {
    var next_ch = cljs.reader.read_char.call(null, reader);
    cljs.reader.unread.call(null, reader, next_ch);
    return next_ch;
  }());
};
cljs.reader.reader_error = function cljs$reader$reader_error(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___11425 = arguments.length;
  var i__7215__auto___11426 = 0;
  while (true) {
    if (i__7215__auto___11426 < len__7214__auto___11425) {
      args__7221__auto__.push(arguments[i__7215__auto___11426]);
      var G__11427 = i__7215__auto___11426 + 1;
      i__7215__auto___11426 = G__11427;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic = function(rdr, msg) {
  throw new Error(cljs.core.apply.call(null, cljs.core.str, msg));
};
cljs.reader.reader_error.cljs$lang$maxFixedArity = 1;
cljs.reader.reader_error.cljs$lang$applyTo = function(seq11423) {
  var G__11424 = cljs.core.first.call(null, seq11423);
  var seq11423__$1 = cljs.core.next.call(null, seq11423);
  return cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic(G__11424, seq11423__$1);
};
cljs.reader.macro_terminating_QMARK_ = function cljs$reader$macro_terminating_QMARK_(ch) {
  var and__6144__auto__ = !(ch === "#");
  if (and__6144__auto__) {
    var and__6144__auto____$1 = !(ch === "'");
    if (and__6144__auto____$1) {
      var and__6144__auto____$2 = !(ch === ":");
      if (and__6144__auto____$2) {
        return cljs.reader.macros.call(null, ch);
      } else {
        return and__6144__auto____$2;
      }
    } else {
      return and__6144__auto____$1;
    }
  } else {
    return and__6144__auto__;
  }
};
cljs.reader.read_token = function cljs$reader$read_token(rdr, initch) {
  var sb = new goog.string.StringBuffer(initch);
  var ch = cljs.reader.read_char.call(null, rdr);
  while (true) {
    if (ch == null || cljs.reader.whitespace_QMARK_.call(null, ch) || cljs.reader.macro_terminating_QMARK_.call(null, ch)) {
      cljs.reader.unread.call(null, rdr, ch);
      return sb.toString();
    } else {
      var G__11428 = function() {
        sb.append(ch);
        return sb;
      }();
      var G__11429 = cljs.reader.read_char.call(null, rdr);
      sb = G__11428;
      ch = G__11429;
      continue;
    }
    break;
  }
};
cljs.reader.skip_line = function cljs$reader$skip_line(reader, _) {
  while (true) {
    var ch = cljs.reader.read_char.call(null, reader);
    if (ch === "\n" || ch === "\r" || ch == null) {
      return reader;
    } else {
      continue;
    }
    break;
  }
};
cljs.reader.int_pattern = cljs.core.re_pattern.call(null, "^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$");
cljs.reader.ratio_pattern = cljs.core.re_pattern.call(null, "^([-+]?[0-9]+)/([0-9]+)$");
cljs.reader.float_pattern = cljs.core.re_pattern.call(null, "^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$");
cljs.reader.symbol_pattern = cljs.core.re_pattern.call(null, "^[:]?([^0-9/].*/)?([^0-9/][^/]*)$");
cljs.reader.re_matches_STAR_ = function cljs$reader$re_matches_STAR_(re, s) {
  var matches = re.exec(s);
  if (!(matches == null) && matches[0] === s) {
    if (matches.length === 1) {
      return matches[0];
    } else {
      return matches;
    }
  } else {
    return null;
  }
};
cljs.reader.match_int = function cljs$reader$match_int(s) {
  var groups = cljs.reader.re_matches_STAR_.call(null, cljs.reader.int_pattern, s);
  var ie8_fix = groups[2];
  var zero = cljs.core._EQ_.call(null, ie8_fix, "") ? null : ie8_fix;
  if (!(zero == null)) {
    return 0;
  } else {
    var a = cljs.core.truth_(groups[3]) ? [groups[3], 10] : cljs.core.truth_(groups[4]) ? [groups[4], 16] : cljs.core.truth_(groups[5]) ? [groups[5], 8] : cljs.core.truth_(groups[6]) ? [groups[7], parseInt(groups[6], 10)] : [null, null];
    var n = a[0];
    var radix = a[1];
    if (n == null) {
      return null;
    } else {
      var parsed = parseInt(n, radix);
      if ("-" === groups[1]) {
        return -parsed;
      } else {
        return parsed;
      }
    }
  }
};
cljs.reader.match_ratio = function cljs$reader$match_ratio(s) {
  var groups = cljs.reader.re_matches_STAR_.call(null, cljs.reader.ratio_pattern, s);
  var numinator = groups[1];
  var denominator = groups[2];
  return parseInt(numinator, 10) / parseInt(denominator, 10);
};
cljs.reader.match_float = function cljs$reader$match_float(s) {
  return parseFloat(s);
};
cljs.reader.match_number = function cljs$reader$match_number(s) {
  if (cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null, cljs.reader.int_pattern, s))) {
    return cljs.reader.match_int.call(null, s);
  } else {
    if (cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null, cljs.reader.ratio_pattern, s))) {
      return cljs.reader.match_ratio.call(null, s);
    } else {
      if (cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null, cljs.reader.float_pattern, s))) {
        return cljs.reader.match_float.call(null, s);
      } else {
        return null;
      }
    }
  }
};
cljs.reader.escape_char_map = function cljs$reader$escape_char_map(c) {
  if (c === "t") {
    return "\t";
  } else {
    if (c === "r") {
      return "\r";
    } else {
      if (c === "n") {
        return "\n";
      } else {
        if (c === "\\") {
          return "\\";
        } else {
          if (c === '"') {
            return '"';
          } else {
            if (c === "b") {
              return "\b";
            } else {
              if (c === "f") {
                return "\f";
              } else {
                return null;
              }
            }
          }
        }
      }
    }
  }
};
cljs.reader.read_2_chars = function cljs$reader$read_2_chars(reader) {
  return (new goog.string.StringBuffer(cljs.reader.read_char.call(null, reader), cljs.reader.read_char.call(null, reader))).toString();
};
cljs.reader.read_4_chars = function cljs$reader$read_4_chars(reader) {
  return (new goog.string.StringBuffer(cljs.reader.read_char.call(null, reader), cljs.reader.read_char.call(null, reader), cljs.reader.read_char.call(null, reader), cljs.reader.read_char.call(null, reader))).toString();
};
cljs.reader.unicode_2_pattern = cljs.core.re_pattern.call(null, "^[0-9A-Fa-f]{2}$");
cljs.reader.unicode_4_pattern = cljs.core.re_pattern.call(null, "^[0-9A-Fa-f]{4}$");
cljs.reader.validate_unicode_escape = function cljs$reader$validate_unicode_escape(unicode_pattern, reader, escape_char, unicode_str) {
  if (cljs.core.truth_(cljs.core.re_matches.call(null, unicode_pattern, unicode_str))) {
    return unicode_str;
  } else {
    return cljs.reader.reader_error.call(null, reader, "Unexpected unicode escape \\", escape_char, unicode_str);
  }
};
cljs.reader.make_unicode_char = function cljs$reader$make_unicode_char(code_str) {
  var code = parseInt(code_str, 16);
  return String.fromCharCode(code);
};
cljs.reader.escape_char = function cljs$reader$escape_char(buffer, reader) {
  var ch = cljs.reader.read_char.call(null, reader);
  var mapresult = cljs.reader.escape_char_map.call(null, ch);
  if (cljs.core.truth_(mapresult)) {
    return mapresult;
  } else {
    if (ch === "x") {
      return cljs.reader.make_unicode_char.call(null, cljs.reader.validate_unicode_escape.call(null, cljs.reader.unicode_2_pattern, reader, ch, cljs.reader.read_2_chars.call(null, reader)));
    } else {
      if (ch === "u") {
        return cljs.reader.make_unicode_char.call(null, cljs.reader.validate_unicode_escape.call(null, cljs.reader.unicode_4_pattern, reader, ch, cljs.reader.read_4_chars.call(null, reader)));
      } else {
        if (cljs.reader.numeric_QMARK_.call(null, ch)) {
          return String.fromCharCode(ch);
        } else {
          return cljs.reader.reader_error.call(null, reader, "Unexpected unicode escape \\", ch);
        }
      }
    }
  }
};
cljs.reader.read_past = function cljs$reader$read_past(pred, rdr) {
  var ch = cljs.reader.read_char.call(null, rdr);
  while (true) {
    if (cljs.core.truth_(pred.call(null, ch))) {
      var G__11430 = cljs.reader.read_char.call(null, rdr);
      ch = G__11430;
      continue;
    } else {
      return ch;
    }
    break;
  }
};
cljs.reader.read_delimited_list = function cljs$reader$read_delimited_list(delim, rdr, recursive_QMARK_) {
  var a = cljs.core.transient$.call(null, cljs.core.PersistentVector.EMPTY);
  while (true) {
    var ch = cljs.reader.read_past.call(null, cljs.reader.whitespace_QMARK_, rdr);
    if (cljs.core.truth_(ch)) {
    } else {
      cljs.reader.reader_error.call(null, rdr, "EOF while reading");
    }
    if (delim === ch) {
      return cljs.core.persistent_BANG_.call(null, a);
    } else {
      var temp__4655__auto__ = cljs.reader.macros.call(null, ch);
      if (cljs.core.truth_(temp__4655__auto__)) {
        var macrofn = temp__4655__auto__;
        var mret = macrofn.call(null, rdr, ch);
        var G__11431 = mret === rdr ? a : cljs.core.conj_BANG_.call(null, a, mret);
        a = G__11431;
        continue;
      } else {
        cljs.reader.unread.call(null, rdr, ch);
        var o = cljs.reader.read.call(null, rdr, true, null, recursive_QMARK_);
        var G__11432 = o === rdr ? a : cljs.core.conj_BANG_.call(null, a, o);
        a = G__11432;
        continue;
      }
    }
    break;
  }
};
cljs.reader.not_implemented = function cljs$reader$not_implemented(rdr, ch) {
  return cljs.reader.reader_error.call(null, rdr, "Reader for ", ch, " not implemented yet");
};
cljs.reader.read_dispatch = function cljs$reader$read_dispatch(rdr, _) {
  var ch = cljs.reader.read_char.call(null, rdr);
  var dm = cljs.reader.dispatch_macros.call(null, ch);
  if (cljs.core.truth_(dm)) {
    return dm.call(null, rdr, _);
  } else {
    var temp__4655__auto__ = cljs.reader.maybe_read_tagged_type.call(null, rdr, ch);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var obj = temp__4655__auto__;
      return obj;
    } else {
      return cljs.reader.reader_error.call(null, rdr, "No dispatch macro for ", ch);
    }
  }
};
cljs.reader.read_unmatched_delimiter = function cljs$reader$read_unmatched_delimiter(rdr, ch) {
  return cljs.reader.reader_error.call(null, rdr, "Unmatched delimiter ", ch);
};
cljs.reader.read_list = function cljs$reader$read_list(rdr, _) {
  return cljs.core.apply.call(null, cljs.core.list, cljs.reader.read_delimited_list.call(null, ")", rdr, true));
};
cljs.reader.read_comment = cljs.reader.skip_line;
cljs.reader.read_vector = function cljs$reader$read_vector(rdr, _) {
  return cljs.reader.read_delimited_list.call(null, "]", rdr, true);
};
cljs.reader.read_map = function cljs$reader$read_map(rdr, _) {
  var l = cljs.reader.read_delimited_list.call(null, "}", rdr, true);
  if (cljs.core.odd_QMARK_.call(null, cljs.core.count.call(null, l))) {
    cljs.reader.reader_error.call(null, rdr, "Map literal must contain an even number of forms");
  } else {
  }
  return cljs.core.apply.call(null, cljs.core.hash_map, l);
};
cljs.reader.read_number = function cljs$reader$read_number(reader, initch) {
  var buffer = new goog.string.StringBuffer(initch);
  var ch = cljs.reader.read_char.call(null, reader);
  while (true) {
    if (cljs.core.truth_(function() {
      var or__6156__auto__ = ch == null;
      if (or__6156__auto__) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = cljs.reader.whitespace_QMARK_.call(null, ch);
        if (or__6156__auto____$1) {
          return or__6156__auto____$1;
        } else {
          return cljs.reader.macros.call(null, ch);
        }
      }
    }())) {
      cljs.reader.unread.call(null, reader, ch);
      var s = buffer.toString();
      var or__6156__auto__ = cljs.reader.match_number.call(null, s);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return cljs.reader.reader_error.call(null, reader, "Invalid number format [", s, "]");
      }
    } else {
      var G__11433 = function() {
        buffer.append(ch);
        return buffer;
      }();
      var G__11434 = cljs.reader.read_char.call(null, reader);
      buffer = G__11433;
      ch = G__11434;
      continue;
    }
    break;
  }
};
cljs.reader.read_string_STAR_ = function cljs$reader$read_string_STAR_(reader, _) {
  var buffer = new goog.string.StringBuffer;
  var ch = cljs.reader.read_char.call(null, reader);
  while (true) {
    if (ch == null) {
      return cljs.reader.reader_error.call(null, reader, "EOF while reading");
    } else {
      if ("\\" === ch) {
        var G__11435 = function() {
          buffer.append(cljs.reader.escape_char.call(null, buffer, reader));
          return buffer;
        }();
        var G__11436 = cljs.reader.read_char.call(null, reader);
        buffer = G__11435;
        ch = G__11436;
        continue;
      } else {
        if ('"' === ch) {
          return buffer.toString();
        } else {
          var G__11437 = function() {
            buffer.append(ch);
            return buffer;
          }();
          var G__11438 = cljs.reader.read_char.call(null, reader);
          buffer = G__11437;
          ch = G__11438;
          continue;
        }
      }
    }
    break;
  }
};
cljs.reader.read_raw_string_STAR_ = function cljs$reader$read_raw_string_STAR_(reader, _) {
  var buffer = new goog.string.StringBuffer;
  var ch = cljs.reader.read_char.call(null, reader);
  while (true) {
    if (ch == null) {
      return cljs.reader.reader_error.call(null, reader, "EOF while reading");
    } else {
      if ("\\" === ch) {
        buffer.append(ch);
        var nch = cljs.reader.read_char.call(null, reader);
        if (nch == null) {
          return cljs.reader.reader_error.call(null, reader, "EOF while reading");
        } else {
          var G__11443 = function() {
            var G__11441 = buffer;
            G__11441.append(nch);
            return G__11441;
          }();
          var G__11444 = cljs.reader.read_char.call(null, reader);
          buffer = G__11443;
          ch = G__11444;
          continue;
        }
      } else {
        if ('"' === ch) {
          return buffer.toString();
        } else {
          var G__11445 = function() {
            var G__11442 = buffer;
            G__11442.append(ch);
            return G__11442;
          }();
          var G__11446 = cljs.reader.read_char.call(null, reader);
          buffer = G__11445;
          ch = G__11446;
          continue;
        }
      }
    }
    break;
  }
};
cljs.reader.special_symbols = function cljs$reader$special_symbols(t, not_found) {
  if (t === "nil") {
    return null;
  } else {
    if (t === "true") {
      return true;
    } else {
      if (t === "false") {
        return false;
      } else {
        if (t === "/") {
          return new cljs.core.Symbol(null, "/", "/", -1371932971, null);
        } else {
          return not_found;
        }
      }
    }
  }
};
cljs.reader.read_symbol = function cljs$reader$read_symbol(reader, initch) {
  var token = cljs.reader.read_token.call(null, reader, initch);
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = goog.string.contains(token, "/");
    if (cljs.core.truth_(and__6144__auto__)) {
      return !(token.length === 1);
    } else {
      return and__6144__auto__;
    }
  }())) {
    return cljs.core.symbol.call(null, cljs.core.subs.call(null, token, 0, token.indexOf("/")), cljs.core.subs.call(null, token, token.indexOf("/") + 1, token.length));
  } else {
    return cljs.reader.special_symbols.call(null, token, cljs.core.symbol.call(null, token));
  }
};
cljs.reader.read_literal = function cljs$reader$read_literal(rdr, ch) {
  var token = cljs.reader.read_token.call(null, rdr, ch);
  var chars = cljs.core.subs.call(null, token, 1);
  if (chars.length === 1) {
    return chars;
  } else {
    if (chars === "tab") {
      return "\t";
    } else {
      if (chars === "return") {
        return "\r";
      } else {
        if (chars === "newline") {
          return "\n";
        } else {
          if (chars === "space") {
            return " ";
          } else {
            if (chars === "backspace") {
              return "\b";
            } else {
              if (chars === "formfeed") {
                return "\f";
              } else {
                if (chars.charAt(0) === "u") {
                  return cljs.reader.make_unicode_char.call(null, cljs.core.subs.call(null, chars, 1));
                } else {
                  if (chars.charAt(0) === "o") {
                    return cljs.reader.not_implemented.call(null, rdr, token);
                  } else {
                    return cljs.reader.reader_error.call(null, rdr, "Unknown character literal: ", token);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
cljs.reader.read_keyword = function cljs$reader$read_keyword(reader, initch) {
  var token = cljs.reader.read_token.call(null, reader, cljs.reader.read_char.call(null, reader));
  var a = cljs.reader.re_matches_STAR_.call(null, cljs.reader.symbol_pattern, token);
  var token__$1 = a[0];
  var ns = a[1];
  var name = a[2];
  if (!(void 0 === ns) && ns.substring(ns.length - 2, ns.length) === ":/" || name[name.length - 1] === ":" || !(token__$1.indexOf("::", 1) === -1)) {
    return cljs.reader.reader_error.call(null, reader, "Invalid token: ", token__$1);
  } else {
    if (!(ns == null) && ns.length > 0) {
      return cljs.core.keyword.call(null, ns.substring(0, ns.indexOf("/")), name);
    } else {
      return cljs.core.keyword.call(null, token__$1);
    }
  }
};
cljs.reader.desugar_meta = function cljs$reader$desugar_meta(f) {
  if (f instanceof cljs.core.Symbol) {
    return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), f], null);
  } else {
    if (typeof f === "string") {
      return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "tag", "tag", -1290361223), f], null);
    } else {
      if (f instanceof cljs.core.Keyword) {
        return cljs.core.PersistentArrayMap.fromArray([f, true], true, false);
      } else {
        return f;
      }
    }
  }
};
cljs.reader.wrapping_reader = function cljs$reader$wrapping_reader(sym) {
  return function(rdr, _) {
    return cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, cljs.reader.read.call(null, rdr, true, null, true)), sym);
  };
};
cljs.reader.throwing_reader = function cljs$reader$throwing_reader(msg) {
  return function(rdr, _) {
    return cljs.reader.reader_error.call(null, rdr, msg);
  };
};
cljs.reader.read_meta = function cljs$reader$read_meta(rdr, _) {
  var m = cljs.reader.desugar_meta.call(null, cljs.reader.read.call(null, rdr, true, null, true));
  if (cljs.core.map_QMARK_.call(null, m)) {
  } else {
    cljs.reader.reader_error.call(null, rdr, "Metadata must be Symbol,Keyword,String or Map");
  }
  var o = cljs.reader.read.call(null, rdr, true, null, true);
  if (!(o == null) ? o.cljs$lang$protocol_mask$partition0$ & 262144 || o.cljs$core$IWithMeta$ ? true : !o.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_.call(null, cljs.core.IWithMeta, o) : false : cljs.core.native_satisfies_QMARK_.call(null, cljs.core.IWithMeta, o)) {
    return cljs.core.with_meta.call(null, o, cljs.core.merge.call(null, cljs.core.meta.call(null, o), m));
  } else {
    return cljs.reader.reader_error.call(null, rdr, "Metadata can only be applied to IWithMetas");
  }
};
cljs.reader.read_set = function cljs$reader$read_set(rdr, _) {
  return cljs.core.set.call(null, cljs.reader.read_delimited_list.call(null, "}", rdr, true));
};
cljs.reader.read_regex = function cljs$reader$read_regex(rdr, ch) {
  return cljs.core.re_pattern.call(null, cljs.reader.read_raw_string_STAR_.call(null, rdr, ch));
};
cljs.reader.read_discard = function cljs$reader$read_discard(rdr, _) {
  cljs.reader.read.call(null, rdr, true, null, true);
  return rdr;
};
cljs.reader.macros = function cljs$reader$macros(c) {
  if (c === '"') {
    return cljs.reader.read_string_STAR_;
  } else {
    if (c === ":") {
      return cljs.reader.read_keyword;
    } else {
      if (c === ";") {
        return cljs.reader.read_comment;
      } else {
        if (c === "'") {
          return cljs.reader.wrapping_reader.call(null, new cljs.core.Symbol(null, "quote", "quote", 1377916282, null));
        } else {
          if (c === "@") {
            return cljs.reader.wrapping_reader.call(null, new cljs.core.Symbol(null, "deref", "deref", 1494944732, null));
          } else {
            if (c === "^") {
              return cljs.reader.read_meta;
            } else {
              if (c === "`") {
                return cljs.reader.not_implemented;
              } else {
                if (c === "~") {
                  return cljs.reader.not_implemented;
                } else {
                  if (c === "(") {
                    return cljs.reader.read_list;
                  } else {
                    if (c === ")") {
                      return cljs.reader.read_unmatched_delimiter;
                    } else {
                      if (c === "[") {
                        return cljs.reader.read_vector;
                      } else {
                        if (c === "]") {
                          return cljs.reader.read_unmatched_delimiter;
                        } else {
                          if (c === "{") {
                            return cljs.reader.read_map;
                          } else {
                            if (c === "}") {
                              return cljs.reader.read_unmatched_delimiter;
                            } else {
                              if (c === "\\") {
                                return cljs.reader.read_literal;
                              } else {
                                if (c === "#") {
                                  return cljs.reader.read_dispatch;
                                } else {
                                  return null;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
};
cljs.reader.dispatch_macros = function cljs$reader$dispatch_macros(s) {
  if (s === "{") {
    return cljs.reader.read_set;
  } else {
    if (s === "\x3c") {
      return cljs.reader.throwing_reader.call(null, "Unreadable form");
    } else {
      if (s === '"') {
        return cljs.reader.read_regex;
      } else {
        if (s === "!") {
          return cljs.reader.read_comment;
        } else {
          if (s === "_") {
            return cljs.reader.read_discard;
          } else {
            return null;
          }
        }
      }
    }
  }
};
cljs.reader.read = function cljs$reader$read(reader, eof_is_error, sentinel, is_recursive) {
  while (true) {
    var ch = cljs.reader.read_char.call(null, reader);
    if (ch == null) {
      if (cljs.core.truth_(eof_is_error)) {
        return cljs.reader.reader_error.call(null, reader, "EOF while reading");
      } else {
        return sentinel;
      }
    } else {
      if (cljs.reader.whitespace_QMARK_.call(null, ch)) {
        var G__11449 = reader;
        var G__11450 = eof_is_error;
        var G__11451 = sentinel;
        var G__11452 = is_recursive;
        reader = G__11449;
        eof_is_error = G__11450;
        sentinel = G__11451;
        is_recursive = G__11452;
        continue;
      } else {
        if (cljs.reader.comment_prefix_QMARK_.call(null, ch)) {
          var G__11453 = cljs.reader.read_comment.call(null, reader, ch);
          var G__11454 = eof_is_error;
          var G__11455 = sentinel;
          var G__11456 = is_recursive;
          reader = G__11453;
          eof_is_error = G__11454;
          sentinel = G__11455;
          is_recursive = G__11456;
          continue;
        } else {
          var f = cljs.reader.macros.call(null, ch);
          var res = cljs.core.truth_(f) ? f.call(null, reader, ch) : cljs.reader.number_literal_QMARK_.call(null, reader, ch) ? cljs.reader.read_number.call(null, reader, ch) : cljs.reader.read_symbol.call(null, reader, ch);
          if (res === reader) {
            var G__11457 = reader;
            var G__11458 = eof_is_error;
            var G__11459 = sentinel;
            var G__11460 = is_recursive;
            reader = G__11457;
            eof_is_error = G__11458;
            sentinel = G__11459;
            is_recursive = G__11460;
            continue;
          } else {
            return res;
          }
        }
      }
    }
    break;
  }
};
cljs.reader.read_string = function cljs$reader$read_string(s) {
  if (typeof s === "string") {
  } else {
    throw new Error("Cannot read from non-string object.");
  }
  var r = cljs.reader.push_back_reader.call(null, s);
  return cljs.reader.read.call(null, r, false, null, false);
};
cljs.reader.zero_fill_right_and_truncate = function cljs$reader$zero_fill_right_and_truncate(s, width) {
  if (cljs.core._EQ_.call(null, width, cljs.core.count.call(null, s))) {
    return s;
  } else {
    if (width < cljs.core.count.call(null, s)) {
      return cljs.core.subs.call(null, s, 0, width);
    } else {
      var b = new goog.string.StringBuffer(s);
      while (true) {
        if (b.getLength() < width) {
          var G__11461 = b.append("0");
          b = G__11461;
          continue;
        } else {
          return b.toString();
        }
        break;
      }
    }
  }
};
cljs.reader.divisible_QMARK_ = function cljs$reader$divisible_QMARK_(num, div) {
  return cljs.core.mod.call(null, num, div) === 0;
};
cljs.reader.indivisible_QMARK_ = function cljs$reader$indivisible_QMARK_(num, div) {
  return cljs.core.not.call(null, cljs.reader.divisible_QMARK_.call(null, num, div));
};
cljs.reader.leap_year_QMARK_ = function cljs$reader$leap_year_QMARK_(year) {
  var and__6144__auto__ = cljs.reader.divisible_QMARK_.call(null, year, 4);
  if (cljs.core.truth_(and__6144__auto__)) {
    var or__6156__auto__ = cljs.reader.indivisible_QMARK_.call(null, year, 100);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return cljs.reader.divisible_QMARK_.call(null, year, 400);
    }
  } else {
    return and__6144__auto__;
  }
};
cljs.reader.days_in_month = function() {
  var dim_norm = new cljs.core.PersistentVector(null, 13, 5, cljs.core.PersistentVector.EMPTY_NODE, [null, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], null);
  var dim_leap = new cljs.core.PersistentVector(null, 13, 5, cljs.core.PersistentVector.EMPTY_NODE, [null, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], null);
  return function(dim_norm, dim_leap) {
    return function(month, leap_year_QMARK_) {
      return cljs.core.get.call(null, cljs.core.truth_(leap_year_QMARK_) ? dim_leap : dim_norm, month);
    };
  }(dim_norm, dim_leap);
}();
cljs.reader.timestamp_regex = /(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;
cljs.reader.parse_int = function cljs$reader$parse_int(s) {
  var n = parseInt(s, 10);
  if (cljs.core.not.call(null, isNaN(n))) {
    return n;
  } else {
    return null;
  }
};
cljs.reader.check = function cljs$reader$check(low, n, high, msg) {
  if (low <= n && n <= high) {
  } else {
    cljs.reader.reader_error.call(null, null, [cljs.core.str(msg), cljs.core.str(" Failed:  "), cljs.core.str(low), cljs.core.str("\x3c\x3d"), cljs.core.str(n), cljs.core.str("\x3c\x3d"), cljs.core.str(high)].join(""));
  }
  return n;
};
cljs.reader.parse_and_validate_timestamp = function cljs$reader$parse_and_validate_timestamp(s) {
  var vec__11463 = cljs.core.re_matches.call(null, cljs.reader.timestamp_regex, s);
  var _ = cljs.core.nth.call(null, vec__11463, 0, null);
  var years = cljs.core.nth.call(null, vec__11463, 1, null);
  var months = cljs.core.nth.call(null, vec__11463, 2, null);
  var days = cljs.core.nth.call(null, vec__11463, 3, null);
  var hours = cljs.core.nth.call(null, vec__11463, 4, null);
  var minutes = cljs.core.nth.call(null, vec__11463, 5, null);
  var seconds = cljs.core.nth.call(null, vec__11463, 6, null);
  var fraction = cljs.core.nth.call(null, vec__11463, 7, null);
  var offset_sign = cljs.core.nth.call(null, vec__11463, 8, null);
  var offset_hours = cljs.core.nth.call(null, vec__11463, 9, null);
  var offset_minutes = cljs.core.nth.call(null, vec__11463, 10, null);
  var v = vec__11463;
  if (cljs.core.not.call(null, v)) {
    return cljs.reader.reader_error.call(null, null, [cljs.core.str("Unrecognized date/time syntax: "), cljs.core.str(s)].join(""));
  } else {
    var years__$1 = cljs.reader.parse_int.call(null, years);
    var months__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, months);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 1;
      }
    }();
    var days__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, days);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 1;
      }
    }();
    var hours__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, hours);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var minutes__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, minutes);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var seconds__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, seconds);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var fraction__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, cljs.reader.zero_fill_right_and_truncate.call(null, fraction, 3));
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var offset_sign__$1 = cljs.core._EQ_.call(null, offset_sign, "-") ? -1 : 1;
    var offset_hours__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, offset_hours);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var offset_minutes__$1 = function() {
      var or__6156__auto__ = cljs.reader.parse_int.call(null, offset_minutes);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        return 0;
      }
    }();
    var offset = offset_sign__$1 * (offset_hours__$1 * 60 + offset_minutes__$1);
    return new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [years__$1, cljs.reader.check.call(null, 1, months__$1, 12, "timestamp month field must be in range 1..12"), cljs.reader.check.call(null, 1, days__$1, cljs.reader.days_in_month.call(null, months__$1, cljs.reader.leap_year_QMARK_.call(null, years__$1)), "timestamp day field must be in range 1..last day in month"), cljs.reader.check.call(null, 0, hours__$1, 23, "timestamp hour field must be in range 0..23"), 
    cljs.reader.check.call(null, 0, minutes__$1, 59, "timestamp minute field must be in range 0..59"), cljs.reader.check.call(null, 0, seconds__$1, cljs.core._EQ_.call(null, minutes__$1, 59) ? 60 : 59, "timestamp second field must be in range 0..60"), cljs.reader.check.call(null, 0, fraction__$1, 999, "timestamp millisecond field must be in range 0..999"), offset], null);
  }
};
cljs.reader.parse_timestamp = function cljs$reader$parse_timestamp(ts) {
  var temp__4655__auto__ = cljs.reader.parse_and_validate_timestamp.call(null, ts);
  if (cljs.core.truth_(temp__4655__auto__)) {
    var vec__11465 = temp__4655__auto__;
    var years = cljs.core.nth.call(null, vec__11465, 0, null);
    var months = cljs.core.nth.call(null, vec__11465, 1, null);
    var days = cljs.core.nth.call(null, vec__11465, 2, null);
    var hours = cljs.core.nth.call(null, vec__11465, 3, null);
    var minutes = cljs.core.nth.call(null, vec__11465, 4, null);
    var seconds = cljs.core.nth.call(null, vec__11465, 5, null);
    var ms = cljs.core.nth.call(null, vec__11465, 6, null);
    var offset = cljs.core.nth.call(null, vec__11465, 7, null);
    return new Date(Date.UTC(years, months - 1, days, hours, minutes, seconds, ms) - offset * 60 * 1E3);
  } else {
    return cljs.reader.reader_error.call(null, null, [cljs.core.str("Unrecognized date/time syntax: "), cljs.core.str(ts)].join(""));
  }
};
cljs.reader.read_date = function cljs$reader$read_date(s) {
  if (typeof s === "string") {
    return cljs.reader.parse_timestamp.call(null, s);
  } else {
    return cljs.reader.reader_error.call(null, null, "Instance literal expects a string for its timestamp.");
  }
};
cljs.reader.read_queue = function cljs$reader$read_queue(elems) {
  if (cljs.core.vector_QMARK_.call(null, elems)) {
    return cljs.core.into.call(null, cljs.core.PersistentQueue.EMPTY, elems);
  } else {
    return cljs.reader.reader_error.call(null, null, "Queue literal expects a vector for its elements.");
  }
};
cljs.reader.read_js = function cljs$reader$read_js(form) {
  if (cljs.core.vector_QMARK_.call(null, form)) {
    var arr = [];
    var seq__11478_11490 = cljs.core.seq.call(null, form);
    var chunk__11479_11491 = null;
    var count__11480_11492 = 0;
    var i__11481_11493 = 0;
    while (true) {
      if (i__11481_11493 < count__11480_11492) {
        var x_11494 = cljs.core._nth.call(null, chunk__11479_11491, i__11481_11493);
        arr.push(x_11494);
        var G__11495 = seq__11478_11490;
        var G__11496 = chunk__11479_11491;
        var G__11497 = count__11480_11492;
        var G__11498 = i__11481_11493 + 1;
        seq__11478_11490 = G__11495;
        chunk__11479_11491 = G__11496;
        count__11480_11492 = G__11497;
        i__11481_11493 = G__11498;
        continue;
      } else {
        var temp__4657__auto___11499 = cljs.core.seq.call(null, seq__11478_11490);
        if (temp__4657__auto___11499) {
          var seq__11478_11500__$1 = temp__4657__auto___11499;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__11478_11500__$1)) {
            var c__6959__auto___11501 = cljs.core.chunk_first.call(null, seq__11478_11500__$1);
            var G__11502 = cljs.core.chunk_rest.call(null, seq__11478_11500__$1);
            var G__11503 = c__6959__auto___11501;
            var G__11504 = cljs.core.count.call(null, c__6959__auto___11501);
            var G__11505 = 0;
            seq__11478_11490 = G__11502;
            chunk__11479_11491 = G__11503;
            count__11480_11492 = G__11504;
            i__11481_11493 = G__11505;
            continue;
          } else {
            var x_11506 = cljs.core.first.call(null, seq__11478_11500__$1);
            arr.push(x_11506);
            var G__11507 = cljs.core.next.call(null, seq__11478_11500__$1);
            var G__11508 = null;
            var G__11509 = 0;
            var G__11510 = 0;
            seq__11478_11490 = G__11507;
            chunk__11479_11491 = G__11508;
            count__11480_11492 = G__11509;
            i__11481_11493 = G__11510;
            continue;
          }
        } else {
        }
      }
      break;
    }
    return arr;
  } else {
    if (cljs.core.map_QMARK_.call(null, form)) {
      var obj = {};
      var seq__11484_11511 = cljs.core.seq.call(null, form);
      var chunk__11485_11512 = null;
      var count__11486_11513 = 0;
      var i__11487_11514 = 0;
      while (true) {
        if (i__11487_11514 < count__11486_11513) {
          var vec__11488_11515 = cljs.core._nth.call(null, chunk__11485_11512, i__11487_11514);
          var k_11516 = cljs.core.nth.call(null, vec__11488_11515, 0, null);
          var v_11517 = cljs.core.nth.call(null, vec__11488_11515, 1, null);
          obj[cljs.core.name.call(null, k_11516)] = v_11517;
          var G__11518 = seq__11484_11511;
          var G__11519 = chunk__11485_11512;
          var G__11520 = count__11486_11513;
          var G__11521 = i__11487_11514 + 1;
          seq__11484_11511 = G__11518;
          chunk__11485_11512 = G__11519;
          count__11486_11513 = G__11520;
          i__11487_11514 = G__11521;
          continue;
        } else {
          var temp__4657__auto___11522 = cljs.core.seq.call(null, seq__11484_11511);
          if (temp__4657__auto___11522) {
            var seq__11484_11523__$1 = temp__4657__auto___11522;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__11484_11523__$1)) {
              var c__6959__auto___11524 = cljs.core.chunk_first.call(null, seq__11484_11523__$1);
              var G__11525 = cljs.core.chunk_rest.call(null, seq__11484_11523__$1);
              var G__11526 = c__6959__auto___11524;
              var G__11527 = cljs.core.count.call(null, c__6959__auto___11524);
              var G__11528 = 0;
              seq__11484_11511 = G__11525;
              chunk__11485_11512 = G__11526;
              count__11486_11513 = G__11527;
              i__11487_11514 = G__11528;
              continue;
            } else {
              var vec__11489_11529 = cljs.core.first.call(null, seq__11484_11523__$1);
              var k_11530 = cljs.core.nth.call(null, vec__11489_11529, 0, null);
              var v_11531 = cljs.core.nth.call(null, vec__11489_11529, 1, null);
              obj[cljs.core.name.call(null, k_11530)] = v_11531;
              var G__11532 = cljs.core.next.call(null, seq__11484_11523__$1);
              var G__11533 = null;
              var G__11534 = 0;
              var G__11535 = 0;
              seq__11484_11511 = G__11532;
              chunk__11485_11512 = G__11533;
              count__11486_11513 = G__11534;
              i__11487_11514 = G__11535;
              continue;
            }
          } else {
          }
        }
        break;
      }
      return obj;
    } else {
      return cljs.reader.reader_error.call(null, null, [cljs.core.str("JS literal expects a vector or map containing "), cljs.core.str("only string or unqualified keyword keys")].join(""));
    }
  }
};
cljs.reader.read_uuid = function cljs$reader$read_uuid(uuid) {
  if (typeof uuid === "string") {
    return cljs.core.uuid.call(null, uuid);
  } else {
    return cljs.reader.reader_error.call(null, null, "UUID literal expects a string as its representation.");
  }
};
cljs.reader._STAR_tag_table_STAR_ = cljs.core.atom.call(null, new cljs.core.PersistentArrayMap(null, 4, ["inst", cljs.reader.read_date, "uuid", cljs.reader.read_uuid, "queue", cljs.reader.read_queue, "js", cljs.reader.read_js], null));
cljs.reader._STAR_default_data_reader_fn_STAR_ = cljs.core.atom.call(null, null);
cljs.reader.maybe_read_tagged_type = function cljs$reader$maybe_read_tagged_type(rdr, initch) {
  var tag = cljs.reader.read_symbol.call(null, rdr, initch);
  var pfn = cljs.core.get.call(null, cljs.core.deref.call(null, cljs.reader._STAR_tag_table_STAR_), [cljs.core.str(tag)].join(""));
  var dfn = cljs.core.deref.call(null, cljs.reader._STAR_default_data_reader_fn_STAR_);
  if (cljs.core.truth_(pfn)) {
    return pfn.call(null, cljs.reader.read.call(null, rdr, true, null, false));
  } else {
    if (cljs.core.truth_(dfn)) {
      return dfn.call(null, tag, cljs.reader.read.call(null, rdr, true, null, false));
    } else {
      return cljs.reader.reader_error.call(null, rdr, "Could not find tag parser for ", [cljs.core.str(tag)].join(""), " in ", cljs.core.pr_str.call(null, cljs.core.keys.call(null, cljs.core.deref.call(null, cljs.reader._STAR_tag_table_STAR_))));
    }
  }
};
cljs.reader.register_tag_parser_BANG_ = function cljs$reader$register_tag_parser_BANG_(tag, f) {
  var tag__$1 = [cljs.core.str(tag)].join("");
  var old_parser = cljs.core.get.call(null, cljs.core.deref.call(null, cljs.reader._STAR_tag_table_STAR_), tag__$1);
  cljs.core.swap_BANG_.call(null, cljs.reader._STAR_tag_table_STAR_, cljs.core.assoc, tag__$1, f);
  return old_parser;
};
cljs.reader.deregister_tag_parser_BANG_ = function cljs$reader$deregister_tag_parser_BANG_(tag) {
  var tag__$1 = [cljs.core.str(tag)].join("");
  var old_parser = cljs.core.get.call(null, cljs.core.deref.call(null, cljs.reader._STAR_tag_table_STAR_), tag__$1);
  cljs.core.swap_BANG_.call(null, cljs.reader._STAR_tag_table_STAR_, cljs.core.dissoc, tag__$1);
  return old_parser;
};
cljs.reader.register_default_tag_parser_BANG_ = function cljs$reader$register_default_tag_parser_BANG_(f) {
  var old_parser = cljs.core.deref.call(null, cljs.reader._STAR_default_data_reader_fn_STAR_);
  cljs.core.swap_BANG_.call(null, cljs.reader._STAR_default_data_reader_fn_STAR_, function(old_parser) {
    return function(_) {
      return f;
    };
  }(old_parser));
  return old_parser;
};
cljs.reader.deregister_default_tag_parser_BANG_ = function cljs$reader$deregister_default_tag_parser_BANG_() {
  var old_parser = cljs.core.deref.call(null, cljs.reader._STAR_default_data_reader_fn_STAR_);
  cljs.core.swap_BANG_.call(null, cljs.reader._STAR_default_data_reader_fn_STAR_, function(old_parser) {
    return function(_) {
      return null;
    };
  }(old_parser));
  return old_parser;
};
goog.provide("kuroi.settings");
goog.require("cljs.core");
goog.require("goog.Uri");
goog.require("kuroi.base");
goog.require("goog.dom");
goog.require("goog.ui.FlatButtonRenderer");
goog.require("clojure.set");
goog.require("goog.ui.Tooltip");
goog.require("kuroi.io");
goog.require("goog.object");
goog.require("goog.ui.Button");
goog.require("goog.events");
goog.require("goog.array");
goog.require("clojure.string");
goog.require("cljs.reader");
kuroi.settings._STAR_default_settings_STAR_ = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null, "theme", "theme", -1247880880), "dark", new cljs.core.Keyword(null, "remember-expanded", "remember-expanded", 1027632212), true, new cljs.core.Keyword(null, "pin-watch-items", "pin-watch-items", 443772892), true, new cljs.core.Keyword(null, "watch-autoload", "watch-autoload", -2090055653), true], null);
kuroi.settings._STAR_settings_STAR_ = cljs.core.atom.call(null, kuroi.settings._STAR_default_settings_STAR_);
kuroi.settings.enabled_QMARK_ = function kuroi$settings$enabled_QMARK_(check) {
  if (cljs.core.truth_(check.checked)) {
    return true;
  } else {
    return null;
  }
};
kuroi.settings.sanitize = function kuroi$settings$sanitize(content) {
  return clojure.string.escape.call(null, content, new cljs.core.PersistentArrayMap(null, 4, ["\x3c", "\x26lt;", "\x3e", "\x26gt;", '"', "\x26quot;", "'", "\x26#39;"], null));
};
kuroi.settings.remember_threads = function kuroi$settings$remember_threads() {
  return kuroi.io.wipe_data.call(null, new cljs.core.Symbol(null, "forgotten", "forgotten", -1604926255, null));
};
kuroi.settings.clear_watch = function kuroi$settings$clear_watch() {
  return kuroi.io.wipe_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null));
};
kuroi.settings.clear_data = function kuroi$settings$clear_data() {
  kuroi.io.wipe_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null));
  kuroi.io.wipe_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null));
  return kuroi.io.wipe_data.call(null, new cljs.core.Symbol(null, "forgotten", "forgotten", -1604926255, null));
};
kuroi.settings.parse_wordfilter = function kuroi$settings$parse_wordfilter(words) {
  if (cljs.core.truth_(words)) {
    return cljs.core.doall.call(null, cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), function() {
      var iter__6928__auto__ = function kuroi$settings$parse_wordfilter_$_iter__11542(s__11543) {
        return new cljs.core.LazySeq(null, function() {
          var s__11543__$1 = s__11543;
          while (true) {
            var temp__4657__auto__ = cljs.core.seq.call(null, s__11543__$1);
            if (temp__4657__auto__) {
              var s__11543__$2 = temp__4657__auto__;
              if (cljs.core.chunked_seq_QMARK_.call(null, s__11543__$2)) {
                var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11543__$2);
                var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                var b__11545 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                if (function() {
                  var i__11544 = 0;
                  while (true) {
                    if (i__11544 < size__6927__auto__) {
                      var word = cljs.core._nth.call(null, c__6926__auto__, i__11544);
                      cljs.core.chunk_append.call(null, b__11545, function() {
                        var word__$1 = clojure.string.trim.call(null, word);
                        if (!clojure.string.blank_QMARK_.call(null, word__$1)) {
                          if (cljs.core._EQ_.call(null, cljs.core.get.call(null, word__$1, 0), "#")) {
                            return word__$1;
                          } else {
                            return clojure.string.lower_case.call(null, word__$1);
                          }
                        } else {
                          return null;
                        }
                      }());
                      var G__11546 = i__11544 + 1;
                      i__11544 = G__11546;
                      continue;
                    } else {
                      return true;
                    }
                    break;
                  }
                }()) {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11545), kuroi$settings$parse_wordfilter_$_iter__11542.call(null, cljs.core.chunk_rest.call(null, s__11543__$2)));
                } else {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11545), null);
                }
              } else {
                var word = cljs.core.first.call(null, s__11543__$2);
                return cljs.core.cons.call(null, function() {
                  var word__$1 = clojure.string.trim.call(null, word);
                  if (!clojure.string.blank_QMARK_.call(null, word__$1)) {
                    if (cljs.core._EQ_.call(null, cljs.core.get.call(null, word__$1, 0), "#")) {
                      return word__$1;
                    } else {
                      return clojure.string.lower_case.call(null, word__$1);
                    }
                  } else {
                    return null;
                  }
                }(), kuroi$settings$parse_wordfilter_$_iter__11542.call(null, cljs.core.rest.call(null, s__11543__$2)));
              }
            } else {
              return null;
            }
            break;
          }
        }, null, null);
      };
      return iter__6928__auto__.call(null, clojure.string.split.call(null, kuroi.settings.sanitize.call(null, words), /\n/));
    }()));
  } else {
    return null;
  }
};
kuroi.settings.parse_defs = function kuroi$settings$parse_defs(defs) {
  if (cljs.core.truth_(defs)) {
    return cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), function() {
      var iter__6928__auto__ = function kuroi$settings$parse_defs_$_iter__11551(s__11552) {
        return new cljs.core.LazySeq(null, function() {
          var s__11552__$1 = s__11552;
          while (true) {
            var temp__4657__auto__ = cljs.core.seq.call(null, s__11552__$1);
            if (temp__4657__auto__) {
              var s__11552__$2 = temp__4657__auto__;
              if (cljs.core.chunked_seq_QMARK_.call(null, s__11552__$2)) {
                var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11552__$2);
                var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                var b__11554 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                if (function() {
                  var i__11553 = 0;
                  while (true) {
                    if (i__11553 < size__6927__auto__) {
                      var chan = cljs.core._nth.call(null, c__6926__auto__, i__11553);
                      cljs.core.chunk_append.call(null, b__11554, function() {
                        var chan__$1 = clojure.string.trim.call(null, chan);
                        if (!clojure.string.blank_QMARK_.call(null, chan__$1)) {
                          var colon = chan__$1.indexOf(":");
                          return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [chan__$1.substring(0, colon), chan__$1.substring(colon)], null);
                        } else {
                          return null;
                        }
                      }());
                      var G__11555 = i__11553 + 1;
                      i__11553 = G__11555;
                      continue;
                    } else {
                      return true;
                    }
                    break;
                  }
                }()) {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11554), kuroi$settings$parse_defs_$_iter__11551.call(null, cljs.core.chunk_rest.call(null, s__11552__$2)));
                } else {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11554), null);
                }
              } else {
                var chan = cljs.core.first.call(null, s__11552__$2);
                return cljs.core.cons.call(null, function() {
                  var chan__$1 = clojure.string.trim.call(null, chan);
                  if (!clojure.string.blank_QMARK_.call(null, chan__$1)) {
                    var colon = chan__$1.indexOf(":");
                    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [chan__$1.substring(0, colon), chan__$1.substring(colon)], null);
                  } else {
                    return null;
                  }
                }(), kuroi$settings$parse_defs_$_iter__11551.call(null, cljs.core.rest.call(null, s__11552__$2)));
              }
            } else {
              return null;
            }
            break;
          }
        }, null, null);
      };
      return iter__6928__auto__.call(null, clojure.string.split.call(null, defs, /\n/));
    }()));
  } else {
    return null;
  }
};
kuroi.settings.save_settings = function kuroi$settings$save_settings() {
  var settings = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null, "pin-watch-items", "pin-watch-items", 443772892), kuroi.settings.enabled_QMARK_.call(null, goog.dom.getElement("watch-first")), new cljs.core.Keyword(null, "remember-expanded", "remember-expanded", 1027632212), kuroi.settings.enabled_QMARK_.call(null, goog.dom.getElement("remember-expanded")), new cljs.core.Keyword(null, "wf-title", "wf-title", -207366068), goog.dom.getElement("wf-title-words").value, new cljs.core.Keyword(null, 
  "wf-post", "wf-post", -686485961), goog.dom.getElement("wf-post-words").value, new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674), kuroi.settings.enabled_QMARK_.call(null, goog.dom.getElement("wf-enable")), new cljs.core.Keyword(null, "theme", "theme", -1247880880), goog.dom.getElement("theme").value, new cljs.core.Keyword(null, "force-text", "force-text", 264793469), kuroi.settings.enabled_QMARK_.call(null, goog.dom.getElement("force-textonly"))], null);
  var wf_title_parsed = kuroi.settings.parse_wordfilter.call(null, goog.dom.getElement("wf-title-words").value);
  var wf_post_parsed = kuroi.settings.parse_wordfilter.call(null, goog.dom.getElement("wf-post-words").value);
  var settings__$1 = cljs.core.assoc.call(null, settings, new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850), wf_title_parsed, new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627), wf_post_parsed, new cljs.core.Keyword(null, "default-params", "default-params", -924966242), goog.dom.getElement("favorites").value, new cljs.core.Keyword(null, "default-params-map", "default-params-map", 1393263443), kuroi.settings.parse_defs.call(null, goog.dom.getElement("favorites").value));
  cljs.core.reset_BANG_.call(null, kuroi.settings._STAR_settings_STAR_, settings__$1);
  kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), "theme", new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "content", "content", 15833224), (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings__$1)], null));
  kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), "settings", new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "content", "content", 15833224), cljs.core.pr_str.call(null, settings__$1)], null));
  return kuroi.io.notify_settings_changed.call(null);
};
kuroi.settings.prepare_wordfilter = function kuroi$settings$prepare_wordfilter(words) {
  var iter__6928__auto__ = function kuroi$settings$prepare_wordfilter_$_iter__11560(s__11561) {
    return new cljs.core.LazySeq(null, function() {
      var s__11561__$1 = s__11561;
      while (true) {
        var temp__4657__auto__ = cljs.core.seq.call(null, s__11561__$1);
        if (temp__4657__auto__) {
          var s__11561__$2 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, s__11561__$2)) {
            var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11561__$2);
            var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
            var b__11563 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
            if (function() {
              var i__11562 = 0;
              while (true) {
                if (i__11562 < size__6927__auto__) {
                  var w = cljs.core._nth.call(null, c__6926__auto__, i__11562);
                  cljs.core.chunk_append.call(null, b__11563, cljs.core._EQ_.call(null, cljs.core.get.call(null, w, 0), "#") ? cljs.core.re_pattern.call(null, [cljs.core.str("(?i)"), cljs.core.str(w.substring(1))].join("")) : w);
                  var G__11564 = i__11562 + 1;
                  i__11562 = G__11564;
                  continue;
                } else {
                  return true;
                }
                break;
              }
            }()) {
              return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11563), kuroi$settings$prepare_wordfilter_$_iter__11560.call(null, cljs.core.chunk_rest.call(null, s__11561__$2)));
            } else {
              return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11563), null);
            }
          } else {
            var w = cljs.core.first.call(null, s__11561__$2);
            return cljs.core.cons.call(null, cljs.core._EQ_.call(null, cljs.core.get.call(null, w, 0), "#") ? cljs.core.re_pattern.call(null, [cljs.core.str("(?i)"), cljs.core.str(w.substring(1))].join("")) : w, kuroi$settings$prepare_wordfilter_$_iter__11560.call(null, cljs.core.rest.call(null, s__11561__$2)));
          }
        } else {
          return null;
        }
        break;
      }
    }, null, null);
  };
  return iter__6928__auto__.call(null, words);
};
kuroi.settings.load_settings = function kuroi$settings$load_settings(callback) {
  return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), new cljs.core.Symbol(null, "content", "content", 1656364751, null), "settings", function(settings_str) {
    if (cljs.core.truth_(settings_str)) {
      var settings = cljs.reader.read_string.call(null, settings_str);
      cljs.core.reset_BANG_.call(null, kuroi.settings._STAR_settings_STAR_, cljs.core.assoc.call(null, settings, new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850), kuroi.settings.prepare_wordfilter.call(null, (new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850)).cljs$core$IFn$_invoke$arity$1(settings)), new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627), kuroi.settings.prepare_wordfilter.call(null, (new cljs.core.Keyword(null, 
      "wf-post-parsed", "wf-post-parsed", -380297627)).cljs$core$IFn$_invoke$arity$1(settings))));
      return callback.call(null, cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_));
    } else {
      return callback.call(null, cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_));
    }
  });
};
goog.exportSymbol("kuroi.settings.load_settings", kuroi.settings.load_settings);
kuroi.settings.get_for = function kuroi$settings$get_for(target) {
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = target;
    if (cljs.core.truth_(and__6144__auto__)) {
      return cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target), "iichan.hk") && cljs.core.not.call(null, (new cljs.core.Keyword(null, "bypass", "bypass", -694667221)).cljs$core$IFn$_invoke$arity$1(target));
    } else {
      return and__6144__auto__;
    }
  }())) {
    return cljs.core.merge.call(null, cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_), new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674), true, new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850), clojure.set.union.call(null, (new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_)), 
    kuroi.settings.prepare_wordfilter.call(null, (new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850)).cljs$core$IFn$_invoke$arity$1(kuroi.base._STAR_iichan_hk_wf_STAR_))), new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627), clojure.set.union.call(null, (new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_)), kuroi.settings.prepare_wordfilter.call(null, 
    (new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627)).cljs$core$IFn$_invoke$arity$1(kuroi.base._STAR_iichan_hk_wf_STAR_)))], null));
  } else {
    return cljs.core.deref.call(null, kuroi.settings._STAR_settings_STAR_);
  }
};
goog.provide("kuroi.filters");
goog.require("cljs.core");
goog.require("kuroi.io");
goog.require("kuroi.settings");
goog.require("clojure.string");
goog.require("cljs.reader");
kuroi.filters.re_quote = function kuroi$filters$re_quote(s) {
  var special = cljs.core.set.call(null, ".?*+^$[]\\(){}|");
  var escfn = function(special) {
    return function(p1__11567_SHARP_) {
      if (cljs.core.truth_(special.call(null, p1__11567_SHARP_))) {
        return [cljs.core.str("\\"), cljs.core.str(p1__11567_SHARP_)].join("");
      } else {
        return p1__11567_SHARP_;
      }
    };
  }(special);
  return cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, escfn, s));
};
kuroi.filters.user_pattern = function kuroi$filters$user_pattern(target) {
  if (cljs.core.truth_((new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target))) {
    return cljs.core.re_pattern.call(null, [cljs.core.str("(?i)(?:^|\x3e)[^\x3c]*"), cljs.core.str(kuroi.filters.re_quote.call(null, (new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target))), cljs.core.str("[^\x3c]*(?:$|\x3c)")].join(""));
  } else {
    return null;
  }
};
kuroi.filters.post_matches_QMARK_ = function kuroi$filters$post_matches_QMARK_(pattern, post) {
  var or__6156__auto__ = function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(post);
    if (cljs.core.truth_(and__6144__auto__)) {
      return cljs.core.re_find.call(null, pattern, (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(post));
    } else {
      return and__6144__auto__;
    }
  }();
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(post);
    if (cljs.core.truth_(and__6144__auto__)) {
      return cljs.core.re_find.call(null, pattern, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(post));
    } else {
      return and__6144__auto__;
    }
  }
};
kuroi.filters.filter_shallow = function kuroi$filters$filter_shallow(pattern, post, target) {
  if (cljs.core.truth_(pattern)) {
    if (cljs.core.truth_((new cljs.core.Keyword(null, "deep", "deep", 2090866875)).cljs$core$IFn$_invoke$arity$1(target))) {
      return post;
    } else {
      if (cljs.core.truth_(kuroi.filters.post_matches_QMARK_.call(null, pattern, post))) {
        return post;
      } else {
        return null;
      }
    }
  } else {
    return post;
  }
};
kuroi.filters.filter_deep = function kuroi$filters$filter_deep(pattern, threads, target) {
  if (cljs.core.truth_(pattern)) {
    if (cljs.core.truth_((new cljs.core.Keyword(null, "deep", "deep", 2090866875)).cljs$core$IFn$_invoke$arity$1(target))) {
      return cljs.core.filter.call(null, function(p1__11568_SHARP_) {
        var or__6156__auto__ = kuroi.filters.post_matches_QMARK_.call(null, pattern, p1__11568_SHARP_);
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.some.call(null, function(or__6156__auto__) {
            return function(child) {
              return kuroi.filters.post_matches_QMARK_.call(null, pattern, child);
            };
          }(or__6156__auto__), (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(p1__11568_SHARP_));
        }
      }, threads);
    } else {
      return cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), threads);
    }
  } else {
    return threads;
  }
};
kuroi.filters.wordfilter_matches_QMARK_ = function kuroi$filters$wordfilter_matches_QMARK_(text, words) {
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = text;
    if (cljs.core.truth_(and__6144__auto__)) {
      return words;
    } else {
      return and__6144__auto__;
    }
  }())) {
    var text_lc = clojure.string.lower_case.call(null, text);
    var words__$1 = words;
    while (true) {
      var word = cljs.core.first.call(null, words__$1);
      if (cljs.core.truth_(word)) {
        if (typeof word === "string") {
          if (text_lc.indexOf(word) >= 0) {
            return true;
          } else {
            var G__11569 = cljs.core.next.call(null, words__$1);
            words__$1 = G__11569;
            continue;
          }
        } else {
          if (cljs.core.truth_(cljs.core.re_find.call(null, word, text))) {
            return true;
          } else {
            var G__11570 = cljs.core.next.call(null, words__$1);
            words__$1 = G__11570;
            continue;
          }
        }
      } else {
        return null;
      }
      break;
    }
  } else {
    return null;
  }
};
kuroi.filters.filter_replies = function kuroi$filters$filter_replies(wf_post, thread, target) {
  var replies = (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread);
  return cljs.core.assoc.call(null, thread, new cljs.core.Keyword(null, "children", "children", -940561982), cljs.core.map.call(null, function(replies) {
    return function(reply) {
      if (cljs.core.truth_(kuroi.filters.wordfilter_matches_QMARK_.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(reply), wf_post))) {
        return cljs.core.assoc.call(null, reply, new cljs.core.Keyword(null, "text", "text", -1790561697), [cljs.core.str("\x3cspan class\x3d'red'\x3eCut by wordfilter \n                                 (\x3ca class\x3d\"red wf-trigger\" \n                                     data-onclick\x3d\"frontend.iv_expand_post(this, '"), cljs.core.str([cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(reply)), cljs.core.str("#"), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, 
        "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? "p" : null), cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(reply))].join("")), cljs.core.str("')\"\x3eview\x3c/a\x3e)\x3c/span\x3e")].join(""), new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), null, new cljs.core.Keyword(null, "image", "image", -58725096), null, new cljs.core.Keyword(null, "title", "title", 636505583), null, new cljs.core.Keyword(null, 
        "refs", "refs", -1560051448), null);
      } else {
        return reply;
      }
    };
  }(replies), (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread)));
};
kuroi.filters.sort_by_id = function kuroi$filters$sort_by_id(threads) {
  return cljs.core.sort_by.call(null, function(p1__11571_SHARP_) {
    var n = parseInt((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__11571_SHARP_));
    if (cljs.core.truth_(isNaN(n))) {
      return 0;
    } else {
      return n;
    }
  }, cljs.core._GT_, threads);
};
kuroi.filters.sort_by_id_QMARK_ = function kuroi$filters$sort_by_id_QMARK_(target, threads) {
  if (cljs.core.truth_((new cljs.core.Keyword(null, "sortid", "sortid", -1619197231)).cljs$core$IFn$_invoke$arity$1(target))) {
    return cljs.core.sort_by.call(null, function(p1__11572_SHARP_) {
      var n = parseInt((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__11572_SHARP_));
      if (cljs.core.truth_(isNaN(n))) {
        return 0;
      } else {
        return n;
      }
    }, cljs.core.truth_((new cljs.core.Keyword(null, "rev", "rev", 12702670)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core._LT_ : cljs.core._GT_, threads);
  } else {
    return threads;
  }
};
kuroi.filters.filter_seen_QMARK_ = function kuroi$filters$filter_seen_QMARK_(target, threads, seen_threads) {
  var seen = cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(th) {
    var last_reply = (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(cljs.core.last.call(null, (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(th)));
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(th), last_reply == null ? "0" : last_reply], null);
  }, threads));
  var to_show = cljs.core.truth_(function() {
    var and__6144__auto__ = seen_threads;
    if (cljs.core.truth_(and__6144__auto__)) {
      return (new cljs.core.Keyword(null, "new", "new", -2085437848)).cljs$core$IFn$_invoke$arity$1(target);
    } else {
      return and__6144__auto__;
    }
  }()) ? cljs.core.set.call(null, cljs.core.map.call(null, cljs.core.key, cljs.core.filter.call(null, function(seen) {
    return function(p1__11573_SHARP_) {
      var prev = cljs.core.find.call(null, seen_threads, cljs.core.key.call(null, p1__11573_SHARP_));
      return cljs.core.not.call(null, prev) || parseInt(cljs.core.val.call(null, p1__11573_SHARP_)) > parseInt(cljs.core.val.call(null, prev));
    };
  }(seen), seen))) : null;
  kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "seen", "seen", -518999789), cljs.core.pr_str.call(null, seen)], null));
  if (cljs.core.truth_(to_show)) {
    return cljs.core.filter.call(null, function(seen, to_show) {
      return function(p1__11574_SHARP_) {
        return to_show.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__11574_SHARP_));
      };
    }(seen, to_show), threads);
  } else {
    return threads;
  }
};
kuroi.filters.filter_expanded_QMARK_ = function kuroi$filters$filter_expanded_QMARK_(target, threads, expanded_threads) {
  if (cljs.core.truth_(expanded_threads)) {
    return cljs.core.map.call(null, function(p1__11575_SHARP_) {
      if (cljs.core.truth_(expanded_threads.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__11575_SHARP_)))) {
        return cljs.core.assoc.call(null, p1__11575_SHARP_, new cljs.core.Keyword(null, "expanded", "expanded", -3020742), true);
      } else {
        return p1__11575_SHARP_;
      }
    }, threads);
  } else {
    return threads;
  }
};
kuroi.filters.do_filter = function kuroi$filters$do_filter(threads, target, callback, settings, forgotten_threads, threads_on_watch, seen_threads, expanded_threads) {
  var pin_watched_QMARK_ = (new cljs.core.Keyword(null, "pin-watch-items", "pin-watch-items", 443772892)).cljs$core$IFn$_invoke$arity$1(settings);
  var wf_enabled_QMARK_ = (new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674)).cljs$core$IFn$_invoke$arity$1(settings);
  var wf_title = (new cljs.core.Keyword(null, "wf-title-parsed", "wf-title-parsed", 1264378850)).cljs$core$IFn$_invoke$arity$1(settings);
  var wf_post = (new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627)).cljs$core$IFn$_invoke$arity$1(settings);
  var all = threads;
  var shown = cljs.core.PersistentVector.EMPTY;
  var watch = cljs.core.PersistentArrayMap.EMPTY;
  var filtered = 0;
  var forgotten = 0;
  while (true) {
    var th = cljs.core.first.call(null, all);
    if (cljs.core.truth_(th)) {
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = forgotten_threads;
        if (cljs.core.truth_(and__6144__auto__)) {
          return cljs.core.contains_QMARK_.call(null, forgotten_threads, (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th));
        } else {
          return and__6144__auto__;
        }
      }())) {
        var G__11582 = cljs.core.next.call(null, all);
        var G__11583 = shown;
        var G__11584 = watch;
        var G__11585 = filtered;
        var G__11586 = forgotten + 1;
        all = G__11582;
        shown = G__11583;
        watch = G__11584;
        filtered = G__11585;
        forgotten = G__11586;
        continue;
      } else {
        if (cljs.core.truth_(function() {
          var and__6144__auto__ = wf_enabled_QMARK_;
          if (cljs.core.truth_(and__6144__auto__)) {
            var or__6156__auto__ = kuroi.filters.wordfilter_matches_QMARK_.call(null, (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(th), wf_title);
            if (cljs.core.truth_(or__6156__auto__)) {
              return or__6156__auto__;
            } else {
              return kuroi.filters.wordfilter_matches_QMARK_.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(th), wf_post);
            }
          } else {
            return and__6144__auto__;
          }
        }())) {
          var G__11587 = cljs.core.next.call(null, all);
          var G__11588 = shown;
          var G__11589 = watch;
          var G__11590 = filtered + 1;
          var G__11591 = forgotten;
          all = G__11587;
          shown = G__11588;
          watch = G__11589;
          filtered = G__11590;
          forgotten = G__11591;
          continue;
        } else {
          if (cljs.core.truth_(function() {
            var and__6144__auto__ = threads_on_watch;
            if (cljs.core.truth_(and__6144__auto__)) {
              return cljs.core.contains_QMARK_.call(null, threads_on_watch, (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th));
            } else {
              return and__6144__auto__;
            }
          }())) {
            var thread_id = (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th);
            var watch_item = threads_on_watch.call(null, thread_id);
            var post_count = (new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(th);
            var post_delta = post_count - (new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(watch_item);
            var watched_thread = cljs.core.assoc.call(null, th, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), true, new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262), post_delta, new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), (new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(watch_item));
            if (cljs.core.not_EQ_.call(null, 0, post_delta)) {
              kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), thread_id, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), cljs.core.pr_str.call(null, cljs.core.assoc.call(null, watch_item, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), post_count, new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), (new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(th)))], 
              null));
            } else {
            }
            var G__11592 = cljs.core.next.call(null, all);
            var G__11593 = cljs.core.truth_(pin_watched_QMARK_) ? shown : cljs.core.conj.call(null, shown, watched_thread);
            var G__11594 = cljs.core.truth_(pin_watched_QMARK_) ? cljs.core.assoc.call(null, watch, thread_id, watched_thread) : watch;
            var G__11595 = filtered;
            var G__11596 = forgotten;
            all = G__11592;
            shown = G__11593;
            watch = G__11594;
            filtered = G__11595;
            forgotten = G__11596;
            continue;
          } else {
            var G__11597 = cljs.core.next.call(null, all);
            var G__11598 = cljs.core.conj.call(null, shown, th);
            var G__11599 = watch;
            var G__11600 = filtered;
            var G__11601 = forgotten;
            all = G__11597;
            shown = G__11598;
            watch = G__11599;
            filtered = G__11600;
            forgotten = G__11601;
            continue;
          }
        }
      }
    } else {
      var shown__$1 = kuroi.filters.sort_by_id_QMARK_.call(null, target, shown);
      var shown__$2 = kuroi.filters.filter_seen_QMARK_.call(null, target, shown__$1, seen_threads);
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = pin_watched_QMARK_;
        if (cljs.core.truth_(and__6144__auto__)) {
          return threads_on_watch;
        } else {
          return and__6144__auto__;
        }
      }())) {
        var out_of_scope = cljs.core.map.call(null, function(all, shown, watch, filtered, forgotten, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post) {
          return function(kv) {
            var w = cljs.core.second.call(null, kv);
            return cljs.core.assoc.call(null, w, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), true, new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), (new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(w), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), "out of scope");
          };
        }(all, shown, watch, filtered, forgotten, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post), cljs.core.filter.call(null, function(all, shown, watch, filtered, forgotten, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post) {
          return function(p__11580) {
            var vec__11581 = p__11580;
            var k = cljs.core.nth.call(null, vec__11581, 0, null);
            var v = cljs.core.nth.call(null, vec__11581, 1, null);
            return !cljs.core.contains_QMARK_.call(null, watch, k);
          };
        }(all, shown, watch, filtered, forgotten, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post), threads_on_watch));
        var threads_on_watch__$1 = kuroi.filters.sort_by_id.call(null, cljs.core.concat.call(null, cljs.core.map.call(null, function(all, shown, watch, filtered, forgotten, out_of_scope, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post) {
          return function(kv) {
            return cljs.core.second.call(null, kv);
          };
        }(all, shown, watch, filtered, forgotten, out_of_scope, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post), watch), out_of_scope));
        var all_threads = cljs.core.concat.call(null, threads_on_watch__$1, shown__$2);
        var all_threads__$1 = kuroi.filters.filter_expanded_QMARK_.call(null, target, all_threads, expanded_threads);
        return callback.call(null, cljs.core.truth_(wf_enabled_QMARK_) ? cljs.core.map.call(null, function(all, shown, watch, filtered, forgotten, out_of_scope, threads_on_watch__$1, all_threads, all_threads__$1, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post) {
          return function(p1__11576_SHARP_) {
            return kuroi.filters.filter_replies.call(null, wf_post, p1__11576_SHARP_, target);
          };
        }(all, shown, watch, filtered, forgotten, out_of_scope, threads_on_watch__$1, all_threads, all_threads__$1, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post), all_threads__$1) : all_threads__$1, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null, "shown", "shown", -1564457683), cljs.core.count.call(null, shown__$2), new cljs.core.Keyword(null, "filtered", "filtered", -437499761), filtered, new cljs.core.Keyword(null, "forgotten", "forgotten", 
        1049509514), forgotten, new cljs.core.Keyword(null, "watch", "watch", 380988277), cljs.core.count.call(null, watch), new cljs.core.Keyword(null, "watch-total", "watch-total", 1442164302), cljs.core.count.call(null, threads_on_watch__$1)], null));
      } else {
        var shown__$3 = kuroi.filters.filter_expanded_QMARK_.call(null, target, shown__$2, expanded_threads);
        return callback.call(null, cljs.core.truth_(wf_enabled_QMARK_) ? cljs.core.map.call(null, function(all, shown, watch, filtered, forgotten, shown__$3, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post) {
          return function(p1__11577_SHARP_) {
            return kuroi.filters.filter_replies.call(null, wf_post, p1__11577_SHARP_, target);
          };
        }(all, shown, watch, filtered, forgotten, shown__$3, shown__$1, shown__$2, th, pin_watched_QMARK_, wf_enabled_QMARK_, wf_title, wf_post), shown__$3) : shown__$3, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null, "shown", "shown", -1564457683), cljs.core.count.call(null, shown__$3), new cljs.core.Keyword(null, "filtered", "filtered", -437499761), filtered, new cljs.core.Keyword(null, "forgotten", "forgotten", 1049509514), forgotten, new cljs.core.Keyword(null, "watch", 
        "watch", 380988277), 0, new cljs.core.Keyword(null, "watch-total", "watch-total", 1442164302), 0], null));
      }
    }
    break;
  }
};
kuroi.filters.filter_threads = function kuroi$filters$filter_threads(threads, target, callback) {
  var settings = kuroi.settings.get_for.call(null, target);
  return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "forgotten", "forgotten", -1604926255, null), new cljs.core.Symbol(null, "queue", "queue", -1198599890, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), function(settings) {
    return function(forgotten_threads_str) {
      return kuroi.io.get_data_STAR_.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), new cljs.core.Symbol(null, "oppost", "oppost", -582475690, null), new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "where", "where", -2044795965), "board", new cljs.core.Keyword(null, "eq", "eq", -618539067), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)], null), function(settings) {
        return function(watch_thread_strs) {
          var G__11604 = function(settings) {
            return function(seen_threads_str) {
              var G__11605 = function(settings) {
                return function(expanded_threads_str) {
                  var forgotten_threads = cljs.core.set.call(null, cljs.core.seq.call(null, JSON.parse(forgotten_threads_str)));
                  var threads_on_watch = cljs.core.seq.call(null, watch_thread_strs) && cljs.core.not.call(null, (new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(forgotten_threads, settings) {
                    return function(w) {
                      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(w), w], null);
                    };
                  }(forgotten_threads, settings), cljs.core.map.call(null, cljs.reader.read_string, watch_thread_strs))) : null;
                  var seen_threads = cljs.core.truth_(seen_threads_str) ? cljs.reader.read_string.call(null, seen_threads_str) : null;
                  var expanded_threads = cljs.core.truth_(expanded_threads_str) ? cljs.reader.read_string.call(null, expanded_threads_str) : null;
                  return kuroi.filters.do_filter.call(null, threads, target, callback, settings, forgotten_threads, threads_on_watch, seen_threads, expanded_threads);
                };
              }(settings);
              if (cljs.core.truth_((new cljs.core.Keyword(null, "remember-expanded", "remember-expanded", 1027632212)).cljs$core$IFn$_invoke$arity$1(settings))) {
                return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), new cljs.core.Symbol(null, "expanded", "expanded", 1637510785, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), G__11605);
              } else {
                return G__11605.call(null, null);
              }
            };
          }(settings);
          if (cljs.core.truth_((new cljs.core.Keyword(null, "new", "new", -2085437848)).cljs$core$IFn$_invoke$arity$1(target))) {
            return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), new cljs.core.Symbol(null, "seen", "seen", 1121531738, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), G__11604);
          } else {
            return G__11604.call(null, null);
          }
        };
      }(settings));
    };
  }(settings));
};
goog.provide("kuroi.page_parser");
goog.require("cljs.core");
goog.require("kuroi.filters");
goog.require("kuroi.base");
goog.require("kuroi.io");
goog.require("goog.style");
goog.require("clojure.string");
kuroi.page_parser.trade_dispatch1 = function kuroi$page_parser$trade_dispatch1(target) {
  return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target);
};
kuroi.page_parser.trade_dispatch = function kuroi$page_parser$trade_dispatch(_, target) {
  return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target);
};
if (typeof kuroi.page_parser.thread_url !== "undefined") {
} else {
  kuroi.page_parser.thread_url = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "thread-url"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.html_thread_url !== "undefined") {
} else {
  kuroi.page_parser.html_thread_url = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "html-thread-url"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.json_QMARK_ !== "undefined") {
} else {
  kuroi.page_parser.json_QMARK_ = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "json?"), kuroi.page_parser.trade_dispatch1, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.json_QMARK_, new cljs.core.Keyword(null, "default", "default", -1987822328), function(target) {
  return false;
});
if (typeof kuroi.page_parser.get_page_ext !== "undefined") {
} else {
  kuroi.page_parser.get_page_ext = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-page-ext"), kuroi.page_parser.trade_dispatch1, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_page_ext, new cljs.core.Keyword(null, "default", "default", -1987822328), function(target) {
  return "html";
});
kuroi.page_parser.get_ext = function kuroi$page_parser$get_ext(target) {
  if (cljs.core.truth_(kuroi.page_parser.json_QMARK_.call(null, target))) {
    return "json";
  } else {
    return kuroi.page_parser.get_page_ext.call(null, target);
  }
};
kuroi.page_parser.sanitize = function kuroi$page_parser$sanitize(content) {
  if (cljs.core.truth_(content)) {
    return clojure.string.replace.call(null, content, /<([^ ]+)[^>]*onload[^>]*>/, function(p__11610) {
      var vec__11611 = p__11610;
      var _ = cljs.core.nth.call(null, vec__11611, 0, null);
      var match = cljs.core.nthnext.call(null, vec__11611, 1);
      return [cljs.core.str("\x3c"), cljs.core.str(cljs.core.first.call(null, match)), cljs.core.str("\x3e")].join("");
    });
  } else {
    return null;
  }
};
kuroi.page_parser._STAR_host_STAR_ = cljs.core.get.call(null, cljs.core.re_find.call(null, /chan:\/\/([^\/]*)/, decodeURI(document.location)), 1);
kuroi.page_parser._STAR_host_pattern_STAR_ = cljs.core.re_pattern.call(null, [cljs.core.str("https?://"), cljs.core.str(kuroi.page_parser._STAR_host_STAR_), cljs.core.str(".*")].join(""));
kuroi.page_parser.fix_url = function kuroi$page_parser$fix_url(url, target) {
  if (cljs.core.truth_(url)) {
    var url__$1 = cljs.core.truth_(url.startsWith("moz-extension://")) ? cljs.core.get.call(null, cljs.core.re_find.call(null, /moz-extension:\/\/[^\/]+(\/.*)/, url), 1) : url;
    var url__$2 = cljs.core.truth_(kuroi.io._STAR_addon_STAR_) ? url__$1 : cljs.core.truth_(cljs.core.re_matches.call(null, kuroi.page_parser._STAR_host_pattern_STAR_, url__$1)) ? url__$1.substring(url__$1.indexOf(kuroi.page_parser._STAR_host_STAR_) + kuroi.page_parser._STAR_host_STAR_.length) : url__$1;
    var url__$3 = cljs.core._EQ_.call(null, cljs.core.get.call(null, url__$2, 0), "/") ? cljs.core._EQ_.call(null, cljs.core.get.call(null, url__$2, 1), "/") ? [cljs.core.str("http:"), cljs.core.str(url__$2)].join("") : [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "domain", "domain", 1847214937)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(url__$2)].join("") : cljs.core.truth_(cljs.core.re_matches.call(null, 
    /^http.*/, url__$2)) ? url__$2 : [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(url__$2)].join("");
    if (cljs.core.truth_((new cljs.core.Keyword(null, "prox", "prox", 412384983)).cljs$core$IFn$_invoke$arity$1(target))) {
      return [cljs.core.str("/get/"), cljs.core.str(url__$3)].join("");
    } else {
      return url__$3;
    }
  } else {
    return null;
  }
};
kuroi.page_parser._STAR_crossref_map_STAR_ = null;
kuroi.page_parser.check_reflinks = function kuroi$page_parser$check_reflinks(post_id, parent_id, content, target) {
  return clojure.string.replace.call(null, content, /<a[^>]+(href=[\"'][^'\"]+[\"'])[^>]*>((&gt;&gt;)|(>>))(\d+)([^<]*)<\/a>/, function(p__11616) {
    var vec__11617 = p__11616;
    var _ = cljs.core.nth.call(null, vec__11617, 0, null);
    var url = cljs.core.nth.call(null, vec__11617, 1, null);
    var ___$1 = cljs.core.nth.call(null, vec__11617, 2, null);
    var ___$2 = cljs.core.nth.call(null, vec__11617, 3, null);
    var ___$3 = cljs.core.nth.call(null, vec__11617, 4, null);
    var reply_no = cljs.core.nth.call(null, vec__11617, 5, null);
    var other = cljs.core.nth.call(null, vec__11617, 6, null);
    var refs = cljs.core.truth_(kuroi.page_parser._STAR_crossref_map_STAR_) ? cljs.core.deref.call(null, kuroi.page_parser._STAR_crossref_map_STAR_).call(null, reply_no) : null;
    if (cljs.core.truth_(kuroi.page_parser._STAR_crossref_map_STAR_)) {
      cljs.core.swap_BANG_.call(null, kuroi.page_parser._STAR_crossref_map_STAR_, cljs.core.assoc, reply_no, cljs.core.conj.call(null, refs, post_id));
    } else {
    }
    return [cljs.core.str('\x3ca target\x3d"_blank" '), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? clojure.string.replace.call(null, url, /href=\"([^\"]+)/, function(refs, vec__11617, _, url, ___$1, ___$2, ___$3, reply_no, other) {
      return function(p__11618) {
        var vec__11619 = p__11618;
        var ___$4 = cljs.core.nth.call(null, vec__11619, 0, null);
        var rest = cljs.core.nth.call(null, vec__11619, 1, null);
        if (cljs.core.truth_(function() {
          var and__6144__auto__ = parent_id;
          if (cljs.core.truth_(and__6144__auto__)) {
            return cljs.core._EQ_.call(null, "#", cljs.core.get.call(null, rest, 0));
          } else {
            return and__6144__auto__;
          }
        }())) {
          return [cljs.core.str('href\x3d"http://boards.'), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread/"), cljs.core.str(parent_id), cljs.core.str(rest)].join("");
        } else {
          return [cljs.core.str('href\x3d"http://boards.'), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(rest)].join("");
        }
      };
    }(refs, vec__11617, _, url, ___$1, ___$2, ___$3, reply_no, other)) : cljs.core.truth_((new cljs.core.Keyword(null, "kraut", "kraut", 1016154782)).cljs$core$IFn$_invoke$arity$1(target)) ? clojure.string.replace.call(null, url, /href=\"/, [cljs.core.str('href\x3d"http://'), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target))].join("")) : url), cljs.core.str(' data-onclick\x3d"frontend.inline_view_reflink(this)" '), cljs.core.str("data-onmouseover\x3d\"frontend.show_popup(event, '"), 
    cljs.core.str(reply_no), cljs.core.str("', true)\" "), cljs.core.str("data-onmouseout\x3d\"frontend.show_popup(event, '"), cljs.core.str(reply_no), cljs.core.str("', false)\""), cljs.core.str("\x3e\x26gt;\x26gt;"), cljs.core.str(reply_no), cljs.core.str(other), cljs.core.str("\x3c/a\x3e")].join("");
  });
};
kuroi.page_parser.fix_links = function kuroi$page_parser$fix_links(content, target) {
  return clojure.string.replace.call(null, content, cljs.core.re_pattern.call(null, [cljs.core.str("href\x3d[\"'](/?(?:"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(")?/?res/[^\"']+)[\"']")].join("")), function(p__11622) {
    var vec__11623 = p__11622;
    var _ = cljs.core.nth.call(null, vec__11623, 0, null);
    var match = cljs.core.nth.call(null, vec__11623, 1, null);
    return [cljs.core.str('href\x3d"'), cljs.core.str(kuroi.page_parser.fix_url.call(null, match, target)), cljs.core.str('" target\x3d"_blank"')].join("");
  });
};
kuroi.page_parser.select = function kuroi$page_parser$select(node, sel) {
  var temp__4655__auto__ = node.id;
  if (cljs.core.truth_(temp__4655__auto__)) {
    var id = temp__4655__auto__;
    if (cljs.core.not_EQ_.call(null, "", id)) {
      return node.querySelector(clojure.string.replace.call(null, sel, ":root", function(id, temp__4655__auto__) {
        return function(_) {
          var c = cljs.core.first.call(null, id);
          if (cljs.core.truth_(cljs.core.re_matches.call(null, /[0-9]/, c))) {
            return [cljs.core.str("#\\"), cljs.core.str(c.charCodeAt().toString(16)), cljs.core.str(" "), cljs.core.str(id.substring(1))].join("");
          } else {
            return [cljs.core.str("#"), cljs.core.str(id)].join("");
          }
        };
      }(id, temp__4655__auto__)));
    } else {
      return node.querySelector(sel);
    }
  } else {
    return node.querySelector(sel);
  }
};
kuroi.page_parser.select_STAR_ = function kuroi$page_parser$select_STAR_(node, sel) {
  var nodes = function() {
    var temp__4655__auto__ = node.id;
    if (cljs.core.truth_(temp__4655__auto__)) {
      var id = temp__4655__auto__;
      if (cljs.core.not_EQ_.call(null, "", id)) {
        return node.querySelectorAll(clojure.string.replace.call(null, sel, ":root", function(id, temp__4655__auto__) {
          return function(_) {
            var c = cljs.core.first.call(null, id);
            if (cljs.core.truth_(cljs.core.re_matches.call(null, /[0-9]/, c))) {
              return [cljs.core.str("#\\"), cljs.core.str(c.charCodeAt().toString(16)), cljs.core.str(" "), cljs.core.str(id.substring(1))].join("");
            } else {
              return [cljs.core.str("#"), cljs.core.str(id)].join("");
            }
          };
        }(id, temp__4655__auto__)));
      } else {
        return node.querySelectorAll(sel);
      }
    } else {
      return node.querySelectorAll(sel);
    }
  }();
  if (cljs.core.truth_(nodes)) {
    var nodes__$1 = function() {
      var iter__6928__auto__ = function(nodes) {
        return function kuroi$page_parser$select_STAR__$_iter__11628(s__11629) {
          return new cljs.core.LazySeq(null, function(nodes) {
            return function() {
              var s__11629__$1 = s__11629;
              while (true) {
                var temp__4657__auto__ = cljs.core.seq.call(null, s__11629__$1);
                if (temp__4657__auto__) {
                  var s__11629__$2 = temp__4657__auto__;
                  if (cljs.core.chunked_seq_QMARK_.call(null, s__11629__$2)) {
                    var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11629__$2);
                    var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                    var b__11631 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                    if (function() {
                      var i__11630 = 0;
                      while (true) {
                        if (i__11630 < size__6927__auto__) {
                          var i = cljs.core._nth.call(null, c__6926__auto__, i__11630);
                          cljs.core.chunk_append.call(null, b__11631, nodes[i]);
                          var G__11632 = i__11630 + 1;
                          i__11630 = G__11632;
                          continue;
                        } else {
                          return true;
                        }
                        break;
                      }
                    }()) {
                      return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11631), kuroi$page_parser$select_STAR__$_iter__11628.call(null, cljs.core.chunk_rest.call(null, s__11629__$2)));
                    } else {
                      return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11631), null);
                    }
                  } else {
                    var i = cljs.core.first.call(null, s__11629__$2);
                    return cljs.core.cons.call(null, nodes[i], kuroi$page_parser$select_STAR__$_iter__11628.call(null, cljs.core.rest.call(null, s__11629__$2)));
                  }
                } else {
                  return null;
                }
                break;
              }
            };
          }(nodes), null, null);
        };
      }(nodes);
      return iter__6928__auto__.call(null, cljs.core.range.call(null, nodes.length));
    }();
    cljs.core.doall.call(null, nodes__$1);
    return nodes__$1;
  } else {
    return null;
  }
};
if (typeof kuroi.page_parser.paginate !== "undefined") {
} else {
  kuroi.page_parser.paginate = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "paginate"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.paginate, new cljs.core.Keyword(null, "default", "default", -1987822328), function(n, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(!(n === 0) ? [cljs.core.str(n), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join("") : null)].join("");
});
if (typeof kuroi.page_parser.meta_page_url !== "undefined") {
} else {
  kuroi.page_parser.meta_page_url = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "meta-page-url"), function(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__) {
      return function(p1__11633_SHARP_) {
        return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(p1__11633_SHARP_);
      };
    }(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__), new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.meta_page_url, new cljs.core.Keyword(null, "default", "default", -1987822328), function(target) {
  return null;
});
kuroi.page_parser.target_pages = function kuroi$page_parser$target_pages(target, n_pages) {
  var meta_url = kuroi.page_parser.meta_page_url.call(null, target);
  var page_urls = cljs.core.map.call(null, function(meta_url) {
    return function(p1__11634_SHARP_) {
      return kuroi.page_parser.paginate.call(null, p1__11634_SHARP_, target);
    };
  }(meta_url), cljs.core.range.call(null, target.call(null, n_pages)));
  if (cljs.core.truth_(meta_url)) {
    return cljs.core.conj.call(null, page_urls, meta_url);
  } else {
    return page_urls;
  }
};
cljs.core._add_method.call(null, kuroi.page_parser.thread_url, new cljs.core.Keyword(null, "default", "default", -1987822328), function(thread_id, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/res/"), cljs.core.str(thread_id), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.html_thread_url, new cljs.core.Keyword(null, "default", "default", -1987822328), function(thread_id, target) {
  return kuroi.page_parser.thread_url.call(null, thread_id, target);
});
if (typeof kuroi.page_parser.get_thread_id !== "undefined") {
} else {
  kuroi.page_parser.get_thread_id = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-thread-id"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_thread_id, new cljs.core.Keyword(null, "default", "default", -1987822328), function(root_node, target) {
  if (cljs.core.truth_(root_node)) {
    if (cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, root_node.tagName), "input")) {
      return root_node.value;
    } else {
      var temp__4657__auto__ = kuroi.page_parser.select.call(null, root_node, "input[type\x3d'checkbox']");
      if (cljs.core.truth_(temp__4657__auto__)) {
        var elt = temp__4657__auto__;
        return elt.value;
      } else {
        return null;
      }
    }
  } else {
    return null;
  }
});
if (typeof kuroi.page_parser.get_summary_node !== "undefined") {
} else {
  kuroi.page_parser.get_summary_node = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-summary-node"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_summary_node, new cljs.core.Keyword(null, "default", "default", -1987822328), function(thread, target) {
  return kuroi.page_parser.select.call(null, thread, ".omittedposts, .omittedinfo, div.abbrev \x3e span, span.summary, .mess-post");
});
if (typeof kuroi.page_parser.get_omitted_posts !== "undefined") {
} else {
  kuroi.page_parser.get_omitted_posts = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-omitted-posts"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_omitted_posts, new cljs.core.Keyword(null, "default", "default", -1987822328), function(thread, target) {
  var temp__4657__auto__ = kuroi.page_parser.get_summary_node.call(null, thread, target);
  if (cljs.core.truth_(temp__4657__auto__)) {
    var summary_node = temp__4657__auto__;
    var summary_text = summary_node.innerHTML;
    var omitted_posts = cljs.core.truth_(summary_text) ? cljs.core.re_find.call(null, /\d+/, summary_text) : null;
    if (cljs.core.truth_(omitted_posts)) {
      return parseInt(omitted_posts) + 1;
    } else {
      return null;
    }
  } else {
    return null;
  }
});
kuroi.page_parser.cons_post_data = function kuroi$page_parser$cons_post_data(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___11639 = arguments.length;
  var i__7215__auto___11640 = 0;
  while (true) {
    if (i__7215__auto___11640 < len__7214__auto___11639) {
      args__7221__auto__.push(arguments[i__7215__auto___11640]);
      var G__11641 = i__7215__auto___11640 + 1;
      i__7215__auto___11640 = G__11641;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return kuroi.page_parser.cons_post_data.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
kuroi.page_parser.cons_post_data.cljs$core$IFn$_invoke$arity$variadic = function(p__11636) {
  var map__11637 = p__11636;
  var map__11637__$1 = (!(map__11637 == null) ? map__11637.cljs$lang$protocol_mask$partition0$ & 64 || map__11637.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__11637) : map__11637;
  var init = map__11637__$1;
  var parent_id = cljs.core.get.call(null, map__11637__$1, new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131));
  var post_num = cljs.core.get.call(null, map__11637__$1, new cljs.core.Keyword(null, "post-num", "post-num", -587129584), 1);
  return init;
};
kuroi.page_parser.cons_post_data.cljs$lang$maxFixedArity = 0;
kuroi.page_parser.cons_post_data.cljs$lang$applyTo = function(seq11635) {
  return kuroi.page_parser.cons_post_data.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq11635));
};
kuroi.page_parser.build_post_data = function kuroi$page_parser$build_post_data(data, post_id, date_val, title_elt, thumb_img, image_link, image_size, post_text, target) {
  if (cljs.core.truth_(post_text)) {
    var temp__4657__auto___11642 = kuroi.page_parser.select.call(null, post_text, "*[class*\x3d'abbr'] a");
    if (cljs.core.truth_(temp__4657__auto___11642)) {
      var abbrev_11643 = temp__4657__auto___11642;
      var xpnd_url_11644 = cljs.core.truth_((new cljs.core.Keyword(null, "oppost", "oppost", 2071960079)).cljs$core$IFn$_invoke$arity$1(data)) ? kuroi.page_parser.thread_url.call(null, post_id, target) : kuroi.page_parser.fix_url.call(null, abbrev_11643.getAttribute("href"), target);
      abbrev_11643.setAttribute("data-onclick", [cljs.core.str("frontend.iv_expand_post(this, '"), cljs.core.str(xpnd_url_11644), cljs.core.str("')")].join(""));
    } else {
    }
  } else {
  }
  var width_height = cljs.core.truth_(image_size) ? cljs.core.re_find.call(null, /(\d+)[x\u00d7](\d+)/, image_size.innerHTML) : null;
  var post_text__$1 = cljs.core.truth_(post_text) ? kuroi.page_parser.fix_links.call(null, kuroi.page_parser.sanitize.call(null, post_text.innerHTML), target) : null;
  return cljs.core.merge.call(null, data, cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), new cljs.core.Keyword(null, "date", "date", -1463434462), new cljs.core.Keyword(null, "title", "title", 636505583), new cljs.core.Keyword(null, "link", "link", -1769163468), new cljs.core.Keyword(null, "id", "id", -1388402092), new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), new cljs.core.Keyword(null, "image", "image", -58725096), new cljs.core.Keyword(null, 
  "internal-id", "internal-id", -305922306), new cljs.core.Keyword(null, "text", "text", -1790561697)], [cljs.core.truth_(thumb_img) ? kuroi.page_parser.fix_url.call(null, thumb_img.getAttribute("src"), target) : null, cljs.core.truth_(date_val) ? clojure.string.trim.call(null, date_val) : null, cljs.core.truth_(title_elt) ? kuroi.page_parser.sanitize.call(null, title_elt.textContent) : null, kuroi.page_parser.thread_url.call(null, function() {
    var or__6156__auto__ = (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return post_id;
    }
  }(), target), post_id, cljs.core.truth_(image_size) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.get.call(null, width_height, 1), cljs.core.get.call(null, width_height, 2)], null) : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, 0], null), cljs.core.truth_(image_link) ? kuroi.page_parser.fix_url.call(null, image_link.getAttribute("href"), target) : null, [cljs.core.str((new cljs.core.Keyword(null, "prefix", 
  "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(post_id)].join(""), cljs.core.truth_(post_text__$1) ? kuroi.page_parser.check_reflinks.call(null, post_id, (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data), post_text__$1, target) : null]));
};
kuroi.page_parser.build_image_data = function kuroi$page_parser$build_image_data(thread_id, thumb_img, image_link, image_size, target) {
  var width_height = cljs.core.truth_(image_size) ? cljs.core.re_find.call(null, /(\d+)[x\u00d7](\d+)/, image_size.innerHTML) : null;
  var image_link__$1 = cljs.core.truth_(image_link) ? kuroi.page_parser.fix_url.call(null, image_link.getAttribute("href"), target) : null;
  return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null, "id", "id", -1388402092), thread_id, new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), image_link__$1, new cljs.core.Keyword(null, "link", "link", -1769163468), kuroi.page_parser.thread_url.call(null, thread_id, target), new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), cljs.core.truth_(thumb_img) ? kuroi.page_parser.fix_url.call(null, thumb_img.getAttribute("src"), target) : null, new cljs.core.Keyword(null, 
  "image", "image", -58725096), image_link__$1, new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), cljs.core.truth_(image_size) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.get.call(null, width_height, 1), cljs.core.get.call(null, width_height, 2)], null) : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, 0], null)], null);
};
if (typeof kuroi.page_parser.parse_images !== "undefined") {
} else {
  kuroi.page_parser.parse_images = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "parse-images"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.parse_thread_images !== "undefined") {
} else {
  kuroi.page_parser.parse_thread_images = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "parse-thread-images"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
kuroi.page_parser.build_error_data = function kuroi$page_parser$build_error_data(message, target) {
  return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null, "id", "id", -1388402092), "-", new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), [cljs.core.str((new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("-error")].join(""), new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), 1, new cljs.core.Keyword(null, "error", "error", -978969032), true, new cljs.core.Keyword(null, "title", 
  "title", 636505583), "Error", new cljs.core.Keyword(null, "text", "text", -1790561697), message], null);
};
kuroi.page_parser.exists_in = function kuroi$page_parser$exists_in(root_node, sel) {
  if (cljs.core.truth_(kuroi.page_parser.select.call(null, root_node, sel))) {
    return true;
  } else {
    return null;
  }
};
if (typeof kuroi.page_parser.get_oppost !== "undefined") {
} else {
  kuroi.page_parser.get_oppost = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-oppost"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_oppost, new cljs.core.Keyword(null, "default", "default", -1987822328), function(thread, target) {
  if (cljs.core.truth_(kuroi.page_parser.exists_in.call(null, thread, ":root \x3e div:first-of-type \x3e div.postbody,\n                      :root \x3e div:first-of-type \x3e blockquote,\n                      :root \x3e div:first-of-type \x3e mobile"))) {
    return kuroi.page_parser.select.call(null, thread, ":root \x3e div:first-of-type");
  } else {
    if (cljs.core.truth_(kuroi.page_parser.exists_in.call(null, thread, ":root \x3e .op \x3e .post"))) {
      return kuroi.page_parser.select.call(null, thread, ":root \x3e .op");
    } else {
      if (cljs.core.truth_(kuroi.page_parser.exists_in.call(null, thread, ".maincontentdiv \x3e form#delform \x3e blockquote"))) {
        return kuroi.page_parser.select.call(null, thread, ".maincontentdiv \x3e form#delform");
      } else {
        return thread;
      }
    }
  }
});
if (typeof kuroi.page_parser.parse_threads !== "undefined") {
} else {
  kuroi.page_parser.parse_threads = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "parse-threads"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.parse_post !== "undefined") {
} else {
  kuroi.page_parser.parse_post = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "parse-post"), function(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__) {
      return function(p1__11646_SHARP_, p2__11647_SHARP_, p3__11645_SHARP_) {
        return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(p3__11645_SHARP_);
      };
    }(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__), new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
kuroi.page_parser.parse_post_generic = function kuroi$page_parser$parse_post_generic(root_node, data, target) {
  var thread_id = kuroi.page_parser.get_thread_id.call(null, root_node, target);
  var poster_name_elt = kuroi.page_parser.select.call(null, root_node, "span[class*\x3d'postername']");
  var post_name_text = cljs.core.truth_(kuroi.page_parser.post_name_elt) ? poster_name_elt.textContent : null;
  var poster_name = cljs.core.truth_(kuroi.page_parser.poster_name_text) ? clojure.string.trim.call(null, post_name_text) : null;
  var date_elt = kuroi.page_parser.select.call(null, root_node, ".postdate, .posttime, .date, label");
  var date_elt__$1 = cljs.core.truth_(date_elt) ? date_elt.childNodes[date_elt.childNodes.length - 1] : null;
  var date_text = cljs.core.truth_(date_elt__$1) ? date_elt__$1.nodeValue : null;
  var date_val = cljs.core.truth_(date_text) ? clojure.string.trim.call(null, date_text) : null;
  var date_val__$1 = [cljs.core.str(poster_name), cljs.core.str(cljs.core.truth_(function() {
    var and__6144__auto__ = poster_name;
    if (cljs.core.truth_(and__6144__auto__)) {
      return date_val;
    } else {
      return and__6144__auto__;
    }
  }()) ? ", " : null), cljs.core.str(date_val)].join("");
  var title_elt = kuroi.page_parser.select.call(null, root_node, "span[class*\x3d'title']");
  var thumb_img = kuroi.page_parser.select.call(null, root_node, "img[src*\x3d'thumb/'], \n                                    .threadimg img,\n                                    .nothumb,\n                                    .post_video_pic \x3e img");
  var image_link = kuroi.page_parser.select.call(null, root_node, "a[href*\x3d'src/'], .threadimg img");
  var filesize = kuroi.page_parser.select.call(null, root_node, ".filesize, .fileinfo");
  var post_text = kuroi.page_parser.select.call(null, root_node, "blockquote, div.postbody \x3e div.message");
  return kuroi.page_parser.build_post_data.call(null, data, thread_id, date_val__$1, title_elt, thumb_img, image_link, filesize, post_text, target);
};
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, new cljs.core.Keyword(null, "default", "default", -1987822328), function(root_node, data, target) {
  return kuroi.page_parser.parse_post_generic.call(null, root_node, data, target);
});
kuroi.page_parser.parse_replies = function kuroi$page_parser$parse_replies(oppost, all_replies, target) {
  var post_count = cljs.core.count.call(null, all_replies) + function() {
    var or__6156__auto__ = (new cljs.core.Keyword(null, "omitted", "omitted", 1269940898)).cljs$core$IFn$_invoke$arity$1(oppost);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return 1;
    }
  }();
  var last_id = cljs.core.seq.call(null, all_replies) ? kuroi.page_parser.get_thread_id.call(null, cljs.core.last.call(null, all_replies), target) : (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(oppost);
  var take_replies = (new cljs.core.Keyword(null, "replies", "replies", -1389888974)).cljs$core$IFn$_invoke$arity$1(target);
  if (cljs.core._EQ_.call(null, 0, take_replies)) {
    return cljs.core.assoc.call(null, oppost, new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), last_id, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), post_count);
  } else {
    var _STAR_crossref_map_STAR_11650 = kuroi.page_parser._STAR_crossref_map_STAR_;
    kuroi.page_parser._STAR_crossref_map_STAR_ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    try {
      var replies = cljs.core.seq.call(null, all_replies) ? function() {
        var first_taken = cljs.core.count.call(null, all_replies) - take_replies;
        var taken_replies = take_replies > 0 ? cljs.core.seq.call(null, cljs.core.second.call(null, cljs.core.split_at.call(null, first_taken, all_replies))) : all_replies;
        var replies = taken_replies;
        var num = post_count - cljs.core.count.call(null, taken_replies) - -1;
        var out = cljs.core.PersistentVector.EMPTY;
        while (true) {
          var reply = cljs.core.first.call(null, replies);
          if (cljs.core.truth_(reply)) {
            var data = kuroi.page_parser.cons_post_data.call(null, new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131), (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(oppost), new cljs.core.Keyword(null, "post-num", "post-num", -587129584), num);
            var G__11651 = cljs.core.next.call(null, replies);
            var G__11652 = num + 1;
            var G__11653 = cljs.core.conj.call(null, out, kuroi.page_parser.parse_post.call(null, reply, data, target));
            replies = G__11651;
            num = G__11652;
            out = G__11653;
            continue;
          } else {
            return out;
          }
          break;
        }
      }() : null;
      var replies__$1 = cljs.core.doall.call(null, cljs.core.map.call(null, function(replies, _STAR_crossref_map_STAR_11650, post_count, last_id, take_replies) {
        return function(p1__11648_SHARP_) {
          return cljs.core.assoc.call(null, p1__11648_SHARP_, new cljs.core.Keyword(null, "refs", "refs", -1560051448), cljs.core.reverse.call(null, cljs.core.deref.call(null, kuroi.page_parser._STAR_crossref_map_STAR_).call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__11648_SHARP_))));
        };
      }(replies, _STAR_crossref_map_STAR_11650, post_count, last_id, take_replies), replies));
      var oppost__$1 = cljs.core.assoc.call(null, oppost, new cljs.core.Keyword(null, "children", "children", -940561982), replies__$1, new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), last_id, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), post_count);
      return cljs.core.assoc.call(null, oppost__$1, new cljs.core.Keyword(null, "refs", "refs", -1560051448), cljs.core.reverse.call(null, cljs.core.deref.call(null, kuroi.page_parser._STAR_crossref_map_STAR_).call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(oppost__$1))));
    } finally {
      kuroi.page_parser._STAR_crossref_map_STAR_ = _STAR_crossref_map_STAR_11650;
    }
  }
};
kuroi.page_parser.parse_structured = function kuroi$page_parser$parse_structured(var_args) {
  var args11654 = [];
  var len__7214__auto___11661 = arguments.length;
  var i__7215__auto___11662 = 0;
  while (true) {
    if (i__7215__auto___11662 < len__7214__auto___11661) {
      args11654.push(arguments[i__7215__auto___11662]);
      var G__11663 = i__7215__auto___11662 + 1;
      i__7215__auto___11662 = G__11663;
      continue;
    } else {
    }
    break;
  }
  var G__11656 = args11654.length;
  switch(G__11656) {
    case 3:
      return kuroi.page_parser.parse_structured.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 2:
      return kuroi.page_parser.parse_structured.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args11654.length)].join(""));;
  }
};
kuroi.page_parser.parse_structured.cljs$core$IFn$_invoke$arity$3 = function(threads, reply_sel, target) {
  var pattern = kuroi.filters.user_pattern.call(null, target);
  var data = function() {
    var iter__6928__auto__ = function(pattern) {
      return function kuroi$page_parser$iter__11657(s__11658) {
        return new cljs.core.LazySeq(null, function(pattern) {
          return function() {
            var s__11658__$1 = s__11658;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__11658__$1);
              if (temp__4657__auto__) {
                var s__11658__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__11658__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11658__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__11660 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__11659 = 0;
                    while (true) {
                      if (i__11659 < size__6927__auto__) {
                        var thread = cljs.core._nth.call(null, c__6926__auto__, i__11659);
                        cljs.core.chunk_append.call(null, b__11660, function() {
                          var temp__4657__auto____$1 = kuroi.page_parser.get_oppost.call(null, thread, target);
                          if (cljs.core.truth_(temp__4657__auto____$1)) {
                            var oppost_node = temp__4657__auto____$1;
                            var data = kuroi.page_parser.cons_post_data.call(null, new cljs.core.Keyword(null, "omitted", "omitted", 1269940898), kuroi.page_parser.get_omitted_posts.call(null, thread, target), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target)), new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), true);
                            var oppost = kuroi.page_parser.parse_post.call(null, oppost_node, data, target);
                            if (cljs.core.truth_(kuroi.filters.filter_shallow.call(null, pattern, oppost, target))) {
                              var replies = kuroi.page_parser.select_STAR_.call(null, thread, reply_sel);
                              return kuroi.page_parser.parse_replies.call(null, oppost, replies, target);
                            } else {
                              return null;
                            }
                          } else {
                            return null;
                          }
                        }());
                        var G__11665 = i__11659 + 1;
                        i__11659 = G__11665;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11660), kuroi$page_parser$iter__11657.call(null, cljs.core.chunk_rest.call(null, s__11658__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11660), null);
                  }
                } else {
                  var thread = cljs.core.first.call(null, s__11658__$2);
                  return cljs.core.cons.call(null, function() {
                    var temp__4657__auto____$1 = kuroi.page_parser.get_oppost.call(null, thread, target);
                    if (cljs.core.truth_(temp__4657__auto____$1)) {
                      var oppost_node = temp__4657__auto____$1;
                      var data = kuroi.page_parser.cons_post_data.call(null, new cljs.core.Keyword(null, "omitted", "omitted", 1269940898), kuroi.page_parser.get_omitted_posts.call(null, thread, target), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target)), new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), true);
                      var oppost = kuroi.page_parser.parse_post.call(null, oppost_node, data, target);
                      if (cljs.core.truth_(kuroi.filters.filter_shallow.call(null, pattern, oppost, target))) {
                        var replies = kuroi.page_parser.select_STAR_.call(null, thread, reply_sel);
                        return kuroi.page_parser.parse_replies.call(null, oppost, replies, target);
                      } else {
                        return null;
                      }
                    } else {
                      return null;
                    }
                  }(), kuroi$page_parser$iter__11657.call(null, cljs.core.rest.call(null, s__11658__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(pattern), null, null);
      };
    }(pattern);
    return iter__6928__auto__.call(null, threads);
  }();
  return kuroi.filters.filter_deep.call(null, pattern, data, target);
};
kuroi.page_parser.parse_structured.cljs$core$IFn$_invoke$arity$2 = function(threads, target) {
  return kuroi.page_parser.parse_structured.call(null, threads, "table .reply", target);
};
kuroi.page_parser.parse_structured.cljs$lang$maxFixedArity = 3;
if (typeof kuroi.page_parser.get_json_thread_id !== "undefined") {
} else {
  kuroi.page_parser.get_json_thread_id = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-json-thread-id"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.get_json_post_images !== "undefined") {
} else {
  kuroi.page_parser.get_json_post_images = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-json-post-images"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
if (typeof kuroi.page_parser.json__GT_image !== "undefined") {
} else {
  kuroi.page_parser.json__GT_image = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "json-\x3eimage"), function(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__) {
      return function(p1__11667_SHARP_, p2__11668_SHARP_, p3__11666_SHARP_) {
        return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(p3__11666_SHARP_);
      };
    }(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__), new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
kuroi.page_parser.parse_json = function kuroi$page_parser$parse_json(json, target) {
  var pattern = kuroi.filters.user_pattern.call(null, target);
  var data = function() {
    var iter__6928__auto__ = function(pattern) {
      return function kuroi$page_parser$parse_json_$_iter__11673(s__11674) {
        return new cljs.core.LazySeq(null, function(pattern) {
          return function() {
            var s__11674__$1 = s__11674;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__11674__$1);
              if (temp__4657__auto__) {
                var s__11674__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__11674__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11674__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__11676 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__11675 = 0;
                    while (true) {
                      if (i__11675 < size__6927__auto__) {
                        var thread = cljs.core._nth.call(null, c__6926__auto__, i__11675);
                        cljs.core.chunk_append.call(null, b__11676, function() {
                          var temp__4657__auto____$1 = kuroi.page_parser.get_oppost.call(null, thread, target);
                          if (cljs.core.truth_(temp__4657__auto____$1)) {
                            var oppost_node = temp__4657__auto____$1;
                            var data = kuroi.page_parser.cons_post_data.call(null, new cljs.core.Keyword(null, "omitted", "omitted", 1269940898), kuroi.page_parser.get_omitted_posts.call(null, thread, target), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target)), new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), true);
                            var oppost = kuroi.page_parser.parse_post.call(null, oppost_node, data, target);
                            if (cljs.core.truth_(kuroi.filters.filter_shallow.call(null, pattern, oppost, target))) {
                              var replies = cljs.core.rest.call(null, thread.call(null, "posts"));
                              return kuroi.page_parser.parse_replies.call(null, oppost, replies, target);
                            } else {
                              return null;
                            }
                          } else {
                            return null;
                          }
                        }());
                        var G__11677 = i__11675 + 1;
                        i__11675 = G__11677;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11676), kuroi$page_parser$parse_json_$_iter__11673.call(null, cljs.core.chunk_rest.call(null, s__11674__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11676), null);
                  }
                } else {
                  var thread = cljs.core.first.call(null, s__11674__$2);
                  return cljs.core.cons.call(null, function() {
                    var temp__4657__auto____$1 = kuroi.page_parser.get_oppost.call(null, thread, target);
                    if (cljs.core.truth_(temp__4657__auto____$1)) {
                      var oppost_node = temp__4657__auto____$1;
                      var data = kuroi.page_parser.cons_post_data.call(null, new cljs.core.Keyword(null, "omitted", "omitted", 1269940898), kuroi.page_parser.get_omitted_posts.call(null, thread, target), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target)), new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), true);
                      var oppost = kuroi.page_parser.parse_post.call(null, oppost_node, data, target);
                      if (cljs.core.truth_(kuroi.filters.filter_shallow.call(null, pattern, oppost, target))) {
                        var replies = cljs.core.rest.call(null, thread.call(null, "posts"));
                        return kuroi.page_parser.parse_replies.call(null, oppost, replies, target);
                      } else {
                        return null;
                      }
                    } else {
                      return null;
                    }
                  }(), kuroi$page_parser$parse_json_$_iter__11673.call(null, cljs.core.rest.call(null, s__11674__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(pattern), null, null);
      };
    }(pattern);
    return iter__6928__auto__.call(null, json.call(null, "threads"));
  }();
  return kuroi.filters.filter_deep.call(null, pattern, data, target);
};
kuroi.page_parser.parse_images_json = function kuroi$page_parser$parse_images_json(json, target) {
  return cljs.core.apply.call(null, cljs.core.concat, function() {
    var iter__6928__auto__ = function kuroi$page_parser$parse_images_json_$_iter__11699(s__11700) {
      return new cljs.core.LazySeq(null, function() {
        var s__11700__$1 = s__11700;
        while (true) {
          var temp__4657__auto__ = cljs.core.seq.call(null, s__11700__$1);
          if (temp__4657__auto__) {
            var s__11700__$2 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, s__11700__$2)) {
              var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11700__$2);
              var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
              var b__11702 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
              if (function() {
                var i__11701 = 0;
                while (true) {
                  if (i__11701 < size__6927__auto__) {
                    var thread = cljs.core._nth.call(null, c__6926__auto__, i__11701);
                    cljs.core.chunk_append.call(null, b__11702, function() {
                      var thread_id = kuroi.page_parser.get_json_thread_id.call(null, thread, target);
                      return cljs.core.apply.call(null, cljs.core.concat, function() {
                        var iter__6928__auto__ = function(i__11701, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__) {
                          return function kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11711(s__11712) {
                            return new cljs.core.LazySeq(null, function(i__11701, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__) {
                              return function() {
                                var s__11712__$1 = s__11712;
                                while (true) {
                                  var temp__4657__auto____$1 = cljs.core.seq.call(null, s__11712__$1);
                                  if (temp__4657__auto____$1) {
                                    var s__11712__$2 = temp__4657__auto____$1;
                                    if (cljs.core.chunked_seq_QMARK_.call(null, s__11712__$2)) {
                                      var c__6926__auto____$1 = cljs.core.chunk_first.call(null, s__11712__$2);
                                      var size__6927__auto____$1 = cljs.core.count.call(null, c__6926__auto____$1);
                                      var b__11714 = cljs.core.chunk_buffer.call(null, size__6927__auto____$1);
                                      if (function() {
                                        var i__11713 = 0;
                                        while (true) {
                                          if (i__11713 < size__6927__auto____$1) {
                                            var post = cljs.core._nth.call(null, c__6926__auto____$1, i__11713);
                                            cljs.core.chunk_append.call(null, b__11714, cljs.core.map.call(null, function(i__11713, i__11701, post, c__6926__auto____$1, size__6927__auto____$1, b__11714, s__11712__$2, temp__4657__auto____$1, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__) {
                                              return function(p1__11678_SHARP_) {
                                                return kuroi.page_parser.json__GT_image.call(null, thread_id, p1__11678_SHARP_, target);
                                              };
                                            }(i__11713, i__11701, post, c__6926__auto____$1, size__6927__auto____$1, b__11714, s__11712__$2, temp__4657__auto____$1, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__), kuroi.page_parser.get_json_post_images.call(null, post, target)));
                                            var G__11719 = i__11713 + 1;
                                            i__11713 = G__11719;
                                            continue;
                                          } else {
                                            return true;
                                          }
                                          break;
                                        }
                                      }()) {
                                        return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11714), kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11711.call(null, cljs.core.chunk_rest.call(null, s__11712__$2)));
                                      } else {
                                        return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11714), null);
                                      }
                                    } else {
                                      var post = cljs.core.first.call(null, s__11712__$2);
                                      return cljs.core.cons.call(null, cljs.core.map.call(null, function(i__11701, post, s__11712__$2, temp__4657__auto____$1, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__) {
                                        return function(p1__11678_SHARP_) {
                                          return kuroi.page_parser.json__GT_image.call(null, thread_id, p1__11678_SHARP_, target);
                                        };
                                      }(i__11701, post, s__11712__$2, temp__4657__auto____$1, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__), kuroi.page_parser.get_json_post_images.call(null, post, target)), kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11711.call(null, cljs.core.rest.call(null, s__11712__$2)));
                                    }
                                  } else {
                                    return null;
                                  }
                                  break;
                                }
                              };
                            }(i__11701, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__), null, null);
                          };
                        }(i__11701, thread_id, thread, c__6926__auto__, size__6927__auto__, b__11702, s__11700__$2, temp__4657__auto__);
                        return iter__6928__auto__.call(null, thread.call(null, "posts"));
                      }());
                    }());
                    var G__11720 = i__11701 + 1;
                    i__11701 = G__11720;
                    continue;
                  } else {
                    return true;
                  }
                  break;
                }
              }()) {
                return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11702), kuroi$page_parser$parse_images_json_$_iter__11699.call(null, cljs.core.chunk_rest.call(null, s__11700__$2)));
              } else {
                return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11702), null);
              }
            } else {
              var thread = cljs.core.first.call(null, s__11700__$2);
              return cljs.core.cons.call(null, function() {
                var thread_id = kuroi.page_parser.get_json_thread_id.call(null, thread, target);
                return cljs.core.apply.call(null, cljs.core.concat, function() {
                  var iter__6928__auto__ = function(thread_id, thread, s__11700__$2, temp__4657__auto__) {
                    return function kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11715(s__11716) {
                      return new cljs.core.LazySeq(null, function(thread_id, thread, s__11700__$2, temp__4657__auto__) {
                        return function() {
                          var s__11716__$1 = s__11716;
                          while (true) {
                            var temp__4657__auto____$1 = cljs.core.seq.call(null, s__11716__$1);
                            if (temp__4657__auto____$1) {
                              var s__11716__$2 = temp__4657__auto____$1;
                              if (cljs.core.chunked_seq_QMARK_.call(null, s__11716__$2)) {
                                var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11716__$2);
                                var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                                var b__11718 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                                if (function() {
                                  var i__11717 = 0;
                                  while (true) {
                                    if (i__11717 < size__6927__auto__) {
                                      var post = cljs.core._nth.call(null, c__6926__auto__, i__11717);
                                      cljs.core.chunk_append.call(null, b__11718, cljs.core.map.call(null, function(i__11717, post, c__6926__auto__, size__6927__auto__, b__11718, s__11716__$2, temp__4657__auto____$1, thread_id, thread, s__11700__$2, temp__4657__auto__) {
                                        return function(p1__11678_SHARP_) {
                                          return kuroi.page_parser.json__GT_image.call(null, thread_id, p1__11678_SHARP_, target);
                                        };
                                      }(i__11717, post, c__6926__auto__, size__6927__auto__, b__11718, s__11716__$2, temp__4657__auto____$1, thread_id, thread, s__11700__$2, temp__4657__auto__), kuroi.page_parser.get_json_post_images.call(null, post, target)));
                                      var G__11721 = i__11717 + 1;
                                      i__11717 = G__11721;
                                      continue;
                                    } else {
                                      return true;
                                    }
                                    break;
                                  }
                                }()) {
                                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11718), kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11715.call(null, cljs.core.chunk_rest.call(null, s__11716__$2)));
                                } else {
                                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11718), null);
                                }
                              } else {
                                var post = cljs.core.first.call(null, s__11716__$2);
                                return cljs.core.cons.call(null, cljs.core.map.call(null, function(post, s__11716__$2, temp__4657__auto____$1, thread_id, thread, s__11700__$2, temp__4657__auto__) {
                                  return function(p1__11678_SHARP_) {
                                    return kuroi.page_parser.json__GT_image.call(null, thread_id, p1__11678_SHARP_, target);
                                  };
                                }(post, s__11716__$2, temp__4657__auto____$1, thread_id, thread, s__11700__$2, temp__4657__auto__), kuroi.page_parser.get_json_post_images.call(null, post, target)), kuroi$page_parser$parse_images_json_$_iter__11699_$_iter__11715.call(null, cljs.core.rest.call(null, s__11716__$2)));
                              }
                            } else {
                              return null;
                            }
                            break;
                          }
                        };
                      }(thread_id, thread, s__11700__$2, temp__4657__auto__), null, null);
                    };
                  }(thread_id, thread, s__11700__$2, temp__4657__auto__);
                  return iter__6928__auto__.call(null, thread.call(null, "posts"));
                }());
              }(), kuroi$page_parser$parse_images_json_$_iter__11699.call(null, cljs.core.rest.call(null, s__11700__$2)));
            }
          } else {
            return null;
          }
          break;
        }
      }, null, null);
    };
    return iter__6928__auto__.call(null, json.call(null, "threads"));
  }());
};
kuroi.page_parser.parse_flat = function kuroi$page_parser$parse_flat(doc_tree, target) {
  var elts = kuroi.page_parser.select_STAR_.call(null, doc_tree, "form#delform \x3e input[type\x3d'checkbox'],\n                                form#delform \x3e label \x3e input[type\x3d'checkbox'],\n                                form#delform \x3e .omittedposts,\n                                form#delform \x3e .posttime,\n                                form#delform \x3e span.filetitle,\n                                form#delform \x3e label \x3e span.filetitle,\n                                form#delform \x3e a[href*\x3d'src/'],\n                                form#delform \x3e .filesize,\n                                form#delform \x3e blockquote,\n                                form#delform \x3e table");
  var ctr = cljs.core.atom.call(null, 0);
  var threads = cljs.core.partition_by.call(null, function(elts, ctr) {
    return function(p1__11722_SHARP_) {
      if (cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, p1__11722_SHARP_.nodeName), "span") && cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, p1__11722_SHARP_.className), "filesize")) {
        cljs.core.swap_BANG_.call(null, ctr, cljs.core.inc);
      } else {
      }
      return cljs.core.deref.call(null, ctr);
    };
  }(elts, ctr), elts);
  return kuroi.page_parser.parse_structured.call(null, function() {
    var iter__6928__auto__ = function(elts, ctr, threads) {
      return function kuroi$page_parser$parse_flat_$_iter__11743(s__11744) {
        return new cljs.core.LazySeq(null, function(elts, ctr, threads) {
          return function() {
            var s__11744__$1 = s__11744;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__11744__$1);
              if (temp__4657__auto__) {
                var s__11744__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__11744__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11744__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__11746 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__11745 = 0;
                    while (true) {
                      if (i__11745 < size__6927__auto__) {
                        var t = cljs.core._nth.call(null, c__6926__auto__, i__11745);
                        cljs.core.chunk_append.call(null, b__11746, function() {
                          var node = doc_tree.createElement("div");
                          var seq__11755_11763 = cljs.core.seq.call(null, t);
                          var chunk__11756_11764 = null;
                          var count__11757_11765 = 0;
                          var i__11758_11766 = 0;
                          while (true) {
                            if (i__11758_11766 < count__11757_11765) {
                              var child_11767 = cljs.core._nth.call(null, chunk__11756_11764, i__11758_11766);
                              node.appendChild(child_11767);
                              var G__11768 = seq__11755_11763;
                              var G__11769 = chunk__11756_11764;
                              var G__11770 = count__11757_11765;
                              var G__11771 = i__11758_11766 + 1;
                              seq__11755_11763 = G__11768;
                              chunk__11756_11764 = G__11769;
                              count__11757_11765 = G__11770;
                              i__11758_11766 = G__11771;
                              continue;
                            } else {
                              var temp__4657__auto___11772__$1 = cljs.core.seq.call(null, seq__11755_11763);
                              if (temp__4657__auto___11772__$1) {
                                var seq__11755_11773__$1 = temp__4657__auto___11772__$1;
                                if (cljs.core.chunked_seq_QMARK_.call(null, seq__11755_11773__$1)) {
                                  var c__6959__auto___11774 = cljs.core.chunk_first.call(null, seq__11755_11773__$1);
                                  var G__11775 = cljs.core.chunk_rest.call(null, seq__11755_11773__$1);
                                  var G__11776 = c__6959__auto___11774;
                                  var G__11777 = cljs.core.count.call(null, c__6959__auto___11774);
                                  var G__11778 = 0;
                                  seq__11755_11763 = G__11775;
                                  chunk__11756_11764 = G__11776;
                                  count__11757_11765 = G__11777;
                                  i__11758_11766 = G__11778;
                                  continue;
                                } else {
                                  var child_11779 = cljs.core.first.call(null, seq__11755_11773__$1);
                                  node.appendChild(child_11779);
                                  var G__11780 = cljs.core.next.call(null, seq__11755_11773__$1);
                                  var G__11781 = null;
                                  var G__11782 = 0;
                                  var G__11783 = 0;
                                  seq__11755_11763 = G__11780;
                                  chunk__11756_11764 = G__11781;
                                  count__11757_11765 = G__11782;
                                  i__11758_11766 = G__11783;
                                  continue;
                                }
                              } else {
                              }
                            }
                            break;
                          }
                          return node;
                        }());
                        var G__11784 = i__11745 + 1;
                        i__11745 = G__11784;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11746), kuroi$page_parser$parse_flat_$_iter__11743.call(null, cljs.core.chunk_rest.call(null, s__11744__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11746), null);
                  }
                } else {
                  var t = cljs.core.first.call(null, s__11744__$2);
                  return cljs.core.cons.call(null, function() {
                    var node = doc_tree.createElement("div");
                    var seq__11759_11785 = cljs.core.seq.call(null, t);
                    var chunk__11760_11786 = null;
                    var count__11761_11787 = 0;
                    var i__11762_11788 = 0;
                    while (true) {
                      if (i__11762_11788 < count__11761_11787) {
                        var child_11789 = cljs.core._nth.call(null, chunk__11760_11786, i__11762_11788);
                        node.appendChild(child_11789);
                        var G__11790 = seq__11759_11785;
                        var G__11791 = chunk__11760_11786;
                        var G__11792 = count__11761_11787;
                        var G__11793 = i__11762_11788 + 1;
                        seq__11759_11785 = G__11790;
                        chunk__11760_11786 = G__11791;
                        count__11761_11787 = G__11792;
                        i__11762_11788 = G__11793;
                        continue;
                      } else {
                        var temp__4657__auto___11794__$1 = cljs.core.seq.call(null, seq__11759_11785);
                        if (temp__4657__auto___11794__$1) {
                          var seq__11759_11795__$1 = temp__4657__auto___11794__$1;
                          if (cljs.core.chunked_seq_QMARK_.call(null, seq__11759_11795__$1)) {
                            var c__6959__auto___11796 = cljs.core.chunk_first.call(null, seq__11759_11795__$1);
                            var G__11797 = cljs.core.chunk_rest.call(null, seq__11759_11795__$1);
                            var G__11798 = c__6959__auto___11796;
                            var G__11799 = cljs.core.count.call(null, c__6959__auto___11796);
                            var G__11800 = 0;
                            seq__11759_11785 = G__11797;
                            chunk__11760_11786 = G__11798;
                            count__11761_11787 = G__11799;
                            i__11762_11788 = G__11800;
                            continue;
                          } else {
                            var child_11801 = cljs.core.first.call(null, seq__11759_11795__$1);
                            node.appendChild(child_11801);
                            var G__11802 = cljs.core.next.call(null, seq__11759_11795__$1);
                            var G__11803 = null;
                            var G__11804 = 0;
                            var G__11805 = 0;
                            seq__11759_11785 = G__11802;
                            chunk__11760_11786 = G__11803;
                            count__11761_11787 = G__11804;
                            i__11762_11788 = G__11805;
                            continue;
                          }
                        } else {
                        }
                      }
                      break;
                    }
                    return node;
                  }(), kuroi$page_parser$parse_flat_$_iter__11743.call(null, cljs.core.rest.call(null, s__11744__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(elts, ctr, threads), null, null);
      };
    }(elts, ctr, threads);
    return iter__6928__auto__.call(null, threads);
  }(), target);
};
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, new cljs.core.Keyword(null, "default", "default", -1987822328), function(doc_tree, target) {
  if (cljs.core.truth_(kuroi.page_parser.select.call(null, doc_tree, "form \x3e blockquote"))) {
    return kuroi.page_parser.parse_flat.call(null, doc_tree, target);
  } else {
    return kuroi.page_parser.parse_structured.call(null, kuroi.page_parser.select_STAR_.call(null, doc_tree, "form \x3e div[id^\x3d'thread']"), target);
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_thread_images, new cljs.core.Keyword(null, "default", "default", -1987822328), function(doc_tree, target) {
  var images = kuroi.page_parser.select_STAR_.call(null, doc_tree, ".filesize, .fileText, .fileinfo, a.fileThumb \x3e img, .fileInfo, img[src*\x3d'thumb/']");
  var iter__6928__auto__ = function(images) {
    return function kuroi$page_parser$iter__11806(s__11807) {
      return new cljs.core.LazySeq(null, function(images) {
        return function() {
          var s__11807__$1 = s__11807;
          while (true) {
            var temp__4657__auto__ = cljs.core.seq.call(null, s__11807__$1);
            if (temp__4657__auto__) {
              var s__11807__$2 = temp__4657__auto__;
              if (cljs.core.chunked_seq_QMARK_.call(null, s__11807__$2)) {
                var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11807__$2);
                var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                var b__11809 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                if (function() {
                  var i__11808 = 0;
                  while (true) {
                    if (i__11808 < size__6927__auto__) {
                      var vec__11812 = cljs.core._nth.call(null, c__6926__auto__, i__11808);
                      var filesz = cljs.core.nth.call(null, vec__11812, 0, null);
                      var thumb = cljs.core.nth.call(null, vec__11812, 1, null);
                      cljs.core.chunk_append.call(null, b__11809, kuroi.page_parser.build_image_data.call(null, null, thumb, thumb.parentNode, filesz, target));
                      var G__11814 = i__11808 + 1;
                      i__11808 = G__11814;
                      continue;
                    } else {
                      return true;
                    }
                    break;
                  }
                }()) {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11809), kuroi$page_parser$iter__11806.call(null, cljs.core.chunk_rest.call(null, s__11807__$2)));
                } else {
                  return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11809), null);
                }
              } else {
                var vec__11813 = cljs.core.first.call(null, s__11807__$2);
                var filesz = cljs.core.nth.call(null, vec__11813, 0, null);
                var thumb = cljs.core.nth.call(null, vec__11813, 1, null);
                return cljs.core.cons.call(null, kuroi.page_parser.build_image_data.call(null, null, thumb, thumb.parentNode, filesz, target), kuroi$page_parser$iter__11806.call(null, cljs.core.rest.call(null, s__11807__$2)));
              }
            } else {
              return null;
            }
            break;
          }
        };
      }(images), null, null);
    };
  }(images);
  return iter__6928__auto__.call(null, cljs.core.partition.call(null, 2, images));
});
kuroi.page_parser.parse_images_struct = function kuroi$page_parser$parse_images_struct(doc_tree, oppost, target) {
  var threads = kuroi.page_parser.select_STAR_.call(null, doc_tree, oppost);
  return cljs.core.apply.call(null, cljs.core.concat, function() {
    var iter__6928__auto__ = function(threads) {
      return function kuroi$page_parser$parse_images_struct_$_iter__11851(s__11852) {
        return new cljs.core.LazySeq(null, function(threads) {
          return function() {
            var s__11852__$1 = s__11852;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__11852__$1);
              if (temp__4657__auto__) {
                var s__11852__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__11852__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11852__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__11854 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__11853 = 0;
                    while (true) {
                      if (i__11853 < size__6927__auto__) {
                        var root_node = cljs.core._nth.call(null, c__6926__auto__, i__11853);
                        cljs.core.chunk_append.call(null, b__11854, function() {
                          var thread_id = kuroi.page_parser.get_thread_id.call(null, root_node, target);
                          var images = kuroi.page_parser.select_STAR_.call(null, root_node, ".filesize, .fileText, a.fileThumb \x3e img, .fileinfo, .fileInfo, img[src*\x3d'thumb/']");
                          var iter__6928__auto__ = function(i__11853, thread_id, images, root_node, c__6926__auto__, size__6927__auto__, b__11854, s__11852__$2, temp__4657__auto__, threads) {
                            return function kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11871(s__11872) {
                              return new cljs.core.LazySeq(null, function(i__11853, thread_id, images, root_node, c__6926__auto__, size__6927__auto__, b__11854, s__11852__$2, temp__4657__auto__, threads) {
                                return function() {
                                  var s__11872__$1 = s__11872;
                                  while (true) {
                                    var temp__4657__auto____$1 = cljs.core.seq.call(null, s__11872__$1);
                                    if (temp__4657__auto____$1) {
                                      var s__11872__$2 = temp__4657__auto____$1;
                                      if (cljs.core.chunked_seq_QMARK_.call(null, s__11872__$2)) {
                                        var c__6926__auto____$1 = cljs.core.chunk_first.call(null, s__11872__$2);
                                        var size__6927__auto____$1 = cljs.core.count.call(null, c__6926__auto____$1);
                                        var b__11874 = cljs.core.chunk_buffer.call(null, size__6927__auto____$1);
                                        if (function() {
                                          var i__11873 = 0;
                                          while (true) {
                                            if (i__11873 < size__6927__auto____$1) {
                                              var vec__11877 = cljs.core._nth.call(null, c__6926__auto____$1, i__11873);
                                              var filesz = cljs.core.nth.call(null, vec__11877, 0, null);
                                              var thumb = cljs.core.nth.call(null, vec__11877, 1, null);
                                              cljs.core.chunk_append.call(null, b__11874, function() {
                                                var link = thumb.parentNode;
                                                return kuroi.page_parser.build_image_data.call(null, thread_id, thumb, link, filesz, target);
                                              }());
                                              var G__11887 = i__11873 + 1;
                                              i__11873 = G__11887;
                                              continue;
                                            } else {
                                              return true;
                                            }
                                            break;
                                          }
                                        }()) {
                                          return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11874), kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11871.call(null, cljs.core.chunk_rest.call(null, s__11872__$2)));
                                        } else {
                                          return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11874), null);
                                        }
                                      } else {
                                        var vec__11878 = cljs.core.first.call(null, s__11872__$2);
                                        var filesz = cljs.core.nth.call(null, vec__11878, 0, null);
                                        var thumb = cljs.core.nth.call(null, vec__11878, 1, null);
                                        return cljs.core.cons.call(null, function() {
                                          var link = thumb.parentNode;
                                          return kuroi.page_parser.build_image_data.call(null, thread_id, thumb, link, filesz, target);
                                        }(), kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11871.call(null, cljs.core.rest.call(null, s__11872__$2)));
                                      }
                                    } else {
                                      return null;
                                    }
                                    break;
                                  }
                                };
                              }(i__11853, thread_id, images, root_node, c__6926__auto__, size__6927__auto__, b__11854, s__11852__$2, temp__4657__auto__, threads), null, null);
                            };
                          }(i__11853, thread_id, images, root_node, c__6926__auto__, size__6927__auto__, b__11854, s__11852__$2, temp__4657__auto__, threads);
                          return iter__6928__auto__.call(null, cljs.core.partition.call(null, 2, images));
                        }());
                        var G__11888 = i__11853 + 1;
                        i__11853 = G__11888;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11854), kuroi$page_parser$parse_images_struct_$_iter__11851.call(null, cljs.core.chunk_rest.call(null, s__11852__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11854), null);
                  }
                } else {
                  var root_node = cljs.core.first.call(null, s__11852__$2);
                  return cljs.core.cons.call(null, function() {
                    var thread_id = kuroi.page_parser.get_thread_id.call(null, root_node, target);
                    var images = kuroi.page_parser.select_STAR_.call(null, root_node, ".filesize, .fileText, a.fileThumb \x3e img, .fileinfo, .fileInfo, img[src*\x3d'thumb/']");
                    var iter__6928__auto__ = function(thread_id, images, root_node, s__11852__$2, temp__4657__auto__, threads) {
                      return function kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11879(s__11880) {
                        return new cljs.core.LazySeq(null, function(thread_id, images, root_node, s__11852__$2, temp__4657__auto__, threads) {
                          return function() {
                            var s__11880__$1 = s__11880;
                            while (true) {
                              var temp__4657__auto____$1 = cljs.core.seq.call(null, s__11880__$1);
                              if (temp__4657__auto____$1) {
                                var s__11880__$2 = temp__4657__auto____$1;
                                if (cljs.core.chunked_seq_QMARK_.call(null, s__11880__$2)) {
                                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11880__$2);
                                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                                  var b__11882 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                                  if (function() {
                                    var i__11881 = 0;
                                    while (true) {
                                      if (i__11881 < size__6927__auto__) {
                                        var vec__11885 = cljs.core._nth.call(null, c__6926__auto__, i__11881);
                                        var filesz = cljs.core.nth.call(null, vec__11885, 0, null);
                                        var thumb = cljs.core.nth.call(null, vec__11885, 1, null);
                                        cljs.core.chunk_append.call(null, b__11882, function() {
                                          var link = thumb.parentNode;
                                          return kuroi.page_parser.build_image_data.call(null, thread_id, thumb, link, filesz, target);
                                        }());
                                        var G__11889 = i__11881 + 1;
                                        i__11881 = G__11889;
                                        continue;
                                      } else {
                                        return true;
                                      }
                                      break;
                                    }
                                  }()) {
                                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11882), kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11879.call(null, cljs.core.chunk_rest.call(null, s__11880__$2)));
                                  } else {
                                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11882), null);
                                  }
                                } else {
                                  var vec__11886 = cljs.core.first.call(null, s__11880__$2);
                                  var filesz = cljs.core.nth.call(null, vec__11886, 0, null);
                                  var thumb = cljs.core.nth.call(null, vec__11886, 1, null);
                                  return cljs.core.cons.call(null, function() {
                                    var link = thumb.parentNode;
                                    return kuroi.page_parser.build_image_data.call(null, thread_id, thumb, link, filesz, target);
                                  }(), kuroi$page_parser$parse_images_struct_$_iter__11851_$_iter__11879.call(null, cljs.core.rest.call(null, s__11880__$2)));
                                }
                              } else {
                                return null;
                              }
                              break;
                            }
                          };
                        }(thread_id, images, root_node, s__11852__$2, temp__4657__auto__, threads), null, null);
                      };
                    }(thread_id, images, root_node, s__11852__$2, temp__4657__auto__, threads);
                    return iter__6928__auto__.call(null, cljs.core.partition.call(null, 2, images));
                  }(), kuroi$page_parser$parse_images_struct_$_iter__11851.call(null, cljs.core.rest.call(null, s__11852__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(threads), null, null);
      };
    }(threads);
    return iter__6928__auto__.call(null, threads);
  }());
};
kuroi.page_parser.parse_images_flat = function kuroi$page_parser$parse_images_flat(doc_tree, target) {
  var nodes = kuroi.page_parser.select_STAR_.call(null, doc_tree, "form \x3e input[type\x3d'checkbox'],\n                                form \x3e label \x3e input[type\x3d'checkbox'],\n                                .filesize,\n                                *:not(.filesize) \x3e a[target][href*\x3d'src/']");
  var groups = cljs.core.partition_by.call(null, function(nodes) {
    return function(p1__11890_SHARP_) {
      return cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, p1__11890_SHARP_.nodeName), "input");
    };
  }(nodes), nodes);
  var images = function() {
    var prev = cljs.core.first.call(null, groups);
    var sep = cljs.core.second.call(null, groups);
    var rest = cljs.core.nnext.call(null, groups);
    var out = cljs.core.PersistentVector.EMPTY;
    while (true) {
      if (cljs.core.truth_(rest)) {
        var following = cljs.core.first.call(null, rest);
        var vec__11901 = cljs.core.split_at.call(null, cljs.core.count.call(null, following) - 2, following);
        var h = cljs.core.nth.call(null, vec__11901, 0, null);
        var t = cljs.core.nth.call(null, vec__11901, 1, null);
        var G__11910 = t;
        var G__11911 = cljs.core.fnext.call(null, rest);
        var G__11912 = cljs.core.nnext.call(null, rest);
        var G__11913 = cljs.core.concat.call(null, out, sep, prev, h);
        prev = G__11910;
        sep = G__11911;
        rest = G__11912;
        out = G__11913;
        continue;
      } else {
        return cljs.core.concat.call(null, out, sep, prev);
      }
      break;
    }
  }();
  var images__$1 = cljs.core.partition_by.call(null, function(nodes, groups, images) {
    return function(p1__11891_SHARP_) {
      return cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, p1__11891_SHARP_.nodeName), "input");
    };
  }(nodes, groups, images), images);
  var th = cljs.core.first.call(null, images__$1);
  var th_images = cljs.core.second.call(null, images__$1);
  var rest = cljs.core.nnext.call(null, images__$1);
  var out = cljs.core.PersistentVector.EMPTY;
  while (true) {
    if (cljs.core.truth_(th_images)) {
      var id_elt = cljs.core.first.call(null, th);
      var thread_id = kuroi.page_parser.get_thread_id.call(null, id_elt, target);
      var G__11914 = cljs.core.first.call(null, rest);
      var G__11915 = cljs.core.second.call(null, rest);
      var G__11916 = cljs.core.nnext.call(null, rest);
      var G__11917 = cljs.core.concat.call(null, out, function() {
        var iter__6928__auto__ = function(th, th_images, rest, out, id_elt, thread_id, nodes, groups, images, images__$1) {
          return function kuroi$page_parser$parse_images_flat_$_iter__11902(s__11903) {
            return new cljs.core.LazySeq(null, function(th, th_images, rest, out, id_elt, thread_id, nodes, groups, images, images__$1) {
              return function() {
                var s__11903__$1 = s__11903;
                while (true) {
                  var temp__4657__auto__ = cljs.core.seq.call(null, s__11903__$1);
                  if (temp__4657__auto__) {
                    var s__11903__$2 = temp__4657__auto__;
                    if (cljs.core.chunked_seq_QMARK_.call(null, s__11903__$2)) {
                      var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11903__$2);
                      var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                      var b__11905 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                      if (function() {
                        var i__11904 = 0;
                        while (true) {
                          if (i__11904 < size__6927__auto__) {
                            var vec__11908 = cljs.core._nth.call(null, c__6926__auto__, i__11904);
                            var filesz = cljs.core.nth.call(null, vec__11908, 0, null);
                            var link = cljs.core.nth.call(null, vec__11908, 1, null);
                            cljs.core.chunk_append.call(null, b__11905, kuroi.page_parser.build_image_data.call(null, thread_id, kuroi.page_parser.select.call(null, link, "img"), link, filesz, target));
                            var G__11918 = i__11904 + 1;
                            i__11904 = G__11918;
                            continue;
                          } else {
                            return true;
                          }
                          break;
                        }
                      }()) {
                        return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11905), kuroi$page_parser$parse_images_flat_$_iter__11902.call(null, cljs.core.chunk_rest.call(null, s__11903__$2)));
                      } else {
                        return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11905), null);
                      }
                    } else {
                      var vec__11909 = cljs.core.first.call(null, s__11903__$2);
                      var filesz = cljs.core.nth.call(null, vec__11909, 0, null);
                      var link = cljs.core.nth.call(null, vec__11909, 1, null);
                      return cljs.core.cons.call(null, kuroi.page_parser.build_image_data.call(null, thread_id, kuroi.page_parser.select.call(null, link, "img"), link, filesz, target), kuroi$page_parser$parse_images_flat_$_iter__11902.call(null, cljs.core.rest.call(null, s__11903__$2)));
                    }
                  } else {
                    return null;
                  }
                  break;
                }
              };
            }(th, th_images, rest, out, id_elt, thread_id, nodes, groups, images, images__$1), null, null);
          };
        }(th, th_images, rest, out, id_elt, thread_id, nodes, groups, images, images__$1);
        return iter__6928__auto__.call(null, cljs.core.partition.call(null, 2, th_images));
      }());
      th = G__11914;
      th_images = G__11915;
      rest = G__11916;
      out = G__11917;
      continue;
    } else {
      return out;
    }
    break;
  }
};
cljs.core._add_method.call(null, kuroi.page_parser.parse_images, new cljs.core.Keyword(null, "default", "default", -1987822328), function(doc_tree, target) {
  if (cljs.core.truth_((new cljs.core.Keyword(null, "inline", "inline", 1399884222)).cljs$core$IFn$_invoke$arity$1(target))) {
    return kuroi.page_parser.parse_thread_images.call(null, doc_tree, target);
  } else {
    if (cljs.core.truth_(kuroi.page_parser.select.call(null, doc_tree, "form \x3e blockquote"))) {
      return kuroi.page_parser.parse_images_flat.call(null, doc_tree, target);
    } else {
      return kuroi.page_parser.parse_images_struct.call(null, doc_tree, ".board \x3e .thread,\n                                  form \x3e div[id^\x3d'thread'],\n                                  body \x3e form \x3e div[id^\x3d'thread']", target);
    }
  }
});
if (typeof kuroi.page_parser.transform_page_text !== "undefined") {
} else {
  kuroi.page_parser.transform_page_text = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "transform-page-text"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.transform_page_text, new cljs.core.Keyword(null, "default", "default", -1987822328), function(text, target) {
  return text;
});
if (typeof kuroi.page_parser.get_post_form !== "undefined") {
} else {
  kuroi.page_parser.get_post_form = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-post-form"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_post_form, new cljs.core.Keyword(null, "default", "default", -1987822328), function(dom, target) {
  return kuroi.page_parser.select.call(null, dom, "form#postform, .postform, form[name\x3d'post'], #posting_form");
});
if (typeof kuroi.page_parser.extract_navbar !== "undefined") {
} else {
  kuroi.page_parser.extract_navbar = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "extract-navbar"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
kuroi.page_parser.transform_navbar = function kuroi$page_parser$transform_navbar(dom, target, nodes, link_p, link_f) {
  var nodes__$1 = nodes;
  var out = cljs.core.PersistentVector.EMPTY;
  while (true) {
    var temp__4655__auto__ = cljs.core.first.call(null, nodes__$1);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var node = temp__4655__auto__;
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = cljs.core._EQ_.call(null, node.tagName, "A");
        if (and__6144__auto__) {
          return link_p.call(null, node);
        } else {
          return and__6144__auto__;
        }
      }())) {
        var link = link_f.call(null, node);
        link.href = [cljs.core.str(link.getAttribute("href")), cljs.core.str((new cljs.core.Keyword(null, "params", "params", 710516235)).cljs$core$IFn$_invoke$arity$1(target))].join("");
        var G__11932 = cljs.core.next.call(null, nodes__$1);
        var G__11933 = cljs.core.conj.call(null, out, link);
        nodes__$1 = G__11932;
        out = G__11933;
        continue;
      } else {
        if (cljs.core.truth_(function() {
          var and__6144__auto__ = cljs.core._EQ_.call(null, node.nodeType, 3);
          if (and__6144__auto__) {
            return cljs.core.re_find.call(null, /[\[\]|\/]/, node.textContent);
          } else {
            return and__6144__auto__;
          }
        }())) {
          var chars = cljs.core.filter.call(null, function(nodes__$1, out, node, temp__4655__auto__) {
            return function(p1__11919_SHARP_) {
              return !clojure.string.blank_QMARK_.call(null, p1__11919_SHARP_) && "[]|/".indexOf(p1__11919_SHARP_) >= 0;
            };
          }(nodes__$1, out, node, temp__4655__auto__), cljs.core.filter.call(null, function(nodes__$1, out, node, temp__4655__auto__) {
            return function(p1__11920_SHARP_) {
              return cljs.core.not.call(null, cljs.core.re_matches.call(null, /\s/, p1__11920_SHARP_));
            };
          }(nodes__$1, out, node, temp__4655__auto__), node.textContent));
          var G__11934 = cljs.core.next.call(null, nodes__$1);
          var G__11935 = cljs.core.conj.call(null, out, cljs.core.map.call(null, function(nodes__$1, out, chars, node, temp__4655__auto__) {
            return function(p1__11921_SHARP_) {
              return dom.createTextNode(p1__11921_SHARP_);
            };
          }(nodes__$1, out, chars, node, temp__4655__auto__), chars));
          nodes__$1 = G__11934;
          out = G__11935;
          continue;
        } else {
          var G__11936 = cljs.core.next.call(null, nodes__$1);
          var G__11937 = out;
          nodes__$1 = G__11936;
          out = G__11937;
          continue;
        }
      }
    } else {
      var ctr = cljs.core.atom.call(null, 0);
      var nodes__$2 = cljs.core.partition_by.call(null, function(nodes__$1, out, ctr, temp__4655__auto__) {
        return function(p1__11922_SHARP_) {
          var c = cljs.core.deref.call(null, ctr);
          if (cljs.core._EQ_.call(null, p1__11922_SHARP_.textContent, "]")) {
            cljs.core.swap_BANG_.call(null, ctr, cljs.core.inc);
          } else {
          }
          return c;
        };
      }(nodes__$1, out, ctr, temp__4655__auto__), cljs.core.flatten.call(null, out));
      var nodes__$3 = cljs.core.flatten.call(null, cljs.core.filter.call(null, function(nodes__$1, out, ctr, nodes__$2, temp__4655__auto__) {
        return function(p1__11923_SHARP_) {
          var and__6144__auto__ = cljs.core.count.call(null, p1__11923_SHARP_) > 2;
          if (and__6144__auto__) {
            return cljs.core.some.call(null, function(nodes__$1, out, and__6144__auto__, ctr, nodes__$2, temp__4655__auto__) {
              return function(n) {
                return cljs.core._EQ_.call(null, n.tagName, "A");
              };
            }(nodes__$1, out, and__6144__auto__, ctr, nodes__$2, temp__4655__auto__), p1__11923_SHARP_);
          } else {
            return and__6144__auto__;
          }
        };
      }(nodes__$1, out, ctr, nodes__$2, temp__4655__auto__), nodes__$2));
      var spaces = cljs.core.repeatedly.call(null, cljs.core.count.call(null, nodes__$3), function(nodes__$1, out, ctr, nodes__$2, nodes__$3, temp__4655__auto__) {
        return function() {
          return dom.createTextNode("  ");
        };
      }(nodes__$1, out, ctr, nodes__$2, nodes__$3, temp__4655__auto__));
      var div = dom.createElement("div");
      var seq__11928_11938 = cljs.core.seq.call(null, cljs.core.interleave.call(null, spaces, nodes__$3));
      var chunk__11929_11939 = null;
      var count__11930_11940 = 0;
      var i__11931_11941 = 0;
      while (true) {
        if (i__11931_11941 < count__11930_11940) {
          var n_11942 = cljs.core._nth.call(null, chunk__11929_11939, i__11931_11941);
          div.appendChild(n_11942);
          var G__11943 = seq__11928_11938;
          var G__11944 = chunk__11929_11939;
          var G__11945 = count__11930_11940;
          var G__11946 = i__11931_11941 + 1;
          seq__11928_11938 = G__11943;
          chunk__11929_11939 = G__11944;
          count__11930_11940 = G__11945;
          i__11931_11941 = G__11946;
          continue;
        } else {
          var temp__4657__auto___11947 = cljs.core.seq.call(null, seq__11928_11938);
          if (temp__4657__auto___11947) {
            var seq__11928_11948__$1 = temp__4657__auto___11947;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__11928_11948__$1)) {
              var c__6959__auto___11949 = cljs.core.chunk_first.call(null, seq__11928_11948__$1);
              var G__11950 = cljs.core.chunk_rest.call(null, seq__11928_11948__$1);
              var G__11951 = c__6959__auto___11949;
              var G__11952 = cljs.core.count.call(null, c__6959__auto___11949);
              var G__11953 = 0;
              seq__11928_11938 = G__11950;
              chunk__11929_11939 = G__11951;
              count__11930_11940 = G__11952;
              i__11931_11941 = G__11953;
              continue;
            } else {
              var n_11954 = cljs.core.first.call(null, seq__11928_11948__$1);
              div.appendChild(n_11954);
              var G__11955 = cljs.core.next.call(null, seq__11928_11948__$1);
              var G__11956 = null;
              var G__11957 = 0;
              var G__11958 = 0;
              seq__11928_11938 = G__11955;
              chunk__11929_11939 = G__11956;
              count__11930_11940 = G__11957;
              i__11931_11941 = G__11958;
              continue;
            }
          } else {
          }
        }
        break;
      }
      return div;
    }
    break;
  }
};
kuroi.page_parser.extract_navbar_menu = function kuroi$page_parser$extract_navbar_menu(dom, menu_sel, target) {
  var navbar_elts = kuroi.page_parser.select_STAR_.call(null, dom, menu_sel);
  var nodes = cljs.core.reduce.call(null, cljs.core.concat, function() {
    var iter__6928__auto__ = function(navbar_elts) {
      return function kuroi$page_parser$extract_navbar_menu_$_iter__11965(s__11966) {
        return new cljs.core.LazySeq(null, function(navbar_elts) {
          return function() {
            var s__11966__$1 = s__11966;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__11966__$1);
              if (temp__4657__auto__) {
                var s__11966__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__11966__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__11966__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__11968 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__11967 = 0;
                    while (true) {
                      if (i__11967 < size__6927__auto__) {
                        var ne = cljs.core._nth.call(null, c__6926__auto__, i__11967);
                        cljs.core.chunk_append.call(null, b__11968, cljs.core.concat.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [dom.createTextNode("[")], null), kuroi.page_parser.select_STAR_.call(null, ne, "a"), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [dom.createTextNode("]")], null)));
                        var G__11969 = i__11967 + 1;
                        i__11967 = G__11969;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11968), kuroi$page_parser$extract_navbar_menu_$_iter__11965.call(null, cljs.core.chunk_rest.call(null, s__11966__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__11968), null);
                  }
                } else {
                  var ne = cljs.core.first.call(null, s__11966__$2);
                  return cljs.core.cons.call(null, cljs.core.concat.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [dom.createTextNode("[")], null), kuroi.page_parser.select_STAR_.call(null, ne, "a"), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [dom.createTextNode("]")], null)), kuroi$page_parser$extract_navbar_menu_$_iter__11965.call(null, cljs.core.rest.call(null, s__11966__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(navbar_elts), null, null);
      };
    }(navbar_elts);
    return iter__6928__auto__.call(null, navbar_elts);
  }());
  return kuroi.page_parser.transform_navbar.call(null, dom, target, nodes, function(navbar_elts, nodes) {
    return function(p1__11959_SHARP_) {
      return cljs.core.re_matches.call(null, /\/[^\/]+\//, p1__11959_SHARP_.getAttribute("href"));
    };
  }(navbar_elts, nodes), function(navbar_elts, nodes) {
    return function(p1__11960_SHARP_) {
      var l = p1__11960_SHARP_.getAttribute("href");
      p1__11960_SHARP_.textContent = l;
      p1__11960_SHARP_.href = [cljs.core.str("?front\x26url\x3d"), cljs.core.str((new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("://"), cljs.core.str((new cljs.core.Keyword(null, "domain", "domain", 1847214937)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(l.substring(0, l.lastIndexOf("/")))].join("");
      return p1__11960_SHARP_;
    };
  }(navbar_elts, nodes));
};
cljs.core._add_method.call(null, kuroi.page_parser.extract_navbar, new cljs.core.Keyword(null, "default", "default", -1987822328), function(dom, target) {
  var navbar_elt = kuroi.page_parser.select.call(null, dom, ".navbar, body \x3e p[align\x3d'right']");
  var navbar_elt__$1 = function() {
    var or__6156__auto__ = navbar_elt;
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return kuroi.page_parser.select.call(null, dom, ".adminbar");
    }
  }();
  if (cljs.core.truth_(navbar_elt__$1)) {
    return kuroi.page_parser.transform_navbar.call(null, dom, target, cljs.core.seq.call(null, navbar_elt__$1.childNodes), function(navbar_elt, navbar_elt__$1) {
      return function(p1__11970_SHARP_) {
        return cljs.core.re_matches.call(null, /\/?[a-zA-Z0-9-]+\/?(index\.x?html)?/, p1__11970_SHARP_.href);
      };
    }(navbar_elt, navbar_elt__$1), function(navbar_elt, navbar_elt__$1) {
      return function(p1__11971_SHARP_) {
        var l = p1__11971_SHARP_.getAttribute("href");
        p1__11971_SHARP_.href = [cljs.core.str("?front\x26url\x3d"), cljs.core.str((new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("://"), cljs.core.str((new cljs.core.Keyword(null, "domain", "domain", 1847214937)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(cljs.core._EQ_.call(null, cljs.core.first.call(null, l), "/") ? l.indexOf("index") >= 0 ? l.substring(0, l.lastIndexOf("/")) : l : [cljs.core.str("/"), cljs.core.str(l)].join(""))].join("");
        return p1__11971_SHARP_;
      };
    }(navbar_elt, navbar_elt__$1));
  } else {
    return null;
  }
});
kuroi.page_parser.get_thread_dom = function kuroi$page_parser$get_thread_dom(thread_url, target, callback) {
  return kuroi.io.get_page.call(null, thread_url, function(response) {
    if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
      var page = (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response);
      var text = kuroi.page_parser.transform_page_text.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(page), target);
      var dom = (new DOMParser).parseFromString(text, "text/html");
      return callback.call(null, dom);
    } else {
      return null;
    }
  });
};
if (typeof kuroi.page_parser.get_captcha !== "undefined") {
} else {
  kuroi.page_parser.get_captcha = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-captcha"), function(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__) {
      return function(p1__11973_SHARP_, p2__11974_SHARP_, p3__11972_SHARP_) {
        return (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(p3__11972_SHARP_);
      };
    }(method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__, hierarchy__7073__auto__), new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
kuroi.page_parser.get_recaptcha = function kuroi$page_parser$get_recaptcha(url, parent, target, callback) {
  return kuroi.page_parser.get_thread_dom.call(null, url, target, function(dom) {
    if (cljs.core.truth_(dom)) {
      var temp__4657__auto__ = kuroi.page_parser.get_post_form.call(null, dom, target);
      if (cljs.core.truth_(temp__4657__auto__)) {
        var form = temp__4657__auto__;
        var temp__4657__auto____$1 = kuroi.page_parser.select.call(null, form, "noscript iframe");
        if (cljs.core.truth_(temp__4657__auto____$1)) {
          var iframe = temp__4657__auto____$1;
          return kuroi.io.get_page.call(null, kuroi.page_parser.fix_url.call(null, iframe.src, target), function(iframe, temp__4657__auto____$1, form, temp__4657__auto__) {
            return function(response) {
              if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
                var page = (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response);
                var dom__$1 = (new DOMParser).parseFromString((new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(page), "text/html");
                var img = kuroi.page_parser.select.call(null, dom__$1, "img");
                var link = [cljs.core.str("http://www.google.com/recaptcha/api2/"), cljs.core.str(img.src)].join("");
                var challenge = link.substring(link.indexOf("\x3d") + 1);
                return callback.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "link", "link", -1769163468), link, new cljs.core.Keyword(null, "challenge", "challenge", 1302148691), challenge], null));
              } else {
                return null;
              }
            };
          }(iframe, temp__4657__auto____$1, form, temp__4657__auto__));
        } else {
          return null;
        }
      } else {
        return null;
      }
    } else {
      return null;
    }
  });
};
cljs.core._add_method.call(null, kuroi.page_parser.get_captcha, new cljs.core.Keyword(null, "default", "default", -1987822328), function(url, parent, target, callback) {
  return kuroi.page_parser.get_thread_dom.call(null, url, target, function(dom) {
    var temp__4657__auto__ = kuroi.page_parser.get_post_form.call(null, dom, target);
    if (cljs.core.truth_(temp__4657__auto__)) {
      var form = temp__4657__auto__;
      var temp__4657__auto____$1 = kuroi.page_parser.select.call(null, form, "img");
      if (cljs.core.truth_(temp__4657__auto____$1)) {
        var img = temp__4657__auto____$1;
        return callback.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "link", "link", -1769163468), kuroi.page_parser.fix_url.call(null, img.src, target)], null));
      } else {
        return null;
      }
    } else {
      return null;
    }
  });
});
kuroi.page_parser.find_post_error = function kuroi$page_parser$find_post_error(tag, response, target) {
  if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
    var dom = (new DOMParser).parseFromString((new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(response), "text/html");
    var error = kuroi.page_parser.select.call(null, dom, tag);
    if (cljs.core.truth_(error)) {
      var temp__4657__auto__ = error.firstChild;
      if (cljs.core.truth_(temp__4657__auto__)) {
        var text = temp__4657__auto__;
        return text.textContent;
      } else {
        return null;
      }
    } else {
      return null;
    }
  } else {
    return null;
  }
};
if (typeof kuroi.page_parser.get_post_error !== "undefined") {
} else {
  kuroi.page_parser.get_post_error = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "get-post-error"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.get_post_error, "7chan.org", function(response, target) {
  return null;
});
cljs.core._add_method.call(null, kuroi.page_parser.get_post_error, new cljs.core.Keyword(null, "default", "default", -1987822328), function(response, target) {
  return kuroi.page_parser.find_post_error.call(null, "h1", response, target);
});
if (typeof kuroi.page_parser.adjust_form !== "undefined") {
} else {
  kuroi.page_parser.adjust_form = function() {
    var method_table__7069__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var prefer_table__7070__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var method_cache__7071__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var cached_hierarchy__7072__auto__ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
    var hierarchy__7073__auto__ = cljs.core.get.call(null, cljs.core.PersistentArrayMap.EMPTY, new cljs.core.Keyword(null, "hierarchy", "hierarchy", -1053470341), cljs.core.get_global_hierarchy.call(null));
    return new cljs.core.MultiFn(cljs.core.symbol.call(null, "kuroi.page-parser", "adjust-form"), kuroi.page_parser.trade_dispatch, new cljs.core.Keyword(null, "default", "default", -1987822328), hierarchy__7073__auto__, method_table__7069__auto__, prefer_table__7070__auto__, method_cache__7071__auto__, cached_hierarchy__7072__auto__);
  }();
}
cljs.core._add_method.call(null, kuroi.page_parser.adjust_form, "7chan.org", function(form, target) {
  form.__parent_key__ = "replythread";
  form.__captcha_challenge__ = "recaptcha_challenge_field";
  var captcha_line_11975 = kuroi.page_parser.select.call(null, form, "#captcha_label");
  captcha_line_11975.parentNode.innerHTML = '\x3clabel id\x3d"captcha_label"\x3eCaptcha\x3c/label\x3e\n                                                     \x3cimg/\x3e\x3cbr/\x3e\n                                                     \x3cinput type\x3d"text" name\x3d"recaptcha_response_field"\n                                                           autocomplete\x3d"off"\x3e';
  return form;
});
cljs.core._add_method.call(null, kuroi.page_parser.adjust_form, new cljs.core.Keyword(null, "default", "default", -1987822328), function(form, target) {
  return form;
});
kuroi.page_parser.extract_form = function kuroi$page_parser$extract_form(dom, target) {
  var temp__4657__auto__ = kuroi.page_parser.get_post_form.call(null, dom, target);
  if (cljs.core.truth_(temp__4657__auto__)) {
    var form_node = temp__4657__auto__;
    var form_node__$1 = form_node.cloneNode(true);
    var radio = kuroi.page_parser.select.call(null, form_node__$1, "tr \x3e td input[type\x3d'radio']");
    var tr = cljs.core.truth_(radio) ? function() {
      var e = radio;
      while (true) {
        if (!(e == null) && cljs.core._EQ_.call(null, clojure.string.lower_case.call(null, e.tagName), "tr")) {
          return e;
        } else {
          var G__11984 = e.parentNode;
          e = G__11984;
          continue;
        }
        break;
      }
    }() : null;
    if (cljs.core.truth_(tr)) {
      tr.parentNode.removeChild(tr);
    } else {
    }
    form_node__$1.__parent_key__ = "parent";
    form_node__$1.__captcha_elt__ = "img";
    form_node__$1.__captcha_attr__ = "src";
    form_node__$1.id = [cljs.core.str((new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("postform")].join("");
    form_node__$1.style.display = "none";
    form_node__$1.action = kuroi.page_parser.fix_url.call(null, form_node__$1.action, target);
    var seq__11980_11985 = cljs.core.seq.call(null, kuroi.page_parser.select_STAR_.call(null, form_node__$1, "img"));
    var chunk__11981_11986 = null;
    var count__11982_11987 = 0;
    var i__11983_11988 = 0;
    while (true) {
      if (i__11983_11988 < count__11982_11987) {
        var img_11989 = cljs.core._nth.call(null, chunk__11981_11986, i__11983_11988);
        img_11989.src = kuroi.page_parser.fix_url.call(null, img_11989.src, target);
        var G__11990 = seq__11980_11985;
        var G__11991 = chunk__11981_11986;
        var G__11992 = count__11982_11987;
        var G__11993 = i__11983_11988 + 1;
        seq__11980_11985 = G__11990;
        chunk__11981_11986 = G__11991;
        count__11982_11987 = G__11992;
        i__11983_11988 = G__11993;
        continue;
      } else {
        var temp__4657__auto___11994__$1 = cljs.core.seq.call(null, seq__11980_11985);
        if (temp__4657__auto___11994__$1) {
          var seq__11980_11995__$1 = temp__4657__auto___11994__$1;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__11980_11995__$1)) {
            var c__6959__auto___11996 = cljs.core.chunk_first.call(null, seq__11980_11995__$1);
            var G__11997 = cljs.core.chunk_rest.call(null, seq__11980_11995__$1);
            var G__11998 = c__6959__auto___11996;
            var G__11999 = cljs.core.count.call(null, c__6959__auto___11996);
            var G__12000 = 0;
            seq__11980_11985 = G__11997;
            chunk__11981_11986 = G__11998;
            count__11982_11987 = G__11999;
            i__11983_11988 = G__12000;
            continue;
          } else {
            var img_12001 = cljs.core.first.call(null, seq__11980_11995__$1);
            img_12001.src = kuroi.page_parser.fix_url.call(null, img_12001.src, target);
            var G__12002 = cljs.core.next.call(null, seq__11980_11995__$1);
            var G__12003 = null;
            var G__12004 = 0;
            var G__12005 = 0;
            seq__11980_11985 = G__12002;
            chunk__11981_11986 = G__12003;
            count__11982_11987 = G__12004;
            i__11983_11988 = G__12005;
            continue;
          }
        } else {
        }
      }
      break;
    }
    var form = kuroi.page_parser.adjust_form.call(null, form_node__$1, target);
    var temp__4657__auto___12006__$1 = kuroi.page_parser.select.call(null, form, form.__captcha_elt__);
    if (cljs.core.truth_(temp__4657__auto___12006__$1)) {
      var captcha_elt_12007 = temp__4657__auto___12006__$1;
      captcha_elt_12007.setAttribute(form_node__$1.__captcha_attr__, "");
    } else {
    }
    return form;
  } else {
    return null;
  }
};
kuroi.page_parser.parse_page = function kuroi$page_parser$parse_page(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12014 = arguments.length;
  var i__7215__auto___12015 = 0;
  while (true) {
    if (i__7215__auto___12015 < len__7214__auto___12014) {
      args__7221__auto__.push(arguments[i__7215__auto___12015]);
      var G__12016 = i__7215__auto___12015 + 1;
      i__7215__auto___12015 = G__12016;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return kuroi.page_parser.parse_page.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
kuroi.page_parser.parse_page.cljs$core$IFn$_invoke$arity$variadic = function(page, target, p__12011) {
  var map__12012 = p__12011;
  var map__12012__$1 = (!(map__12012 == null) ? map__12012.cljs$lang$protocol_mask$partition0$ & 64 || map__12012.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__12012) : map__12012;
  var get_metadata = cljs.core.get.call(null, map__12012__$1, new cljs.core.Keyword(null, "get-metadata", "get-metadata", -1882220607));
  var multiple = cljs.core.get.call(null, map__12012__$1, new cljs.core.Keyword(null, "multiple", "multiple", 1244445549));
  var error_msg = [cljs.core.str('\x3cspan class\x3d"red"\x3eError loading page: '), cljs.core.str((new cljs.core.Keyword(null, "url", "url", 276297046)).cljs$core$IFn$_invoke$arity$1(page))].join("");
  if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(page), "http_error")) {
    return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [kuroi.page_parser.build_error_data.call(null, [cljs.core.str(error_msg), cljs.core.str(" ("), cljs.core.str((new cljs.core.Keyword(null, "status", "status", -1997798413)).cljs$core$IFn$_invoke$arity$1(page)), cljs.core.str(")")].join(""), target)], null);
  } else {
    var target__$1 = cljs.core.with_meta.call(null, target, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "page-index", "page-index", 272949390), (new cljs.core.Keyword(null, "index", "index", -1531685915)).cljs$core$IFn$_invoke$arity$1(page), new cljs.core.Keyword(null, "multiple", "multiple", 1244445549), multiple], null));
    var text = kuroi.page_parser.transform_page_text.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(page), target__$1);
    var dom = cljs.core.truth_(kuroi.page_parser.json_QMARK_.call(null, target__$1)) ? cljs.core.js__GT_clj.call(null, JSON.parse(text)) : (new DOMParser).parseFromString(text, "text/html");
    var threads = cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target__$1)) ? kuroi.page_parser.parse_images.call(null, dom, target__$1) : kuroi.page_parser.parse_threads.call(null, dom, target__$1);
    var meta = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "form", "form", -1624062471), cljs.core.truth_(function() {
      var and__6144__auto__ = kuroi.io._STAR_addon_STAR_;
      if (cljs.core.truth_(and__6144__auto__)) {
        return get_metadata;
      } else {
        return and__6144__auto__;
      }
    }()) ? kuroi.page_parser.extract_form.call(null, dom, target__$1) : null, new cljs.core.Keyword(null, "navbar", "navbar", 1584396041), cljs.core.truth_(get_metadata) ? kuroi.page_parser.extract_navbar.call(null, dom, target__$1) : null], null);
    if (cljs.core.seq.call(null, threads)) {
      return cljs.core.with_meta.call(null, threads, meta);
    } else {
      if (cljs.core.truth_((new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target__$1))) {
        return cljs.core.with_meta.call(null, cljs.core.PersistentVector.EMPTY, meta);
      } else {
        var threads__$1 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [kuroi.page_parser.build_error_data.call(null, error_msg, target__$1)], null);
        return cljs.core.with_meta.call(null, threads__$1, meta);
      }
    }
  }
};
kuroi.page_parser.parse_page.cljs$lang$maxFixedArity = 2;
kuroi.page_parser.parse_page.cljs$lang$applyTo = function(seq12008) {
  var G__12009 = cljs.core.first.call(null, seq12008);
  var seq12008__$1 = cljs.core.next.call(null, seq12008);
  var G__12010 = cljs.core.first.call(null, seq12008__$1);
  var seq12008__$2 = cljs.core.next.call(null, seq12008__$1);
  return kuroi.page_parser.parse_page.cljs$core$IFn$_invoke$arity$variadic(G__12009, G__12010, seq12008__$2);
};
kuroi.page_parser.get_page_meta = function kuroi$page_parser$get_page_meta(page, target) {
  if (cljs.core.not_EQ_.call(null, (new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(page), "http_error")) {
    var text = kuroi.page_parser.transform_page_text.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(page), target);
    var dom = (new DOMParser).parseFromString(text, "text/html");
    return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "form", "form", -1624062471), kuroi.page_parser.extract_form.call(null, dom, target), new cljs.core.Keyword(null, "navbar", "navbar", 1584396041), kuroi.page_parser.extract_navbar.call(null, dom, target)], null);
  } else {
    return null;
  }
};
goog.provide("kuroi.plugins.chan_krautchan");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_ = "krautchan.co";
cljs.core._add_method.call(null, kuroi.page_parser.paginate, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(n, target) {
  var n__$1 = n + 1;
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(cljs.core._EQ_.call(null, n__$1, 1) ? "" : [cljs.core.str(n__$1), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join(""))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.thread_url, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(thread_id, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread-"), cljs.core.str(thread_id), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_thread_id, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(root_node, target) {
  var elt = kuroi.page_parser.select.call(null, root_node, ".intro \x3e .post_no");
  return elt.textContent;
});
cljs.core._add_method.call(null, kuroi.page_parser.get_oppost, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(thread, target) {
  return kuroi.page_parser.select.call(null, thread, ".op");
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(root_node, data, target) {
  var thread_id = kuroi.page_parser.get_thread_id.call(null, root_node, target);
  var flag_elt = kuroi.page_parser.select.call(null, root_node, ".postheader \x3e img[src*\x3d'ball']");
  var flag = cljs.core.truth_(flag_elt) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [kuroi.page_parser.fix_url.call(null, flag_elt.src, target), cljs.core.get.call(null, cljs.core.re_find.call(null, /'([^']+)'/, flag_elt.getAttributeNode("onmouseover").value), 1)], null) : null;
  var title_elt = kuroi.page_parser.select.call(null, root_node, ".postheader \x3e span.postsubject");
  var date_elt = kuroi.page_parser.select.call(null, root_node, "time");
  var date = date_elt.datetime;
  var image_link = kuroi.page_parser.select.call(null, root_node, ".file_thread \x3e a[target\x3d'_blank'],\n                            .file_reply \x3e a[target\x3d'_blank']");
  var thumb_img = cljs.core.truth_(image_link) ? kuroi.page_parser.select.call(null, image_link, "img") : null;
  var filesize = kuroi.page_parser.select.call(null, root_node, ".file_thread \x3e .fileinfo,\n                          .file_reply \x3e .fileinfo");
  var post_text = kuroi.page_parser.select.call(null, root_node, "blockquote");
  return cljs.core.assoc.call(null, kuroi.page_parser.build_post_data.call(null, data, thread_id, date, title_elt, thumb_img, image_link, filesize, post_text, target), new cljs.core.Keyword(null, "flag", "flag", 1088647881), flag);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(doc_tree, target) {
  console.log(cljs.core.count.call(null, kuroi.page_parser.select_STAR_.call(null, doc_tree, "div.thread")));
  return kuroi.page_parser.parse_structured.call(null, kuroi.page_parser.select_STAR_.call(null, doc_tree, "div.thread"), ".reply", target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_images, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return cljs.core.PersistentVector.EMPTY;
});
cljs.core._add_method.call(null, kuroi.page_parser.get_post_error, kuroi.plugins.chan_krautchan._PLUS_trademark_PLUS_, function(response, target) {
  return null;
});
/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
goog.provide("goog.dom.query");
goog.require("goog.array");
goog.require("goog.dom");
goog.require("goog.functions");
goog.require("goog.string");
goog.require("goog.userAgent");
goog.dom.query = function() {
  var cssCaseBug = goog.userAgent.WEBKIT && goog.dom.getDocument().compatMode == "BackCompat";
  var legacyIE = goog.userAgent.IE && !goog.userAgent.isVersionOrHigher("9");
  var childNodesName = !!goog.dom.getDocument().firstChild["children"] ? "children" : "childNodes";
  var specials = "\x3e~+";
  var caseSensitive = false;
  var getQueryParts = function(query) {
    if (specials.indexOf(query.slice(-1)) >= 0) {
      query += " * ";
    } else {
      query += " ";
    }
    var ts = function(s, e) {
      return goog.string.trim(query.slice(s, e));
    };
    var queryParts = [];
    var inBrackets = -1, inParens = -1, inMatchFor = -1, inPseudo = -1, inClass = -1, inId = -1, inTag = -1, lc = "", cc = "", pStart;
    var x = 0, ql = query.length, currentPart = null, cp = null;
    var endTag = function() {
      if (inTag >= 0) {
        var tv = inTag == x ? null : ts(inTag, x);
        if (specials.indexOf(tv) < 0) {
          currentPart.tag = tv;
        } else {
          currentPart.oper = tv;
        }
        inTag = -1;
      }
    };
    var endId = function() {
      if (inId >= 0) {
        currentPart.id = ts(inId, x).replace(/\\/g, "");
        inId = -1;
      }
    };
    var endClass = function() {
      if (inClass >= 0) {
        currentPart.classes.push(ts(inClass + 1, x).replace(/\\/g, ""));
        inClass = -1;
      }
    };
    var endAll = function() {
      endId();
      endTag();
      endClass();
    };
    var endPart = function() {
      endAll();
      if (inPseudo >= 0) {
        currentPart.pseudos.push({name:ts(inPseudo + 1, x)});
      }
      currentPart.loops = currentPart.pseudos.length || currentPart.attrs.length || currentPart.classes.length;
      currentPart.oquery = currentPart.query = ts(pStart, x);
      currentPart.otag = currentPart.tag = currentPart.oper ? null : currentPart.tag || "*";
      if (currentPart.tag) {
        currentPart.tag = currentPart.tag.toUpperCase();
      }
      if (queryParts.length && queryParts[queryParts.length - 1].oper) {
        currentPart.infixOper = queryParts.pop();
        currentPart.query = currentPart.infixOper.query + " " + currentPart.query;
      }
      queryParts.push(currentPart);
      currentPart = null;
    };
    for (;lc = cc, cc = query.charAt(x), x < ql;x++) {
      if (lc == "\\") {
        continue;
      }
      if (!currentPart) {
        pStart = x;
        currentPart = {query:null, pseudos:[], attrs:[], classes:[], tag:null, oper:null, id:null, getTag:function() {
          return caseSensitive ? this.otag : this.tag;
        }};
        inTag = x;
      }
      if (inBrackets >= 0) {
        if (cc == "]") {
          if (!cp.attr) {
            cp.attr = ts(inBrackets + 1, x);
          } else {
            cp.matchFor = ts(inMatchFor || inBrackets + 1, x);
          }
          var cmf = cp.matchFor;
          if (cmf) {
            if (cmf.charAt(0) == '"' || cmf.charAt(0) == "'") {
              cp.matchFor = cmf.slice(1, -1);
            }
          }
          currentPart.attrs.push(cp);
          cp = null;
          inBrackets = inMatchFor = -1;
        } else {
          if (cc == "\x3d") {
            var addToCc = "|~^$*".indexOf(lc) >= 0 ? lc : "";
            cp.type = addToCc + cc;
            cp.attr = ts(inBrackets + 1, x - addToCc.length);
            inMatchFor = x + 1;
          }
        }
      } else {
        if (inParens >= 0) {
          if (cc == ")") {
            if (inPseudo >= 0) {
              cp.value = ts(inParens + 1, x);
            }
            inPseudo = inParens = -1;
          }
        } else {
          if (cc == "#") {
            endAll();
            inId = x + 1;
          } else {
            if (cc == ".") {
              endAll();
              inClass = x;
            } else {
              if (cc == ":") {
                endAll();
                inPseudo = x;
              } else {
                if (cc == "[") {
                  endAll();
                  inBrackets = x;
                  cp = {};
                } else {
                  if (cc == "(") {
                    if (inPseudo >= 0) {
                      cp = {name:ts(inPseudo + 1, x), value:null};
                      currentPart.pseudos.push(cp);
                    }
                    inParens = x;
                  } else {
                    if (cc == " " && lc != cc) {
                      endPart();
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return queryParts;
  };
  var agree = function(first, second) {
    if (!first) {
      return second;
    }
    if (!second) {
      return first;
    }
    return function() {
      return first.apply(window, arguments) && second.apply(window, arguments);
    };
  };
  function getArr(i, opt_arr) {
    var r = opt_arr || [];
    if (i) {
      r.push(i);
    }
    return r;
  }
  var isElement = function(n) {
    return 1 == n.nodeType;
  };
  var blank = "";
  var getAttr = function(elem, attr) {
    if (!elem) {
      return blank;
    }
    if (attr == "class") {
      return elem.className || blank;
    }
    if (attr == "for") {
      return elem.htmlFor || blank;
    }
    if (attr == "style") {
      return elem.style.cssText || blank;
    }
    return (caseSensitive ? elem.getAttribute(attr) : elem.getAttribute(attr, 2)) || blank;
  };
  var attrs = {"*\x3d":function(attr, value) {
    return function(elem) {
      return getAttr(elem, attr).indexOf(value) >= 0;
    };
  }, "^\x3d":function(attr, value) {
    return function(elem) {
      return getAttr(elem, attr).indexOf(value) == 0;
    };
  }, "$\x3d":function(attr, value) {
    var tval = " " + value;
    return function(elem) {
      var ea = " " + getAttr(elem, attr);
      return ea.lastIndexOf(value) == ea.length - value.length;
    };
  }, "~\x3d":function(attr, value) {
    var tval = " " + value + " ";
    return function(elem) {
      var ea = " " + getAttr(elem, attr) + " ";
      return ea.indexOf(tval) >= 0;
    };
  }, "|\x3d":function(attr, value) {
    value = " " + value;
    return function(elem) {
      var ea = " " + getAttr(elem, attr);
      return ea == value || ea.indexOf(value + "-") == 0;
    };
  }, "\x3d":function(attr, value) {
    return function(elem) {
      return getAttr(elem, attr) == value;
    };
  }};
  var noNextElementSibling = typeof goog.dom.getDocument().firstChild.nextElementSibling == "undefined";
  var nSibling = !noNextElementSibling ? "nextElementSibling" : "nextSibling";
  var pSibling = !noNextElementSibling ? "previousElementSibling" : "previousSibling";
  var simpleNodeTest = noNextElementSibling ? isElement : goog.functions.TRUE;
  var _lookLeft = function(node) {
    while (node = node[pSibling]) {
      if (simpleNodeTest(node)) {
        return false;
      }
    }
    return true;
  };
  var _lookRight = function(node) {
    while (node = node[nSibling]) {
      if (simpleNodeTest(node)) {
        return false;
      }
    }
    return true;
  };
  var getNodeIndex = function(node) {
    var root = node.parentNode;
    var i = 0, tret = root[childNodesName], ci = node["_i"] || -1, cl = root["_l"] || -1;
    if (!tret) {
      return -1;
    }
    var l = tret.length;
    if (cl == l && ci >= 0 && cl >= 0) {
      return ci;
    }
    root["_l"] = l;
    ci = -1;
    var te = root["firstElementChild"] || root["firstChild"];
    for (;te;te = te[nSibling]) {
      if (simpleNodeTest(te)) {
        te["_i"] = ++i;
        if (node === te) {
          ci = i;
        }
      }
    }
    return ci;
  };
  var isEven = function(elem) {
    return !(getNodeIndex(elem) % 2);
  };
  var isOdd = function(elem) {
    return getNodeIndex(elem) % 2;
  };
  var pseudos = {"checked":function(name, condition) {
    return function(elem) {
      return elem.checked || elem.attributes["checked"];
    };
  }, "first-child":function() {
    return _lookLeft;
  }, "last-child":function() {
    return _lookRight;
  }, "only-child":function(name, condition) {
    return function(node) {
      if (!_lookLeft(node)) {
        return false;
      }
      if (!_lookRight(node)) {
        return false;
      }
      return true;
    };
  }, "empty":function(name, condition) {
    return function(elem) {
      var cn = elem.childNodes;
      var cnl = elem.childNodes.length;
      for (var x = cnl - 1;x >= 0;x--) {
        var nt = cn[x].nodeType;
        if (nt === 1 || nt == 3) {
          return false;
        }
      }
      return true;
    };
  }, "contains":function(name, condition) {
    var cz = condition.charAt(0);
    if (cz == '"' || cz == "'") {
      condition = condition.slice(1, -1);
    }
    return function(elem) {
      return elem.innerHTML.indexOf(condition) >= 0;
    };
  }, "not":function(name, condition) {
    var p = getQueryParts(condition)[0];
    var ignores = {el:1};
    if (p.tag != "*") {
      ignores.tag = 1;
    }
    if (!p.classes.length) {
      ignores.classes = 1;
    }
    var ntf = getSimpleFilterFunc(p, ignores);
    return function(elem) {
      return !ntf(elem);
    };
  }, "nth-child":function(name, condition) {
    function pi(n) {
      return parseInt(n, 10);
    }
    if (condition == "odd") {
      return isOdd;
    } else {
      if (condition == "even") {
        return isEven;
      }
    }
    if (condition.indexOf("n") != -1) {
      var tparts = condition.split("n", 2);
      var pred = tparts[0] ? tparts[0] == "-" ? -1 : pi(tparts[0]) : 1;
      var idx = tparts[1] ? pi(tparts[1]) : 0;
      var lb = 0, ub = -1;
      if (pred > 0) {
        if (idx < 0) {
          idx = idx % pred && pred + idx % pred;
        } else {
          if (idx > 0) {
            if (idx >= pred) {
              lb = idx - idx % pred;
            }
            idx = idx % pred;
          }
        }
      } else {
        if (pred < 0) {
          pred *= -1;
          if (idx > 0) {
            ub = idx;
            idx = idx % pred;
          }
        }
      }
      if (pred > 0) {
        return function(elem) {
          var i = getNodeIndex(elem);
          return i >= lb && (ub < 0 || i <= ub) && i % pred == idx;
        };
      } else {
        condition = idx;
      }
    }
    var ncount = pi(condition);
    return function(elem) {
      return getNodeIndex(elem) == ncount;
    };
  }};
  var defaultGetter = legacyIE ? function(cond) {
    var clc = cond.toLowerCase();
    if (clc == "class") {
      cond = "className";
    }
    return function(elem) {
      return caseSensitive ? elem.getAttribute(cond) : elem[cond] || elem[clc];
    };
  } : function(cond) {
    return function(elem) {
      return elem && elem.getAttribute && elem.hasAttribute(cond);
    };
  };
  var getSimpleFilterFunc = function(query, ignores) {
    if (!query) {
      return goog.functions.TRUE;
    }
    ignores = ignores || {};
    var ff = null;
    if (!ignores.el) {
      ff = agree(ff, isElement);
    }
    if (!ignores.tag) {
      if (query.tag != "*") {
        ff = agree(ff, function(elem) {
          return elem && elem.tagName == query.getTag();
        });
      }
    }
    if (!ignores.classes) {
      goog.array.forEach(query.classes, function(cname, idx, arr) {
        var re = new RegExp("(?:^|\\s)" + cname + "(?:\\s|$)");
        ff = agree(ff, function(elem) {
          return re.test(elem.className);
        });
        ff.count = idx;
      });
    }
    if (!ignores.pseudos) {
      goog.array.forEach(query.pseudos, function(pseudo) {
        var pn = pseudo.name;
        if (pseudos[pn]) {
          ff = agree(ff, pseudos[pn](pn, pseudo.value));
        }
      });
    }
    if (!ignores.attrs) {
      goog.array.forEach(query.attrs, function(attr) {
        var matcher;
        var a = attr.attr;
        if (attr.type && attrs[attr.type]) {
          matcher = attrs[attr.type](a, attr.matchFor);
        } else {
          if (a.length) {
            matcher = defaultGetter(a);
          }
        }
        if (matcher) {
          ff = agree(ff, matcher);
        }
      });
    }
    if (!ignores.id) {
      if (query.id) {
        ff = agree(ff, function(elem) {
          return !!elem && elem.id == query.id;
        });
      }
    }
    if (!ff) {
      if (!("default" in ignores)) {
        ff = goog.functions.TRUE;
      }
    }
    return ff;
  };
  var nextSiblingIterator = function(filterFunc) {
    return function(node, ret, bag) {
      while (node = node[nSibling]) {
        if (noNextElementSibling && !isElement(node)) {
          continue;
        }
        if ((!bag || _isUnique(node, bag)) && filterFunc(node)) {
          ret.push(node);
        }
        break;
      }
      return ret;
    };
  };
  var nextSiblingsIterator = function(filterFunc) {
    return function(root, ret, bag) {
      var te = root[nSibling];
      while (te) {
        if (simpleNodeTest(te)) {
          if (bag && !_isUnique(te, bag)) {
            break;
          }
          if (filterFunc(te)) {
            ret.push(te);
          }
        }
        te = te[nSibling];
      }
      return ret;
    };
  };
  var _childElements = function(filterFunc) {
    filterFunc = filterFunc || goog.functions.TRUE;
    return function(root, ret, bag) {
      var te, x = 0, tret = root[childNodesName];
      while (te = tret[x++]) {
        if (simpleNodeTest(te) && (!bag || _isUnique(te, bag)) && filterFunc(te, x)) {
          ret.push(te);
        }
      }
      return ret;
    };
  };
  var _isDescendant = function(node, root) {
    var pn = node.parentNode;
    while (pn) {
      if (pn == root) {
        break;
      }
      pn = pn.parentNode;
    }
    return !!pn;
  };
  var _getElementsFuncCache = {};
  var getElementsFunc = function(query) {
    var retFunc = _getElementsFuncCache[query.query];
    if (retFunc) {
      return retFunc;
    }
    var io = query.infixOper;
    var oper = io ? io.oper : "";
    var filterFunc = getSimpleFilterFunc(query, {el:1});
    var qt = query.tag;
    var wildcardTag = "*" == qt;
    var ecs = goog.dom.getDocument()["getElementsByClassName"];
    if (!oper) {
      if (query.id) {
        filterFunc = !query.loops && wildcardTag ? goog.functions.TRUE : getSimpleFilterFunc(query, {el:1, id:1});
        retFunc = function(root, arr) {
          var te = goog.dom.getDomHelper(root).getElement(query.id);
          if (!te || !filterFunc(te)) {
            return;
          }
          if (9 == root.nodeType) {
            return getArr(te, arr);
          } else {
            if (_isDescendant(te, root)) {
              return getArr(te, arr);
            }
          }
        };
      } else {
        if (ecs && /\{\s*\[native code\]\s*\}/.test(String(ecs)) && query.classes.length && !cssCaseBug) {
          filterFunc = getSimpleFilterFunc(query, {el:1, classes:1, id:1});
          var classesString = query.classes.join(" ");
          retFunc = function(root, arr) {
            var ret = getArr(0, arr), te, x = 0;
            var tret = root.getElementsByClassName(classesString);
            while (te = tret[x++]) {
              if (filterFunc(te, root)) {
                ret.push(te);
              }
            }
            return ret;
          };
        } else {
          if (!wildcardTag && !query.loops) {
            retFunc = function(root, arr) {
              var ret = getArr(0, arr), te, x = 0;
              var tret = root.getElementsByTagName(query.getTag());
              while (te = tret[x++]) {
                ret.push(te);
              }
              return ret;
            };
          } else {
            filterFunc = getSimpleFilterFunc(query, {el:1, tag:1, id:1});
            retFunc = function(root, arr) {
              var ret = getArr(0, arr), te, x = 0;
              var tret = root.getElementsByTagName(query.getTag());
              while (te = tret[x++]) {
                if (filterFunc(te, root)) {
                  ret.push(te);
                }
              }
              return ret;
            };
          }
        }
      }
    } else {
      var skipFilters = {el:1};
      if (wildcardTag) {
        skipFilters.tag = 1;
      }
      filterFunc = getSimpleFilterFunc(query, skipFilters);
      if ("+" == oper) {
        retFunc = nextSiblingIterator(filterFunc);
      } else {
        if ("~" == oper) {
          retFunc = nextSiblingsIterator(filterFunc);
        } else {
          if ("\x3e" == oper) {
            retFunc = _childElements(filterFunc);
          }
        }
      }
    }
    return _getElementsFuncCache[query.query] = retFunc;
  };
  var filterDown = function(root, queryParts) {
    var candidates = getArr(root), qp, x, te, qpl = queryParts.length, bag, ret;
    for (var i = 0;i < qpl;i++) {
      ret = [];
      qp = queryParts[i];
      x = candidates.length - 1;
      if (x > 0) {
        bag = {};
        ret.nozip = true;
      }
      var gef = getElementsFunc(qp);
      for (var j = 0;te = candidates[j];j++) {
        gef(te, ret, bag);
      }
      if (!ret.length) {
        break;
      }
      candidates = ret;
    }
    return ret;
  };
  var _queryFuncCacheDOM = {}, _queryFuncCacheQSA = {};
  var getStepQueryFunc = function(query) {
    var qparts = getQueryParts(goog.string.trim(query));
    if (qparts.length == 1) {
      var tef = getElementsFunc(qparts[0]);
      return function(root) {
        var r = tef(root, []);
        if (r) {
          r.nozip = true;
        }
        return r;
      };
    }
    return function(root) {
      return filterDown(root, qparts);
    };
  };
  var qsa = "querySelectorAll";
  var qsaAvail = !!goog.dom.getDocument()[qsa] && (!goog.userAgent.WEBKIT || goog.userAgent.isVersionOrHigher("526"));
  var getQueryFunc = function(query, opt_forceDOM) {
    if (qsaAvail) {
      var qsaCached = _queryFuncCacheQSA[query];
      if (qsaCached && !opt_forceDOM) {
        return qsaCached;
      }
    }
    var domCached = _queryFuncCacheDOM[query];
    if (domCached) {
      return domCached;
    }
    var qcz = query.charAt(0);
    var nospace = -1 == query.indexOf(" ");
    if (query.indexOf("#") >= 0 && nospace) {
      opt_forceDOM = true;
    }
    var useQSA = qsaAvail && !opt_forceDOM && specials.indexOf(qcz) == -1 && (!legacyIE || query.indexOf(":") == -1) && !(cssCaseBug && query.indexOf(".") >= 0) && query.indexOf(":contains") == -1 && query.indexOf("|\x3d") == -1;
    if (useQSA) {
      var tq = specials.indexOf(query.charAt(query.length - 1)) >= 0 ? query + " *" : query;
      return _queryFuncCacheQSA[query] = function(root) {
        try {
          if (!(9 == root.nodeType || nospace)) {
            throw new Error("");
          }
          var r = root[qsa](tq);
          if (legacyIE) {
            r.commentStrip = true;
          } else {
            r.nozip = true;
          }
          return r;
        } catch (e) {
          return getQueryFunc(query, true)(root);
        }
      };
    } else {
      var parts = query.split(/\s*,\s*/);
      return _queryFuncCacheDOM[query] = parts.length < 2 ? getStepQueryFunc(query) : function(root) {
        var pindex = 0, ret = [], tp;
        while (tp = parts[pindex++]) {
          ret = ret.concat(getStepQueryFunc(tp)(root));
        }
        return ret;
      };
    }
  };
  var _zipIdx = 0;
  var _nodeUID = legacyIE ? function(node) {
    if (caseSensitive) {
      return node.getAttribute("_uid") || node.setAttribute("_uid", ++_zipIdx) || _zipIdx;
    } else {
      return node.uniqueID;
    }
  } : function(node) {
    return node["_uid"] || (node["_uid"] = ++_zipIdx);
  };
  var _isUnique = function(node, bag) {
    if (!bag) {
      return 1;
    }
    var id = _nodeUID(node);
    if (!bag[id]) {
      return bag[id] = 1;
    }
    return 0;
  };
  var _zipIdxName = "_zipIdx";
  var _zip = function(arr) {
    if (arr && arr.nozip) {
      return arr;
    }
    var ret = [];
    if (!arr || !arr.length) {
      return ret;
    }
    if (arr[0]) {
      ret.push(arr[0]);
    }
    if (arr.length < 2) {
      return ret;
    }
    _zipIdx++;
    if (legacyIE && caseSensitive) {
      var szidx = _zipIdx + "";
      arr[0].setAttribute(_zipIdxName, szidx);
      for (var x = 1, te;te = arr[x];x++) {
        if (arr[x].getAttribute(_zipIdxName) != szidx) {
          ret.push(te);
        }
        te.setAttribute(_zipIdxName, szidx);
      }
    } else {
      if (legacyIE && arr.commentStrip) {
        try {
          for (var x = 1, te;te = arr[x];x++) {
            if (isElement(te)) {
              ret.push(te);
            }
          }
        } catch (e) {
        }
      } else {
        if (arr[0]) {
          arr[0][_zipIdxName] = _zipIdx;
        }
        for (var x = 1, te;te = arr[x];x++) {
          if (arr[x][_zipIdxName] != _zipIdx) {
            ret.push(te);
          }
          te[_zipIdxName] = _zipIdx;
        }
      }
    }
    return ret;
  };
  var query = function(query, root) {
    if (!query) {
      return [];
    }
    if (query.constructor == Array) {
      return (query);
    }
    if (!goog.isString(query)) {
      return [query];
    }
    if (goog.isString(root)) {
      root = goog.dom.getElement(root);
      if (!root) {
        return [];
      }
    }
    root = root || goog.dom.getDocument();
    var od = root.ownerDocument || root.documentElement;
    caseSensitive = root.contentType && root.contentType == "application/xml" || goog.userAgent.OPERA && (root.doctype || od.toString() == "[object XMLDocument]") || !!od && (legacyIE ? od.xml : root.xmlVersion || od.xmlVersion);
    var r = getQueryFunc(query)(root);
    if (r && r.nozip) {
      return r;
    }
    return _zip(r);
  };
  query.pseudos = pseudos;
  return query;
}();
goog.exportSymbol("goog.dom.query", goog.dom.query);
goog.exportSymbol("goog.dom.query.pseudos", goog.dom.query.pseudos);
goog.provide("goog.dom.forms");
goog.require("goog.dom.InputType");
goog.require("goog.dom.TagName");
goog.require("goog.structs.Map");
goog.dom.forms.getFormDataMap = function(form) {
  var map = new goog.structs.Map;
  goog.dom.forms.getFormDataHelper_(form, map, goog.dom.forms.addFormDataToMap_);
  return map;
};
goog.dom.forms.getFormDataString = function(form) {
  var sb = [];
  goog.dom.forms.getFormDataHelper_(form, sb, goog.dom.forms.addFormDataToStringBuffer_);
  return sb.join("\x26");
};
goog.dom.forms.getFormDataHelper_ = function(form, result, fnAppend) {
  var els = form.elements;
  for (var el, i = 0;el = els[i];i++) {
    if (el.form != form || el.disabled || el.tagName == goog.dom.TagName.FIELDSET) {
      continue;
    }
    var name = el.name;
    switch(el.type.toLowerCase()) {
      case goog.dom.InputType.FILE:
      ;
      case goog.dom.InputType.SUBMIT:
      ;
      case goog.dom.InputType.RESET:
      ;
      case goog.dom.InputType.BUTTON:
        break;
      case goog.dom.InputType.SELECT_MULTIPLE:
        var values = goog.dom.forms.getValue(el);
        if (values != null) {
          for (var value, j = 0;value = values[j];j++) {
            fnAppend(result, name, value);
          }
        }
        break;
      default:
        var value = goog.dom.forms.getValue(el);
        if (value != null) {
          fnAppend(result, name, value);
        }
      ;
    }
  }
  var inputs = form.getElementsByTagName(goog.dom.TagName.INPUT);
  for (var input, i = 0;input = inputs[i];i++) {
    if (input.form == form && input.type.toLowerCase() == goog.dom.InputType.IMAGE) {
      name = input.name;
      fnAppend(result, name, input.value);
      fnAppend(result, name + ".x", "0");
      fnAppend(result, name + ".y", "0");
    }
  }
};
goog.dom.forms.addFormDataToMap_ = function(map, name, value) {
  var array = map.get(name);
  if (!array) {
    array = [];
    map.set(name, array);
  }
  array.push(value);
};
goog.dom.forms.addFormDataToStringBuffer_ = function(sb, name, value) {
  sb.push(encodeURIComponent(name) + "\x3d" + encodeURIComponent(value));
};
goog.dom.forms.hasFileInput = function(form) {
  var els = form.elements;
  for (var el, i = 0;el = els[i];i++) {
    if (!el.disabled && el.type && el.type.toLowerCase() == goog.dom.InputType.FILE) {
      return true;
    }
  }
  return false;
};
goog.dom.forms.setDisabled = function(el, disabled) {
  if (el.tagName == goog.dom.TagName.FORM) {
    var els = el.elements;
    for (var i = 0;el = els[i];i++) {
      goog.dom.forms.setDisabled(el, disabled);
    }
  } else {
    if (disabled == true) {
      el.blur();
    }
    el.disabled = disabled;
  }
};
goog.dom.forms.focusAndSelect = function(el) {
  el.focus();
  if (el.select) {
    el.select();
  }
};
goog.dom.forms.hasValue = function(el) {
  var value = goog.dom.forms.getValue(el);
  return !!value;
};
goog.dom.forms.hasValueByName = function(form, name) {
  var value = goog.dom.forms.getValueByName(form, name);
  return !!value;
};
goog.dom.forms.getValue = function(el) {
  var type = el.type;
  if (!goog.isDef(type)) {
    return null;
  }
  switch(type.toLowerCase()) {
    case goog.dom.InputType.CHECKBOX:
    ;
    case goog.dom.InputType.RADIO:
      return goog.dom.forms.getInputChecked_(el);
    case goog.dom.InputType.SELECT_ONE:
      return goog.dom.forms.getSelectSingle_(el);
    case goog.dom.InputType.SELECT_MULTIPLE:
      return goog.dom.forms.getSelectMultiple_(el);
    default:
      return goog.isDef(el.value) ? el.value : null;
  }
};
goog.dom.$F = goog.dom.forms.getValue;
goog.dom.forms.getValueByName = function(form, name) {
  var els = form.elements[name];
  if (els) {
    if (els.type) {
      return goog.dom.forms.getValue(els);
    } else {
      for (var i = 0;i < els.length;i++) {
        var val = goog.dom.forms.getValue(els[i]);
        if (val) {
          return val;
        }
      }
    }
  }
  return null;
};
goog.dom.forms.getInputChecked_ = function(el) {
  return el.checked ? el.value : null;
};
goog.dom.forms.getSelectSingle_ = function(el) {
  var selectedIndex = el.selectedIndex;
  return selectedIndex >= 0 ? el.options[selectedIndex].value : null;
};
goog.dom.forms.getSelectMultiple_ = function(el) {
  var values = [];
  for (var option, i = 0;option = el.options[i];i++) {
    if (option.selected) {
      values.push(option.value);
    }
  }
  return values.length ? values : null;
};
goog.dom.forms.setValue = function(el, opt_value) {
  var type = el.type;
  if (goog.isDef(type)) {
    switch(type.toLowerCase()) {
      case goog.dom.InputType.CHECKBOX:
      ;
      case goog.dom.InputType.RADIO:
        goog.dom.forms.setInputChecked_(el, (opt_value));
        break;
      case goog.dom.InputType.SELECT_ONE:
        goog.dom.forms.setSelectSingle_(el, (opt_value));
        break;
      case goog.dom.InputType.SELECT_MULTIPLE:
        goog.dom.forms.setSelectMultiple_(el, (opt_value));
        break;
      default:
        el.value = goog.isDefAndNotNull(opt_value) ? opt_value : "";
    }
  }
};
goog.dom.forms.setInputChecked_ = function(el, opt_value) {
  el.checked = opt_value;
};
goog.dom.forms.setSelectSingle_ = function(el, opt_value) {
  el.selectedIndex = -1;
  if (goog.isString(opt_value)) {
    for (var option, i = 0;option = el.options[i];i++) {
      if (option.value == opt_value) {
        option.selected = true;
        break;
      }
    }
  }
};
goog.dom.forms.setSelectMultiple_ = function(el, opt_value) {
  if (goog.isString(opt_value)) {
    opt_value = [opt_value];
  }
  for (var option, i = 0;option = el.options[i];i++) {
    option.selected = false;
    if (opt_value) {
      for (var value, j = 0;value = opt_value[j];j++) {
        if (option.value == value) {
          option.selected = true;
        }
      }
    }
  }
};
goog.provide("goog.dom.classes");
goog.require("goog.array");
goog.dom.classes.set = function(element, className) {
  element.className = className;
};
goog.dom.classes.get = function(element) {
  var className = element.className;
  return goog.isString(className) && className.match(/\S+/g) || [];
};
goog.dom.classes.add = function(element, var_args) {
  var classes = goog.dom.classes.get(element);
  var args = goog.array.slice(arguments, 1);
  var expectedCount = classes.length + args.length;
  goog.dom.classes.add_(classes, args);
  goog.dom.classes.set(element, classes.join(" "));
  return classes.length == expectedCount;
};
goog.dom.classes.remove = function(element, var_args) {
  var classes = goog.dom.classes.get(element);
  var args = goog.array.slice(arguments, 1);
  var newClasses = goog.dom.classes.getDifference_(classes, args);
  goog.dom.classes.set(element, newClasses.join(" "));
  return newClasses.length == classes.length - args.length;
};
goog.dom.classes.add_ = function(classes, args) {
  for (var i = 0;i < args.length;i++) {
    if (!goog.array.contains(classes, args[i])) {
      classes.push(args[i]);
    }
  }
};
goog.dom.classes.getDifference_ = function(arr1, arr2) {
  return goog.array.filter(arr1, function(item) {
    return !goog.array.contains(arr2, item);
  });
};
goog.dom.classes.swap = function(element, fromClass, toClass) {
  var classes = goog.dom.classes.get(element);
  var removed = false;
  for (var i = 0;i < classes.length;i++) {
    if (classes[i] == fromClass) {
      goog.array.splice(classes, i--, 1);
      removed = true;
    }
  }
  if (removed) {
    classes.push(toClass);
    goog.dom.classes.set(element, classes.join(" "));
  }
  return removed;
};
goog.dom.classes.addRemove = function(element, classesToRemove, classesToAdd) {
  var classes = goog.dom.classes.get(element);
  if (goog.isString(classesToRemove)) {
    goog.array.remove(classes, classesToRemove);
  } else {
    if (goog.isArray(classesToRemove)) {
      classes = goog.dom.classes.getDifference_(classes, classesToRemove);
    }
  }
  if (goog.isString(classesToAdd) && !goog.array.contains(classes, classesToAdd)) {
    classes.push(classesToAdd);
  } else {
    if (goog.isArray(classesToAdd)) {
      goog.dom.classes.add_(classes, classesToAdd);
    }
  }
  goog.dom.classes.set(element, classes.join(" "));
};
goog.dom.classes.has = function(element, className) {
  return goog.array.contains(goog.dom.classes.get(element), className);
};
goog.dom.classes.enable = function(element, className, enabled) {
  if (enabled) {
    goog.dom.classes.add(element, className);
  } else {
    goog.dom.classes.remove(element, className);
  }
};
goog.dom.classes.toggle = function(element, className) {
  var add = !goog.dom.classes.has(element, className);
  goog.dom.classes.enable(element, className, add);
  return add;
};
goog.provide("domina.support");
goog.require("cljs.core");
goog.require("goog.dom");
goog.require("goog.events");
var div_12024 = document.createElement("div");
var test_html_12025 = "   \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a' style\x3d'top:1px;float:left;opacity:.55;'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";
div_12024.innerHTML = test_html_12025;
domina.support.leading_whitespace_QMARK_ = cljs.core._EQ_.call(null, div_12024.firstChild.nodeType, 3);
domina.support.extraneous_tbody_QMARK_ = cljs.core._EQ_.call(null, div_12024.getElementsByTagName("tbody").length, 0);
domina.support.unscoped_html_elements_QMARK_ = cljs.core._EQ_.call(null, div_12024.getElementsByTagName("link").length, 0);
goog.provide("goog.dom.xml");
goog.require("goog.dom");
goog.require("goog.dom.NodeType");
goog.require("goog.userAgent");
goog.dom.xml.MAX_XML_SIZE_KB = 2 * 1024;
goog.dom.xml.MAX_ELEMENT_DEPTH = 256;
goog.dom.xml.hasActiveXObjectSupport_ = function() {
  if (!goog.userAgent.IE) {
    return false;
  }
  try {
    new ActiveXObject("MSXML2.DOMDocument");
    return true;
  } catch (e) {
    return false;
  }
};
goog.dom.xml.ACTIVEX_SUPPORT = goog.userAgent.IE && goog.dom.xml.hasActiveXObjectSupport_();
goog.dom.xml.createDocument = function(opt_rootTagName, opt_namespaceUri, opt_preferActiveX) {
  if (opt_namespaceUri && !opt_rootTagName) {
    throw Error("Can't create document with namespace and no root tag");
  }
  if (document.implementation && document.implementation.createDocument && !(goog.dom.xml.ACTIVEX_SUPPORT && opt_preferActiveX)) {
    return document.implementation.createDocument(opt_namespaceUri || "", opt_rootTagName || "", null);
  } else {
    if (goog.dom.xml.ACTIVEX_SUPPORT) {
      var doc = goog.dom.xml.createMsXmlDocument_();
      if (doc) {
        if (opt_rootTagName) {
          doc.appendChild(doc.createNode(goog.dom.NodeType.ELEMENT, opt_rootTagName, opt_namespaceUri || ""));
        }
        return doc;
      }
    }
  }
  throw Error("Your browser does not support creating new documents");
};
goog.dom.xml.loadXml = function(xml, opt_preferActiveX) {
  if (typeof DOMParser != "undefined" && !(goog.dom.xml.ACTIVEX_SUPPORT && opt_preferActiveX)) {
    return (new DOMParser).parseFromString(xml, "application/xml");
  } else {
    if (goog.dom.xml.ACTIVEX_SUPPORT) {
      var doc = goog.dom.xml.createMsXmlDocument_();
      doc.loadXML(xml);
      return doc;
    }
  }
  throw Error("Your browser does not support loading xml documents");
};
goog.dom.xml.serialize = function(xml) {
  var text = xml.xml;
  if (text) {
    return text;
  }
  if (typeof XMLSerializer != "undefined") {
    return (new XMLSerializer).serializeToString(xml);
  }
  throw Error("Your browser does not support serializing XML documents");
};
goog.dom.xml.selectSingleNode = function(node, path) {
  if (typeof node.selectSingleNode != "undefined") {
    var doc = goog.dom.getOwnerDocument(node);
    if (typeof doc.setProperty != "undefined") {
      doc.setProperty("SelectionLanguage", "XPath");
    }
    return node.selectSingleNode(path);
  } else {
    if (document.implementation.hasFeature("XPath", "3.0")) {
      var doc = goog.dom.getOwnerDocument(node);
      var resolver = doc.createNSResolver(doc.documentElement);
      var result = doc.evaluate(path, node, resolver, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
      return result.singleNodeValue;
    }
  }
  return null;
};
goog.dom.xml.selectNodes = function(node, path) {
  if (typeof node.selectNodes != "undefined") {
    var doc = goog.dom.getOwnerDocument(node);
    if (typeof doc.setProperty != "undefined") {
      doc.setProperty("SelectionLanguage", "XPath");
    }
    return node.selectNodes(path);
  } else {
    if (document.implementation.hasFeature("XPath", "3.0")) {
      var doc = goog.dom.getOwnerDocument(node);
      var resolver = doc.createNSResolver(doc.documentElement);
      var nodes = doc.evaluate(path, node, resolver, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
      var results = [];
      var count = nodes.snapshotLength;
      for (var i = 0;i < count;i++) {
        results.push(nodes.snapshotItem(i));
      }
      return results;
    } else {
      return [];
    }
  }
};
goog.dom.xml.setAttributes = function(element, attributes) {
  for (var key in attributes) {
    if (attributes.hasOwnProperty(key)) {
      element.setAttribute(key, attributes[key]);
    }
  }
};
goog.dom.xml.createMsXmlDocument_ = function() {
  var doc = new ActiveXObject("MSXML2.DOMDocument");
  if (doc) {
    doc.resolveExternals = false;
    doc.validateOnParse = false;
    try {
      doc.setProperty("ProhibitDTD", true);
      doc.setProperty("MaxXMLSize", goog.dom.xml.MAX_XML_SIZE_KB);
      doc.setProperty("MaxElementDepth", goog.dom.xml.MAX_ELEMENT_DEPTH);
    } catch (e) {
    }
  }
  return doc;
};
goog.provide("domina");
goog.require("cljs.core");
goog.require("goog.dom.forms");
goog.require("goog.dom");
goog.require("goog.dom.classes");
goog.require("goog.dom.xml");
goog.require("goog.string");
goog.require("cljs.core");
goog.require("domina.support");
goog.require("goog.events");
goog.require("goog.style");
goog.require("clojure.string");
domina.re_html = /<|&#?\w+;/;
domina.re_leading_whitespace = /^\s+/;
domina.re_xhtml_tag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/i;
domina.re_tag_name = /<([\w:]+)/;
domina.re_no_inner_html = /<(?:script|style)/i;
domina.re_tbody = /<tbody/i;
var opt_wrapper_12043 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [1, "\x3cselect multiple\x3d'multiple'\x3e", "\x3c/select\x3e"], null);
var table_section_wrapper_12044 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [1, "\x3ctable\x3e", "\x3c/table\x3e"], null);
var cell_wrapper_12045 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [3, "\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e", "\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"], null);
domina.wrap_map = cljs.core.PersistentHashMap.fromArrays(["td", "optgroup", "tfoot", "tr", "area", new cljs.core.Keyword(null, "default", "default", -1987822328), "option", "legend", "thead", "col", "caption", "th", "colgroup", "tbody"], [cell_wrapper_12045, opt_wrapper_12043, table_section_wrapper_12044, new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [2, "\x3ctable\x3e\x3ctbody\x3e", "\x3c/tbody\x3e\x3c/table\x3e"], null), new cljs.core.PersistentVector(null, 3, 
5, cljs.core.PersistentVector.EMPTY_NODE, [1, "\x3cmap\x3e", "\x3c/map\x3e"], null), new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, "", ""], null), opt_wrapper_12043, new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [1, "\x3cfieldset\x3e", "\x3c/fieldset\x3e"], null), table_section_wrapper_12044, new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [2, "\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e", 
"\x3c/colgroup\x3e\x3c/table\x3e"], null), table_section_wrapper_12044, cell_wrapper_12045, table_section_wrapper_12044, table_section_wrapper_12044]);
domina.remove_extraneous_tbody_BANG_ = function domina$remove_extraneous_tbody_BANG_(div, html, tag_name, start_wrap) {
  var no_tbody_QMARK_ = cljs.core.not.call(null, cljs.core.re_find.call(null, domina.re_tbody, html));
  var tbody = cljs.core._EQ_.call(null, tag_name, "table") && no_tbody_QMARK_ ? function() {
    var and__6144__auto__ = div.firstChild;
    if (cljs.core.truth_(and__6144__auto__)) {
      return div.firstChild.childNodes;
    } else {
      return and__6144__auto__;
    }
  }() : cljs.core._EQ_.call(null, start_wrap, "\x3ctable\x3e") && no_tbody_QMARK_ ? div.childNodes : cljs.core.PersistentVector.EMPTY;
  var seq__12050 = cljs.core.seq.call(null, tbody);
  var chunk__12051 = null;
  var count__12052 = 0;
  var i__12053 = 0;
  while (true) {
    if (i__12053 < count__12052) {
      var child = cljs.core._nth.call(null, chunk__12051, i__12053);
      if (cljs.core._EQ_.call(null, child.nodeName, "tbody") && cljs.core._EQ_.call(null, child.childNodes.length, 0)) {
        child.parentNode.removeChild(child);
      } else {
      }
      var G__12054 = seq__12050;
      var G__12055 = chunk__12051;
      var G__12056 = count__12052;
      var G__12057 = i__12053 + 1;
      seq__12050 = G__12054;
      chunk__12051 = G__12055;
      count__12052 = G__12056;
      i__12053 = G__12057;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq.call(null, seq__12050);
      if (temp__4657__auto__) {
        var seq__12050__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12050__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__12050__$1);
          var G__12058 = cljs.core.chunk_rest.call(null, seq__12050__$1);
          var G__12059 = c__6959__auto__;
          var G__12060 = cljs.core.count.call(null, c__6959__auto__);
          var G__12061 = 0;
          seq__12050 = G__12058;
          chunk__12051 = G__12059;
          count__12052 = G__12060;
          i__12053 = G__12061;
          continue;
        } else {
          var child = cljs.core.first.call(null, seq__12050__$1);
          if (cljs.core._EQ_.call(null, child.nodeName, "tbody") && cljs.core._EQ_.call(null, child.childNodes.length, 0)) {
            child.parentNode.removeChild(child);
          } else {
          }
          var G__12062 = cljs.core.next.call(null, seq__12050__$1);
          var G__12063 = null;
          var G__12064 = 0;
          var G__12065 = 0;
          seq__12050 = G__12062;
          chunk__12051 = G__12063;
          count__12052 = G__12064;
          i__12053 = G__12065;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
domina.restore_leading_whitespace_BANG_ = function domina$restore_leading_whitespace_BANG_(div, html) {
  return div.insertBefore(document.createTextNode(cljs.core.first.call(null, cljs.core.re_find.call(null, domina.re_leading_whitespace, html))), div.firstChild);
};
domina.html_to_dom = function domina$html_to_dom(html) {
  var html__$1 = clojure.string.replace.call(null, html, domina.re_xhtml_tag, "\x3c$1\x3e\x3c/$2\x3e");
  var tag_name = [cljs.core.str(cljs.core.second.call(null, cljs.core.re_find.call(null, domina.re_tag_name, html__$1)))].join("").toLowerCase();
  var vec__12067 = cljs.core.get.call(null, domina.wrap_map, tag_name, (new cljs.core.Keyword(null, "default", "default", -1987822328)).cljs$core$IFn$_invoke$arity$1(domina.wrap_map));
  var depth = cljs.core.nth.call(null, vec__12067, 0, null);
  var start_wrap = cljs.core.nth.call(null, vec__12067, 1, null);
  var end_wrap = cljs.core.nth.call(null, vec__12067, 2, null);
  var div = function() {
    var wrapper = function() {
      var div = document.createElement("div");
      div.innerHTML = [cljs.core.str(start_wrap), cljs.core.str(html__$1), cljs.core.str(end_wrap)].join("");
      return div;
    }();
    var level = depth;
    while (true) {
      if (level > 0) {
        var G__12068 = wrapper.lastChild;
        var G__12069 = level - 1;
        wrapper = G__12068;
        level = G__12069;
        continue;
      } else {
        return wrapper;
      }
      break;
    }
  }();
  if (cljs.core.truth_(domina.support.extraneous_tbody_QMARK_)) {
    domina.remove_extraneous_tbody_BANG_.call(null, div, html__$1, tag_name, start_wrap);
  } else {
  }
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = cljs.core.not.call(null, domina.support.leading_whitespace_QMARK_);
    if (and__6144__auto__) {
      return cljs.core.re_find.call(null, domina.re_leading_whitespace, html__$1);
    } else {
      return and__6144__auto__;
    }
  }())) {
    domina.restore_leading_whitespace_BANG_.call(null, div, html__$1);
  } else {
  }
  return div.childNodes;
};
domina.string_to_dom = function domina$string_to_dom(s) {
  if (cljs.core.truth_(cljs.core.re_find.call(null, domina.re_html, s))) {
    return domina.html_to_dom.call(null, s);
  } else {
    return document.createTextNode(s);
  }
};
domina.DomContent = function() {
};
domina.nodes = function domina$nodes(content) {
  if (!(content == null) && !(content.domina$DomContent$nodes$arity$1 == null)) {
    return content.domina$DomContent$nodes$arity$1(content);
  } else {
    var x__6811__auto__ = content == null ? null : content;
    var m__6812__auto__ = domina.nodes[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, content);
    } else {
      var m__6812__auto____$1 = domina.nodes["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, content);
      } else {
        throw cljs.core.missing_protocol.call(null, "DomContent.nodes", content);
      }
    }
  }
};
domina.single_node = function domina$single_node(nodeseq) {
  if (!(nodeseq == null) && !(nodeseq.domina$DomContent$single_node$arity$1 == null)) {
    return nodeseq.domina$DomContent$single_node$arity$1(nodeseq);
  } else {
    var x__6811__auto__ = nodeseq == null ? null : nodeseq;
    var m__6812__auto__ = domina.single_node[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, nodeseq);
    } else {
      var m__6812__auto____$1 = domina.single_node["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, nodeseq);
      } else {
        throw cljs.core.missing_protocol.call(null, "DomContent.single-node", nodeseq);
      }
    }
  }
};
domina._STAR_debug_STAR_ = true;
domina.log_debug = function domina$log_debug(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12071 = arguments.length;
  var i__7215__auto___12072 = 0;
  while (true) {
    if (i__7215__auto___12072 < len__7214__auto___12071) {
      args__7221__auto__.push(arguments[i__7215__auto___12072]);
      var G__12073 = i__7215__auto___12072 + 1;
      i__7215__auto___12072 = G__12073;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return domina.log_debug.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
domina.log_debug.cljs$core$IFn$_invoke$arity$variadic = function(mesg) {
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = domina._STAR_debug_STAR_;
    if (cljs.core.truth_(and__6144__auto__)) {
      return !cljs.core._EQ_.call(null, window.console, undefined);
    } else {
      return and__6144__auto__;
    }
  }())) {
    return console.log(cljs.core.apply.call(null, cljs.core.str, mesg));
  } else {
    return null;
  }
};
domina.log_debug.cljs$lang$maxFixedArity = 0;
domina.log_debug.cljs$lang$applyTo = function(seq12070) {
  return domina.log_debug.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq12070));
};
domina.log = function domina$log(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12075 = arguments.length;
  var i__7215__auto___12076 = 0;
  while (true) {
    if (i__7215__auto___12076 < len__7214__auto___12075) {
      args__7221__auto__.push(arguments[i__7215__auto___12076]);
      var G__12077 = i__7215__auto___12076 + 1;
      i__7215__auto___12076 = G__12077;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return domina.log.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
domina.log.cljs$core$IFn$_invoke$arity$variadic = function(mesg) {
  if (cljs.core.truth_(window.console)) {
    return console.log(cljs.core.apply.call(null, cljs.core.str, mesg));
  } else {
    return null;
  }
};
domina.log.cljs$lang$maxFixedArity = 0;
domina.log.cljs$lang$applyTo = function(seq12074) {
  return domina.log.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq12074));
};
domina.by_id = function domina$by_id(id) {
  return goog.dom.getElement(cljs.core.name.call(null, id));
};
domina.by_class = function domina$by_class(class_name) {
  return domina.normalize_seq.call(null, goog.dom.getElementsByClass(cljs.core.name.call(null, class_name)));
};
domina.children = function domina$children(content) {
  return cljs.core.doall.call(null, cljs.core.mapcat.call(null, goog.dom.getChildren, domina.nodes.call(null, content)));
};
domina.common_ancestor = function domina$common_ancestor(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12079 = arguments.length;
  var i__7215__auto___12080 = 0;
  while (true) {
    if (i__7215__auto___12080 < len__7214__auto___12079) {
      args__7221__auto__.push(arguments[i__7215__auto___12080]);
      var G__12081 = i__7215__auto___12080 + 1;
      i__7215__auto___12080 = G__12081;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return domina.common_ancestor.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
domina.common_ancestor.cljs$core$IFn$_invoke$arity$variadic = function(contents) {
  return cljs.core.apply.call(null, goog.dom.findCommonAncestor, cljs.core.map.call(null, domina.single_node, contents));
};
domina.common_ancestor.cljs$lang$maxFixedArity = 0;
domina.common_ancestor.cljs$lang$applyTo = function(seq12078) {
  return domina.common_ancestor.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq12078));
};
domina.ancestor_QMARK_ = function domina$ancestor_QMARK_(ancestor_content, descendant_content) {
  return cljs.core._EQ_.call(null, domina.common_ancestor.call(null, ancestor_content, descendant_content), domina.single_node.call(null, ancestor_content));
};
domina.clone = function domina$clone(content) {
  return cljs.core.map.call(null, function(p1__12082_SHARP_) {
    return p1__12082_SHARP_.cloneNode(true);
  }, domina.nodes.call(null, content));
};
domina.append_BANG_ = function domina$append_BANG_(parent_content, child_content) {
  domina.apply_with_cloning.call(null, goog.dom.appendChild, parent_content, child_content);
  return parent_content;
};
domina.insert_BANG_ = function domina$insert_BANG_(parent_content, child_content, idx) {
  domina.apply_with_cloning.call(null, function(p1__12083_SHARP_, p2__12084_SHARP_) {
    return goog.dom.insertChildAt(p1__12083_SHARP_, p2__12084_SHARP_, idx);
  }, parent_content, child_content);
  return parent_content;
};
domina.prepend_BANG_ = function domina$prepend_BANG_(parent_content, child_content) {
  domina.insert_BANG_.call(null, parent_content, child_content, 0);
  return parent_content;
};
domina.insert_before_BANG_ = function domina$insert_before_BANG_(content, new_content) {
  domina.apply_with_cloning.call(null, function(p1__12086_SHARP_, p2__12085_SHARP_) {
    return goog.dom.insertSiblingBefore(p2__12085_SHARP_, p1__12086_SHARP_);
  }, content, new_content);
  return content;
};
domina.insert_after_BANG_ = function domina$insert_after_BANG_(content, new_content) {
  domina.apply_with_cloning.call(null, function(p1__12088_SHARP_, p2__12087_SHARP_) {
    return goog.dom.insertSiblingAfter(p2__12087_SHARP_, p1__12088_SHARP_);
  }, content, new_content);
  return content;
};
domina.swap_content_BANG_ = function domina$swap_content_BANG_(old_content, new_content) {
  domina.apply_with_cloning.call(null, function(p1__12090_SHARP_, p2__12089_SHARP_) {
    return goog.dom.replaceNode(p2__12089_SHARP_, p1__12090_SHARP_);
  }, old_content, new_content);
  return old_content;
};
domina.detach_BANG_ = function domina$detach_BANG_(content) {
  return cljs.core.doall.call(null, cljs.core.map.call(null, goog.dom.removeNode, domina.nodes.call(null, content)));
};
domina.destroy_BANG_ = function domina$destroy_BANG_(content) {
  return cljs.core.dorun.call(null, cljs.core.map.call(null, goog.dom.removeNode, domina.nodes.call(null, content)));
};
domina.destroy_children_BANG_ = function domina$destroy_children_BANG_(content) {
  cljs.core.dorun.call(null, cljs.core.map.call(null, goog.dom.removeChildren, domina.nodes.call(null, content)));
  return content;
};
domina.style = function domina$style(content, name) {
  var s = goog.style.getStyle(domina.single_node.call(null, content), cljs.core.name.call(null, name));
  if (clojure.string.blank_QMARK_.call(null, s)) {
    return null;
  } else {
    return s;
  }
};
domina.attr = function domina$attr(content, name) {
  return domina.single_node.call(null, content).getAttribute(cljs.core.name.call(null, name));
};
domina.set_style_BANG_ = function domina$set_style_BANG_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12098 = arguments.length;
  var i__7215__auto___12099 = 0;
  while (true) {
    if (i__7215__auto___12099 < len__7214__auto___12098) {
      args__7221__auto__.push(arguments[i__7215__auto___12099]);
      var G__12100 = i__7215__auto___12099 + 1;
      i__7215__auto___12099 = G__12100;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return domina.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
domina.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(content, name, value) {
  var seq__12094_12101 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12095_12102 = null;
  var count__12096_12103 = 0;
  var i__12097_12104 = 0;
  while (true) {
    if (i__12097_12104 < count__12096_12103) {
      var n_12105 = cljs.core._nth.call(null, chunk__12095_12102, i__12097_12104);
      goog.style.setStyle(n_12105, cljs.core.name.call(null, name), cljs.core.apply.call(null, cljs.core.str, value));
      var G__12106 = seq__12094_12101;
      var G__12107 = chunk__12095_12102;
      var G__12108 = count__12096_12103;
      var G__12109 = i__12097_12104 + 1;
      seq__12094_12101 = G__12106;
      chunk__12095_12102 = G__12107;
      count__12096_12103 = G__12108;
      i__12097_12104 = G__12109;
      continue;
    } else {
      var temp__4657__auto___12110 = cljs.core.seq.call(null, seq__12094_12101);
      if (temp__4657__auto___12110) {
        var seq__12094_12111__$1 = temp__4657__auto___12110;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12094_12111__$1)) {
          var c__6959__auto___12112 = cljs.core.chunk_first.call(null, seq__12094_12111__$1);
          var G__12113 = cljs.core.chunk_rest.call(null, seq__12094_12111__$1);
          var G__12114 = c__6959__auto___12112;
          var G__12115 = cljs.core.count.call(null, c__6959__auto___12112);
          var G__12116 = 0;
          seq__12094_12101 = G__12113;
          chunk__12095_12102 = G__12114;
          count__12096_12103 = G__12115;
          i__12097_12104 = G__12116;
          continue;
        } else {
          var n_12117 = cljs.core.first.call(null, seq__12094_12111__$1);
          goog.style.setStyle(n_12117, cljs.core.name.call(null, name), cljs.core.apply.call(null, cljs.core.str, value));
          var G__12118 = cljs.core.next.call(null, seq__12094_12111__$1);
          var G__12119 = null;
          var G__12120 = 0;
          var G__12121 = 0;
          seq__12094_12101 = G__12118;
          chunk__12095_12102 = G__12119;
          count__12096_12103 = G__12120;
          i__12097_12104 = G__12121;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.set_style_BANG_.cljs$lang$maxFixedArity = 2;
domina.set_style_BANG_.cljs$lang$applyTo = function(seq12091) {
  var G__12092 = cljs.core.first.call(null, seq12091);
  var seq12091__$1 = cljs.core.next.call(null, seq12091);
  var G__12093 = cljs.core.first.call(null, seq12091__$1);
  var seq12091__$2 = cljs.core.next.call(null, seq12091__$1);
  return domina.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__12092, G__12093, seq12091__$2);
};
domina.set_attr_BANG_ = function domina$set_attr_BANG_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___12129 = arguments.length;
  var i__7215__auto___12130 = 0;
  while (true) {
    if (i__7215__auto___12130 < len__7214__auto___12129) {
      args__7221__auto__.push(arguments[i__7215__auto___12130]);
      var G__12131 = i__7215__auto___12130 + 1;
      i__7215__auto___12130 = G__12131;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return domina.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
domina.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic = function(content, name, value) {
  var seq__12125_12132 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12126_12133 = null;
  var count__12127_12134 = 0;
  var i__12128_12135 = 0;
  while (true) {
    if (i__12128_12135 < count__12127_12134) {
      var n_12136 = cljs.core._nth.call(null, chunk__12126_12133, i__12128_12135);
      n_12136.setAttribute(cljs.core.name.call(null, name), cljs.core.apply.call(null, cljs.core.str, value));
      var G__12137 = seq__12125_12132;
      var G__12138 = chunk__12126_12133;
      var G__12139 = count__12127_12134;
      var G__12140 = i__12128_12135 + 1;
      seq__12125_12132 = G__12137;
      chunk__12126_12133 = G__12138;
      count__12127_12134 = G__12139;
      i__12128_12135 = G__12140;
      continue;
    } else {
      var temp__4657__auto___12141 = cljs.core.seq.call(null, seq__12125_12132);
      if (temp__4657__auto___12141) {
        var seq__12125_12142__$1 = temp__4657__auto___12141;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12125_12142__$1)) {
          var c__6959__auto___12143 = cljs.core.chunk_first.call(null, seq__12125_12142__$1);
          var G__12144 = cljs.core.chunk_rest.call(null, seq__12125_12142__$1);
          var G__12145 = c__6959__auto___12143;
          var G__12146 = cljs.core.count.call(null, c__6959__auto___12143);
          var G__12147 = 0;
          seq__12125_12132 = G__12144;
          chunk__12126_12133 = G__12145;
          count__12127_12134 = G__12146;
          i__12128_12135 = G__12147;
          continue;
        } else {
          var n_12148 = cljs.core.first.call(null, seq__12125_12142__$1);
          n_12148.setAttribute(cljs.core.name.call(null, name), cljs.core.apply.call(null, cljs.core.str, value));
          var G__12149 = cljs.core.next.call(null, seq__12125_12142__$1);
          var G__12150 = null;
          var G__12151 = 0;
          var G__12152 = 0;
          seq__12125_12132 = G__12149;
          chunk__12126_12133 = G__12150;
          count__12127_12134 = G__12151;
          i__12128_12135 = G__12152;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.set_attr_BANG_.cljs$lang$maxFixedArity = 2;
domina.set_attr_BANG_.cljs$lang$applyTo = function(seq12122) {
  var G__12123 = cljs.core.first.call(null, seq12122);
  var seq12122__$1 = cljs.core.next.call(null, seq12122);
  var G__12124 = cljs.core.first.call(null, seq12122__$1);
  var seq12122__$2 = cljs.core.next.call(null, seq12122__$1);
  return domina.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__12123, G__12124, seq12122__$2);
};
domina.remove_attr_BANG_ = function domina$remove_attr_BANG_(content, name) {
  var seq__12157_12161 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12158_12162 = null;
  var count__12159_12163 = 0;
  var i__12160_12164 = 0;
  while (true) {
    if (i__12160_12164 < count__12159_12163) {
      var n_12165 = cljs.core._nth.call(null, chunk__12158_12162, i__12160_12164);
      n_12165.removeAttribute(cljs.core.name.call(null, name));
      var G__12166 = seq__12157_12161;
      var G__12167 = chunk__12158_12162;
      var G__12168 = count__12159_12163;
      var G__12169 = i__12160_12164 + 1;
      seq__12157_12161 = G__12166;
      chunk__12158_12162 = G__12167;
      count__12159_12163 = G__12168;
      i__12160_12164 = G__12169;
      continue;
    } else {
      var temp__4657__auto___12170 = cljs.core.seq.call(null, seq__12157_12161);
      if (temp__4657__auto___12170) {
        var seq__12157_12171__$1 = temp__4657__auto___12170;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12157_12171__$1)) {
          var c__6959__auto___12172 = cljs.core.chunk_first.call(null, seq__12157_12171__$1);
          var G__12173 = cljs.core.chunk_rest.call(null, seq__12157_12171__$1);
          var G__12174 = c__6959__auto___12172;
          var G__12175 = cljs.core.count.call(null, c__6959__auto___12172);
          var G__12176 = 0;
          seq__12157_12161 = G__12173;
          chunk__12158_12162 = G__12174;
          count__12159_12163 = G__12175;
          i__12160_12164 = G__12176;
          continue;
        } else {
          var n_12177 = cljs.core.first.call(null, seq__12157_12171__$1);
          n_12177.removeAttribute(cljs.core.name.call(null, name));
          var G__12178 = cljs.core.next.call(null, seq__12157_12171__$1);
          var G__12179 = null;
          var G__12180 = 0;
          var G__12181 = 0;
          seq__12157_12161 = G__12178;
          chunk__12158_12162 = G__12179;
          count__12159_12163 = G__12180;
          i__12160_12164 = G__12181;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.parse_style_attributes = function domina$parse_style_attributes(style) {
  return cljs.core.reduce.call(null, function(acc, pair) {
    var vec__12183 = pair.split(/\s*:\s*/);
    var k = cljs.core.nth.call(null, vec__12183, 0, null);
    var v = cljs.core.nth.call(null, vec__12183, 1, null);
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = k;
      if (cljs.core.truth_(and__6144__auto__)) {
        return v;
      } else {
        return and__6144__auto__;
      }
    }())) {
      return cljs.core.assoc.call(null, acc, cljs.core.keyword.call(null, k.toLowerCase()), v);
    } else {
      return acc;
    }
  }, cljs.core.PersistentArrayMap.EMPTY, style.split(/\s*;\s*/));
};
domina.styles = function domina$styles(content) {
  var style = domina.attr.call(null, content, "style");
  if (typeof style === "string") {
    return domina.parse_style_attributes.call(null, style);
  } else {
    if (style == null) {
      return cljs.core.PersistentArrayMap.EMPTY;
    } else {
      if (cljs.core.truth_(style.cssText)) {
        return domina.parse_style_attributes.call(null, style.cssText);
      } else {
        return cljs.core.PersistentArrayMap.EMPTY;
      }
    }
  }
};
domina.attrs = function domina$attrs(content) {
  var node = domina.single_node.call(null, content);
  var attrs__$1 = node.attributes;
  return cljs.core.reduce.call(null, cljs.core.conj, cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), cljs.core.map.call(null, function(node, attrs__$1) {
    return function(p1__12184_SHARP_) {
      var attr = attrs__$1.item(p1__12184_SHARP_);
      var value = attr.nodeValue;
      if (cljs.core.not_EQ_.call(null, null, value) && cljs.core.not_EQ_.call(null, "", value)) {
        return cljs.core.PersistentArrayMap.fromArray([cljs.core.keyword.call(null, attr.nodeName.toLowerCase()), attr.nodeValue], true, false);
      } else {
        return null;
      }
    };
  }(node, attrs__$1), cljs.core.range.call(null, attrs__$1.length))));
};
domina.set_styles_BANG_ = function domina$set_styles_BANG_(content, styles) {
  var seq__12191_12197 = cljs.core.seq.call(null, styles);
  var chunk__12192_12198 = null;
  var count__12193_12199 = 0;
  var i__12194_12200 = 0;
  while (true) {
    if (i__12194_12200 < count__12193_12199) {
      var vec__12195_12201 = cljs.core._nth.call(null, chunk__12192_12198, i__12194_12200);
      var name_12202 = cljs.core.nth.call(null, vec__12195_12201, 0, null);
      var value_12203 = cljs.core.nth.call(null, vec__12195_12201, 1, null);
      domina.set_style_BANG_.call(null, content, name_12202, value_12203);
      var G__12204 = seq__12191_12197;
      var G__12205 = chunk__12192_12198;
      var G__12206 = count__12193_12199;
      var G__12207 = i__12194_12200 + 1;
      seq__12191_12197 = G__12204;
      chunk__12192_12198 = G__12205;
      count__12193_12199 = G__12206;
      i__12194_12200 = G__12207;
      continue;
    } else {
      var temp__4657__auto___12208 = cljs.core.seq.call(null, seq__12191_12197);
      if (temp__4657__auto___12208) {
        var seq__12191_12209__$1 = temp__4657__auto___12208;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12191_12209__$1)) {
          var c__6959__auto___12210 = cljs.core.chunk_first.call(null, seq__12191_12209__$1);
          var G__12211 = cljs.core.chunk_rest.call(null, seq__12191_12209__$1);
          var G__12212 = c__6959__auto___12210;
          var G__12213 = cljs.core.count.call(null, c__6959__auto___12210);
          var G__12214 = 0;
          seq__12191_12197 = G__12211;
          chunk__12192_12198 = G__12212;
          count__12193_12199 = G__12213;
          i__12194_12200 = G__12214;
          continue;
        } else {
          var vec__12196_12215 = cljs.core.first.call(null, seq__12191_12209__$1);
          var name_12216 = cljs.core.nth.call(null, vec__12196_12215, 0, null);
          var value_12217 = cljs.core.nth.call(null, vec__12196_12215, 1, null);
          domina.set_style_BANG_.call(null, content, name_12216, value_12217);
          var G__12218 = cljs.core.next.call(null, seq__12191_12209__$1);
          var G__12219 = null;
          var G__12220 = 0;
          var G__12221 = 0;
          seq__12191_12197 = G__12218;
          chunk__12192_12198 = G__12219;
          count__12193_12199 = G__12220;
          i__12194_12200 = G__12221;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.set_attrs_BANG_ = function domina$set_attrs_BANG_(content, attrs) {
  var seq__12228_12234 = cljs.core.seq.call(null, attrs);
  var chunk__12229_12235 = null;
  var count__12230_12236 = 0;
  var i__12231_12237 = 0;
  while (true) {
    if (i__12231_12237 < count__12230_12236) {
      var vec__12232_12238 = cljs.core._nth.call(null, chunk__12229_12235, i__12231_12237);
      var name_12239 = cljs.core.nth.call(null, vec__12232_12238, 0, null);
      var value_12240 = cljs.core.nth.call(null, vec__12232_12238, 1, null);
      domina.set_attr_BANG_.call(null, content, name_12239, value_12240);
      var G__12241 = seq__12228_12234;
      var G__12242 = chunk__12229_12235;
      var G__12243 = count__12230_12236;
      var G__12244 = i__12231_12237 + 1;
      seq__12228_12234 = G__12241;
      chunk__12229_12235 = G__12242;
      count__12230_12236 = G__12243;
      i__12231_12237 = G__12244;
      continue;
    } else {
      var temp__4657__auto___12245 = cljs.core.seq.call(null, seq__12228_12234);
      if (temp__4657__auto___12245) {
        var seq__12228_12246__$1 = temp__4657__auto___12245;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12228_12246__$1)) {
          var c__6959__auto___12247 = cljs.core.chunk_first.call(null, seq__12228_12246__$1);
          var G__12248 = cljs.core.chunk_rest.call(null, seq__12228_12246__$1);
          var G__12249 = c__6959__auto___12247;
          var G__12250 = cljs.core.count.call(null, c__6959__auto___12247);
          var G__12251 = 0;
          seq__12228_12234 = G__12248;
          chunk__12229_12235 = G__12249;
          count__12230_12236 = G__12250;
          i__12231_12237 = G__12251;
          continue;
        } else {
          var vec__12233_12252 = cljs.core.first.call(null, seq__12228_12246__$1);
          var name_12253 = cljs.core.nth.call(null, vec__12233_12252, 0, null);
          var value_12254 = cljs.core.nth.call(null, vec__12233_12252, 1, null);
          domina.set_attr_BANG_.call(null, content, name_12253, value_12254);
          var G__12255 = cljs.core.next.call(null, seq__12228_12246__$1);
          var G__12256 = null;
          var G__12257 = 0;
          var G__12258 = 0;
          seq__12228_12234 = G__12255;
          chunk__12229_12235 = G__12256;
          count__12230_12236 = G__12257;
          i__12231_12237 = G__12258;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.has_class_QMARK_ = function domina$has_class_QMARK_(content, class$) {
  return goog.dom.classes.has(domina.single_node.call(null, content), class$);
};
domina.add_class_BANG_ = function domina$add_class_BANG_(content, class$) {
  var seq__12263_12267 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12264_12268 = null;
  var count__12265_12269 = 0;
  var i__12266_12270 = 0;
  while (true) {
    if (i__12266_12270 < count__12265_12269) {
      var node_12271 = cljs.core._nth.call(null, chunk__12264_12268, i__12266_12270);
      goog.dom.classes.add(node_12271, class$);
      var G__12272 = seq__12263_12267;
      var G__12273 = chunk__12264_12268;
      var G__12274 = count__12265_12269;
      var G__12275 = i__12266_12270 + 1;
      seq__12263_12267 = G__12272;
      chunk__12264_12268 = G__12273;
      count__12265_12269 = G__12274;
      i__12266_12270 = G__12275;
      continue;
    } else {
      var temp__4657__auto___12276 = cljs.core.seq.call(null, seq__12263_12267);
      if (temp__4657__auto___12276) {
        var seq__12263_12277__$1 = temp__4657__auto___12276;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12263_12277__$1)) {
          var c__6959__auto___12278 = cljs.core.chunk_first.call(null, seq__12263_12277__$1);
          var G__12279 = cljs.core.chunk_rest.call(null, seq__12263_12277__$1);
          var G__12280 = c__6959__auto___12278;
          var G__12281 = cljs.core.count.call(null, c__6959__auto___12278);
          var G__12282 = 0;
          seq__12263_12267 = G__12279;
          chunk__12264_12268 = G__12280;
          count__12265_12269 = G__12281;
          i__12266_12270 = G__12282;
          continue;
        } else {
          var node_12283 = cljs.core.first.call(null, seq__12263_12277__$1);
          goog.dom.classes.add(node_12283, class$);
          var G__12284 = cljs.core.next.call(null, seq__12263_12277__$1);
          var G__12285 = null;
          var G__12286 = 0;
          var G__12287 = 0;
          seq__12263_12267 = G__12284;
          chunk__12264_12268 = G__12285;
          count__12265_12269 = G__12286;
          i__12266_12270 = G__12287;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.remove_class_BANG_ = function domina$remove_class_BANG_(content, class$) {
  var seq__12292_12296 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12293_12297 = null;
  var count__12294_12298 = 0;
  var i__12295_12299 = 0;
  while (true) {
    if (i__12295_12299 < count__12294_12298) {
      var node_12300 = cljs.core._nth.call(null, chunk__12293_12297, i__12295_12299);
      goog.dom.classes.remove(node_12300, class$);
      var G__12301 = seq__12292_12296;
      var G__12302 = chunk__12293_12297;
      var G__12303 = count__12294_12298;
      var G__12304 = i__12295_12299 + 1;
      seq__12292_12296 = G__12301;
      chunk__12293_12297 = G__12302;
      count__12294_12298 = G__12303;
      i__12295_12299 = G__12304;
      continue;
    } else {
      var temp__4657__auto___12305 = cljs.core.seq.call(null, seq__12292_12296);
      if (temp__4657__auto___12305) {
        var seq__12292_12306__$1 = temp__4657__auto___12305;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12292_12306__$1)) {
          var c__6959__auto___12307 = cljs.core.chunk_first.call(null, seq__12292_12306__$1);
          var G__12308 = cljs.core.chunk_rest.call(null, seq__12292_12306__$1);
          var G__12309 = c__6959__auto___12307;
          var G__12310 = cljs.core.count.call(null, c__6959__auto___12307);
          var G__12311 = 0;
          seq__12292_12296 = G__12308;
          chunk__12293_12297 = G__12309;
          count__12294_12298 = G__12310;
          i__12295_12299 = G__12311;
          continue;
        } else {
          var node_12312 = cljs.core.first.call(null, seq__12292_12306__$1);
          goog.dom.classes.remove(node_12312, class$);
          var G__12313 = cljs.core.next.call(null, seq__12292_12306__$1);
          var G__12314 = null;
          var G__12315 = 0;
          var G__12316 = 0;
          seq__12292_12296 = G__12313;
          chunk__12293_12297 = G__12314;
          count__12294_12298 = G__12315;
          i__12295_12299 = G__12316;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.toggle_class_BANG_ = function domina$toggle_class_BANG_(content, class$) {
  var seq__12321_12325 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12322_12326 = null;
  var count__12323_12327 = 0;
  var i__12324_12328 = 0;
  while (true) {
    if (i__12324_12328 < count__12323_12327) {
      var node_12329 = cljs.core._nth.call(null, chunk__12322_12326, i__12324_12328);
      goog.dom.classes.toggle(node_12329, class$);
      var G__12330 = seq__12321_12325;
      var G__12331 = chunk__12322_12326;
      var G__12332 = count__12323_12327;
      var G__12333 = i__12324_12328 + 1;
      seq__12321_12325 = G__12330;
      chunk__12322_12326 = G__12331;
      count__12323_12327 = G__12332;
      i__12324_12328 = G__12333;
      continue;
    } else {
      var temp__4657__auto___12334 = cljs.core.seq.call(null, seq__12321_12325);
      if (temp__4657__auto___12334) {
        var seq__12321_12335__$1 = temp__4657__auto___12334;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12321_12335__$1)) {
          var c__6959__auto___12336 = cljs.core.chunk_first.call(null, seq__12321_12335__$1);
          var G__12337 = cljs.core.chunk_rest.call(null, seq__12321_12335__$1);
          var G__12338 = c__6959__auto___12336;
          var G__12339 = cljs.core.count.call(null, c__6959__auto___12336);
          var G__12340 = 0;
          seq__12321_12325 = G__12337;
          chunk__12322_12326 = G__12338;
          count__12323_12327 = G__12339;
          i__12324_12328 = G__12340;
          continue;
        } else {
          var node_12341 = cljs.core.first.call(null, seq__12321_12335__$1);
          goog.dom.classes.toggle(node_12341, class$);
          var G__12342 = cljs.core.next.call(null, seq__12321_12335__$1);
          var G__12343 = null;
          var G__12344 = 0;
          var G__12345 = 0;
          seq__12321_12325 = G__12342;
          chunk__12322_12326 = G__12343;
          count__12323_12327 = G__12344;
          i__12324_12328 = G__12345;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.classes = function domina$classes(content) {
  return cljs.core.seq.call(null, goog.dom.classes.get(domina.single_node.call(null, content)));
};
domina.set_classes_BANG_ = function domina$set_classes_BANG_(content, classes) {
  var classes_12354__$1 = cljs.core.coll_QMARK_.call(null, classes) ? clojure.string.join.call(null, " ", classes) : classes;
  var seq__12350_12355 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12351_12356 = null;
  var count__12352_12357 = 0;
  var i__12353_12358 = 0;
  while (true) {
    if (i__12353_12358 < count__12352_12357) {
      var node_12359 = cljs.core._nth.call(null, chunk__12351_12356, i__12353_12358);
      goog.dom.classes.set(node_12359, classes_12354__$1);
      var G__12360 = seq__12350_12355;
      var G__12361 = chunk__12351_12356;
      var G__12362 = count__12352_12357;
      var G__12363 = i__12353_12358 + 1;
      seq__12350_12355 = G__12360;
      chunk__12351_12356 = G__12361;
      count__12352_12357 = G__12362;
      i__12353_12358 = G__12363;
      continue;
    } else {
      var temp__4657__auto___12364 = cljs.core.seq.call(null, seq__12350_12355);
      if (temp__4657__auto___12364) {
        var seq__12350_12365__$1 = temp__4657__auto___12364;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12350_12365__$1)) {
          var c__6959__auto___12366 = cljs.core.chunk_first.call(null, seq__12350_12365__$1);
          var G__12367 = cljs.core.chunk_rest.call(null, seq__12350_12365__$1);
          var G__12368 = c__6959__auto___12366;
          var G__12369 = cljs.core.count.call(null, c__6959__auto___12366);
          var G__12370 = 0;
          seq__12350_12355 = G__12367;
          chunk__12351_12356 = G__12368;
          count__12352_12357 = G__12369;
          i__12353_12358 = G__12370;
          continue;
        } else {
          var node_12371 = cljs.core.first.call(null, seq__12350_12365__$1);
          goog.dom.classes.set(node_12371, classes_12354__$1);
          var G__12372 = cljs.core.next.call(null, seq__12350_12365__$1);
          var G__12373 = null;
          var G__12374 = 0;
          var G__12375 = 0;
          seq__12350_12355 = G__12372;
          chunk__12351_12356 = G__12373;
          count__12352_12357 = G__12374;
          i__12353_12358 = G__12375;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.text = function domina$text(content) {
  return goog.string.trim(goog.dom.getTextContent(domina.single_node.call(null, content)));
};
domina.set_text_BANG_ = function domina$set_text_BANG_(content, value) {
  var seq__12380_12384 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12381_12385 = null;
  var count__12382_12386 = 0;
  var i__12383_12387 = 0;
  while (true) {
    if (i__12383_12387 < count__12382_12386) {
      var node_12388 = cljs.core._nth.call(null, chunk__12381_12385, i__12383_12387);
      goog.dom.setTextContent(node_12388, value);
      var G__12389 = seq__12380_12384;
      var G__12390 = chunk__12381_12385;
      var G__12391 = count__12382_12386;
      var G__12392 = i__12383_12387 + 1;
      seq__12380_12384 = G__12389;
      chunk__12381_12385 = G__12390;
      count__12382_12386 = G__12391;
      i__12383_12387 = G__12392;
      continue;
    } else {
      var temp__4657__auto___12393 = cljs.core.seq.call(null, seq__12380_12384);
      if (temp__4657__auto___12393) {
        var seq__12380_12394__$1 = temp__4657__auto___12393;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12380_12394__$1)) {
          var c__6959__auto___12395 = cljs.core.chunk_first.call(null, seq__12380_12394__$1);
          var G__12396 = cljs.core.chunk_rest.call(null, seq__12380_12394__$1);
          var G__12397 = c__6959__auto___12395;
          var G__12398 = cljs.core.count.call(null, c__6959__auto___12395);
          var G__12399 = 0;
          seq__12380_12384 = G__12396;
          chunk__12381_12385 = G__12397;
          count__12382_12386 = G__12398;
          i__12383_12387 = G__12399;
          continue;
        } else {
          var node_12400 = cljs.core.first.call(null, seq__12380_12394__$1);
          goog.dom.setTextContent(node_12400, value);
          var G__12401 = cljs.core.next.call(null, seq__12380_12394__$1);
          var G__12402 = null;
          var G__12403 = 0;
          var G__12404 = 0;
          seq__12380_12384 = G__12401;
          chunk__12381_12385 = G__12402;
          count__12382_12386 = G__12403;
          i__12383_12387 = G__12404;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.value = function domina$value(content) {
  return goog.dom.forms.getValue(domina.single_node.call(null, content));
};
domina.set_value_BANG_ = function domina$set_value_BANG_(content, value) {
  var seq__12409_12413 = cljs.core.seq.call(null, domina.nodes.call(null, content));
  var chunk__12410_12414 = null;
  var count__12411_12415 = 0;
  var i__12412_12416 = 0;
  while (true) {
    if (i__12412_12416 < count__12411_12415) {
      var node_12417 = cljs.core._nth.call(null, chunk__12410_12414, i__12412_12416);
      goog.dom.forms.setValue(node_12417, value);
      var G__12418 = seq__12409_12413;
      var G__12419 = chunk__12410_12414;
      var G__12420 = count__12411_12415;
      var G__12421 = i__12412_12416 + 1;
      seq__12409_12413 = G__12418;
      chunk__12410_12414 = G__12419;
      count__12411_12415 = G__12420;
      i__12412_12416 = G__12421;
      continue;
    } else {
      var temp__4657__auto___12422 = cljs.core.seq.call(null, seq__12409_12413);
      if (temp__4657__auto___12422) {
        var seq__12409_12423__$1 = temp__4657__auto___12422;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12409_12423__$1)) {
          var c__6959__auto___12424 = cljs.core.chunk_first.call(null, seq__12409_12423__$1);
          var G__12425 = cljs.core.chunk_rest.call(null, seq__12409_12423__$1);
          var G__12426 = c__6959__auto___12424;
          var G__12427 = cljs.core.count.call(null, c__6959__auto___12424);
          var G__12428 = 0;
          seq__12409_12413 = G__12425;
          chunk__12410_12414 = G__12426;
          count__12411_12415 = G__12427;
          i__12412_12416 = G__12428;
          continue;
        } else {
          var node_12429 = cljs.core.first.call(null, seq__12409_12423__$1);
          goog.dom.forms.setValue(node_12429, value);
          var G__12430 = cljs.core.next.call(null, seq__12409_12423__$1);
          var G__12431 = null;
          var G__12432 = 0;
          var G__12433 = 0;
          seq__12409_12413 = G__12430;
          chunk__12410_12414 = G__12431;
          count__12411_12415 = G__12432;
          i__12412_12416 = G__12433;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return content;
};
domina.html = function domina$html(content) {
  return domina.single_node.call(null, content).innerHTML;
};
domina.replace_children_BANG_ = function domina$replace_children_BANG_(content, inner_content) {
  return domina.append_BANG_.call(null, domina.destroy_children_BANG_.call(null, content), inner_content);
};
domina.set_inner_html_BANG_ = function domina$set_inner_html_BANG_(content, html_string) {
  var allows_inner_html_QMARK_ = cljs.core.not.call(null, cljs.core.re_find.call(null, domina.re_no_inner_html, html_string));
  var leading_whitespace_QMARK_ = cljs.core.re_find.call(null, domina.re_leading_whitespace, html_string);
  var tag_name = [cljs.core.str(cljs.core.second.call(null, cljs.core.re_find.call(null, domina.re_tag_name, html_string)))].join("").toLowerCase();
  var special_tag_QMARK_ = cljs.core.contains_QMARK_.call(null, domina.wrap_map, tag_name);
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = allows_inner_html_QMARK_;
    if (and__6144__auto__) {
      var and__6144__auto____$1 = function() {
        var or__6156__auto__ = domina.support.leading_whitespace_QMARK_;
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return cljs.core.not.call(null, leading_whitespace_QMARK_);
        }
      }();
      if (cljs.core.truth_(and__6144__auto____$1)) {
        return !special_tag_QMARK_;
      } else {
        return and__6144__auto____$1;
      }
    } else {
      return and__6144__auto__;
    }
  }())) {
    var value_12444 = clojure.string.replace.call(null, html_string, domina.re_xhtml_tag, "\x3c$1\x3e\x3c/$2\x3e");
    try {
      var seq__12440_12445 = cljs.core.seq.call(null, domina.nodes.call(null, content));
      var chunk__12441_12446 = null;
      var count__12442_12447 = 0;
      var i__12443_12448 = 0;
      while (true) {
        if (i__12443_12448 < count__12442_12447) {
          var node_12449 = cljs.core._nth.call(null, chunk__12441_12446, i__12443_12448);
          node_12449.innerHTML = value_12444;
          var G__12450 = seq__12440_12445;
          var G__12451 = chunk__12441_12446;
          var G__12452 = count__12442_12447;
          var G__12453 = i__12443_12448 + 1;
          seq__12440_12445 = G__12450;
          chunk__12441_12446 = G__12451;
          count__12442_12447 = G__12452;
          i__12443_12448 = G__12453;
          continue;
        } else {
          var temp__4657__auto___12454 = cljs.core.seq.call(null, seq__12440_12445);
          if (temp__4657__auto___12454) {
            var seq__12440_12455__$1 = temp__4657__auto___12454;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__12440_12455__$1)) {
              var c__6959__auto___12456 = cljs.core.chunk_first.call(null, seq__12440_12455__$1);
              var G__12457 = cljs.core.chunk_rest.call(null, seq__12440_12455__$1);
              var G__12458 = c__6959__auto___12456;
              var G__12459 = cljs.core.count.call(null, c__6959__auto___12456);
              var G__12460 = 0;
              seq__12440_12445 = G__12457;
              chunk__12441_12446 = G__12458;
              count__12442_12447 = G__12459;
              i__12443_12448 = G__12460;
              continue;
            } else {
              var node_12461 = cljs.core.first.call(null, seq__12440_12455__$1);
              node_12461.innerHTML = value_12444;
              var G__12462 = cljs.core.next.call(null, seq__12440_12455__$1);
              var G__12463 = null;
              var G__12464 = 0;
              var G__12465 = 0;
              seq__12440_12445 = G__12462;
              chunk__12441_12446 = G__12463;
              count__12442_12447 = G__12464;
              i__12443_12448 = G__12465;
              continue;
            }
          } else {
          }
        }
        break;
      }
    } catch (e12439) {
      if (e12439 instanceof Error) {
        var e_12466 = e12439;
        domina.replace_children_BANG_.call(null, content, value_12444);
      } else {
        throw e12439;
      }
    }
  } else {
    domina.replace_children_BANG_.call(null, content, html_string);
  }
  return content;
};
domina.set_html_BANG_ = function domina$set_html_BANG_(content, inner_content) {
  if (typeof inner_content === "string") {
    return domina.set_inner_html_BANG_.call(null, content, inner_content);
  } else {
    return domina.replace_children_BANG_.call(null, content, inner_content);
  }
};
domina.get_data = function domina$get_data(var_args) {
  var args12467 = [];
  var len__7214__auto___12470 = arguments.length;
  var i__7215__auto___12471 = 0;
  while (true) {
    if (i__7215__auto___12471 < len__7214__auto___12470) {
      args12467.push(arguments[i__7215__auto___12471]);
      var G__12472 = i__7215__auto___12471 + 1;
      i__7215__auto___12471 = G__12472;
      continue;
    } else {
    }
    break;
  }
  var G__12469 = args12467.length;
  switch(G__12469) {
    case 2:
      return domina.get_data.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return domina.get_data.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12467.length)].join(""));;
  }
};
domina.get_data.cljs$core$IFn$_invoke$arity$2 = function(node, key) {
  return domina.get_data.call(null, node, key, false);
};
domina.get_data.cljs$core$IFn$_invoke$arity$3 = function(node, key, bubble) {
  var m = domina.single_node.call(null, node).__domina_data;
  var value = cljs.core.truth_(m) ? cljs.core.get.call(null, m, key) : null;
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = bubble;
    if (cljs.core.truth_(and__6144__auto__)) {
      return value == null;
    } else {
      return and__6144__auto__;
    }
  }())) {
    var temp__4657__auto__ = domina.single_node.call(null, node).parentNode;
    if (cljs.core.truth_(temp__4657__auto__)) {
      var parent = temp__4657__auto__;
      return domina.get_data.call(null, parent, key, true);
    } else {
      return null;
    }
  } else {
    return value;
  }
};
domina.get_data.cljs$lang$maxFixedArity = 3;
domina.set_data_BANG_ = function domina$set_data_BANG_(node, key, value) {
  var m = function() {
    var or__6156__auto__ = domina.single_node.call(null, node).__domina_data;
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return cljs.core.PersistentArrayMap.EMPTY;
    }
  }();
  return domina.single_node.call(null, node).__domina_data = cljs.core.assoc.call(null, m, key, value);
};
domina.apply_with_cloning = function domina$apply_with_cloning(f, parent_content, child_content) {
  var parents = domina.nodes.call(null, parent_content);
  var children = domina.nodes.call(null, child_content);
  var first_child = function() {
    var frag = document.createDocumentFragment();
    var seq__12480_12484 = cljs.core.seq.call(null, children);
    var chunk__12481_12485 = null;
    var count__12482_12486 = 0;
    var i__12483_12487 = 0;
    while (true) {
      if (i__12483_12487 < count__12482_12486) {
        var child_12488 = cljs.core._nth.call(null, chunk__12481_12485, i__12483_12487);
        frag.appendChild(child_12488);
        var G__12489 = seq__12480_12484;
        var G__12490 = chunk__12481_12485;
        var G__12491 = count__12482_12486;
        var G__12492 = i__12483_12487 + 1;
        seq__12480_12484 = G__12489;
        chunk__12481_12485 = G__12490;
        count__12482_12486 = G__12491;
        i__12483_12487 = G__12492;
        continue;
      } else {
        var temp__4657__auto___12493 = cljs.core.seq.call(null, seq__12480_12484);
        if (temp__4657__auto___12493) {
          var seq__12480_12494__$1 = temp__4657__auto___12493;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__12480_12494__$1)) {
            var c__6959__auto___12495 = cljs.core.chunk_first.call(null, seq__12480_12494__$1);
            var G__12496 = cljs.core.chunk_rest.call(null, seq__12480_12494__$1);
            var G__12497 = c__6959__auto___12495;
            var G__12498 = cljs.core.count.call(null, c__6959__auto___12495);
            var G__12499 = 0;
            seq__12480_12484 = G__12496;
            chunk__12481_12485 = G__12497;
            count__12482_12486 = G__12498;
            i__12483_12487 = G__12499;
            continue;
          } else {
            var child_12500 = cljs.core.first.call(null, seq__12480_12494__$1);
            frag.appendChild(child_12500);
            var G__12501 = cljs.core.next.call(null, seq__12480_12494__$1);
            var G__12502 = null;
            var G__12503 = 0;
            var G__12504 = 0;
            seq__12480_12484 = G__12501;
            chunk__12481_12485 = G__12502;
            count__12482_12486 = G__12503;
            i__12483_12487 = G__12504;
            continue;
          }
        } else {
        }
      }
      break;
    }
    return frag;
  }();
  var other_children = cljs.core.doall.call(null, cljs.core.repeatedly.call(null, cljs.core.count.call(null, parents) - 1, function(parents, children, first_child) {
    return function() {
      return first_child.cloneNode(true);
    };
  }(parents, children, first_child)));
  if (cljs.core.seq.call(null, parents)) {
    f.call(null, cljs.core.first.call(null, parents), first_child);
    return cljs.core.doall.call(null, cljs.core.map.call(null, function(parents, children, first_child, other_children) {
      return function(p1__12474_SHARP_, p2__12475_SHARP_) {
        return f.call(null, p1__12474_SHARP_, p2__12475_SHARP_);
      };
    }(parents, children, first_child, other_children), cljs.core.rest.call(null, parents), other_children));
  } else {
    return null;
  }
};
domina.lazy_nl_via_item = function domina$lazy_nl_via_item(var_args) {
  var args12505 = [];
  var len__7214__auto___12508 = arguments.length;
  var i__7215__auto___12509 = 0;
  while (true) {
    if (i__7215__auto___12509 < len__7214__auto___12508) {
      args12505.push(arguments[i__7215__auto___12509]);
      var G__12510 = i__7215__auto___12509 + 1;
      i__7215__auto___12509 = G__12510;
      continue;
    } else {
    }
    break;
  }
  var G__12507 = args12505.length;
  switch(G__12507) {
    case 1:
      return domina.lazy_nl_via_item.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return domina.lazy_nl_via_item.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12505.length)].join(""));;
  }
};
domina.lazy_nl_via_item.cljs$core$IFn$_invoke$arity$1 = function(nl) {
  return domina.lazy_nl_via_item.call(null, nl, 0);
};
domina.lazy_nl_via_item.cljs$core$IFn$_invoke$arity$2 = function(nl, n) {
  if (n < nl.length) {
    return new cljs.core.LazySeq(null, function() {
      return cljs.core.cons.call(null, nl.item(n), domina.lazy_nl_via_item.call(null, nl, n + 1));
    }, null, null);
  } else {
    return null;
  }
};
domina.lazy_nl_via_item.cljs$lang$maxFixedArity = 2;
domina.lazy_nl_via_array_ref = function domina$lazy_nl_via_array_ref(var_args) {
  var args12512 = [];
  var len__7214__auto___12515 = arguments.length;
  var i__7215__auto___12516 = 0;
  while (true) {
    if (i__7215__auto___12516 < len__7214__auto___12515) {
      args12512.push(arguments[i__7215__auto___12516]);
      var G__12517 = i__7215__auto___12516 + 1;
      i__7215__auto___12516 = G__12517;
      continue;
    } else {
    }
    break;
  }
  var G__12514 = args12512.length;
  switch(G__12514) {
    case 1:
      return domina.lazy_nl_via_array_ref.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return domina.lazy_nl_via_array_ref.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12512.length)].join(""));;
  }
};
domina.lazy_nl_via_array_ref.cljs$core$IFn$_invoke$arity$1 = function(nl) {
  return domina.lazy_nl_via_array_ref.call(null, nl, 0);
};
domina.lazy_nl_via_array_ref.cljs$core$IFn$_invoke$arity$2 = function(nl, n) {
  if (n < nl.length) {
    return new cljs.core.LazySeq(null, function() {
      return cljs.core.cons.call(null, nl[n], domina.lazy_nl_via_array_ref.call(null, nl, n + 1));
    }, null, null);
  } else {
    return null;
  }
};
domina.lazy_nl_via_array_ref.cljs$lang$maxFixedArity = 2;
domina.lazy_nodelist = function domina$lazy_nodelist(nl) {
  if (cljs.core.truth_(nl.item)) {
    return domina.lazy_nl_via_item.call(null, nl);
  } else {
    return domina.lazy_nl_via_array_ref.call(null, nl);
  }
};
domina.array_like_QMARK_ = function domina$array_like_QMARK_(obj) {
  var and__6144__auto__ = obj;
  if (cljs.core.truth_(and__6144__auto__)) {
    var and__6144__auto____$1 = cljs.core.not.call(null, obj.nodeName);
    if (and__6144__auto____$1) {
      return obj.length;
    } else {
      return and__6144__auto____$1;
    }
  } else {
    return and__6144__auto__;
  }
};
domina.normalize_seq = function domina$normalize_seq(list_thing) {
  if (list_thing == null) {
    return cljs.core.List.EMPTY;
  } else {
    if (!(list_thing == null) ? list_thing.cljs$lang$protocol_mask$partition0$ & 8388608 || list_thing.cljs$core$ISeqable$ ? true : !list_thing.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, list_thing) : false : cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, list_thing)) {
      return cljs.core.seq.call(null, list_thing);
    } else {
      if (cljs.core.truth_(domina.array_like_QMARK_.call(null, list_thing))) {
        return domina.lazy_nodelist.call(null, list_thing);
      } else {
        return cljs.core.seq.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [list_thing], null));
      }
    }
  }
};
domina.DomContent["string"] = true;
domina.nodes["string"] = function(s) {
  return cljs.core.doall.call(null, domina.nodes.call(null, domina.string_to_dom.call(null, s)));
};
domina.single_node["string"] = function(s) {
  return domina.single_node.call(null, domina.string_to_dom.call(null, s));
};
domina.DomContent["_"] = true;
domina.nodes["_"] = function(content) {
  if (content == null) {
    return cljs.core.List.EMPTY;
  } else {
    if (!(content == null) ? content.cljs$lang$protocol_mask$partition0$ & 8388608 || content.cljs$core$ISeqable$ ? true : !content.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, content) : false : cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, content)) {
      return cljs.core.seq.call(null, content);
    } else {
      if (cljs.core.truth_(domina.array_like_QMARK_.call(null, content))) {
        return domina.lazy_nodelist.call(null, content);
      } else {
        return cljs.core.seq.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [content], null));
      }
    }
  }
};
domina.single_node["_"] = function(content) {
  if (content == null) {
    return null;
  } else {
    if (!(content == null) ? content.cljs$lang$protocol_mask$partition0$ & 8388608 || content.cljs$core$ISeqable$ ? true : !content.cljs$lang$protocol_mask$partition0$ ? cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, content) : false : cljs.core.native_satisfies_QMARK_.call(null, cljs.core.ISeqable, content)) {
      return cljs.core.first.call(null, content);
    } else {
      if (cljs.core.truth_(domina.array_like_QMARK_.call(null, content))) {
        return content.item(0);
      } else {
        return content;
      }
    }
  }
};
if (cljs.core.truth_(typeof NodeList != "undefined")) {
  NodeList.prototype.cljs$core$ICounted$ = true;
  NodeList.prototype.cljs$core$ICounted$_count$arity$1 = function(nodelist) {
    var nodelist__$1 = this;
    return nodelist__$1.length;
  };
  NodeList.prototype.cljs$core$IIndexed$ = true;
  NodeList.prototype.cljs$core$IIndexed$_nth$arity$2 = function(nodelist, n) {
    var nodelist__$1 = this;
    return nodelist__$1.item(n);
  };
  NodeList.prototype.cljs$core$IIndexed$_nth$arity$3 = function(nodelist, n, not_found) {
    var nodelist__$1 = this;
    if (nodelist__$1.length <= n) {
      return not_found;
    } else {
      return cljs.core.nth.call(null, nodelist__$1, n);
    }
  };
  NodeList.prototype.cljs$core$ISeqable$ = true;
  NodeList.prototype.cljs$core$ISeqable$_seq$arity$1 = function(nodelist) {
    var nodelist__$1 = this;
    return domina.lazy_nodelist.call(null, nodelist__$1);
  };
} else {
}
if (cljs.core.truth_(typeof StaticNodeList != "undefined")) {
  StaticNodeList.prototype.cljs$core$ICounted$ = true;
  StaticNodeList.prototype.cljs$core$ICounted$_count$arity$1 = function(nodelist) {
    var nodelist__$1 = this;
    return nodelist__$1.length;
  };
  StaticNodeList.prototype.cljs$core$IIndexed$ = true;
  StaticNodeList.prototype.cljs$core$IIndexed$_nth$arity$2 = function(nodelist, n) {
    var nodelist__$1 = this;
    return nodelist__$1.item(n);
  };
  StaticNodeList.prototype.cljs$core$IIndexed$_nth$arity$3 = function(nodelist, n, not_found) {
    var nodelist__$1 = this;
    if (nodelist__$1.length <= n) {
      return not_found;
    } else {
      return cljs.core.nth.call(null, nodelist__$1, n);
    }
  };
  StaticNodeList.prototype.cljs$core$ISeqable$ = true;
  StaticNodeList.prototype.cljs$core$ISeqable$_seq$arity$1 = function(nodelist) {
    var nodelist__$1 = this;
    return domina.lazy_nodelist.call(null, nodelist__$1);
  };
} else {
}
if (cljs.core.truth_(typeof HTMLCollection != "undefined")) {
  HTMLCollection.prototype.cljs$core$ICounted$ = true;
  HTMLCollection.prototype.cljs$core$ICounted$_count$arity$1 = function(coll) {
    var coll__$1 = this;
    return coll__$1.length;
  };
  HTMLCollection.prototype.cljs$core$IIndexed$ = true;
  HTMLCollection.prototype.cljs$core$IIndexed$_nth$arity$2 = function(coll, n) {
    var coll__$1 = this;
    return coll__$1.item(n);
  };
  HTMLCollection.prototype.cljs$core$IIndexed$_nth$arity$3 = function(coll, n, not_found) {
    var coll__$1 = this;
    if (coll__$1.length <= n) {
      return not_found;
    } else {
      return cljs.core.nth.call(null, coll__$1, n);
    }
  };
  HTMLCollection.prototype.cljs$core$ISeqable$ = true;
  HTMLCollection.prototype.cljs$core$ISeqable$_seq$arity$1 = function(coll) {
    var coll__$1 = this;
    return domina.lazy_nodelist.call(null, coll__$1);
  };
} else {
}
;goog.provide("domina.css");
goog.require("cljs.core");
goog.require("domina");
goog.require("goog.dom");
goog.require("goog.dom.query");
domina.css.root_element = function domina$css$root_element() {
  return goog.dom.getElementsByTagNameAndClass("html")[0];
};
domina.css.sel = function domina$css$sel(var_args) {
  var args12527 = [];
  var len__7214__auto___12533 = arguments.length;
  var i__7215__auto___12534 = 0;
  while (true) {
    if (i__7215__auto___12534 < len__7214__auto___12533) {
      args12527.push(arguments[i__7215__auto___12534]);
      var G__12535 = i__7215__auto___12534 + 1;
      i__7215__auto___12534 = G__12535;
      continue;
    } else {
    }
    break;
  }
  var G__12529 = args12527.length;
  switch(G__12529) {
    case 1:
      return domina.css.sel.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return domina.css.sel.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12527.length)].join(""));;
  }
};
domina.css.sel.cljs$core$IFn$_invoke$arity$1 = function(expr) {
  return domina.css.sel.call(null, domina.css.root_element.call(null), expr);
};
domina.css.sel.cljs$core$IFn$_invoke$arity$2 = function(base, expr) {
  if (typeof domina.css.t_domina$css12530 !== "undefined") {
  } else {
    domina.css.t_domina$css12530 = function(base, expr, meta12531) {
      this.base = base;
      this.expr = expr;
      this.meta12531 = meta12531;
      this.cljs$lang$protocol_mask$partition0$ = 393216;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    domina.css.t_domina$css12530.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_12532, meta12531__$1) {
      var self__ = this;
      var _12532__$1 = this;
      return new domina.css.t_domina$css12530(self__.base, self__.expr, meta12531__$1);
    };
    domina.css.t_domina$css12530.prototype.cljs$core$IMeta$_meta$arity$1 = function(_12532) {
      var self__ = this;
      var _12532__$1 = this;
      return self__.meta12531;
    };
    domina.css.t_domina$css12530.prototype.domina$DomContent$ = true;
    domina.css.t_domina$css12530.prototype.domina$DomContent$nodes$arity$1 = function(_) {
      var self__ = this;
      var ___$1 = this;
      return cljs.core.mapcat.call(null, function(___$1) {
        return function(p1__12525_SHARP_) {
          return domina.normalize_seq.call(null, goog.dom.query(self__.expr, p1__12525_SHARP_));
        };
      }(___$1), domina.nodes.call(null, self__.base));
    };
    domina.css.t_domina$css12530.prototype.domina$DomContent$single_node$arity$1 = function(_) {
      var self__ = this;
      var ___$1 = this;
      return cljs.core.first.call(null, cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), cljs.core.mapcat.call(null, function(___$1) {
        return function(p1__12526_SHARP_) {
          return domina.normalize_seq.call(null, goog.dom.query(self__.expr, p1__12526_SHARP_));
        };
      }(___$1), domina.nodes.call(null, self__.base))));
    };
    domina.css.t_domina$css12530.getBasis = function() {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "base", "base", 1825810849, null), new cljs.core.Symbol(null, "expr", "expr", -1908713478, null), new cljs.core.Symbol(null, "meta12531", "meta12531", 1251910185, null)], null);
    };
    domina.css.t_domina$css12530.cljs$lang$type = true;
    domina.css.t_domina$css12530.cljs$lang$ctorStr = "domina.css/t_domina$css12530";
    domina.css.t_domina$css12530.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
      return cljs.core._write.call(null, writer__6755__auto__, "domina.css/t_domina$css12530");
    };
    domina.css.__GT_t_domina$css12530 = function domina$css$__GT_t_domina$css12530(base__$1, expr__$1, meta12531) {
      return new domina.css.t_domina$css12530(base__$1, expr__$1, meta12531);
    };
  }
  return new domina.css.t_domina$css12530(base, expr, cljs.core.PersistentArrayMap.EMPTY);
};
domina.css.sel.cljs$lang$maxFixedArity = 2;
goog.provide("goog.json");
goog.provide("goog.json.Replacer");
goog.provide("goog.json.Reviver");
goog.provide("goog.json.Serializer");
goog.define("goog.json.USE_NATIVE_JSON", false);
goog.json.isValid = function(s) {
  if (/^\s*$/.test(s)) {
    return false;
  }
  var backslashesRe = /\\["\\\/bfnrtu]/g;
  var simpleValuesRe = /"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;
  var openBracketsRe = /(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g;
  var remainderRe = /^[\],:{}\s\u2028\u2029]*$/;
  return remainderRe.test(s.replace(backslashesRe, "@").replace(simpleValuesRe, "]").replace(openBracketsRe, ""));
};
goog.json.parse = goog.json.USE_NATIVE_JSON ? (goog.global["JSON"]["parse"]) : function(s) {
  var o = String(s);
  if (goog.json.isValid(o)) {
    try {
      return (eval("(" + o + ")"));
    } catch (ex) {
    }
  }
  throw Error("Invalid JSON string: " + o);
};
goog.json.unsafeParse = goog.json.USE_NATIVE_JSON ? (goog.global["JSON"]["parse"]) : function(s) {
  return (eval("(" + s + ")"));
};
goog.json.Replacer;
goog.json.Reviver;
goog.json.serialize = goog.json.USE_NATIVE_JSON ? (goog.global["JSON"]["stringify"]) : function(object, opt_replacer) {
  return (new goog.json.Serializer(opt_replacer)).serialize(object);
};
goog.json.Serializer = function(opt_replacer) {
  this.replacer_ = opt_replacer;
};
goog.json.Serializer.prototype.serialize = function(object) {
  var sb = [];
  this.serializeInternal(object, sb);
  return sb.join("");
};
goog.json.Serializer.prototype.serializeInternal = function(object, sb) {
  if (object == null) {
    sb.push("null");
    return;
  }
  if (typeof object == "object") {
    if (goog.isArray(object)) {
      this.serializeArray(object, sb);
      return;
    } else {
      if (object instanceof String || object instanceof Number || object instanceof Boolean) {
        object = object.valueOf();
      } else {
        this.serializeObject_((object), sb);
        return;
      }
    }
  }
  switch(typeof object) {
    case "string":
      this.serializeString_(object, sb);
      break;
    case "number":
      this.serializeNumber_(object, sb);
      break;
    case "boolean":
      sb.push(String(object));
      break;
    case "function":
      sb.push("null");
      break;
    default:
      throw Error("Unknown type: " + typeof object);;
  }
};
goog.json.Serializer.charToJsonCharCache_ = {'"':'\\"', "\\":"\\\\", "/":"\\/", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t", "\x0B":"\\u000b"};
goog.json.Serializer.charsToReplace_ = /\uffff/.test("\uffff") ? /[\\\"\x00-\x1f\x7f-\uffff]/g : /[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_ = function(s, sb) {
  sb.push('"', s.replace(goog.json.Serializer.charsToReplace_, function(c) {
    var rv = goog.json.Serializer.charToJsonCharCache_[c];
    if (!rv) {
      rv = "\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1);
      goog.json.Serializer.charToJsonCharCache_[c] = rv;
    }
    return rv;
  }), '"');
};
goog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {
  sb.push(isFinite(n) && !isNaN(n) ? String(n) : "null");
};
goog.json.Serializer.prototype.serializeArray = function(arr, sb) {
  var l = arr.length;
  sb.push("[");
  var sep = "";
  for (var i = 0;i < l;i++) {
    sb.push(sep);
    var value = arr[i];
    this.serializeInternal(this.replacer_ ? this.replacer_.call(arr, String(i), value) : value, sb);
    sep = ",";
  }
  sb.push("]");
};
goog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {
  sb.push("{");
  var sep = "";
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var value = obj[key];
      if (typeof value != "function") {
        sb.push(sep);
        this.serializeString_(key, sb);
        sb.push(":");
        this.serializeInternal(this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb);
        sep = ",";
      }
    }
  }
  sb.push("}");
};
goog.provide("goog.html.SafeScript");
goog.require("goog.asserts");
goog.require("goog.string.Const");
goog.require("goog.string.TypedString");
goog.html.SafeScript = function() {
  this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = "";
  this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;
};
goog.html.SafeScript.prototype.implementsGoogStringTypedString = true;
goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = {};
goog.html.SafeScript.fromConstant = function(script) {
  var scriptString = goog.string.Const.unwrap(script);
  if (scriptString.length === 0) {
    return goog.html.SafeScript.EMPTY;
  }
  return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(scriptString);
};
goog.html.SafeScript.prototype.getTypedStringValue = function() {
  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_;
};
if (goog.DEBUG) {
  goog.html.SafeScript.prototype.toString = function() {
    return "SafeScript{" + this.privateDoNotAccessOrElseSafeScriptWrappedValue_ + "}";
  };
}
goog.html.SafeScript.unwrap = function(safeScript) {
  if (safeScript instanceof goog.html.SafeScript && safeScript.constructor === goog.html.SafeScript && safeScript.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_) {
    return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;
  } else {
    goog.asserts.fail("expected object of type SafeScript, got '" + safeScript + "'");
    return "type_error:SafeScript";
  }
};
goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(script) {
  return (new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(script);
};
goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(script) {
  this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = script;
  return this;
};
goog.html.SafeScript.EMPTY = goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");
goog.provide("goog.html.uncheckedconversions");
goog.require("goog.asserts");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.SafeScript");
goog.require("goog.html.SafeStyle");
goog.require("goog.html.SafeStyleSheet");
goog.require("goog.html.SafeUrl");
goog.require("goog.html.TrustedResourceUrl");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(justification, html, opt_dir) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, opt_dir || null);
};
goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(justification, script) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(script);
};
goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(justification, style) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);
};
goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(justification, styleSheet) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);
};
goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {
  goog.asserts.assertString(goog.string.Const.unwrap(justification), "must provide justification");
  goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), "must provide non-empty justification");
  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);
};
goog.provide("goog.debug");
goog.require("goog.array");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.SafeUrl");
goog.require("goog.html.uncheckedconversions");
goog.require("goog.string.Const");
goog.require("goog.structs.Set");
goog.require("goog.userAgent");
goog.define("goog.debug.LOGGING_ENABLED", goog.DEBUG);
goog.debug.catchErrors = function(logFunc, opt_cancel, opt_target) {
  var target = opt_target || goog.global;
  var oldErrorHandler = target.onerror;
  var retVal = !!opt_cancel;
  if (goog.userAgent.WEBKIT && !goog.userAgent.isVersionOrHigher("535.3")) {
    retVal = !retVal;
  }
  target.onerror = function(message, url, line, opt_col, opt_error) {
    if (oldErrorHandler) {
      oldErrorHandler(message, url, line, opt_col, opt_error);
    }
    logFunc({message:message, fileName:url, line:line, col:opt_col, error:opt_error});
    return retVal;
  };
};
goog.debug.expose = function(obj, opt_showFn) {
  if (typeof obj == "undefined") {
    return "undefined";
  }
  if (obj == null) {
    return "NULL";
  }
  var str = [];
  for (var x in obj) {
    if (!opt_showFn && goog.isFunction(obj[x])) {
      continue;
    }
    var s = x + " \x3d ";
    try {
      s += obj[x];
    } catch (e) {
      s += "*** " + e + " ***";
    }
    str.push(s);
  }
  return str.join("\n");
};
goog.debug.deepExpose = function(obj, opt_showFn) {
  var str = [];
  var helper = function(obj, space, parentSeen) {
    var nestspace = space + "  ";
    var seen = new goog.structs.Set(parentSeen);
    var indentMultiline = function(str) {
      return str.replace(/\n/g, "\n" + space);
    };
    try {
      if (!goog.isDef(obj)) {
        str.push("undefined");
      } else {
        if (goog.isNull(obj)) {
          str.push("NULL");
        } else {
          if (goog.isString(obj)) {
            str.push('"' + indentMultiline(obj) + '"');
          } else {
            if (goog.isFunction(obj)) {
              str.push(indentMultiline(String(obj)));
            } else {
              if (goog.isObject(obj)) {
                if (seen.contains(obj)) {
                  str.push("*** reference loop detected ***");
                } else {
                  seen.add(obj);
                  str.push("{");
                  for (var x in obj) {
                    if (!opt_showFn && goog.isFunction(obj[x])) {
                      continue;
                    }
                    str.push("\n");
                    str.push(nestspace);
                    str.push(x + " \x3d ");
                    helper(obj[x], nestspace, seen);
                  }
                  str.push("\n" + space + "}");
                }
              } else {
                str.push(obj);
              }
            }
          }
        }
      }
    } catch (e) {
      str.push("*** " + e + " ***");
    }
  };
  helper(obj, "", new goog.structs.Set);
  return str.join("");
};
goog.debug.exposeArray = function(arr) {
  var str = [];
  for (var i = 0;i < arr.length;i++) {
    if (goog.isArray(arr[i])) {
      str.push(goog.debug.exposeArray(arr[i]));
    } else {
      str.push(arr[i]);
    }
  }
  return "[ " + str.join(", ") + " ]";
};
goog.debug.exposeException = function(err, opt_fn) {
  var html = goog.debug.exposeExceptionAsHtml(err, opt_fn);
  return goog.html.SafeHtml.unwrap(html);
};
goog.debug.exposeExceptionAsHtml = function(err, opt_fn) {
  try {
    var e = goog.debug.normalizeErrorObject(err);
    var viewSourceUrl = goog.debug.createViewSourceUrl_(e.fileName);
    var error = goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: " + e.message + "\nUrl: "), goog.html.SafeHtml.create("a", {href:viewSourceUrl, target:"_new"}, e.fileName), goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\nLine: " + e.lineNumber + "\n\nBrowser stack:\n" + e.stack + "-\x3e " + "[end]\n\nJS stack traversal:\n" + goog.debug.getStacktrace(opt_fn) + "-\x3e "));
    return error;
  } catch (e2) {
    return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. " + e2);
  }
};
goog.debug.createViewSourceUrl_ = function(opt_fileName) {
  if (!goog.isDefAndNotNull(opt_fileName)) {
    opt_fileName = "";
  }
  if (!/^https?:\/\//i.test(opt_fileName)) {
    return goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"));
  }
  var sanitizedFileName = goog.html.SafeUrl.sanitize(opt_fileName);
  return goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"), "view-source:" + goog.html.SafeUrl.unwrap(sanitizedFileName));
};
goog.debug.normalizeErrorObject = function(err) {
  var href = goog.getObjectByName("window.location.href");
  if (goog.isString(err)) {
    return {"message":err, "name":"Unknown error", "lineNumber":"Not available", "fileName":href, "stack":"Not available"};
  }
  var lineNumber, fileName;
  var threwError = false;
  try {
    lineNumber = err.lineNumber || err.line || "Not available";
  } catch (e) {
    lineNumber = "Not available";
    threwError = true;
  }
  try {
    fileName = err.fileName || err.filename || err.sourceURL || goog.global["$googDebugFname"] || href;
  } catch (e) {
    fileName = "Not available";
    threwError = true;
  }
  if (threwError || !err.lineNumber || !err.fileName || !err.stack || !err.message || !err.name) {
    return {"message":err.message || "Not available", "name":err.name || "UnknownError", "lineNumber":lineNumber, "fileName":fileName, "stack":err.stack || "Not available"};
  }
  return err;
};
goog.debug.enhanceError = function(err, opt_message) {
  var error;
  if (typeof err == "string") {
    error = Error(err);
    if (Error.captureStackTrace) {
      Error.captureStackTrace(error, goog.debug.enhanceError);
    }
  } else {
    error = err;
  }
  if (!error.stack) {
    error.stack = goog.debug.getStacktrace(goog.debug.enhanceError);
  }
  if (opt_message) {
    var x = 0;
    while (error["message" + x]) {
      ++x;
    }
    error["message" + x] = String(opt_message);
  }
  return error;
};
goog.debug.getStacktraceSimple = function(opt_depth) {
  if (goog.STRICT_MODE_COMPATIBLE) {
    var stack = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);
    if (stack) {
      return stack;
    }
  }
  var sb = [];
  var fn = arguments.callee.caller;
  var depth = 0;
  while (fn && (!opt_depth || depth < opt_depth)) {
    sb.push(goog.debug.getFunctionName(fn));
    sb.push("()\n");
    try {
      fn = fn.caller;
    } catch (e) {
      sb.push("[exception trying to get caller]\n");
      break;
    }
    depth++;
    if (depth >= goog.debug.MAX_STACK_DEPTH) {
      sb.push("[...long stack...]");
      break;
    }
  }
  if (opt_depth && depth >= opt_depth) {
    sb.push("[...reached max depth limit...]");
  } else {
    sb.push("[end]");
  }
  return sb.join("");
};
goog.debug.MAX_STACK_DEPTH = 50;
goog.debug.getNativeStackTrace_ = function(fn) {
  var tempErr = new Error;
  if (Error.captureStackTrace) {
    Error.captureStackTrace(tempErr, fn);
    return String(tempErr.stack);
  } else {
    try {
      throw tempErr;
    } catch (e) {
      tempErr = e;
    }
    var stack = tempErr.stack;
    if (stack) {
      return String(stack);
    }
  }
  return null;
};
goog.debug.getStacktrace = function(opt_fn) {
  var stack;
  if (goog.STRICT_MODE_COMPATIBLE) {
    var contextFn = opt_fn || goog.debug.getStacktrace;
    stack = goog.debug.getNativeStackTrace_(contextFn);
  }
  if (!stack) {
    stack = goog.debug.getStacktraceHelper_(opt_fn || arguments.callee.caller, []);
  }
  return stack;
};
goog.debug.getStacktraceHelper_ = function(fn, visited) {
  var sb = [];
  if (goog.array.contains(visited, fn)) {
    sb.push("[...circular reference...]");
  } else {
    if (fn && visited.length < goog.debug.MAX_STACK_DEPTH) {
      sb.push(goog.debug.getFunctionName(fn) + "(");
      var args = fn.arguments;
      for (var i = 0;args && i < args.length;i++) {
        if (i > 0) {
          sb.push(", ");
        }
        var argDesc;
        var arg = args[i];
        switch(typeof arg) {
          case "object":
            argDesc = arg ? "object" : "null";
            break;
          case "string":
            argDesc = arg;
            break;
          case "number":
            argDesc = String(arg);
            break;
          case "boolean":
            argDesc = arg ? "true" : "false";
            break;
          case "function":
            argDesc = goog.debug.getFunctionName(arg);
            argDesc = argDesc ? argDesc : "[fn]";
            break;
          case "undefined":
          ;
          default:
            argDesc = typeof arg;
            break;
        }
        if (argDesc.length > 40) {
          argDesc = argDesc.substr(0, 40) + "...";
        }
        sb.push(argDesc);
      }
      visited.push(fn);
      sb.push(")\n");
      try {
        sb.push(goog.debug.getStacktraceHelper_(fn.caller, visited));
      } catch (e) {
        sb.push("[exception trying to get caller]\n");
      }
    } else {
      if (fn) {
        sb.push("[...long stack...]");
      } else {
        sb.push("[end]");
      }
    }
  }
  return sb.join("");
};
goog.debug.setFunctionResolver = function(resolver) {
  goog.debug.fnNameResolver_ = resolver;
};
goog.debug.getFunctionName = function(fn) {
  if (goog.debug.fnNameCache_[fn]) {
    return goog.debug.fnNameCache_[fn];
  }
  if (goog.debug.fnNameResolver_) {
    var name = goog.debug.fnNameResolver_(fn);
    if (name) {
      goog.debug.fnNameCache_[fn] = name;
      return name;
    }
  }
  var functionSource = String(fn);
  if (!goog.debug.fnNameCache_[functionSource]) {
    var matches = /function ([^\(]+)/.exec(functionSource);
    if (matches) {
      var method = matches[1];
      goog.debug.fnNameCache_[functionSource] = method;
    } else {
      goog.debug.fnNameCache_[functionSource] = "[Anonymous]";
    }
  }
  return goog.debug.fnNameCache_[functionSource];
};
goog.debug.makeWhitespaceVisible = function(string) {
  return string.replace(/ /g, "[_]").replace(/\f/g, "[f]").replace(/\n/g, "[n]\n").replace(/\r/g, "[r]").replace(/\t/g, "[t]");
};
goog.debug.runtimeType = function(value) {
  if (value instanceof Function) {
    return value.displayName || value.name || "unknown type name";
  } else {
    if (value instanceof Object) {
      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);
    } else {
      return value === null ? "null" : typeof value;
    }
  }
};
goog.debug.fnNameCache_ = {};
goog.debug.fnNameResolver_;
goog.provide("goog.debug.LogRecord");
goog.debug.LogRecord = function(level, msg, loggerName, opt_time, opt_sequenceNumber) {
  this.reset(level, msg, loggerName, opt_time, opt_sequenceNumber);
};
goog.debug.LogRecord.prototype.time_;
goog.debug.LogRecord.prototype.level_;
goog.debug.LogRecord.prototype.msg_;
goog.debug.LogRecord.prototype.loggerName_;
goog.debug.LogRecord.prototype.sequenceNumber_ = 0;
goog.debug.LogRecord.prototype.exception_ = null;
goog.define("goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS", true);
goog.debug.LogRecord.nextSequenceNumber_ = 0;
goog.debug.LogRecord.prototype.reset = function(level, msg, loggerName, opt_time, opt_sequenceNumber) {
  if (goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS) {
    this.sequenceNumber_ = typeof opt_sequenceNumber == "number" ? opt_sequenceNumber : goog.debug.LogRecord.nextSequenceNumber_++;
  }
  this.time_ = opt_time || goog.now();
  this.level_ = level;
  this.msg_ = msg;
  this.loggerName_ = loggerName;
  delete this.exception_;
};
goog.debug.LogRecord.prototype.getLoggerName = function() {
  return this.loggerName_;
};
goog.debug.LogRecord.prototype.getException = function() {
  return this.exception_;
};
goog.debug.LogRecord.prototype.setException = function(exception) {
  this.exception_ = exception;
};
goog.debug.LogRecord.prototype.setLoggerName = function(loggerName) {
  this.loggerName_ = loggerName;
};
goog.debug.LogRecord.prototype.getLevel = function() {
  return this.level_;
};
goog.debug.LogRecord.prototype.setLevel = function(level) {
  this.level_ = level;
};
goog.debug.LogRecord.prototype.getMessage = function() {
  return this.msg_;
};
goog.debug.LogRecord.prototype.setMessage = function(msg) {
  this.msg_ = msg;
};
goog.debug.LogRecord.prototype.getMillis = function() {
  return this.time_;
};
goog.debug.LogRecord.prototype.setMillis = function(time) {
  this.time_ = time;
};
goog.debug.LogRecord.prototype.getSequenceNumber = function() {
  return this.sequenceNumber_;
};
goog.provide("goog.debug.LogBuffer");
goog.require("goog.asserts");
goog.require("goog.debug.LogRecord");
goog.debug.LogBuffer = function() {
  goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(), "Cannot use goog.debug.LogBuffer without defining " + "goog.debug.LogBuffer.CAPACITY.");
  this.clear();
};
goog.debug.LogBuffer.getInstance = function() {
  if (!goog.debug.LogBuffer.instance_) {
    goog.debug.LogBuffer.instance_ = new goog.debug.LogBuffer;
  }
  return goog.debug.LogBuffer.instance_;
};
goog.define("goog.debug.LogBuffer.CAPACITY", 0);
goog.debug.LogBuffer.prototype.buffer_;
goog.debug.LogBuffer.prototype.curIndex_;
goog.debug.LogBuffer.prototype.isFull_;
goog.debug.LogBuffer.prototype.addRecord = function(level, msg, loggerName) {
  var curIndex = (this.curIndex_ + 1) % goog.debug.LogBuffer.CAPACITY;
  this.curIndex_ = curIndex;
  if (this.isFull_) {
    var ret = this.buffer_[curIndex];
    ret.reset(level, msg, loggerName);
    return ret;
  }
  this.isFull_ = curIndex == goog.debug.LogBuffer.CAPACITY - 1;
  return this.buffer_[curIndex] = new goog.debug.LogRecord(level, msg, loggerName);
};
goog.debug.LogBuffer.isBufferingEnabled = function() {
  return goog.debug.LogBuffer.CAPACITY > 0;
};
goog.debug.LogBuffer.prototype.clear = function() {
  this.buffer_ = new Array(goog.debug.LogBuffer.CAPACITY);
  this.curIndex_ = -1;
  this.isFull_ = false;
};
goog.debug.LogBuffer.prototype.forEachRecord = function(func) {
  var buffer = this.buffer_;
  if (!buffer[0]) {
    return;
  }
  var curIndex = this.curIndex_;
  var i = this.isFull_ ? curIndex : -1;
  do {
    i = (i + 1) % goog.debug.LogBuffer.CAPACITY;
    func((buffer[i]));
  } while (i != curIndex);
};
goog.provide("goog.debug.LogManager");
goog.provide("goog.debug.Loggable");
goog.provide("goog.debug.Logger");
goog.provide("goog.debug.Logger.Level");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.debug");
goog.require("goog.debug.LogBuffer");
goog.require("goog.debug.LogRecord");
goog.debug.Loggable;
goog.debug.Logger = function(name) {
  this.name_ = name;
  this.parent_ = null;
  this.level_ = null;
  this.children_ = null;
  this.handlers_ = null;
};
goog.debug.Logger.ROOT_LOGGER_NAME = "";
goog.define("goog.debug.Logger.ENABLE_HIERARCHY", true);
if (!goog.debug.Logger.ENABLE_HIERARCHY) {
  goog.debug.Logger.rootHandlers_ = [];
  goog.debug.Logger.rootLevel_;
}
goog.debug.Logger.Level = function(name, value) {
  this.name = name;
  this.value = value;
};
goog.debug.Logger.Level.prototype.toString = function() {
  return this.name;
};
goog.debug.Logger.Level.OFF = new goog.debug.Logger.Level("OFF", Infinity);
goog.debug.Logger.Level.SHOUT = new goog.debug.Logger.Level("SHOUT", 1200);
goog.debug.Logger.Level.SEVERE = new goog.debug.Logger.Level("SEVERE", 1E3);
goog.debug.Logger.Level.WARNING = new goog.debug.Logger.Level("WARNING", 900);
goog.debug.Logger.Level.INFO = new goog.debug.Logger.Level("INFO", 800);
goog.debug.Logger.Level.CONFIG = new goog.debug.Logger.Level("CONFIG", 700);
goog.debug.Logger.Level.FINE = new goog.debug.Logger.Level("FINE", 500);
goog.debug.Logger.Level.FINER = new goog.debug.Logger.Level("FINER", 400);
goog.debug.Logger.Level.FINEST = new goog.debug.Logger.Level("FINEST", 300);
goog.debug.Logger.Level.ALL = new goog.debug.Logger.Level("ALL", 0);
goog.debug.Logger.Level.PREDEFINED_LEVELS = [goog.debug.Logger.Level.OFF, goog.debug.Logger.Level.SHOUT, goog.debug.Logger.Level.SEVERE, goog.debug.Logger.Level.WARNING, goog.debug.Logger.Level.INFO, goog.debug.Logger.Level.CONFIG, goog.debug.Logger.Level.FINE, goog.debug.Logger.Level.FINER, goog.debug.Logger.Level.FINEST, goog.debug.Logger.Level.ALL];
goog.debug.Logger.Level.predefinedLevelsCache_ = null;
goog.debug.Logger.Level.createPredefinedLevelsCache_ = function() {
  goog.debug.Logger.Level.predefinedLevelsCache_ = {};
  for (var i = 0, level;level = goog.debug.Logger.Level.PREDEFINED_LEVELS[i];i++) {
    goog.debug.Logger.Level.predefinedLevelsCache_[level.value] = level;
    goog.debug.Logger.Level.predefinedLevelsCache_[level.name] = level;
  }
};
goog.debug.Logger.Level.getPredefinedLevel = function(name) {
  if (!goog.debug.Logger.Level.predefinedLevelsCache_) {
    goog.debug.Logger.Level.createPredefinedLevelsCache_();
  }
  return goog.debug.Logger.Level.predefinedLevelsCache_[name] || null;
};
goog.debug.Logger.Level.getPredefinedLevelByValue = function(value) {
  if (!goog.debug.Logger.Level.predefinedLevelsCache_) {
    goog.debug.Logger.Level.createPredefinedLevelsCache_();
  }
  if (value in goog.debug.Logger.Level.predefinedLevelsCache_) {
    return goog.debug.Logger.Level.predefinedLevelsCache_[value];
  }
  for (var i = 0;i < goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++i) {
    var level = goog.debug.Logger.Level.PREDEFINED_LEVELS[i];
    if (level.value <= value) {
      return level;
    }
  }
  return null;
};
goog.debug.Logger.getLogger = function(name) {
  return goog.debug.LogManager.getLogger(name);
};
goog.debug.Logger.logToProfilers = function(msg) {
  if (goog.global["console"]) {
    if (goog.global["console"]["timeStamp"]) {
      goog.global["console"]["timeStamp"](msg);
    } else {
      if (goog.global["console"]["markTimeline"]) {
        goog.global["console"]["markTimeline"](msg);
      }
    }
  }
  if (goog.global["msWriteProfilerMark"]) {
    goog.global["msWriteProfilerMark"](msg);
  }
};
goog.debug.Logger.prototype.getName = function() {
  return this.name_;
};
goog.debug.Logger.prototype.addHandler = function(handler) {
  if (goog.debug.LOGGING_ENABLED) {
    if (goog.debug.Logger.ENABLE_HIERARCHY) {
      if (!this.handlers_) {
        this.handlers_ = [];
      }
      this.handlers_.push(handler);
    } else {
      goog.asserts.assert(!this.name_, "Cannot call addHandler on a non-root logger when " + "goog.debug.Logger.ENABLE_HIERARCHY is false.");
      goog.debug.Logger.rootHandlers_.push(handler);
    }
  }
};
goog.debug.Logger.prototype.removeHandler = function(handler) {
  if (goog.debug.LOGGING_ENABLED) {
    var handlers = goog.debug.Logger.ENABLE_HIERARCHY ? this.handlers_ : goog.debug.Logger.rootHandlers_;
    return !!handlers && goog.array.remove(handlers, handler);
  } else {
    return false;
  }
};
goog.debug.Logger.prototype.getParent = function() {
  return this.parent_;
};
goog.debug.Logger.prototype.getChildren = function() {
  if (!this.children_) {
    this.children_ = {};
  }
  return this.children_;
};
goog.debug.Logger.prototype.setLevel = function(level) {
  if (goog.debug.LOGGING_ENABLED) {
    if (goog.debug.Logger.ENABLE_HIERARCHY) {
      this.level_ = level;
    } else {
      goog.asserts.assert(!this.name_, "Cannot call setLevel() on a non-root logger when " + "goog.debug.Logger.ENABLE_HIERARCHY is false.");
      goog.debug.Logger.rootLevel_ = level;
    }
  }
};
goog.debug.Logger.prototype.getLevel = function() {
  return goog.debug.LOGGING_ENABLED ? this.level_ : goog.debug.Logger.Level.OFF;
};
goog.debug.Logger.prototype.getEffectiveLevel = function() {
  if (!goog.debug.LOGGING_ENABLED) {
    return goog.debug.Logger.Level.OFF;
  }
  if (!goog.debug.Logger.ENABLE_HIERARCHY) {
    return goog.debug.Logger.rootLevel_;
  }
  if (this.level_) {
    return this.level_;
  }
  if (this.parent_) {
    return this.parent_.getEffectiveLevel();
  }
  goog.asserts.fail("Root logger has no level set.");
  return null;
};
goog.debug.Logger.prototype.isLoggable = function(level) {
  return goog.debug.LOGGING_ENABLED && level.value >= this.getEffectiveLevel().value;
};
goog.debug.Logger.prototype.log = function(level, msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED && this.isLoggable(level)) {
    if (goog.isFunction(msg)) {
      msg = msg();
    }
    this.doLogRecord_(this.getLogRecord(level, msg, opt_exception));
  }
};
goog.debug.Logger.prototype.getLogRecord = function(level, msg, opt_exception) {
  if (goog.debug.LogBuffer.isBufferingEnabled()) {
    var logRecord = goog.debug.LogBuffer.getInstance().addRecord(level, msg, this.name_)
  } else {
    logRecord = new goog.debug.LogRecord(level, String(msg), this.name_);
  }
  if (opt_exception) {
    logRecord.setException(opt_exception);
  }
  return logRecord;
};
goog.debug.Logger.prototype.shout = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.SHOUT, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.severe = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.SEVERE, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.warning = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.WARNING, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.info = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.INFO, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.config = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.CONFIG, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.fine = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.FINE, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.finer = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.FINER, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.finest = function(msg, opt_exception) {
  if (goog.debug.LOGGING_ENABLED) {
    this.log(goog.debug.Logger.Level.FINEST, msg, opt_exception);
  }
};
goog.debug.Logger.prototype.logRecord = function(logRecord) {
  if (goog.debug.LOGGING_ENABLED && this.isLoggable(logRecord.getLevel())) {
    this.doLogRecord_(logRecord);
  }
};
goog.debug.Logger.prototype.doLogRecord_ = function(logRecord) {
  goog.debug.Logger.logToProfilers("log:" + logRecord.getMessage());
  if (goog.debug.Logger.ENABLE_HIERARCHY) {
    var target = this;
    while (target) {
      target.callPublish_(logRecord);
      target = target.getParent();
    }
  } else {
    for (var i = 0, handler;handler = goog.debug.Logger.rootHandlers_[i++];) {
      handler(logRecord);
    }
  }
};
goog.debug.Logger.prototype.callPublish_ = function(logRecord) {
  if (this.handlers_) {
    for (var i = 0, handler;handler = this.handlers_[i];i++) {
      handler(logRecord);
    }
  }
};
goog.debug.Logger.prototype.setParent_ = function(parent) {
  this.parent_ = parent;
};
goog.debug.Logger.prototype.addChild_ = function(name, logger) {
  this.getChildren()[name] = logger;
};
goog.debug.LogManager = {};
goog.debug.LogManager.loggers_ = {};
goog.debug.LogManager.rootLogger_ = null;
goog.debug.LogManager.initialize = function() {
  if (!goog.debug.LogManager.rootLogger_) {
    goog.debug.LogManager.rootLogger_ = new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME);
    goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME] = goog.debug.LogManager.rootLogger_;
    goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG);
  }
};
goog.debug.LogManager.getLoggers = function() {
  return goog.debug.LogManager.loggers_;
};
goog.debug.LogManager.getRoot = function() {
  goog.debug.LogManager.initialize();
  return (goog.debug.LogManager.rootLogger_);
};
goog.debug.LogManager.getLogger = function(name) {
  goog.debug.LogManager.initialize();
  var ret = goog.debug.LogManager.loggers_[name];
  return ret || goog.debug.LogManager.createLogger_(name);
};
goog.debug.LogManager.createFunctionForCatchErrors = function(opt_logger) {
  return function(info) {
    var logger = opt_logger || goog.debug.LogManager.getRoot();
    logger.severe("Error: " + info.message + " (" + info.fileName + " @ Line: " + info.line + ")");
  };
};
goog.debug.LogManager.createLogger_ = function(name) {
  var logger = new goog.debug.Logger(name);
  if (goog.debug.Logger.ENABLE_HIERARCHY) {
    var lastDotIndex = name.lastIndexOf(".");
    var parentName = name.substr(0, lastDotIndex);
    var leafName = name.substr(lastDotIndex + 1);
    var parentLogger = goog.debug.LogManager.getLogger(parentName);
    parentLogger.addChild_(leafName, logger);
    logger.setParent_(parentLogger);
  }
  goog.debug.LogManager.loggers_[name] = logger;
  return logger;
};
goog.provide("goog.log");
goog.provide("goog.log.Level");
goog.provide("goog.log.LogRecord");
goog.provide("goog.log.Logger");
goog.require("goog.debug");
goog.require("goog.debug.LogManager");
goog.require("goog.debug.LogRecord");
goog.require("goog.debug.Logger");
goog.define("goog.log.ENABLED", goog.debug.LOGGING_ENABLED);
goog.log.ROOT_LOGGER_NAME = goog.debug.Logger.ROOT_LOGGER_NAME;
goog.log.Logger = goog.debug.Logger;
goog.log.Level = goog.debug.Logger.Level;
goog.log.LogRecord = goog.debug.LogRecord;
goog.log.getLogger = function(name, opt_level) {
  if (goog.log.ENABLED) {
    var logger = goog.debug.LogManager.getLogger(name);
    if (opt_level && logger) {
      logger.setLevel(opt_level);
    }
    return logger;
  } else {
    return null;
  }
};
goog.log.addHandler = function(logger, handler) {
  if (goog.log.ENABLED && logger) {
    logger.addHandler(handler);
  }
};
goog.log.removeHandler = function(logger, handler) {
  if (goog.log.ENABLED && logger) {
    return logger.removeHandler(handler);
  } else {
    return false;
  }
};
goog.log.log = function(logger, level, msg, opt_exception) {
  if (goog.log.ENABLED && logger) {
    logger.log(level, msg, opt_exception);
  }
};
goog.log.error = function(logger, msg, opt_exception) {
  if (goog.log.ENABLED && logger) {
    logger.severe(msg, opt_exception);
  }
};
goog.log.warning = function(logger, msg, opt_exception) {
  if (goog.log.ENABLED && logger) {
    logger.warning(msg, opt_exception);
  }
};
goog.log.info = function(logger, msg, opt_exception) {
  if (goog.log.ENABLED && logger) {
    logger.info(msg, opt_exception);
  }
};
goog.log.fine = function(logger, msg, opt_exception) {
  if (goog.log.ENABLED && logger) {
    logger.fine(msg, opt_exception);
  }
};
goog.provide("goog.net.ErrorCode");
goog.net.ErrorCode = {NO_ERROR:0, ACCESS_DENIED:1, FILE_NOT_FOUND:2, FF_SILENT_ERROR:3, CUSTOM_ERROR:4, EXCEPTION:5, HTTP_ERROR:6, ABORT:7, TIMEOUT:8, OFFLINE:9};
goog.net.ErrorCode.getDebugMessage = function(errorCode) {
  switch(errorCode) {
    case goog.net.ErrorCode.NO_ERROR:
      return "No Error";
    case goog.net.ErrorCode.ACCESS_DENIED:
      return "Access denied to content document";
    case goog.net.ErrorCode.FILE_NOT_FOUND:
      return "File not found";
    case goog.net.ErrorCode.FF_SILENT_ERROR:
      return "Firefox silently errored";
    case goog.net.ErrorCode.CUSTOM_ERROR:
      return "Application custom error";
    case goog.net.ErrorCode.EXCEPTION:
      return "An exception occurred";
    case goog.net.ErrorCode.HTTP_ERROR:
      return "Http response at 400 or 500 level";
    case goog.net.ErrorCode.ABORT:
      return "Request was aborted";
    case goog.net.ErrorCode.TIMEOUT:
      return "Request timed out";
    case goog.net.ErrorCode.OFFLINE:
      return "The resource is not available offline";
    default:
      return "Unrecognized error code";
  }
};
goog.provide("goog.net.EventType");
goog.net.EventType = {COMPLETE:"complete", SUCCESS:"success", ERROR:"error", ABORT:"abort", READY:"ready", READY_STATE_CHANGE:"readystatechange", TIMEOUT:"timeout", INCREMENTAL_DATA:"incrementaldata", PROGRESS:"progress", DOWNLOAD_PROGRESS:"downloadprogress", UPLOAD_PROGRESS:"uploadprogress"};
goog.provide("goog.net.HttpStatus");
goog.net.HttpStatus = {CONTINUE:100, SWITCHING_PROTOCOLS:101, OK:200, CREATED:201, ACCEPTED:202, NON_AUTHORITATIVE_INFORMATION:203, NO_CONTENT:204, RESET_CONTENT:205, PARTIAL_CONTENT:206, MULTIPLE_CHOICES:300, MOVED_PERMANENTLY:301, FOUND:302, SEE_OTHER:303, NOT_MODIFIED:304, USE_PROXY:305, TEMPORARY_REDIRECT:307, BAD_REQUEST:400, UNAUTHORIZED:401, PAYMENT_REQUIRED:402, FORBIDDEN:403, NOT_FOUND:404, METHOD_NOT_ALLOWED:405, NOT_ACCEPTABLE:406, PROXY_AUTHENTICATION_REQUIRED:407, REQUEST_TIMEOUT:408, 
CONFLICT:409, GONE:410, LENGTH_REQUIRED:411, PRECONDITION_FAILED:412, REQUEST_ENTITY_TOO_LARGE:413, REQUEST_URI_TOO_LONG:414, UNSUPPORTED_MEDIA_TYPE:415, REQUEST_RANGE_NOT_SATISFIABLE:416, EXPECTATION_FAILED:417, PRECONDITION_REQUIRED:428, TOO_MANY_REQUESTS:429, REQUEST_HEADER_FIELDS_TOO_LARGE:431, INTERNAL_SERVER_ERROR:500, NOT_IMPLEMENTED:501, BAD_GATEWAY:502, SERVICE_UNAVAILABLE:503, GATEWAY_TIMEOUT:504, HTTP_VERSION_NOT_SUPPORTED:505, NETWORK_AUTHENTICATION_REQUIRED:511, QUIRK_IE_NO_CONTENT:1223};
goog.net.HttpStatus.isSuccess = function(status) {
  switch(status) {
    case goog.net.HttpStatus.OK:
    ;
    case goog.net.HttpStatus.CREATED:
    ;
    case goog.net.HttpStatus.ACCEPTED:
    ;
    case goog.net.HttpStatus.NO_CONTENT:
    ;
    case goog.net.HttpStatus.PARTIAL_CONTENT:
    ;
    case goog.net.HttpStatus.NOT_MODIFIED:
    ;
    case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:
      return true;
    default:
      return false;
  }
};
goog.provide("goog.net.XhrLike");
goog.net.XhrLike = function() {
};
goog.net.XhrLike.OrNative;
goog.net.XhrLike.prototype.onreadystatechange;
goog.net.XhrLike.prototype.responseText;
goog.net.XhrLike.prototype.responseXML;
goog.net.XhrLike.prototype.readyState;
goog.net.XhrLike.prototype.status;
goog.net.XhrLike.prototype.statusText;
goog.net.XhrLike.prototype.open = function(method, url, opt_async, opt_user, opt_password) {
};
goog.net.XhrLike.prototype.send = function(opt_data) {
};
goog.net.XhrLike.prototype.abort = function() {
};
goog.net.XhrLike.prototype.setRequestHeader = function(header, value) {
};
goog.net.XhrLike.prototype.getResponseHeader = function(header) {
};
goog.net.XhrLike.prototype.getAllResponseHeaders = function() {
};
goog.provide("goog.net.XmlHttpFactory");
goog.require("goog.net.XhrLike");
goog.net.XmlHttpFactory = function() {
};
goog.net.XmlHttpFactory.prototype.cachedOptions_ = null;
goog.net.XmlHttpFactory.prototype.createInstance = goog.abstractMethod;
goog.net.XmlHttpFactory.prototype.getOptions = function() {
  return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions());
};
goog.net.XmlHttpFactory.prototype.internalGetOptions = goog.abstractMethod;
goog.provide("goog.net.WrapperXmlHttpFactory");
goog.require("goog.net.XhrLike");
goog.require("goog.net.XmlHttpFactory");
goog.net.WrapperXmlHttpFactory = function(xhrFactory, optionsFactory) {
  goog.net.XmlHttpFactory.call(this);
  this.xhrFactory_ = xhrFactory;
  this.optionsFactory_ = optionsFactory;
};
goog.inherits(goog.net.WrapperXmlHttpFactory, goog.net.XmlHttpFactory);
goog.net.WrapperXmlHttpFactory.prototype.createInstance = function() {
  return this.xhrFactory_();
};
goog.net.WrapperXmlHttpFactory.prototype.getOptions = function() {
  return this.optionsFactory_();
};
goog.provide("goog.net.DefaultXmlHttpFactory");
goog.provide("goog.net.XmlHttp");
goog.provide("goog.net.XmlHttp.OptionType");
goog.provide("goog.net.XmlHttp.ReadyState");
goog.provide("goog.net.XmlHttpDefines");
goog.require("goog.asserts");
goog.require("goog.net.WrapperXmlHttpFactory");
goog.require("goog.net.XmlHttpFactory");
goog.net.XmlHttp = function() {
  return goog.net.XmlHttp.factory_.createInstance();
};
goog.define("goog.net.XmlHttp.ASSUME_NATIVE_XHR", false);
goog.net.XmlHttpDefines = {};
goog.define("goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR", false);
goog.net.XmlHttp.getOptions = function() {
  return goog.net.XmlHttp.factory_.getOptions();
};
goog.net.XmlHttp.OptionType = {USE_NULL_FUNCTION:0, LOCAL_REQUEST_ERROR:1};
goog.net.XmlHttp.ReadyState = {UNINITIALIZED:0, LOADING:1, LOADED:2, INTERACTIVE:3, COMPLETE:4};
goog.net.XmlHttp.factory_;
goog.net.XmlHttp.setFactory = function(factory, optionsFactory) {
  goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));
};
goog.net.XmlHttp.setGlobalFactory = function(factory) {
  goog.net.XmlHttp.factory_ = factory;
};
goog.net.DefaultXmlHttpFactory = function() {
  goog.net.XmlHttpFactory.call(this);
};
goog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);
goog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {
  var progId = this.getProgId_();
  if (progId) {
    return new ActiveXObject(progId);
  } else {
    return new XMLHttpRequest;
  }
};
goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {
  var progId = this.getProgId_();
  var options = {};
  if (progId) {
    options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = true;
    options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = true;
  }
  return options;
};
goog.net.DefaultXmlHttpFactory.prototype.ieProgId_;
goog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {
  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR || goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {
    return "";
  }
  if (!this.ieProgId_ && typeof XMLHttpRequest == "undefined" && typeof ActiveXObject != "undefined") {
    var ACTIVE_X_IDENTS = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"];
    for (var i = 0;i < ACTIVE_X_IDENTS.length;i++) {
      var candidate = ACTIVE_X_IDENTS[i];
      try {
        new ActiveXObject(candidate);
        this.ieProgId_ = candidate;
        return candidate;
      } catch (e) {
      }
    }
    throw Error("Could not create ActiveXObject. ActiveX might be disabled," + " or MSXML might not be installed");
  }
  return (this.ieProgId_);
};
goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);
goog.provide("goog.net.XhrIo");
goog.provide("goog.net.XhrIo.ResponseType");
goog.require("goog.Timer");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.debug.entryPointRegistry");
goog.require("goog.events.EventTarget");
goog.require("goog.json");
goog.require("goog.log");
goog.require("goog.net.ErrorCode");
goog.require("goog.net.EventType");
goog.require("goog.net.HttpStatus");
goog.require("goog.net.XmlHttp");
goog.require("goog.object");
goog.require("goog.string");
goog.require("goog.structs");
goog.require("goog.structs.Map");
goog.require("goog.uri.utils");
goog.require("goog.userAgent");
goog.forwardDeclare("goog.Uri");
goog.net.XhrIo = function(opt_xmlHttpFactory) {
  goog.net.XhrIo.base(this, "constructor");
  this.headers = new goog.structs.Map;
  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;
  this.active_ = false;
  this.xhr_ = null;
  this.xhrOptions_ = null;
  this.lastUri_ = "";
  this.lastMethod_ = "";
  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;
  this.lastError_ = "";
  this.errorDispatched_ = false;
  this.inSend_ = false;
  this.inOpen_ = false;
  this.inAbort_ = false;
  this.timeoutInterval_ = 0;
  this.timeoutId_ = null;
  this.responseType_ = goog.net.XhrIo.ResponseType.DEFAULT;
  this.withCredentials_ = false;
  this.progressEventsEnabled_ = false;
  this.useXhr2Timeout_ = false;
};
goog.inherits(goog.net.XhrIo, goog.events.EventTarget);
goog.net.XhrIo.ResponseType = {DEFAULT:"", TEXT:"text", DOCUMENT:"document", BLOB:"blob", ARRAY_BUFFER:"arraybuffer"};
goog.net.XhrIo.prototype.logger_ = goog.log.getLogger("goog.net.XhrIo");
goog.net.XhrIo.CONTENT_TYPE_HEADER = "Content-Type";
goog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;
goog.net.XhrIo.METHODS_WITH_FORM_DATA = ["POST", "PUT"];
goog.net.XhrIo.FORM_CONTENT_TYPE = "application/x-www-form-urlencoded;charset\x3dutf-8";
goog.net.XhrIo.XHR2_TIMEOUT_ = "timeout";
goog.net.XhrIo.XHR2_ON_TIMEOUT_ = "ontimeout";
goog.net.XhrIo.sendInstances_ = [];
goog.net.XhrIo.send = function(url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials) {
  var x = new goog.net.XhrIo;
  goog.net.XhrIo.sendInstances_.push(x);
  if (opt_callback) {
    x.listen(goog.net.EventType.COMPLETE, opt_callback);
  }
  x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);
  if (opt_timeoutInterval) {
    x.setTimeoutInterval(opt_timeoutInterval);
  }
  if (opt_withCredentials) {
    x.setWithCredentials(opt_withCredentials);
  }
  x.send(url, opt_method, opt_content, opt_headers);
  return x;
};
goog.net.XhrIo.cleanup = function() {
  var instances = goog.net.XhrIo.sendInstances_;
  while (instances.length) {
    instances.pop().dispose();
  }
};
goog.net.XhrIo.protectEntryPoints = function(errorHandler) {
  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = errorHandler.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);
};
goog.net.XhrIo.prototype.cleanupSend_ = function() {
  this.dispose();
  goog.array.remove(goog.net.XhrIo.sendInstances_, this);
};
goog.net.XhrIo.prototype.getTimeoutInterval = function() {
  return this.timeoutInterval_;
};
goog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {
  this.timeoutInterval_ = Math.max(0, ms);
};
goog.net.XhrIo.prototype.setResponseType = function(type) {
  this.responseType_ = type;
};
goog.net.XhrIo.prototype.getResponseType = function() {
  return this.responseType_;
};
goog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {
  this.withCredentials_ = withCredentials;
};
goog.net.XhrIo.prototype.getWithCredentials = function() {
  return this.withCredentials_;
};
goog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {
  this.progressEventsEnabled_ = enabled;
};
goog.net.XhrIo.prototype.getProgressEventsEnabled = function() {
  return this.progressEventsEnabled_;
};
goog.net.XhrIo.prototype.send = function(url, opt_method, opt_content, opt_headers) {
  if (this.xhr_) {
    throw Error("[goog.net.XhrIo] Object is active with another request\x3d" + this.lastUri_ + "; newUri\x3d" + url);
  }
  var method = opt_method ? opt_method.toUpperCase() : "GET";
  this.lastUri_ = url;
  this.lastError_ = "";
  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;
  this.lastMethod_ = method;
  this.errorDispatched_ = false;
  this.active_ = true;
  this.xhr_ = this.createXhr();
  this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : goog.net.XmlHttp.getOptions();
  this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);
  if (this.getProgressEventsEnabled() && "onprogress" in this.xhr_) {
    this.xhr_.onprogress = goog.bind(function(e) {
      this.onProgressHandler_(e, true);
    }, this);
    if (this.xhr_.upload) {
      this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this);
    }
  }
  try {
    goog.log.fine(this.logger_, this.formatMsg_("Opening Xhr"));
    this.inOpen_ = true;
    this.xhr_.open(method, String(url), true);
    this.inOpen_ = false;
  } catch (err) {
    goog.log.fine(this.logger_, this.formatMsg_("Error opening Xhr: " + err.message));
    this.error_(goog.net.ErrorCode.EXCEPTION, err);
    return;
  }
  var content = opt_content || "";
  var headers = this.headers.clone();
  if (opt_headers) {
    goog.structs.forEach(opt_headers, function(value, key) {
      headers.set(key, value);
    });
  }
  var contentTypeKey = goog.array.find(headers.getKeys(), goog.net.XhrIo.isContentTypeHeader_);
  var contentIsFormData = goog.global["FormData"] && content instanceof goog.global["FormData"];
  if (goog.array.contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) && !contentTypeKey && !contentIsFormData) {
    headers.set(goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);
  }
  headers.forEach(function(value, key) {
    this.xhr_.setRequestHeader(key, value);
  }, this);
  if (this.responseType_) {
    this.xhr_.responseType = this.responseType_;
  }
  if (goog.object.containsKey(this.xhr_, "withCredentials")) {
    this.xhr_.withCredentials = this.withCredentials_;
  }
  try {
    this.cleanUpTimeoutTimer_();
    if (this.timeoutInterval_ > 0) {
      this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_);
      goog.log.fine(this.logger_, this.formatMsg_("Will abort after " + this.timeoutInterval_ + "ms if incomplete, xhr2 " + this.useXhr2Timeout_));
      if (this.useXhr2Timeout_) {
        this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_;
        this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = goog.bind(this.timeout_, this);
      } else {
        this.timeoutId_ = goog.Timer.callOnce(this.timeout_, this.timeoutInterval_, this);
      }
    }
    goog.log.fine(this.logger_, this.formatMsg_("Sending request"));
    this.inSend_ = true;
    this.xhr_.send(content);
    this.inSend_ = false;
  } catch (err) {
    goog.log.fine(this.logger_, this.formatMsg_("Send error: " + err.message));
    this.error_(goog.net.ErrorCode.EXCEPTION, err);
  }
};
goog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {
  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(9) && goog.isNumber(xhr[goog.net.XhrIo.XHR2_TIMEOUT_]) && goog.isDef(xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_]);
};
goog.net.XhrIo.isContentTypeHeader_ = function(header) {
  return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER, header);
};
goog.net.XhrIo.prototype.createXhr = function() {
  return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : goog.net.XmlHttp();
};
goog.net.XhrIo.prototype.timeout_ = function() {
  if (typeof goog == "undefined") {
  } else {
    if (this.xhr_) {
      this.lastError_ = "Timed out after " + this.timeoutInterval_ + "ms, aborting";
      this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT;
      goog.log.fine(this.logger_, this.formatMsg_(this.lastError_));
      this.dispatchEvent(goog.net.EventType.TIMEOUT);
      this.abort(goog.net.ErrorCode.TIMEOUT);
    }
  }
};
goog.net.XhrIo.prototype.error_ = function(errorCode, err) {
  this.active_ = false;
  if (this.xhr_) {
    this.inAbort_ = true;
    this.xhr_.abort();
    this.inAbort_ = false;
  }
  this.lastError_ = err;
  this.lastErrorCode_ = errorCode;
  this.dispatchErrors_();
  this.cleanUpXhr_();
};
goog.net.XhrIo.prototype.dispatchErrors_ = function() {
  if (!this.errorDispatched_) {
    this.errorDispatched_ = true;
    this.dispatchEvent(goog.net.EventType.COMPLETE);
    this.dispatchEvent(goog.net.EventType.ERROR);
  }
};
goog.net.XhrIo.prototype.abort = function(opt_failureCode) {
  if (this.xhr_ && this.active_) {
    goog.log.fine(this.logger_, this.formatMsg_("Aborting"));
    this.active_ = false;
    this.inAbort_ = true;
    this.xhr_.abort();
    this.inAbort_ = false;
    this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT;
    this.dispatchEvent(goog.net.EventType.COMPLETE);
    this.dispatchEvent(goog.net.EventType.ABORT);
    this.cleanUpXhr_();
  }
};
goog.net.XhrIo.prototype.disposeInternal = function() {
  if (this.xhr_) {
    if (this.active_) {
      this.active_ = false;
      this.inAbort_ = true;
      this.xhr_.abort();
      this.inAbort_ = false;
    }
    this.cleanUpXhr_(true);
  }
  goog.net.XhrIo.base(this, "disposeInternal");
};
goog.net.XhrIo.prototype.onReadyStateChange_ = function() {
  if (this.isDisposed()) {
    return;
  }
  if (!this.inOpen_ && !this.inSend_ && !this.inAbort_) {
    this.onReadyStateChangeEntryPoint_();
  } else {
    this.onReadyStateChangeHelper_();
  }
};
goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {
  this.onReadyStateChangeHelper_();
};
goog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {
  if (!this.active_) {
    return;
  }
  if (typeof goog == "undefined") {
  } else {
    if (this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE && this.getStatus() == 2) {
      goog.log.fine(this.logger_, this.formatMsg_("Local request error detected and ignored"));
    } else {
      if (this.inSend_ && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {
        goog.Timer.callOnce(this.onReadyStateChange_, 0, this);
        return;
      }
      this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE);
      if (this.isComplete()) {
        goog.log.fine(this.logger_, this.formatMsg_("Request complete"));
        this.active_ = false;
        try {
          if (this.isSuccess()) {
            this.dispatchEvent(goog.net.EventType.COMPLETE);
            this.dispatchEvent(goog.net.EventType.SUCCESS);
          } else {
            this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR;
            this.lastError_ = this.getStatusText() + " [" + this.getStatus() + "]";
            this.dispatchErrors_();
          }
        } finally {
          this.cleanUpXhr_();
        }
      }
    }
  }
};
goog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {
  goog.asserts.assert(e.type === goog.net.EventType.PROGRESS, "goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");
  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));
  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS : goog.net.EventType.UPLOAD_PROGRESS));
};
goog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {
  return ({type:eventType, lengthComputable:e.lengthComputable, loaded:e.loaded, total:e.total});
};
goog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {
  if (this.xhr_) {
    this.cleanUpTimeoutTimer_();
    var xhr = this.xhr_;
    var clearedOnReadyStateChange = this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ? goog.nullFunction : null;
    this.xhr_ = null;
    this.xhrOptions_ = null;
    if (!opt_fromDispose) {
      this.dispatchEvent(goog.net.EventType.READY);
    }
    try {
      xhr.onreadystatechange = clearedOnReadyStateChange;
    } catch (e) {
      goog.log.error(this.logger_, "Problem encountered resetting onreadystatechange: " + e.message);
    }
  }
};
goog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {
  if (this.xhr_ && this.useXhr2Timeout_) {
    this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null;
  }
  if (goog.isNumber(this.timeoutId_)) {
    goog.Timer.clear(this.timeoutId_);
    this.timeoutId_ = null;
  }
};
goog.net.XhrIo.prototype.isActive = function() {
  return !!this.xhr_;
};
goog.net.XhrIo.prototype.isComplete = function() {
  return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;
};
goog.net.XhrIo.prototype.isSuccess = function() {
  var status = this.getStatus();
  return goog.net.HttpStatus.isSuccess(status) || status === 0 && !this.isLastUriEffectiveSchemeHttp_();
};
goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {
  var scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));
  return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(scheme);
};
goog.net.XhrIo.prototype.getReadyState = function() {
  return this.xhr_ ? (this.xhr_.readyState) : goog.net.XmlHttp.ReadyState.UNINITIALIZED;
};
goog.net.XhrIo.prototype.getStatus = function() {
  try {
    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.status : -1;
  } catch (e) {
    return -1;
  }
};
goog.net.XhrIo.prototype.getStatusText = function() {
  try {
    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.statusText : "";
  } catch (e) {
    goog.log.fine(this.logger_, "Can not get status: " + e.message);
    return "";
  }
};
goog.net.XhrIo.prototype.getLastUri = function() {
  return String(this.lastUri_);
};
goog.net.XhrIo.prototype.getResponseText = function() {
  try {
    return this.xhr_ ? this.xhr_.responseText : "";
  } catch (e) {
    goog.log.fine(this.logger_, "Can not get responseText: " + e.message);
    return "";
  }
};
goog.net.XhrIo.prototype.getResponseBody = function() {
  try {
    if (this.xhr_ && "responseBody" in this.xhr_) {
      return this.xhr_["responseBody"];
    }
  } catch (e) {
    goog.log.fine(this.logger_, "Can not get responseBody: " + e.message);
  }
  return null;
};
goog.net.XhrIo.prototype.getResponseXml = function() {
  try {
    return this.xhr_ ? this.xhr_.responseXML : null;
  } catch (e) {
    goog.log.fine(this.logger_, "Can not get responseXML: " + e.message);
    return null;
  }
};
goog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {
  if (!this.xhr_) {
    return undefined;
  }
  var responseText = this.xhr_.responseText;
  if (opt_xssiPrefix && responseText.indexOf(opt_xssiPrefix) == 0) {
    responseText = responseText.substring(opt_xssiPrefix.length);
  }
  return goog.json.parse(responseText);
};
goog.net.XhrIo.prototype.getResponse = function() {
  try {
    if (!this.xhr_) {
      return null;
    }
    if ("response" in this.xhr_) {
      return this.xhr_.response;
    }
    switch(this.responseType_) {
      case goog.net.XhrIo.ResponseType.DEFAULT:
      ;
      case goog.net.XhrIo.ResponseType.TEXT:
        return this.xhr_.responseText;
      case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:
        if ("mozResponseArrayBuffer" in this.xhr_) {
          return this.xhr_.mozResponseArrayBuffer;
        }
      ;
    }
    goog.log.error(this.logger_, "Response type " + this.responseType_ + " is not " + "supported on this browser");
    return null;
  } catch (e) {
    goog.log.fine(this.logger_, "Can not get response: " + e.message);
    return null;
  }
};
goog.net.XhrIo.prototype.getResponseHeader = function(key) {
  return this.xhr_ && this.isComplete() ? this.xhr_.getResponseHeader(key) : undefined;
};
goog.net.XhrIo.prototype.getAllResponseHeaders = function() {
  return this.xhr_ && this.isComplete() ? this.xhr_.getAllResponseHeaders() : "";
};
goog.net.XhrIo.prototype.getResponseHeaders = function() {
  var headersObject = {};
  var headersArray = this.getAllResponseHeaders().split("\r\n");
  for (var i = 0;i < headersArray.length;i++) {
    if (goog.string.isEmptyOrWhitespace(headersArray[i])) {
      continue;
    }
    var keyValue = goog.string.splitLimit(headersArray[i], ": ", 2);
    if (headersObject[keyValue[0]]) {
      headersObject[keyValue[0]] += ", " + keyValue[1];
    } else {
      headersObject[keyValue[0]] = keyValue[1];
    }
  }
  return headersObject;
};
goog.net.XhrIo.prototype.getLastErrorCode = function() {
  return this.lastErrorCode_;
};
goog.net.XhrIo.prototype.getLastError = function() {
  return goog.isString(this.lastError_) ? this.lastError_ : String(this.lastError_);
};
goog.net.XhrIo.prototype.formatMsg_ = function(msg) {
  return msg + " [" + this.lastMethod_ + " " + this.lastUri_ + " " + this.getStatus() + "]";
};
goog.debug.entryPointRegistry.register(function(transformer) {
  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);
});
goog.provide("goog.dom.ViewportSizeMonitor");
goog.require("goog.dom");
goog.require("goog.events");
goog.require("goog.events.EventTarget");
goog.require("goog.events.EventType");
goog.require("goog.math.Size");
goog.dom.ViewportSizeMonitor = function(opt_window) {
  goog.dom.ViewportSizeMonitor.base(this, "constructor");
  this.window_ = opt_window || window;
  this.listenerKey_ = goog.events.listen(this.window_, goog.events.EventType.RESIZE, this.handleResize_, false, this);
  this.size_ = goog.dom.getViewportSize(this.window_);
};
goog.inherits(goog.dom.ViewportSizeMonitor, goog.events.EventTarget);
goog.dom.ViewportSizeMonitor.getInstanceForWindow = function(opt_window) {
  var currentWindow = opt_window || window;
  var uid = goog.getUid(currentWindow);
  return goog.dom.ViewportSizeMonitor.windowInstanceMap_[uid] = goog.dom.ViewportSizeMonitor.windowInstanceMap_[uid] || new goog.dom.ViewportSizeMonitor(currentWindow);
};
goog.dom.ViewportSizeMonitor.removeInstanceForWindow = function(opt_window) {
  var uid = goog.getUid(opt_window || window);
  goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[uid]);
  delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[uid];
};
goog.dom.ViewportSizeMonitor.windowInstanceMap_ = {};
goog.dom.ViewportSizeMonitor.prototype.getSize = function() {
  return this.size_ ? this.size_.clone() : null;
};
goog.dom.ViewportSizeMonitor.prototype.disposeInternal = function() {
  goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this);
  if (this.listenerKey_) {
    goog.events.unlistenByKey(this.listenerKey_);
    this.listenerKey_ = null;
  }
  this.window_ = null;
  this.size_ = null;
};
goog.dom.ViewportSizeMonitor.prototype.handleResize_ = function(event) {
  var size = goog.dom.getViewportSize(this.window_);
  if (!goog.math.Size.equals(size, this.size_)) {
    this.size_ = size;
    this.dispatchEvent(goog.events.EventType.RESIZE);
  }
};
goog.provide("domina.xpath");
goog.require("cljs.core");
goog.require("domina");
goog.require("goog.dom");
domina.xpath.select_node_STAR_ = function domina$xpath$select_node_STAR_(path, node, technique_1, technique_2) {
  var doc = goog.dom.getOwnerDocument(node);
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = node.selectSingleNode;
    if (cljs.core.truth_(and__6144__auto__)) {
      return doc.setProperty;
    } else {
      return and__6144__auto__;
    }
  }())) {
    doc.setProperty("SelectionLanguage", "XPath");
    return technique_1.call(null, node, path);
  } else {
    if (cljs.core.truth_(doc.evaluate)) {
      return technique_2.call(null, null, doc, node, path);
    } else {
      throw new Error("Could not find XPath support in this browser.");
    }
  }
};
domina.xpath.select_node = function domina$xpath$select_node(expr, node) {
  return domina.xpath.select_node_STAR_.call(null, expr, node, function(node__$1, expr__$1) {
    return node__$1.selectSingleNode(expr__$1);
  }, function(resolver, doc, node__$1, expr__$1) {
    var result = doc.evaluate(expr__$1, node__$1, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
    return result.singleNodeValue;
  });
};
domina.xpath.select_nodes = function domina$xpath$select_nodes(expr, node) {
  return domina.xpath.select_node_STAR_.call(null, expr, node, function(node__$1, expr__$1) {
    return node__$1.selectNodes(expr__$1);
  }, function(resolver, doc, node__$1, expr__$1) {
    var result = doc.evaluate(expr__$1, node__$1, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
    var num_results = result.snapshotLength;
    var i = 0;
    var acc = null;
    while (true) {
      if (i < num_results) {
        var G__13415 = i + 1;
        var G__13416 = cljs.core.cons.call(null, result.snapshotItem(i), acc);
        i = G__13415;
        acc = G__13416;
        continue;
      } else {
        return acc;
      }
      break;
    }
  });
};
domina.xpath.root_element = function domina$xpath$root_element() {
  return goog.dom.getElementsByTagNameAndClass("html")[0];
};
domina.xpath.xpath = function domina$xpath$xpath(var_args) {
  var args13417 = [];
  var len__7214__auto___13423 = arguments.length;
  var i__7215__auto___13424 = 0;
  while (true) {
    if (i__7215__auto___13424 < len__7214__auto___13423) {
      args13417.push(arguments[i__7215__auto___13424]);
      var G__13425 = i__7215__auto___13424 + 1;
      i__7215__auto___13424 = G__13425;
      continue;
    } else {
    }
    break;
  }
  var G__13419 = args13417.length;
  switch(G__13419) {
    case 1:
      return domina.xpath.xpath.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return domina.xpath.xpath.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13417.length)].join(""));;
  }
};
domina.xpath.xpath.cljs$core$IFn$_invoke$arity$1 = function(expr) {
  return domina.xpath.xpath.call(null, domina.xpath.root_element.call(null), expr);
};
domina.xpath.xpath.cljs$core$IFn$_invoke$arity$2 = function(base, expr) {
  if (typeof domina.xpath.t_domina$xpath13420 !== "undefined") {
  } else {
    domina.xpath.t_domina$xpath13420 = function(base, expr, meta13421) {
      this.base = base;
      this.expr = expr;
      this.meta13421 = meta13421;
      this.cljs$lang$protocol_mask$partition0$ = 393216;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    domina.xpath.t_domina$xpath13420.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(_13422, meta13421__$1) {
      var self__ = this;
      var _13422__$1 = this;
      return new domina.xpath.t_domina$xpath13420(self__.base, self__.expr, meta13421__$1);
    };
    domina.xpath.t_domina$xpath13420.prototype.cljs$core$IMeta$_meta$arity$1 = function(_13422) {
      var self__ = this;
      var _13422__$1 = this;
      return self__.meta13421;
    };
    domina.xpath.t_domina$xpath13420.prototype.domina$DomContent$ = true;
    domina.xpath.t_domina$xpath13420.prototype.domina$DomContent$nodes$arity$1 = function(_) {
      var self__ = this;
      var ___$1 = this;
      return cljs.core.mapcat.call(null, cljs.core.partial.call(null, domina.xpath.select_nodes, self__.expr), domina.nodes.call(null, self__.base));
    };
    domina.xpath.t_domina$xpath13420.prototype.domina$DomContent$single_node$arity$1 = function(_) {
      var self__ = this;
      var ___$1 = this;
      return cljs.core.first.call(null, cljs.core.filter.call(null, cljs.core.complement.call(null, cljs.core.nil_QMARK_), cljs.core.map.call(null, cljs.core.partial.call(null, domina.xpath.select_node, self__.expr), domina.nodes.call(null, self__.base))));
    };
    domina.xpath.t_domina$xpath13420.getBasis = function() {
      return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "base", "base", 1825810849, null), new cljs.core.Symbol(null, "expr", "expr", -1908713478, null), new cljs.core.Symbol(null, "meta13421", "meta13421", -1040979434, null)], null);
    };
    domina.xpath.t_domina$xpath13420.cljs$lang$type = true;
    domina.xpath.t_domina$xpath13420.cljs$lang$ctorStr = "domina.xpath/t_domina$xpath13420";
    domina.xpath.t_domina$xpath13420.cljs$lang$ctorPrWriter = function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
      return cljs.core._write.call(null, writer__6755__auto__, "domina.xpath/t_domina$xpath13420");
    };
    domina.xpath.__GT_t_domina$xpath13420 = function domina$xpath$__GT_t_domina$xpath13420(base__$1, expr__$1, meta13421) {
      return new domina.xpath.t_domina$xpath13420(base__$1, expr__$1, meta13421);
    };
  }
  return new domina.xpath.t_domina$xpath13420(base, expr, cljs.core.PersistentArrayMap.EMPTY);
};
domina.xpath.xpath.cljs$lang$maxFixedArity = 2;
goog.provide("enfocus.enlive.syntax");
goog.require("cljs.core");
enfocus.enlive.syntax.sel_to_str = function enfocus$enlive$syntax$sel_to_str(input) {
  var item = cljs.core.first.call(null, input);
  var rest = cljs.core.rest.call(null, input);
  var end = cljs.core.empty_QMARK_.call(null, rest) ? cljs.core.list(cljs.core.List.EMPTY) : enfocus$enlive$syntax$sel_to_str.call(null, rest);
  if (item instanceof cljs.core.Keyword) {
    return cljs.core.map.call(null, function(item, rest, end) {
      return function(p1__13429_SHARP_) {
        return cljs.core.conj.call(null, p1__13429_SHARP_, cljs.core.name.call(null, item));
      };
    }(item, rest, end), end);
  } else {
    if (typeof item === "string") {
      return cljs.core.map.call(null, function(item, rest, end) {
        return function(p1__13430_SHARP_) {
          return cljs.core.conj.call(null, p1__13430_SHARP_, item);
        };
      }(item, rest, end), end);
    } else {
      if (cljs.core.set_QMARK_.call(null, item)) {
        return cljs.core.reduce.call(null, function(item, rest, end) {
          return function(r1, it) {
            return cljs.core.concat.call(null, r1, cljs.core.map.call(null, function(item, rest, end) {
              return function(p1__13431_SHARP_) {
                return cljs.core.conj.call(null, p1__13431_SHARP_, it);
              };
            }(item, rest, end), end));
          };
        }(item, rest, end), cljs.core.PersistentVector.EMPTY, cljs.core.flatten.call(null, enfocus$enlive$syntax$sel_to_str.call(null, item)));
      } else {
        if (cljs.core.coll_QMARK_.call(null, item)) {
          var x1 = enfocus$enlive$syntax$sel_to_str.call(null, item);
          var sub = cljs.core.map.call(null, function(x1, item, rest, end) {
            return function(p1__13432_SHARP_) {
              return cljs.core.apply.call(null, cljs.core.str, p1__13432_SHARP_);
            };
          }(x1, item, rest, end), enfocus$enlive$syntax$sel_to_str.call(null, item));
          var iter__6928__auto__ = function(x1, sub, item, rest, end) {
            return function enfocus$enlive$syntax$sel_to_str_$_iter__13439(s__13440) {
              return new cljs.core.LazySeq(null, function(x1, sub, item, rest, end) {
                return function() {
                  var s__13440__$1 = s__13440;
                  while (true) {
                    var temp__4657__auto__ = cljs.core.seq.call(null, s__13440__$1);
                    if (temp__4657__auto__) {
                      var xs__5205__auto__ = temp__4657__auto__;
                      var s = cljs.core.first.call(null, xs__5205__auto__);
                      var iterys__6924__auto__ = function(s__13440__$1, s, xs__5205__auto__, temp__4657__auto__, x1, sub, item, rest, end) {
                        return function enfocus$enlive$syntax$sel_to_str_$_iter__13439_$_iter__13441(s__13442) {
                          return new cljs.core.LazySeq(null, function(s__13440__$1, s, xs__5205__auto__, temp__4657__auto__, x1, sub, item, rest, end) {
                            return function() {
                              var s__13442__$1 = s__13442;
                              while (true) {
                                var temp__4657__auto____$1 = cljs.core.seq.call(null, s__13442__$1);
                                if (temp__4657__auto____$1) {
                                  var s__13442__$2 = temp__4657__auto____$1;
                                  if (cljs.core.chunked_seq_QMARK_.call(null, s__13442__$2)) {
                                    var c__6926__auto__ = cljs.core.chunk_first.call(null, s__13442__$2);
                                    var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                                    var b__13444 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                                    if (function() {
                                      var i__13443 = 0;
                                      while (true) {
                                        if (i__13443 < size__6927__auto__) {
                                          var e = cljs.core._nth.call(null, c__6926__auto__, i__13443);
                                          cljs.core.chunk_append.call(null, b__13444, function() {
                                            cljs.core.println.call(null, s, e);
                                            return cljs.core.conj.call(null, e, s);
                                          }());
                                          var G__13445 = i__13443 + 1;
                                          i__13443 = G__13445;
                                          continue;
                                        } else {
                                          return true;
                                        }
                                        break;
                                      }
                                    }()) {
                                      return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__13444), enfocus$enlive$syntax$sel_to_str_$_iter__13439_$_iter__13441.call(null, cljs.core.chunk_rest.call(null, s__13442__$2)));
                                    } else {
                                      return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__13444), null);
                                    }
                                  } else {
                                    var e = cljs.core.first.call(null, s__13442__$2);
                                    return cljs.core.cons.call(null, function() {
                                      cljs.core.println.call(null, s, e);
                                      return cljs.core.conj.call(null, e, s);
                                    }(), enfocus$enlive$syntax$sel_to_str_$_iter__13439_$_iter__13441.call(null, cljs.core.rest.call(null, s__13442__$2)));
                                  }
                                } else {
                                  return null;
                                }
                                break;
                              }
                            };
                          }(s__13440__$1, s, xs__5205__auto__, temp__4657__auto__, x1, sub, item, rest, end), null, null);
                        };
                      }(s__13440__$1, s, xs__5205__auto__, temp__4657__auto__, x1, sub, item, rest, end);
                      var fs__6925__auto__ = cljs.core.seq.call(null, iterys__6924__auto__.call(null, end));
                      if (fs__6925__auto__) {
                        return cljs.core.concat.call(null, fs__6925__auto__, enfocus$enlive$syntax$sel_to_str_$_iter__13439.call(null, cljs.core.rest.call(null, s__13440__$1)));
                      } else {
                        var G__13446 = cljs.core.rest.call(null, s__13440__$1);
                        s__13440__$1 = G__13446;
                        continue;
                      }
                    } else {
                      return null;
                    }
                    break;
                  }
                };
              }(x1, sub, item, rest, end), null, null);
            };
          }(x1, sub, item, rest, end);
          return iter__6928__auto__.call(null, sub);
        } else {
          return input;
        }
      }
    }
  }
};
enfocus.enlive.syntax.convert = function enfocus$enlive$syntax$convert(sel) {
  if (typeof sel === "string") {
    return sel;
  } else {
    var temp__4655__auto__ = enfocus.enlive.syntax.sel_to_str.call(null, sel);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var ors = temp__4655__auto__;
      return cljs.core.apply.call(null, cljs.core.str, cljs.core.interpose.call(null, " ", cljs.core.apply.call(null, cljs.core.concat, cljs.core.interpose.call(null, ",", ors))));
    } else {
      return null;
    }
  }
};
enfocus.enlive.syntax.attr_pairs = function enfocus$enlive$syntax$attr_pairs(op, elms) {
  var ts = function(p__13449) {
    var vec__13450 = p__13449;
    var x = cljs.core.nth.call(null, vec__13450, 0, null);
    var y = cljs.core.nth.call(null, vec__13450, 1, null);
    return [cljs.core.str("["), cljs.core.str(cljs.core.name.call(null, x)), cljs.core.str(op), cljs.core.str("\x3d'"), cljs.core.str(y), cljs.core.str("']")].join("");
  };
  return cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, ts, cljs.core.partition.call(null, 2, elms)));
};
enfocus.enlive.syntax.attr_QMARK_ = function enfocus$enlive$syntax$attr_QMARK_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13453 = arguments.length;
  var i__7215__auto___13454 = 0;
  while (true) {
    if (i__7215__auto___13454 < len__7214__auto___13453) {
      args__7221__auto__.push(arguments[i__7215__auto___13454]);
      var G__13455 = i__7215__auto___13454 + 1;
      i__7215__auto___13454 = G__13455;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_QMARK_.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_QMARK_.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, function(p1__13451_SHARP_) {
    return [cljs.core.str("["), cljs.core.str(cljs.core.name.call(null, p1__13451_SHARP_)), cljs.core.str("]")].join("");
  }, elms));
};
enfocus.enlive.syntax.attr_QMARK_.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_QMARK_.cljs$lang$applyTo = function(seq13452) {
  return enfocus.enlive.syntax.attr_QMARK_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13452));
};
enfocus.enlive.syntax.attr_EQ_ = function enfocus$enlive$syntax$attr_EQ_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13457 = arguments.length;
  var i__7215__auto___13458 = 0;
  while (true) {
    if (i__7215__auto___13458 < len__7214__auto___13457) {
      args__7221__auto__.push(arguments[i__7215__auto___13458]);
      var G__13459 = i__7215__auto___13458 + 1;
      i__7215__auto___13458 = G__13459;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_EQ_.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_EQ_.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return enfocus.enlive.syntax.attr_pairs.call(null, "", elms);
};
enfocus.enlive.syntax.attr_EQ_.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_EQ_.cljs$lang$applyTo = function(seq13456) {
  return enfocus.enlive.syntax.attr_EQ_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13456));
};
enfocus.enlive.syntax.attr_has = function enfocus$enlive$syntax$attr_has(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13462 = arguments.length;
  var i__7215__auto___13463 = 0;
  while (true) {
    if (i__7215__auto___13463 < len__7214__auto___13462) {
      args__7221__auto__.push(arguments[i__7215__auto___13463]);
      var G__13464 = i__7215__auto___13463 + 1;
      i__7215__auto___13463 = G__13464;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return enfocus.enlive.syntax.attr_has.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_has.cljs$core$IFn$_invoke$arity$variadic = function(x, vals) {
  var ts = function(y) {
    return [cljs.core.str("["), cljs.core.str(cljs.core.name.call(null, x)), cljs.core.str("~\x3d'"), cljs.core.str(y), cljs.core.str("']")].join("");
  };
  return cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, ts, vals));
};
enfocus.enlive.syntax.attr_has.cljs$lang$maxFixedArity = 1;
enfocus.enlive.syntax.attr_has.cljs$lang$applyTo = function(seq13460) {
  var G__13461 = cljs.core.first.call(null, seq13460);
  var seq13460__$1 = cljs.core.next.call(null, seq13460);
  return enfocus.enlive.syntax.attr_has.cljs$core$IFn$_invoke$arity$variadic(G__13461, seq13460__$1);
};
enfocus.enlive.syntax.attr_starts = function enfocus$enlive$syntax$attr_starts(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13466 = arguments.length;
  var i__7215__auto___13467 = 0;
  while (true) {
    if (i__7215__auto___13467 < len__7214__auto___13466) {
      args__7221__auto__.push(arguments[i__7215__auto___13467]);
      var G__13468 = i__7215__auto___13467 + 1;
      i__7215__auto___13467 = G__13468;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_starts.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_starts.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return enfocus.enlive.syntax.attr_pairs.call(null, "^", elms);
};
enfocus.enlive.syntax.attr_starts.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_starts.cljs$lang$applyTo = function(seq13465) {
  return enfocus.enlive.syntax.attr_starts.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13465));
};
enfocus.enlive.syntax.attr_ends = function enfocus$enlive$syntax$attr_ends(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13470 = arguments.length;
  var i__7215__auto___13471 = 0;
  while (true) {
    if (i__7215__auto___13471 < len__7214__auto___13470) {
      args__7221__auto__.push(arguments[i__7215__auto___13471]);
      var G__13472 = i__7215__auto___13471 + 1;
      i__7215__auto___13471 = G__13472;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_ends.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_ends.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return enfocus.enlive.syntax.attr_pairs.call(null, "$", elms);
};
enfocus.enlive.syntax.attr_ends.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_ends.cljs$lang$applyTo = function(seq13469) {
  return enfocus.enlive.syntax.attr_ends.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13469));
};
enfocus.enlive.syntax.attr_contains = function enfocus$enlive$syntax$attr_contains(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13474 = arguments.length;
  var i__7215__auto___13475 = 0;
  while (true) {
    if (i__7215__auto___13475 < len__7214__auto___13474) {
      args__7221__auto__.push(arguments[i__7215__auto___13475]);
      var G__13476 = i__7215__auto___13475 + 1;
      i__7215__auto___13475 = G__13476;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_contains.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_contains.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return enfocus.enlive.syntax.attr_pairs.call(null, "*", elms);
};
enfocus.enlive.syntax.attr_contains.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_contains.cljs$lang$applyTo = function(seq13473) {
  return enfocus.enlive.syntax.attr_contains.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13473));
};
enfocus.enlive.syntax.attr_BAR__EQ_ = function enfocus$enlive$syntax$attr_BAR__EQ_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13478 = arguments.length;
  var i__7215__auto___13479 = 0;
  while (true) {
    if (i__7215__auto___13479 < len__7214__auto___13478) {
      args__7221__auto__.push(arguments[i__7215__auto___13479]);
      var G__13480 = i__7215__auto___13479 + 1;
      i__7215__auto___13479 = G__13480;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.attr_BAR__EQ_.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.attr_BAR__EQ_.cljs$core$IFn$_invoke$arity$variadic = function(elms) {
  return enfocus.enlive.syntax.attr_pairs.call(null, "|", elms);
};
enfocus.enlive.syntax.attr_BAR__EQ_.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.attr_BAR__EQ_.cljs$lang$applyTo = function(seq13477) {
  return enfocus.enlive.syntax.attr_BAR__EQ_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13477));
};
enfocus.enlive.syntax.nth_op = function enfocus$enlive$syntax$nth_op(var_args) {
  var args13481 = [];
  var len__7214__auto___13484 = arguments.length;
  var i__7215__auto___13485 = 0;
  while (true) {
    if (i__7215__auto___13485 < len__7214__auto___13484) {
      args13481.push(arguments[i__7215__auto___13485]);
      var G__13486 = i__7215__auto___13485 + 1;
      i__7215__auto___13485 = G__13486;
      continue;
    } else {
    }
    break;
  }
  var G__13483 = args13481.length;
  switch(G__13483) {
    case 2:
      return enfocus.enlive.syntax.nth_op.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return enfocus.enlive.syntax.nth_op.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13481.length)].join(""));;
  }
};
enfocus.enlive.syntax.nth_op.cljs$core$IFn$_invoke$arity$2 = function(op, x) {
  return [cljs.core.str(":nth-"), cljs.core.str(op), cljs.core.str("("), cljs.core.str(x), cljs.core.str(")")].join("");
};
enfocus.enlive.syntax.nth_op.cljs$core$IFn$_invoke$arity$3 = function(op, x, y) {
  return [cljs.core.str(":nth-"), cljs.core.str(op), cljs.core.str("("), cljs.core.str(x), cljs.core.str("n"), cljs.core.str(y > 0 ? "+" : null), cljs.core.str(y)].join("");
};
enfocus.enlive.syntax.nth_op.cljs$lang$maxFixedArity = 3;
enfocus.enlive.syntax.nth_child = function enfocus$enlive$syntax$nth_child(var_args) {
  var args13488 = [];
  var len__7214__auto___13491 = arguments.length;
  var i__7215__auto___13492 = 0;
  while (true) {
    if (i__7215__auto___13492 < len__7214__auto___13491) {
      args13488.push(arguments[i__7215__auto___13492]);
      var G__13493 = i__7215__auto___13492 + 1;
      i__7215__auto___13492 = G__13493;
      continue;
    } else {
    }
    break;
  }
  var G__13490 = args13488.length;
  switch(G__13490) {
    case 1:
      return enfocus.enlive.syntax.nth_child.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.enlive.syntax.nth_child.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13488.length)].join(""));;
  }
};
enfocus.enlive.syntax.nth_child.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return enfocus.enlive.syntax.nth_op.call(null, "child", x);
};
enfocus.enlive.syntax.nth_child.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return enfocus.enlive.syntax.nth_op.call(null, "child", x, y);
};
enfocus.enlive.syntax.nth_child.cljs$lang$maxFixedArity = 2;
enfocus.enlive.syntax.nth_last_child = function enfocus$enlive$syntax$nth_last_child(var_args) {
  var args13495 = [];
  var len__7214__auto___13498 = arguments.length;
  var i__7215__auto___13499 = 0;
  while (true) {
    if (i__7215__auto___13499 < len__7214__auto___13498) {
      args13495.push(arguments[i__7215__auto___13499]);
      var G__13500 = i__7215__auto___13499 + 1;
      i__7215__auto___13499 = G__13500;
      continue;
    } else {
    }
    break;
  }
  var G__13497 = args13495.length;
  switch(G__13497) {
    case 1:
      return enfocus.enlive.syntax.nth_last_child.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.enlive.syntax.nth_last_child.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13495.length)].join(""));;
  }
};
enfocus.enlive.syntax.nth_last_child.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return enfocus.enlive.syntax.nth_op.call(null, "last-child", x);
};
enfocus.enlive.syntax.nth_last_child.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return enfocus.enlive.syntax.nth_op.call(null, "last-child", x, y);
};
enfocus.enlive.syntax.nth_last_child.cljs$lang$maxFixedArity = 2;
enfocus.enlive.syntax.nth_of_type = function enfocus$enlive$syntax$nth_of_type(var_args) {
  var args13502 = [];
  var len__7214__auto___13505 = arguments.length;
  var i__7215__auto___13506 = 0;
  while (true) {
    if (i__7215__auto___13506 < len__7214__auto___13505) {
      args13502.push(arguments[i__7215__auto___13506]);
      var G__13507 = i__7215__auto___13506 + 1;
      i__7215__auto___13506 = G__13507;
      continue;
    } else {
    }
    break;
  }
  var G__13504 = args13502.length;
  switch(G__13504) {
    case 1:
      return enfocus.enlive.syntax.nth_of_type.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.enlive.syntax.nth_of_type.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13502.length)].join(""));;
  }
};
enfocus.enlive.syntax.nth_of_type.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return enfocus.enlive.syntax.nth_op.call(null, "of-type", x);
};
enfocus.enlive.syntax.nth_of_type.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return enfocus.enlive.syntax.nth_op.call(null, "of-type", x, y);
};
enfocus.enlive.syntax.nth_of_type.cljs$lang$maxFixedArity = 2;
enfocus.enlive.syntax.nth_last_of_type = function enfocus$enlive$syntax$nth_last_of_type(var_args) {
  var args13509 = [];
  var len__7214__auto___13512 = arguments.length;
  var i__7215__auto___13513 = 0;
  while (true) {
    if (i__7215__auto___13513 < len__7214__auto___13512) {
      args13509.push(arguments[i__7215__auto___13513]);
      var G__13514 = i__7215__auto___13513 + 1;
      i__7215__auto___13513 = G__13514;
      continue;
    } else {
    }
    break;
  }
  var G__13511 = args13509.length;
  switch(G__13511) {
    case 1:
      return enfocus.enlive.syntax.nth_last_of_type.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.enlive.syntax.nth_last_of_type.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13509.length)].join(""));;
  }
};
enfocus.enlive.syntax.nth_last_of_type.cljs$core$IFn$_invoke$arity$1 = function(x) {
  return enfocus.enlive.syntax.nth_op.call(null, "last-of-type", x);
};
enfocus.enlive.syntax.nth_last_of_type.cljs$core$IFn$_invoke$arity$2 = function(x, y) {
  return enfocus.enlive.syntax.nth_op.call(null, "last-of-type", x, y);
};
enfocus.enlive.syntax.nth_last_of_type.cljs$lang$maxFixedArity = 2;
enfocus.enlive.syntax.but = function enfocus$enlive$syntax$but(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13517 = arguments.length;
  var i__7215__auto___13518 = 0;
  while (true) {
    if (i__7215__auto___13518 < len__7214__auto___13517) {
      args__7221__auto__.push(arguments[i__7215__auto___13518]);
      var G__13519 = i__7215__auto___13518 + 1;
      i__7215__auto___13518 = G__13519;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.enlive.syntax.but.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.enlive.syntax.but.cljs$core$IFn$_invoke$arity$variadic = function(sel) {
  return [cljs.core.str("not("), cljs.core.str(enfocus.enlive.syntax.convert.call(null, sel)), cljs.core.str(")")].join("");
};
enfocus.enlive.syntax.but.cljs$lang$maxFixedArity = 0;
enfocus.enlive.syntax.but.cljs$lang$applyTo = function(seq13516) {
  return enfocus.enlive.syntax.but.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13516));
};
goog.provide("goog.Delay");
goog.provide("goog.async.Delay");
goog.require("goog.Disposable");
goog.require("goog.Timer");
goog.async.Delay = function(listener, opt_interval, opt_handler) {
  goog.async.Delay.base(this, "constructor");
  this.listener_ = listener;
  this.interval_ = opt_interval || 0;
  this.handler_ = opt_handler;
  this.callback_ = goog.bind(this.doAction_, this);
};
goog.inherits(goog.async.Delay, goog.Disposable);
goog.Delay = goog.async.Delay;
goog.async.Delay.prototype.id_ = 0;
goog.async.Delay.prototype.disposeInternal = function() {
  goog.async.Delay.base(this, "disposeInternal");
  this.stop();
  delete this.listener_;
  delete this.handler_;
};
goog.async.Delay.prototype.start = function(opt_interval) {
  this.stop();
  this.id_ = goog.Timer.callOnce(this.callback_, goog.isDef(opt_interval) ? opt_interval : this.interval_);
};
goog.async.Delay.prototype.startIfNotActive = function(opt_interval) {
  if (!this.isActive()) {
    this.start(opt_interval);
  }
};
goog.async.Delay.prototype.stop = function() {
  if (this.isActive()) {
    goog.Timer.clear(this.id_);
  }
  this.id_ = 0;
};
goog.async.Delay.prototype.fire = function() {
  this.stop();
  this.doAction_();
};
goog.async.Delay.prototype.fireIfActive = function() {
  if (this.isActive()) {
    this.fire();
  }
};
goog.async.Delay.prototype.isActive = function() {
  return this.id_ != 0;
};
goog.async.Delay.prototype.doAction_ = function() {
  this.id_ = 0;
  if (this.listener_) {
    this.listener_.call(this.handler_);
  }
};
goog.provide("enfocus.core");
goog.require("cljs.core");
goog.require("goog.dom.forms");
goog.require("goog.dom.query");
goog.require("goog.dom");
goog.require("goog.dom.classes");
goog.require("domina.css");
goog.require("goog.Timer");
goog.require("goog.net.XhrIo");
goog.require("goog.dom.ViewportSizeMonitor");
goog.require("domina");
goog.require("goog.async.Delay");
goog.require("goog.events");
goog.require("domina.xpath");
goog.require("clojure.string");
goog.require("goog.style");
goog.require("enfocus.enlive.syntax");
enfocus.core.ISelector = function() {
};
enfocus.core.select = function enfocus$core$select(var_args) {
  var args13667 = [];
  var len__7214__auto___13670 = arguments.length;
  var i__7215__auto___13671 = 0;
  while (true) {
    if (i__7215__auto___13671 < len__7214__auto___13670) {
      args13667.push(arguments[i__7215__auto___13671]);
      var G__13672 = i__7215__auto___13671 + 1;
      i__7215__auto___13671 = G__13672;
      continue;
    } else {
    }
    break;
  }
  var G__13669 = args13667.length;
  switch(G__13669) {
    case 1:
      return enfocus.core.select.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.select.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return enfocus.core.select.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13667.length)].join(""));;
  }
};
enfocus.core.select.cljs$core$IFn$_invoke$arity$1 = function(this$) {
  if (!(this$ == null) && !(this$.enfocus$core$ISelector$select$arity$1 == null)) {
    return this$.enfocus$core$ISelector$select$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = enfocus.core.select[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = enfocus.core.select["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol.call(null, "ISelector.select", this$);
      }
    }
  }
};
enfocus.core.select.cljs$core$IFn$_invoke$arity$2 = function(this$, root) {
  if (!(this$ == null) && !(this$.enfocus$core$ISelector$select$arity$2 == null)) {
    return this$.enfocus$core$ISelector$select$arity$2(this$, root);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = enfocus.core.select[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, root);
    } else {
      var m__6812__auto____$1 = enfocus.core.select["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, root);
      } else {
        throw cljs.core.missing_protocol.call(null, "ISelector.select", this$);
      }
    }
  }
};
enfocus.core.select.cljs$core$IFn$_invoke$arity$3 = function(this$, root, id_mask) {
  if (!(this$ == null) && !(this$.enfocus$core$ISelector$select$arity$3 == null)) {
    return this$.enfocus$core$ISelector$select$arity$3(this$, root, id_mask);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = enfocus.core.select[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, root, id_mask);
    } else {
      var m__6812__auto____$1 = enfocus.core.select["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, root, id_mask);
      } else {
        throw cljs.core.missing_protocol.call(null, "ISelector.select", this$);
      }
    }
  }
};
enfocus.core.select.cljs$lang$maxFixedArity = 3;
enfocus.core.ITransform = function() {
};
enfocus.core.apply_transform = function enfocus$core$apply_transform(var_args) {
  var args13674 = [];
  var len__7214__auto___13677 = arguments.length;
  var i__7215__auto___13678 = 0;
  while (true) {
    if (i__7215__auto___13678 < len__7214__auto___13677) {
      args13674.push(arguments[i__7215__auto___13678]);
      var G__13679 = i__7215__auto___13678 + 1;
      i__7215__auto___13678 = G__13679;
      continue;
    } else {
    }
    break;
  }
  var G__13676 = args13674.length;
  switch(G__13676) {
    case 2:
      return enfocus.core.apply_transform.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return enfocus.core.apply_transform.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13674.length)].join(""));;
  }
};
enfocus.core.apply_transform.cljs$core$IFn$_invoke$arity$2 = function(this$, nodes) {
  if (!(this$ == null) && !(this$.enfocus$core$ITransform$apply_transform$arity$2 == null)) {
    return this$.enfocus$core$ITransform$apply_transform$arity$2(this$, nodes);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = enfocus.core.apply_transform[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, nodes);
    } else {
      var m__6812__auto____$1 = enfocus.core.apply_transform["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, nodes);
      } else {
        throw cljs.core.missing_protocol.call(null, "ITransform.apply-transform", this$);
      }
    }
  }
};
enfocus.core.apply_transform.cljs$core$IFn$_invoke$arity$3 = function(this$, nodes, callback) {
  if (!(this$ == null) && !(this$.enfocus$core$ITransform$apply_transform$arity$3 == null)) {
    return this$.enfocus$core$ITransform$apply_transform$arity$3(this$, nodes, callback);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = enfocus.core.apply_transform[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, nodes, callback);
    } else {
      var m__6812__auto____$1 = enfocus.core.apply_transform["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, nodes, callback);
      } else {
        throw cljs.core.missing_protocol.call(null, "ITransform.apply-transform", this$);
      }
    }
  }
};
enfocus.core.apply_transform.cljs$lang$maxFixedArity = 3;
enfocus.core.debug = false;
enfocus.core.log_debug = function enfocus$core$log_debug(mesg) {
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = enfocus.core.debug;
    if (cljs.core.truth_(and__6144__auto__)) {
      return !cljs.core._EQ_.call(null, window.console, undefined);
    } else {
      return and__6144__auto__;
    }
  }())) {
    return console.log(mesg);
  } else {
    return null;
  }
};
enfocus.core.setTimeout = function enfocus$core$setTimeout(func, ttime) {
  return goog.Timer.callOnce(func, ttime);
};
enfocus.core.node_QMARK_ = function enfocus$core$node_QMARK_(tst) {
  return goog.dom.isNodeLike(tst);
};
enfocus.core.nodelist_QMARK_ = function enfocus$core$nodelist_QMARK_(tst) {
  return tst instanceof NodeList;
};
enfocus.core.nodes__GT_coll = function enfocus$core$nodes__GT_coll(nl) {
  if (nl === window) {
    return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [nl], null);
  } else {
    return domina.nodes.call(null, nl);
  }
};
enfocus.core.flatten_nodes_coll = function enfocus$core$flatten_nodes_coll(values) {
  return cljs.core.mapcat.call(null, function(p1__13681_SHARP_) {
    if (typeof p1__13681_SHARP_ === "string") {
      return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [goog.dom.createTextNode(p1__13681_SHARP_)], null);
    } else {
      return enfocus.core.nodes__GT_coll.call(null, p1__13681_SHARP_);
    }
  }, values);
};
enfocus.core.style_set = function enfocus$core$style_set(obj, values) {
  var seq__13688_13694 = cljs.core.seq.call(null, cljs.core.apply.call(null, cljs.core.hash_map, values));
  var chunk__13689_13695 = null;
  var count__13690_13696 = 0;
  var i__13691_13697 = 0;
  while (true) {
    if (i__13691_13697 < count__13690_13696) {
      var vec__13692_13698 = cljs.core._nth.call(null, chunk__13689_13695, i__13691_13697);
      var attr_13699 = cljs.core.nth.call(null, vec__13692_13698, 0, null);
      var value_13700 = cljs.core.nth.call(null, vec__13692_13698, 1, null);
      goog.style.setStyle(obj, cljs.core.name.call(null, attr_13699), value_13700);
      var G__13701 = seq__13688_13694;
      var G__13702 = chunk__13689_13695;
      var G__13703 = count__13690_13696;
      var G__13704 = i__13691_13697 + 1;
      seq__13688_13694 = G__13701;
      chunk__13689_13695 = G__13702;
      count__13690_13696 = G__13703;
      i__13691_13697 = G__13704;
      continue;
    } else {
      var temp__4657__auto___13705 = cljs.core.seq.call(null, seq__13688_13694);
      if (temp__4657__auto___13705) {
        var seq__13688_13706__$1 = temp__4657__auto___13705;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__13688_13706__$1)) {
          var c__6959__auto___13707 = cljs.core.chunk_first.call(null, seq__13688_13706__$1);
          var G__13708 = cljs.core.chunk_rest.call(null, seq__13688_13706__$1);
          var G__13709 = c__6959__auto___13707;
          var G__13710 = cljs.core.count.call(null, c__6959__auto___13707);
          var G__13711 = 0;
          seq__13688_13694 = G__13708;
          chunk__13689_13695 = G__13709;
          count__13690_13696 = G__13710;
          i__13691_13697 = G__13711;
          continue;
        } else {
          var vec__13693_13712 = cljs.core.first.call(null, seq__13688_13706__$1);
          var attr_13713 = cljs.core.nth.call(null, vec__13693_13712, 0, null);
          var value_13714 = cljs.core.nth.call(null, vec__13693_13712, 1, null);
          goog.style.setStyle(obj, cljs.core.name.call(null, attr_13713), value_13714);
          var G__13715 = cljs.core.next.call(null, seq__13688_13706__$1);
          var G__13716 = null;
          var G__13717 = 0;
          var G__13718 = 0;
          seq__13688_13694 = G__13715;
          chunk__13689_13695 = G__13716;
          count__13690_13696 = G__13717;
          i__13691_13697 = G__13718;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return obj;
};
enfocus.core.style_remove = function enfocus$core$style_remove(obj, values) {
  var seq__13723 = cljs.core.seq.call(null, values);
  var chunk__13724 = null;
  var count__13725 = 0;
  var i__13726 = 0;
  while (true) {
    if (i__13726 < count__13725) {
      var attr = cljs.core._nth.call(null, chunk__13724, i__13726);
      if (cljs.core.truth_(goog.userAgent.IE)) {
        goog.style.setStyle(obj, cljs.core.name.call(null, attr), "");
      } else {
        obj.style.removeProperty(cljs.core.name.call(null, attr));
      }
      var G__13727 = seq__13723;
      var G__13728 = chunk__13724;
      var G__13729 = count__13725;
      var G__13730 = i__13726 + 1;
      seq__13723 = G__13727;
      chunk__13724 = G__13728;
      count__13725 = G__13729;
      i__13726 = G__13730;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq.call(null, seq__13723);
      if (temp__4657__auto__) {
        var seq__13723__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__13723__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13723__$1);
          var G__13731 = cljs.core.chunk_rest.call(null, seq__13723__$1);
          var G__13732 = c__6959__auto__;
          var G__13733 = cljs.core.count.call(null, c__6959__auto__);
          var G__13734 = 0;
          seq__13723 = G__13731;
          chunk__13724 = G__13732;
          count__13725 = G__13733;
          i__13726 = G__13734;
          continue;
        } else {
          var attr = cljs.core.first.call(null, seq__13723__$1);
          if (cljs.core.truth_(goog.userAgent.IE)) {
            goog.style.setStyle(obj, cljs.core.name.call(null, attr), "");
          } else {
            obj.style.removeProperty(cljs.core.name.call(null, attr));
          }
          var G__13735 = cljs.core.next.call(null, seq__13723__$1);
          var G__13736 = null;
          var G__13737 = 0;
          var G__13738 = 0;
          seq__13723 = G__13735;
          chunk__13724 = G__13736;
          count__13725 = G__13737;
          i__13726 = G__13738;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
enfocus.core.get_eff_prop_name = function enfocus$core$get_eff_prop_name(etype) {
  return [cljs.core.str("__ef_effect_"), cljs.core.str(etype)].join("");
};
enfocus.core.get_mills = function enfocus$core$get_mills() {
  return (new Date).getMilliseconds();
};
enfocus.core.pix_round = function enfocus$core$pix_round(step) {
  if (step < 0) {
    return Math.floor(step);
  } else {
    return Math.ceil(step);
  }
};
enfocus.core.add_map_attrs = function enfocus$core$add_map_attrs(var_args) {
  var args13739 = [];
  var len__7214__auto___13748 = arguments.length;
  var i__7215__auto___13749 = 0;
  while (true) {
    if (i__7215__auto___13749 < len__7214__auto___13748) {
      args13739.push(arguments[i__7215__auto___13749]);
      var G__13750 = i__7215__auto___13749 + 1;
      i__7215__auto___13749 = G__13750;
      continue;
    } else {
    }
    break;
  }
  var G__13741 = args13739.length;
  switch(G__13741) {
    case 2:
      return enfocus.core.add_map_attrs.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return enfocus.core.add_map_attrs.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13739.length)].join(""));;
  }
};
enfocus.core.add_map_attrs.cljs$core$IFn$_invoke$arity$2 = function(elem, ats) {
  if (cljs.core.truth_(elem)) {
    if (cljs.core.map_QMARK_.call(null, ats)) {
      var seq__13742_13752 = cljs.core.seq.call(null, ats);
      var chunk__13743_13753 = null;
      var count__13744_13754 = 0;
      var i__13745_13755 = 0;
      while (true) {
        if (i__13745_13755 < count__13744_13754) {
          var vec__13746_13756 = cljs.core._nth.call(null, chunk__13743_13753, i__13745_13755);
          var k_13757 = cljs.core.nth.call(null, vec__13746_13756, 0, null);
          var v_13758 = cljs.core.nth.call(null, vec__13746_13756, 1, null);
          enfocus.core.add_map_attrs.call(null, elem, k_13757, v_13758);
          var G__13759 = seq__13742_13752;
          var G__13760 = chunk__13743_13753;
          var G__13761 = count__13744_13754;
          var G__13762 = i__13745_13755 + 1;
          seq__13742_13752 = G__13759;
          chunk__13743_13753 = G__13760;
          count__13744_13754 = G__13761;
          i__13745_13755 = G__13762;
          continue;
        } else {
          var temp__4657__auto___13763 = cljs.core.seq.call(null, seq__13742_13752);
          if (temp__4657__auto___13763) {
            var seq__13742_13764__$1 = temp__4657__auto___13763;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__13742_13764__$1)) {
              var c__6959__auto___13765 = cljs.core.chunk_first.call(null, seq__13742_13764__$1);
              var G__13766 = cljs.core.chunk_rest.call(null, seq__13742_13764__$1);
              var G__13767 = c__6959__auto___13765;
              var G__13768 = cljs.core.count.call(null, c__6959__auto___13765);
              var G__13769 = 0;
              seq__13742_13752 = G__13766;
              chunk__13743_13753 = G__13767;
              count__13744_13754 = G__13768;
              i__13745_13755 = G__13769;
              continue;
            } else {
              var vec__13747_13770 = cljs.core.first.call(null, seq__13742_13764__$1);
              var k_13771 = cljs.core.nth.call(null, vec__13747_13770, 0, null);
              var v_13772 = cljs.core.nth.call(null, vec__13747_13770, 1, null);
              enfocus.core.add_map_attrs.call(null, elem, k_13771, v_13772);
              var G__13773 = cljs.core.next.call(null, seq__13742_13764__$1);
              var G__13774 = null;
              var G__13775 = 0;
              var G__13776 = 0;
              seq__13742_13752 = G__13773;
              chunk__13743_13753 = G__13774;
              count__13744_13754 = G__13775;
              i__13745_13755 = G__13776;
              continue;
            }
          } else {
          }
        }
        break;
      }
      return elem;
    } else {
      return null;
    }
  } else {
    return null;
  }
};
enfocus.core.add_map_attrs.cljs$core$IFn$_invoke$arity$3 = function(elem, k, v) {
  elem.setAttribute(cljs.core.name.call(null, k), v);
  return elem;
};
enfocus.core.add_map_attrs.cljs$lang$maxFixedArity = 3;
enfocus.core.tpl_load_cnt = cljs.core.atom.call(null, 0);
enfocus.core.tpl_cache = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
enfocus.core.hide_style = (new cljs.core.PersistentArrayMap(null, 1, ["style", "display: none; width: 0px; height: 0px"], null)).strobj;
enfocus.core.create_hidden_dom = function enfocus$core$create_hidden_dom(child) {
  var div = goog.dom.createDom("div", enfocus.core.hide_style);
  if (cljs.core._EQ_.call(null, child.nodeType, 11)) {
    goog.dom.appendChild(div, child);
  } else {
    enfocus.core.log_debug.call(null, cljs.core.count.call(null, domina.nodes.call(null, child)));
    var seq__13781_13785 = cljs.core.seq.call(null, domina.nodes.call(null, child));
    var chunk__13782_13786 = null;
    var count__13783_13787 = 0;
    var i__13784_13788 = 0;
    while (true) {
      if (i__13784_13788 < count__13783_13787) {
        var node_13789 = cljs.core._nth.call(null, chunk__13782_13786, i__13784_13788);
        goog.dom.appendChild(div, node_13789);
        var G__13790 = seq__13781_13785;
        var G__13791 = chunk__13782_13786;
        var G__13792 = count__13783_13787;
        var G__13793 = i__13784_13788 + 1;
        seq__13781_13785 = G__13790;
        chunk__13782_13786 = G__13791;
        count__13783_13787 = G__13792;
        i__13784_13788 = G__13793;
        continue;
      } else {
        var temp__4657__auto___13794 = cljs.core.seq.call(null, seq__13781_13785);
        if (temp__4657__auto___13794) {
          var seq__13781_13795__$1 = temp__4657__auto___13794;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13781_13795__$1)) {
            var c__6959__auto___13796 = cljs.core.chunk_first.call(null, seq__13781_13795__$1);
            var G__13797 = cljs.core.chunk_rest.call(null, seq__13781_13795__$1);
            var G__13798 = c__6959__auto___13796;
            var G__13799 = cljs.core.count.call(null, c__6959__auto___13796);
            var G__13800 = 0;
            seq__13781_13785 = G__13797;
            chunk__13782_13786 = G__13798;
            count__13783_13787 = G__13799;
            i__13784_13788 = G__13800;
            continue;
          } else {
            var node_13801 = cljs.core.first.call(null, seq__13781_13795__$1);
            goog.dom.appendChild(div, node_13801);
            var G__13802 = cljs.core.next.call(null, seq__13781_13795__$1);
            var G__13803 = null;
            var G__13804 = 0;
            var G__13805 = 0;
            seq__13781_13785 = G__13802;
            chunk__13782_13786 = G__13803;
            count__13783_13787 = G__13804;
            i__13784_13788 = G__13805;
            continue;
          }
        } else {
        }
      }
      break;
    }
  }
  goog.dom.appendChild(goog.dom.getDocument().documentElement, div);
  return div;
};
enfocus.core.remove_node_return_child = function enfocus$core$remove_node_return_child(div) {
  var child = div.childNodes;
  var frag = document.createDocumentFragment();
  goog.dom.append(frag, child);
  goog.dom.removeNode(div);
  return frag;
};
enfocus.core.last_element_child = function enfocus$core$last_element_child(node) {
  return goog.dom.getLastElementChild(node);
};
enfocus.core.replace_ids = function enfocus$core$replace_ids(var_args) {
  var args13806 = [];
  var len__7214__auto___13809 = arguments.length;
  var i__7215__auto___13810 = 0;
  while (true) {
    if (i__7215__auto___13810 < len__7214__auto___13809) {
      args13806.push(arguments[i__7215__auto___13810]);
      var G__13811 = i__7215__auto___13810 + 1;
      i__7215__auto___13810 = G__13811;
      continue;
    } else {
    }
    break;
  }
  var G__13808 = args13806.length;
  switch(G__13808) {
    case 1:
      return enfocus.core.replace_ids.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.replace_ids.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13806.length)].join(""));;
  }
};
enfocus.core.replace_ids.cljs$core$IFn$_invoke$arity$1 = function(text) {
  return enfocus.core.replace_ids.call(null, [cljs.core.str(cljs.core.name.call(null, cljs.core.gensym.call(null, "id"))), cljs.core.str("_")].join(""), text);
};
enfocus.core.replace_ids.cljs$core$IFn$_invoke$arity$2 = function(id_mask, text) {
  var re = new RegExp("(\x3c.*?\\sid\x3d['\"])(.*?)(['\"].*?\x3e)", "g");
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [id_mask, text.replace(re, function(re) {
    return function(a, b, c, d) {
      return [cljs.core.str(b), cljs.core.str(id_mask), cljs.core.str(c), cljs.core.str(d)].join("");
    };
  }(re))], null);
};
enfocus.core.replace_ids.cljs$lang$maxFixedArity = 2;
enfocus.core.reset_ids = function enfocus$core$reset_ids(sym, nod) {
  var id_nodes = enfocus.core.css_select.call(null, nod, "*[id]");
  var nod_col = enfocus.core.nodes__GT_coll.call(null, id_nodes);
  return cljs.core.doall.call(null, cljs.core.map.call(null, function(id_nodes, nod_col) {
    return function(p1__13813_SHARP_) {
      var id = p1__13813_SHARP_.getAttribute("id");
      var rid = id.replace(sym, "");
      return p1__13813_SHARP_.setAttribute("id", rid);
    };
  }(id_nodes, nod_col), nod_col));
};
enfocus.core.load_remote_dom = function enfocus$core$load_remote_dom(uri, dom_key, id_mask) {
  if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, dom_key) == null) {
    cljs.core.swap_BANG_.call(null, enfocus.core.tpl_load_cnt, cljs.core.inc);
    var req = new goog.net.XhrIo;
    var callback = function(req) {
      return function(req__$1) {
        var text = req__$1.getResponseText();
        var vec__13815 = enfocus.core.replace_ids.call(null, id_mask, text);
        var sym = cljs.core.nth.call(null, vec__13815, 0, null);
        var txt = cljs.core.nth.call(null, vec__13815, 1, null);
        return cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, dom_key, new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym, txt], null));
      };
    }(req);
    goog.events.listen(req, goog.net.EventType.COMPLETE, function(req, callback) {
      return function() {
        callback.call(null, req);
        return cljs.core.swap_BANG_.call(null, enfocus.core.tpl_load_cnt, cljs.core.dec);
      };
    }(req, callback));
    return req.send(uri, "GET");
  } else {
    return null;
  }
};
enfocus.core.html_to_dom = function enfocus$core$html_to_dom(html) {
  var dfa = enfocus.core.nodes__GT_coll.call(null, domina.html_to_dom.call(null, html));
  var frag = document.createDocumentFragment();
  enfocus.core.log_debug.call(null, cljs.core.count.call(null, dfa));
  var seq__13820_13824 = cljs.core.seq.call(null, dfa);
  var chunk__13821_13825 = null;
  var count__13822_13826 = 0;
  var i__13823_13827 = 0;
  while (true) {
    if (i__13823_13827 < count__13822_13826) {
      var df_13828 = cljs.core._nth.call(null, chunk__13821_13825, i__13823_13827);
      goog.dom.append(frag, df_13828);
      var G__13829 = seq__13820_13824;
      var G__13830 = chunk__13821_13825;
      var G__13831 = count__13822_13826;
      var G__13832 = i__13823_13827 + 1;
      seq__13820_13824 = G__13829;
      chunk__13821_13825 = G__13830;
      count__13822_13826 = G__13831;
      i__13823_13827 = G__13832;
      continue;
    } else {
      var temp__4657__auto___13833 = cljs.core.seq.call(null, seq__13820_13824);
      if (temp__4657__auto___13833) {
        var seq__13820_13834__$1 = temp__4657__auto___13833;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__13820_13834__$1)) {
          var c__6959__auto___13835 = cljs.core.chunk_first.call(null, seq__13820_13834__$1);
          var G__13836 = cljs.core.chunk_rest.call(null, seq__13820_13834__$1);
          var G__13837 = c__6959__auto___13835;
          var G__13838 = cljs.core.count.call(null, c__6959__auto___13835);
          var G__13839 = 0;
          seq__13820_13824 = G__13836;
          chunk__13821_13825 = G__13837;
          count__13822_13826 = G__13838;
          i__13823_13827 = G__13839;
          continue;
        } else {
          var df_13840 = cljs.core.first.call(null, seq__13820_13834__$1);
          goog.dom.append(frag, df_13840);
          var G__13841 = cljs.core.next.call(null, seq__13820_13834__$1);
          var G__13842 = null;
          var G__13843 = 0;
          var G__13844 = 0;
          seq__13820_13824 = G__13841;
          chunk__13821_13825 = G__13842;
          count__13822_13826 = G__13843;
          i__13823_13827 = G__13844;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return frag;
};
enfocus.core.get_cached_dom = function enfocus$core$get_cached_dom(uri) {
  var nod = cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, uri);
  if (cljs.core.truth_(nod)) {
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.first.call(null, nod), enfocus.core.html_to_dom.call(null, cljs.core.second.call(null, nod))], null);
  } else {
    return null;
  }
};
enfocus.core.get_cached_snippet = function enfocus$core$get_cached_snippet(uri, sel) {
  var sel_str = enfocus.core.create_sel_str.call(null, sel);
  var cache = cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, [cljs.core.str(uri), cljs.core.str(sel_str)].join(""));
  if (cljs.core.truth_(cache)) {
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.first.call(null, cache), enfocus.core.html_to_dom.call(null, cljs.core.second.call(null, cache))], null);
  } else {
    var vec__13847 = enfocus.core.get_cached_dom.call(null, uri);
    var sym = cljs.core.nth.call(null, vec__13847, 0, null);
    var tdom = cljs.core.nth.call(null, vec__13847, 1, null);
    var dom = enfocus.core.create_hidden_dom.call(null, tdom);
    var tsnip = domina.nodes.call(null, enfocus.core.css_select.call(null, sym, dom, sel));
    var html_snip = cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, function(vec__13847, sym, tdom, dom, tsnip, sel_str, cache) {
      return function(p1__13845_SHARP_) {
        return p1__13845_SHARP_.outerHTML;
      };
    }(vec__13847, sym, tdom, dom, tsnip, sel_str, cache), tsnip));
    enfocus.core.remove_node_return_child.call(null, dom);
    cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, [cljs.core.str(uri), cljs.core.str(sel_str)].join(""), new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym, html_snip], null));
    return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym, enfocus.core.html_to_dom.call(null, html_snip)], null);
  }
};
enfocus.core.extr_multi_node = function enfocus$core$extr_multi_node(var_args) {
  var args13848 = [];
  var len__7214__auto___13855 = arguments.length;
  var i__7215__auto___13856 = 0;
  while (true) {
    if (i__7215__auto___13856 < len__7214__auto___13855) {
      args13848.push(arguments[i__7215__auto___13856]);
      var G__13857 = i__7215__auto___13856 + 1;
      i__7215__auto___13856 = G__13857;
      continue;
    } else {
    }
    break;
  }
  var G__13850 = args13848.length;
  switch(G__13850) {
    case 1:
      return enfocus.core.extr_multi_node.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.extr_multi_node.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13848.length)].join(""));;
  }
};
enfocus.core.extr_multi_node.cljs$core$IFn$_invoke$arity$1 = function(func) {
  return enfocus.core.extr_multi_node.call(null, func, null);
};
enfocus.core.extr_multi_node.cljs$core$IFn$_invoke$arity$2 = function(func, filt) {
  var trans = function enfocus$core$trans(pnodes, chain) {
    var pnod_col = enfocus.core.nodes__GT_coll.call(null, pnodes);
    var result = cljs.core.map.call(null, func, pnod_col);
    var result__$1 = cljs.core.truth_(filt) ? cljs.core.filter.call(null, filt, result) : result;
    if (cljs.core.count.call(null, result__$1) <= 1) {
      return cljs.core.first.call(null, result__$1);
    } else {
      return result__$1;
    }
  };
  if (typeof enfocus.core.t_enfocus$core13851 !== "undefined") {
  } else {
    enfocus.core.t_enfocus$core13851 = function(func, filt, trans, meta13852) {
      this.func = func;
      this.filt = filt;
      this.trans = trans;
      this.meta13852 = meta13852;
      this.cljs$lang$protocol_mask$partition0$ = 393217;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    enfocus.core.t_enfocus$core13851.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(trans) {
      return function(_13853, meta13852__$1) {
        var self__ = this;
        var _13853__$1 = this;
        return new enfocus.core.t_enfocus$core13851(self__.func, self__.filt, self__.trans, meta13852__$1);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.cljs$core$IMeta$_meta$arity$1 = function(trans) {
      return function(_13853) {
        var self__ = this;
        var _13853__$1 = this;
        return self__.meta13852;
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.enfocus$core$ITransform$ = true;
    enfocus.core.t_enfocus$core13851.prototype.enfocus$core$ITransform$apply_transform$arity$2 = function(trans) {
      return function(_, nodes) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.enfocus$core$ITransform$apply_transform$arity$3 = function(trans) {
      return function(_, nodes, chain) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.call = function(trans) {
      return function() {
        var G__13859 = null;
        var G__13859__2 = function(self__, nodes) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, null);
        };
        var G__13859__3 = function(self__, nodes, chain) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, chain);
        };
        G__13859 = function(self__, nodes, chain) {
          switch(arguments.length) {
            case 2:
              return G__13859__2.call(this, self__, nodes);
            case 3:
              return G__13859__3.call(this, self__, nodes, chain);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__13859.cljs$core$IFn$_invoke$arity$2 = G__13859__2;
        G__13859.cljs$core$IFn$_invoke$arity$3 = G__13859__3;
        return G__13859;
      }();
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.apply = function(trans) {
      return function(self__, args13854) {
        var self__ = this;
        var self____$1 = this;
        return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone.call(null, args13854)));
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.cljs$core$IFn$_invoke$arity$1 = function(trans) {
      return function(nodes) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.prototype.cljs$core$IFn$_invoke$arity$2 = function(trans) {
      return function(nodes, chain) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.getBasis = function(trans) {
      return function() {
        return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "func", "func", 1401825487, null), new cljs.core.Symbol(null, "filt", "filt", 1809760609, null), new cljs.core.Symbol(null, "trans", "trans", 322027676, null), new cljs.core.Symbol(null, "meta13852", "meta13852", 1025156607, null)], null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13851.cljs$lang$type = true;
    enfocus.core.t_enfocus$core13851.cljs$lang$ctorStr = "enfocus.core/t_enfocus$core13851";
    enfocus.core.t_enfocus$core13851.cljs$lang$ctorPrWriter = function(trans) {
      return function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
        return cljs.core._write.call(null, writer__6755__auto__, "enfocus.core/t_enfocus$core13851");
      };
    }(trans);
    enfocus.core.__GT_t_enfocus$core13851 = function(trans) {
      return function enfocus$core$__GT_t_enfocus$core13851(func__$1, filt__$1, trans__$1, meta13852) {
        return new enfocus.core.t_enfocus$core13851(func__$1, filt__$1, trans__$1, meta13852);
      };
    }(trans);
  }
  return new enfocus.core.t_enfocus$core13851(func, filt, trans, cljs.core.PersistentArrayMap.EMPTY);
};
enfocus.core.extr_multi_node.cljs$lang$maxFixedArity = 2;
enfocus.core.multi_node_chain = function enfocus$core$multi_node_chain(var_args) {
  var args13861 = [];
  var len__7214__auto___13872 = arguments.length;
  var i__7215__auto___13873 = 0;
  while (true) {
    if (i__7215__auto___13873 < len__7214__auto___13872) {
      args13861.push(arguments[i__7215__auto___13873]);
      var G__13874 = i__7215__auto___13873 + 1;
      i__7215__auto___13873 = G__13874;
      continue;
    } else {
    }
    break;
  }
  var G__13863 = args13861.length;
  switch(G__13863) {
    case 1:
      return enfocus.core.multi_node_chain.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.multi_node_chain.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13861.length)].join(""));;
  }
};
enfocus.core.multi_node_chain.cljs$core$IFn$_invoke$arity$1 = function(func) {
  var trans = function(nodes, chain) {
    var val = func.call(null, nodes);
    if (cljs.core.truth_(chain)) {
      return enfocus.core.apply_transform.call(null, chain, nodes);
    } else {
      return val;
    }
  };
  if (typeof enfocus.core.t_enfocus$core13864 !== "undefined") {
  } else {
    enfocus.core.t_enfocus$core13864 = function(func, trans, meta13865) {
      this.func = func;
      this.trans = trans;
      this.meta13865 = meta13865;
      this.cljs$lang$protocol_mask$partition0$ = 393217;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    enfocus.core.t_enfocus$core13864.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(trans) {
      return function(_13866, meta13865__$1) {
        var self__ = this;
        var _13866__$1 = this;
        return new enfocus.core.t_enfocus$core13864(self__.func, self__.trans, meta13865__$1);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.cljs$core$IMeta$_meta$arity$1 = function(trans) {
      return function(_13866) {
        var self__ = this;
        var _13866__$1 = this;
        return self__.meta13865;
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.enfocus$core$ITransform$ = true;
    enfocus.core.t_enfocus$core13864.prototype.enfocus$core$ITransform$apply_transform$arity$2 = function(trans) {
      return function(_, nodes) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.enfocus$core$ITransform$apply_transform$arity$3 = function(trans) {
      return function(_, nodes, chain) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.call = function(trans) {
      return function() {
        var G__13876 = null;
        var G__13876__2 = function(self__, nodes) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, null);
        };
        var G__13876__3 = function(self__, nodes, chain) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, chain);
        };
        G__13876 = function(self__, nodes, chain) {
          switch(arguments.length) {
            case 2:
              return G__13876__2.call(this, self__, nodes);
            case 3:
              return G__13876__3.call(this, self__, nodes, chain);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__13876.cljs$core$IFn$_invoke$arity$2 = G__13876__2;
        G__13876.cljs$core$IFn$_invoke$arity$3 = G__13876__3;
        return G__13876;
      }();
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.apply = function(trans) {
      return function(self__, args13867) {
        var self__ = this;
        var self____$1 = this;
        return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone.call(null, args13867)));
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.cljs$core$IFn$_invoke$arity$1 = function(trans) {
      return function(nodes) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.prototype.cljs$core$IFn$_invoke$arity$2 = function(trans) {
      return function(nodes, chain) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.getBasis = function(trans) {
      return function() {
        return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "func", "func", 1401825487, null), new cljs.core.Symbol(null, "trans", "trans", 322027676, null), new cljs.core.Symbol(null, "meta13865", "meta13865", -1951013680, null)], null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13864.cljs$lang$type = true;
    enfocus.core.t_enfocus$core13864.cljs$lang$ctorStr = "enfocus.core/t_enfocus$core13864";
    enfocus.core.t_enfocus$core13864.cljs$lang$ctorPrWriter = function(trans) {
      return function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
        return cljs.core._write.call(null, writer__6755__auto__, "enfocus.core/t_enfocus$core13864");
      };
    }(trans);
    enfocus.core.__GT_t_enfocus$core13864 = function(trans) {
      return function enfocus$core$__GT_t_enfocus$core13864(func__$1, trans__$1, meta13865) {
        return new enfocus.core.t_enfocus$core13864(func__$1, trans__$1, meta13865);
      };
    }(trans);
  }
  return new enfocus.core.t_enfocus$core13864(func, trans, cljs.core.PersistentArrayMap.EMPTY);
};
enfocus.core.multi_node_chain.cljs$core$IFn$_invoke$arity$2 = function(values, func) {
  var trans = function(nodes, chain) {
    var vnodes = cljs.core.mapcat.call(null, function(p1__13860_SHARP_) {
      return domina.nodes.call(null, p1__13860_SHARP_);
    }, values);
    var val = func.call(null, nodes, vnodes);
    if (cljs.core.truth_(chain)) {
      return enfocus.core.apply_transform.call(null, chain, nodes);
    } else {
      return val;
    }
  };
  if (typeof enfocus.core.t_enfocus$core13868 !== "undefined") {
  } else {
    enfocus.core.t_enfocus$core13868 = function(values, func, trans, meta13869) {
      this.values = values;
      this.func = func;
      this.trans = trans;
      this.meta13869 = meta13869;
      this.cljs$lang$protocol_mask$partition0$ = 393217;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    enfocus.core.t_enfocus$core13868.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(trans) {
      return function(_13870, meta13869__$1) {
        var self__ = this;
        var _13870__$1 = this;
        return new enfocus.core.t_enfocus$core13868(self__.values, self__.func, self__.trans, meta13869__$1);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.cljs$core$IMeta$_meta$arity$1 = function(trans) {
      return function(_13870) {
        var self__ = this;
        var _13870__$1 = this;
        return self__.meta13869;
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.enfocus$core$ITransform$ = true;
    enfocus.core.t_enfocus$core13868.prototype.enfocus$core$ITransform$apply_transform$arity$2 = function(trans) {
      return function(_, nodes) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.enfocus$core$ITransform$apply_transform$arity$3 = function(trans) {
      return function(_, nodes, chain) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.call = function(trans) {
      return function() {
        var G__13877 = null;
        var G__13877__2 = function(self__, nodes) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, null);
        };
        var G__13877__3 = function(self__, nodes, chain) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, chain);
        };
        G__13877 = function(self__, nodes, chain) {
          switch(arguments.length) {
            case 2:
              return G__13877__2.call(this, self__, nodes);
            case 3:
              return G__13877__3.call(this, self__, nodes, chain);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__13877.cljs$core$IFn$_invoke$arity$2 = G__13877__2;
        G__13877.cljs$core$IFn$_invoke$arity$3 = G__13877__3;
        return G__13877;
      }();
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.apply = function(trans) {
      return function(self__, args13871) {
        var self__ = this;
        var self____$1 = this;
        return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone.call(null, args13871)));
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.cljs$core$IFn$_invoke$arity$1 = function(trans) {
      return function(nodes) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.prototype.cljs$core$IFn$_invoke$arity$2 = function(trans) {
      return function(nodes, chain) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.getBasis = function(trans) {
      return function() {
        return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null, "values", "values", 2013177083, null), new cljs.core.Symbol(null, "func", "func", 1401825487, null), new cljs.core.Symbol(null, "trans", "trans", 322027676, null), new cljs.core.Symbol(null, "meta13869", "meta13869", -1173818835, null)], null);
      };
    }(trans);
    enfocus.core.t_enfocus$core13868.cljs$lang$type = true;
    enfocus.core.t_enfocus$core13868.cljs$lang$ctorStr = "enfocus.core/t_enfocus$core13868";
    enfocus.core.t_enfocus$core13868.cljs$lang$ctorPrWriter = function(trans) {
      return function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
        return cljs.core._write.call(null, writer__6755__auto__, "enfocus.core/t_enfocus$core13868");
      };
    }(trans);
    enfocus.core.__GT_t_enfocus$core13868 = function(trans) {
      return function enfocus$core$__GT_t_enfocus$core13868(values__$1, func__$1, trans__$1, meta13869) {
        return new enfocus.core.t_enfocus$core13868(values__$1, func__$1, trans__$1, meta13869);
      };
    }(trans);
  }
  return new enfocus.core.t_enfocus$core13868(values, func, trans, cljs.core.PersistentArrayMap.EMPTY);
};
enfocus.core.multi_node_chain.cljs$lang$maxFixedArity = 2;
enfocus.core.content = function enfocus$core$content(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13881 = arguments.length;
  var i__7215__auto___13882 = 0;
  while (true) {
    if (i__7215__auto___13882 < len__7214__auto___13881) {
      args__7221__auto__.push(arguments[i__7215__auto___13882]);
      var G__13883 = i__7215__auto___13882 + 1;
      i__7215__auto___13882 = G__13883;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.content.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.content.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__13878_SHARP_, p2__13879_SHARP_) {
    domina.destroy_children_BANG_.call(null, p1__13878_SHARP_);
    return domina.append_BANG_.call(null, p1__13878_SHARP_, p2__13879_SHARP_);
  });
};
enfocus.core.content.cljs$lang$maxFixedArity = 0;
enfocus.core.content.cljs$lang$applyTo = function(seq13880) {
  return enfocus.core.content.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13880));
};
enfocus.core.html_content = function enfocus$core$html_content(txt) {
  return enfocus.core.multi_node_chain.call(null, function(p1__13884_SHARP_) {
    return domina.set_html_BANG_.call(null, p1__13884_SHARP_, txt);
  });
};
enfocus.core.set_attr = function enfocus$core$set_attr(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13893 = arguments.length;
  var i__7215__auto___13894 = 0;
  while (true) {
    if (i__7215__auto___13894 < len__7214__auto___13893) {
      args__7221__auto__.push(arguments[i__7215__auto___13894]);
      var G__13895 = i__7215__auto___13894 + 1;
      i__7215__auto___13894 = G__13895;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.set_attr.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.set_attr.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  var pairs = cljs.core.partition.call(null, 2, values);
  return enfocus.core.multi_node_chain.call(null, function(pairs) {
    return function(p1__13885_SHARP_) {
      var seq__13887 = cljs.core.seq.call(null, pairs);
      var chunk__13888 = null;
      var count__13889 = 0;
      var i__13890 = 0;
      while (true) {
        if (i__13890 < count__13889) {
          var vec__13891 = cljs.core._nth.call(null, chunk__13888, i__13890);
          var name = cljs.core.nth.call(null, vec__13891, 0, null);
          var value = cljs.core.nth.call(null, vec__13891, 1, null);
          domina.set_attr_BANG_.call(null, p1__13885_SHARP_, name, value);
          var G__13896 = seq__13887;
          var G__13897 = chunk__13888;
          var G__13898 = count__13889;
          var G__13899 = i__13890 + 1;
          seq__13887 = G__13896;
          chunk__13888 = G__13897;
          count__13889 = G__13898;
          i__13890 = G__13899;
          continue;
        } else {
          var temp__4657__auto__ = cljs.core.seq.call(null, seq__13887);
          if (temp__4657__auto__) {
            var seq__13887__$1 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__13887__$1)) {
              var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13887__$1);
              var G__13900 = cljs.core.chunk_rest.call(null, seq__13887__$1);
              var G__13901 = c__6959__auto__;
              var G__13902 = cljs.core.count.call(null, c__6959__auto__);
              var G__13903 = 0;
              seq__13887 = G__13900;
              chunk__13888 = G__13901;
              count__13889 = G__13902;
              i__13890 = G__13903;
              continue;
            } else {
              var vec__13892 = cljs.core.first.call(null, seq__13887__$1);
              var name = cljs.core.nth.call(null, vec__13892, 0, null);
              var value = cljs.core.nth.call(null, vec__13892, 1, null);
              domina.set_attr_BANG_.call(null, p1__13885_SHARP_, name, value);
              var G__13904 = cljs.core.next.call(null, seq__13887__$1);
              var G__13905 = null;
              var G__13906 = 0;
              var G__13907 = 0;
              seq__13887 = G__13904;
              chunk__13888 = G__13905;
              count__13889 = G__13906;
              i__13890 = G__13907;
              continue;
            }
          } else {
            return null;
          }
        }
        break;
      }
    };
  }(pairs));
};
enfocus.core.set_attr.cljs$lang$maxFixedArity = 0;
enfocus.core.set_attr.cljs$lang$applyTo = function(seq13886) {
  return enfocus.core.set_attr.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13886));
};
enfocus.core.remove_attr = function enfocus$core$remove_attr(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13914 = arguments.length;
  var i__7215__auto___13915 = 0;
  while (true) {
    if (i__7215__auto___13915 < len__7214__auto___13914) {
      args__7221__auto__.push(arguments[i__7215__auto___13915]);
      var G__13916 = i__7215__auto___13915 + 1;
      i__7215__auto___13915 = G__13916;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.remove_attr.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.remove_attr.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, function(p1__13908_SHARP_) {
    var seq__13910 = cljs.core.seq.call(null, values);
    var chunk__13911 = null;
    var count__13912 = 0;
    var i__13913 = 0;
    while (true) {
      if (i__13913 < count__13912) {
        var name = cljs.core._nth.call(null, chunk__13911, i__13913);
        domina.remove_attr_BANG_.call(null, p1__13908_SHARP_, name);
        var G__13917 = seq__13910;
        var G__13918 = chunk__13911;
        var G__13919 = count__13912;
        var G__13920 = i__13913 + 1;
        seq__13910 = G__13917;
        chunk__13911 = G__13918;
        count__13912 = G__13919;
        i__13913 = G__13920;
        continue;
      } else {
        var temp__4657__auto__ = cljs.core.seq.call(null, seq__13910);
        if (temp__4657__auto__) {
          var seq__13910__$1 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13910__$1)) {
            var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13910__$1);
            var G__13921 = cljs.core.chunk_rest.call(null, seq__13910__$1);
            var G__13922 = c__6959__auto__;
            var G__13923 = cljs.core.count.call(null, c__6959__auto__);
            var G__13924 = 0;
            seq__13910 = G__13921;
            chunk__13911 = G__13922;
            count__13912 = G__13923;
            i__13913 = G__13924;
            continue;
          } else {
            var name = cljs.core.first.call(null, seq__13910__$1);
            domina.remove_attr_BANG_.call(null, p1__13908_SHARP_, name);
            var G__13925 = cljs.core.next.call(null, seq__13910__$1);
            var G__13926 = null;
            var G__13927 = 0;
            var G__13928 = 0;
            seq__13910 = G__13925;
            chunk__13911 = G__13926;
            count__13912 = G__13927;
            i__13913 = G__13928;
            continue;
          }
        } else {
          return null;
        }
      }
      break;
    }
  });
};
enfocus.core.remove_attr.cljs$lang$maxFixedArity = 0;
enfocus.core.remove_attr.cljs$lang$applyTo = function(seq13909) {
  return enfocus.core.remove_attr.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13909));
};
enfocus.core.set_prop = function enfocus$core$set_prop(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13932 = arguments.length;
  var i__7215__auto___13933 = 0;
  while (true) {
    if (i__7215__auto___13933 < len__7214__auto___13932) {
      args__7221__auto__.push(arguments[i__7215__auto___13933]);
      var G__13934 = i__7215__auto___13933 + 1;
      i__7215__auto___13933 = G__13934;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.set_prop.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.set_prop.cljs$core$IFn$_invoke$arity$variadic = function(forms) {
  return function(node) {
    var h = cljs.core.mapcat.call(null, function(p__13930) {
      var vec__13931 = p__13930;
      var n = cljs.core.nth.call(null, vec__13931, 0, null);
      var v = cljs.core.nth.call(null, vec__13931, 1, null);
      return cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, v), cljs.core.name.call(null, n));
    }, cljs.core.partition.call(null, 2, forms));
    return goog.dom.setProperties(node, cljs.core.apply.call(null, cljs.core.js_obj, h));
  };
};
enfocus.core.set_prop.cljs$lang$maxFixedArity = 0;
enfocus.core.set_prop.cljs$lang$applyTo = function(seq13929) {
  return enfocus.core.set_prop.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13929));
};
enfocus.core.has_class = function enfocus$core$has_class(el, cls) {
  return goog.dom.classes.hasClass(el, cls);
};
enfocus.core.add_class = function enfocus$core$add_class(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13941 = arguments.length;
  var i__7215__auto___13942 = 0;
  while (true) {
    if (i__7215__auto___13942 < len__7214__auto___13941) {
      args__7221__auto__.push(arguments[i__7215__auto___13942]);
      var G__13943 = i__7215__auto___13942 + 1;
      i__7215__auto___13942 = G__13943;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.add_class.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.add_class.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, function(p1__13935_SHARP_) {
    var seq__13937 = cljs.core.seq.call(null, values);
    var chunk__13938 = null;
    var count__13939 = 0;
    var i__13940 = 0;
    while (true) {
      if (i__13940 < count__13939) {
        var val = cljs.core._nth.call(null, chunk__13938, i__13940);
        domina.add_class_BANG_.call(null, p1__13935_SHARP_, val);
        var G__13944 = seq__13937;
        var G__13945 = chunk__13938;
        var G__13946 = count__13939;
        var G__13947 = i__13940 + 1;
        seq__13937 = G__13944;
        chunk__13938 = G__13945;
        count__13939 = G__13946;
        i__13940 = G__13947;
        continue;
      } else {
        var temp__4657__auto__ = cljs.core.seq.call(null, seq__13937);
        if (temp__4657__auto__) {
          var seq__13937__$1 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13937__$1)) {
            var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13937__$1);
            var G__13948 = cljs.core.chunk_rest.call(null, seq__13937__$1);
            var G__13949 = c__6959__auto__;
            var G__13950 = cljs.core.count.call(null, c__6959__auto__);
            var G__13951 = 0;
            seq__13937 = G__13948;
            chunk__13938 = G__13949;
            count__13939 = G__13950;
            i__13940 = G__13951;
            continue;
          } else {
            var val = cljs.core.first.call(null, seq__13937__$1);
            domina.add_class_BANG_.call(null, p1__13935_SHARP_, val);
            var G__13952 = cljs.core.next.call(null, seq__13937__$1);
            var G__13953 = null;
            var G__13954 = 0;
            var G__13955 = 0;
            seq__13937 = G__13952;
            chunk__13938 = G__13953;
            count__13939 = G__13954;
            i__13940 = G__13955;
            continue;
          }
        } else {
          return null;
        }
      }
      break;
    }
  });
};
enfocus.core.add_class.cljs$lang$maxFixedArity = 0;
enfocus.core.add_class.cljs$lang$applyTo = function(seq13936) {
  return enfocus.core.add_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13936));
};
enfocus.core.remove_class = function enfocus$core$remove_class(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13962 = arguments.length;
  var i__7215__auto___13963 = 0;
  while (true) {
    if (i__7215__auto___13963 < len__7214__auto___13962) {
      args__7221__auto__.push(arguments[i__7215__auto___13963]);
      var G__13964 = i__7215__auto___13963 + 1;
      i__7215__auto___13963 = G__13964;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.remove_class.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.remove_class.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, function(p1__13956_SHARP_) {
    var seq__13958 = cljs.core.seq.call(null, values);
    var chunk__13959 = null;
    var count__13960 = 0;
    var i__13961 = 0;
    while (true) {
      if (i__13961 < count__13960) {
        var val = cljs.core._nth.call(null, chunk__13959, i__13961);
        domina.remove_class_BANG_.call(null, p1__13956_SHARP_, val);
        var G__13965 = seq__13958;
        var G__13966 = chunk__13959;
        var G__13967 = count__13960;
        var G__13968 = i__13961 + 1;
        seq__13958 = G__13965;
        chunk__13959 = G__13966;
        count__13960 = G__13967;
        i__13961 = G__13968;
        continue;
      } else {
        var temp__4657__auto__ = cljs.core.seq.call(null, seq__13958);
        if (temp__4657__auto__) {
          var seq__13958__$1 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13958__$1)) {
            var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13958__$1);
            var G__13969 = cljs.core.chunk_rest.call(null, seq__13958__$1);
            var G__13970 = c__6959__auto__;
            var G__13971 = cljs.core.count.call(null, c__6959__auto__);
            var G__13972 = 0;
            seq__13958 = G__13969;
            chunk__13959 = G__13970;
            count__13960 = G__13971;
            i__13961 = G__13972;
            continue;
          } else {
            var val = cljs.core.first.call(null, seq__13958__$1);
            domina.remove_class_BANG_.call(null, p1__13956_SHARP_, val);
            var G__13973 = cljs.core.next.call(null, seq__13958__$1);
            var G__13974 = null;
            var G__13975 = 0;
            var G__13976 = 0;
            seq__13958 = G__13973;
            chunk__13959 = G__13974;
            count__13960 = G__13975;
            i__13961 = G__13976;
            continue;
          }
        } else {
          return null;
        }
      }
      break;
    }
  });
};
enfocus.core.remove_class.cljs$lang$maxFixedArity = 0;
enfocus.core.remove_class.cljs$lang$applyTo = function(seq13957) {
  return enfocus.core.remove_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13957));
};
enfocus.core.set_class = function enfocus$core$set_class(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13979 = arguments.length;
  var i__7215__auto___13980 = 0;
  while (true) {
    if (i__7215__auto___13980 < len__7214__auto___13979) {
      args__7221__auto__.push(arguments[i__7215__auto___13980]);
      var G__13981 = i__7215__auto___13980 + 1;
      i__7215__auto___13980 = G__13981;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.set_class.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.set_class.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, function(p1__13977_SHARP_) {
    return domina.set_classes_BANG_.call(null, p1__13977_SHARP_, values);
  });
};
enfocus.core.set_class.cljs$lang$maxFixedArity = 0;
enfocus.core.set_class.cljs$lang$applyTo = function(seq13978) {
  return enfocus.core.set_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13978));
};
enfocus.core.do__GT_ = function enfocus$core$do__GT_(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___13987 = arguments.length;
  var i__7215__auto___13988 = 0;
  while (true) {
    if (i__7215__auto___13988 < len__7214__auto___13987) {
      args__7221__auto__.push(arguments[i__7215__auto___13988]);
      var G__13989 = i__7215__auto___13988 + 1;
      i__7215__auto___13988 = G__13989;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.do__GT_.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.do__GT_.cljs$core$IFn$_invoke$arity$variadic = function(forms) {
  return function(pnod) {
    var seq__13983 = cljs.core.seq.call(null, forms);
    var chunk__13984 = null;
    var count__13985 = 0;
    var i__13986 = 0;
    while (true) {
      if (i__13986 < count__13985) {
        var fun = cljs.core._nth.call(null, chunk__13984, i__13986);
        enfocus.core.apply_transform.call(null, fun, pnod);
        var G__13990 = seq__13983;
        var G__13991 = chunk__13984;
        var G__13992 = count__13985;
        var G__13993 = i__13986 + 1;
        seq__13983 = G__13990;
        chunk__13984 = G__13991;
        count__13985 = G__13992;
        i__13986 = G__13993;
        continue;
      } else {
        var temp__4657__auto__ = cljs.core.seq.call(null, seq__13983);
        if (temp__4657__auto__) {
          var seq__13983__$1 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13983__$1)) {
            var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13983__$1);
            var G__13994 = cljs.core.chunk_rest.call(null, seq__13983__$1);
            var G__13995 = c__6959__auto__;
            var G__13996 = cljs.core.count.call(null, c__6959__auto__);
            var G__13997 = 0;
            seq__13983 = G__13994;
            chunk__13984 = G__13995;
            count__13985 = G__13996;
            i__13986 = G__13997;
            continue;
          } else {
            var fun = cljs.core.first.call(null, seq__13983__$1);
            enfocus.core.apply_transform.call(null, fun, pnod);
            var G__13998 = cljs.core.next.call(null, seq__13983__$1);
            var G__13999 = null;
            var G__14000 = 0;
            var G__14001 = 0;
            seq__13983 = G__13998;
            chunk__13984 = G__13999;
            count__13985 = G__14000;
            i__13986 = G__14001;
            continue;
          }
        } else {
          return null;
        }
      }
      break;
    }
  };
};
enfocus.core.do__GT_.cljs$lang$maxFixedArity = 0;
enfocus.core.do__GT_.cljs$lang$applyTo = function(seq13982) {
  return enfocus.core.do__GT_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq13982));
};
enfocus.core.append = function enfocus$core$append(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14005 = arguments.length;
  var i__7215__auto___14006 = 0;
  while (true) {
    if (i__7215__auto___14006 < len__7214__auto___14005) {
      args__7221__auto__.push(arguments[i__7215__auto___14006]);
      var G__14007 = i__7215__auto___14006 + 1;
      i__7215__auto___14006 = G__14007;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.append.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.append.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__14002_SHARP_, p2__14003_SHARP_) {
    return domina.append_BANG_.call(null, p1__14002_SHARP_, p2__14003_SHARP_);
  });
};
enfocus.core.append.cljs$lang$maxFixedArity = 0;
enfocus.core.append.cljs$lang$applyTo = function(seq14004) {
  return enfocus.core.append.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14004));
};
enfocus.core.prepend = function enfocus$core$prepend(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14011 = arguments.length;
  var i__7215__auto___14012 = 0;
  while (true) {
    if (i__7215__auto___14012 < len__7214__auto___14011) {
      args__7221__auto__.push(arguments[i__7215__auto___14012]);
      var G__14013 = i__7215__auto___14012 + 1;
      i__7215__auto___14012 = G__14013;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.prepend.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.prepend.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__14008_SHARP_, p2__14009_SHARP_) {
    return domina.prepend_BANG_.call(null, p1__14008_SHARP_, p2__14009_SHARP_);
  });
};
enfocus.core.prepend.cljs$lang$maxFixedArity = 0;
enfocus.core.prepend.cljs$lang$applyTo = function(seq14010) {
  return enfocus.core.prepend.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14010));
};
enfocus.core.before = function enfocus$core$before(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14017 = arguments.length;
  var i__7215__auto___14018 = 0;
  while (true) {
    if (i__7215__auto___14018 < len__7214__auto___14017) {
      args__7221__auto__.push(arguments[i__7215__auto___14018]);
      var G__14019 = i__7215__auto___14018 + 1;
      i__7215__auto___14018 = G__14019;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.before.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.before.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__14014_SHARP_, p2__14015_SHARP_) {
    return domina.insert_before_BANG_.call(null, p1__14014_SHARP_, p2__14015_SHARP_);
  });
};
enfocus.core.before.cljs$lang$maxFixedArity = 0;
enfocus.core.before.cljs$lang$applyTo = function(seq14016) {
  return enfocus.core.before.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14016));
};
enfocus.core.after = function enfocus$core$after(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14023 = arguments.length;
  var i__7215__auto___14024 = 0;
  while (true) {
    if (i__7215__auto___14024 < len__7214__auto___14023) {
      args__7221__auto__.push(arguments[i__7215__auto___14024]);
      var G__14025 = i__7215__auto___14024 + 1;
      i__7215__auto___14024 = G__14025;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.after.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.after.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__14020_SHARP_, p2__14021_SHARP_) {
    return domina.insert_after_BANG_.call(null, p1__14020_SHARP_, p2__14021_SHARP_);
  });
};
enfocus.core.after.cljs$lang$maxFixedArity = 0;
enfocus.core.after.cljs$lang$applyTo = function(seq14022) {
  return enfocus.core.after.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14022));
};
enfocus.core.substitute = function enfocus$core$substitute(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14029 = arguments.length;
  var i__7215__auto___14030 = 0;
  while (true) {
    if (i__7215__auto___14030 < len__7214__auto___14029) {
      args__7221__auto__.push(arguments[i__7215__auto___14030]);
      var G__14031 = i__7215__auto___14030 + 1;
      i__7215__auto___14030 = G__14031;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.substitute.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.substitute.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return enfocus.core.multi_node_chain.call(null, values, function(p1__14026_SHARP_, p2__14027_SHARP_) {
    return domina.swap_content_BANG_.call(null, p1__14026_SHARP_, p2__14027_SHARP_);
  });
};
enfocus.core.substitute.cljs$lang$maxFixedArity = 0;
enfocus.core.substitute.cljs$lang$applyTo = function(seq14028) {
  return enfocus.core.substitute.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14028));
};
enfocus.core.remove_node = function enfocus$core$remove_node() {
  return enfocus.core.multi_node_chain.call(null, function(p1__14032_SHARP_) {
    return domina.detach_BANG_.call(null, p1__14032_SHARP_);
  });
};
enfocus.core.wrap = function enfocus$core$wrap(elm, mattr) {
  return function(pnod) {
    var elem = goog.dom.createElement(cljs.core.name.call(null, elm));
    enfocus.core.add_map_attrs.call(null, elem, mattr);
    enfocus.core.at.call(null, elem, enfocus.core.content.call(null, pnod.cloneNode(true)));
    return enfocus.core.at.call(null, pnod, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, elem), enfocus.core.remove_node.call(null)));
  };
};
enfocus.core.unwrap = function enfocus$core$unwrap() {
  return function(pnod) {
    var frag = document.createDocumentFragment();
    goog.dom.append(frag, pnod.childNodes);
    return goog.dom.replaceNode(frag, pnod);
  };
};
enfocus.core.set_style = function enfocus$core$set_style(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14041 = arguments.length;
  var i__7215__auto___14042 = 0;
  while (true) {
    if (i__7215__auto___14042 < len__7214__auto___14041) {
      args__7221__auto__.push(arguments[i__7215__auto___14042]);
      var G__14043 = i__7215__auto___14042 + 1;
      i__7215__auto___14042 = G__14043;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.set_style.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.set_style.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  var pairs = cljs.core.partition.call(null, 2, values);
  return enfocus.core.multi_node_chain.call(null, function(pairs) {
    return function(p1__14033_SHARP_) {
      var seq__14035 = cljs.core.seq.call(null, pairs);
      var chunk__14036 = null;
      var count__14037 = 0;
      var i__14038 = 0;
      while (true) {
        if (i__14038 < count__14037) {
          var vec__14039 = cljs.core._nth.call(null, chunk__14036, i__14038);
          var name = cljs.core.nth.call(null, vec__14039, 0, null);
          var value = cljs.core.nth.call(null, vec__14039, 1, null);
          domina.set_style_BANG_.call(null, p1__14033_SHARP_, name, value);
          var G__14044 = seq__14035;
          var G__14045 = chunk__14036;
          var G__14046 = count__14037;
          var G__14047 = i__14038 + 1;
          seq__14035 = G__14044;
          chunk__14036 = G__14045;
          count__14037 = G__14046;
          i__14038 = G__14047;
          continue;
        } else {
          var temp__4657__auto__ = cljs.core.seq.call(null, seq__14035);
          if (temp__4657__auto__) {
            var seq__14035__$1 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__14035__$1)) {
              var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__14035__$1);
              var G__14048 = cljs.core.chunk_rest.call(null, seq__14035__$1);
              var G__14049 = c__6959__auto__;
              var G__14050 = cljs.core.count.call(null, c__6959__auto__);
              var G__14051 = 0;
              seq__14035 = G__14048;
              chunk__14036 = G__14049;
              count__14037 = G__14050;
              i__14038 = G__14051;
              continue;
            } else {
              var vec__14040 = cljs.core.first.call(null, seq__14035__$1);
              var name = cljs.core.nth.call(null, vec__14040, 0, null);
              var value = cljs.core.nth.call(null, vec__14040, 1, null);
              domina.set_style_BANG_.call(null, p1__14033_SHARP_, name, value);
              var G__14052 = cljs.core.next.call(null, seq__14035__$1);
              var G__14053 = null;
              var G__14054 = 0;
              var G__14055 = 0;
              seq__14035 = G__14052;
              chunk__14036 = G__14053;
              count__14037 = G__14054;
              i__14038 = G__14055;
              continue;
            }
          } else {
            return null;
          }
        }
        break;
      }
    };
  }(pairs));
};
enfocus.core.set_style.cljs$lang$maxFixedArity = 0;
enfocus.core.set_style.cljs$lang$applyTo = function(seq14034) {
  return enfocus.core.set_style.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14034));
};
enfocus.core.remove_style = function enfocus$core$remove_style(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14057 = arguments.length;
  var i__7215__auto___14058 = 0;
  while (true) {
    if (i__7215__auto___14058 < len__7214__auto___14057) {
      args__7221__auto__.push(arguments[i__7215__auto___14058]);
      var G__14059 = i__7215__auto___14058 + 1;
      i__7215__auto___14058 = G__14059;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 0 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(0), 0) : null;
  return enfocus.core.remove_style.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__);
};
enfocus.core.remove_style.cljs$core$IFn$_invoke$arity$variadic = function(values) {
  return function(pnod) {
    return enfocus.core.style_remove.call(null, pnod, values);
  };
};
enfocus.core.remove_style.cljs$lang$maxFixedArity = 0;
enfocus.core.remove_style.cljs$lang$applyTo = function(seq14056) {
  return enfocus.core.remove_style.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null, seq14056));
};
enfocus.core.focus = function enfocus$core$focus() {
  return function(node) {
    return node.focus();
  };
};
enfocus.core.blur = function enfocus$core$blur() {
  return function(node) {
    return node.blur();
  };
};
enfocus.core.set_data = function enfocus$core$set_data(ky, val) {
  return enfocus.core.multi_node_chain.call(null, function(p1__14060_SHARP_) {
    return domina.set_data_BANG_.call(null, p1__14060_SHARP_, ky, val);
  });
};
enfocus.core.delay = function enfocus$core$delay(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14063 = arguments.length;
  var i__7215__auto___14064 = 0;
  while (true) {
    if (i__7215__auto___14064 < len__7214__auto___14063) {
      args__7221__auto__.push(arguments[i__7215__auto___14064]);
      var G__14065 = i__7215__auto___14064 + 1;
      i__7215__auto___14064 = G__14065;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return enfocus.core.delay.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
enfocus.core.delay.cljs$core$IFn$_invoke$arity$variadic = function(ttime, funcs) {
  return function(pnod) {
    return enfocus.core.setTimeout.call(null, function() {
      return cljs.core.apply.call(null, enfocus.core.at, pnod, funcs);
    }, ttime);
  };
};
enfocus.core.delay.cljs$lang$maxFixedArity = 1;
enfocus.core.delay.cljs$lang$applyTo = function(seq14061) {
  var G__14062 = cljs.core.first.call(null, seq14061);
  var seq14061__$1 = cljs.core.next.call(null, seq14061);
  return enfocus.core.delay.cljs$core$IFn$_invoke$arity$variadic(G__14062, seq14061__$1);
};
enfocus.core.replace_vars = function enfocus$core$replace_vars(vars) {
  var rep_str = function enfocus$core$replace_vars_$_rep_str(text) {
    return clojure.string.replace.call(null, text, /\$\{\s*(\S+)\s*}/, function(p1__14067_SHARP_, p2__14066_SHARP_) {
      return vars.call(null, cljs.core.keyword.call(null, p2__14066_SHARP_));
    });
  };
  return function enfocus$core$replace_vars_$_rep_node(pnod) {
    if (cljs.core.truth_(pnod.attributes)) {
      var seq__14092_14100 = cljs.core.seq.call(null, cljs.core.range.call(null, pnod.attributes.length));
      var chunk__14093_14101 = null;
      var count__14094_14102 = 0;
      var i__14095_14103 = 0;
      while (true) {
        if (i__14095_14103 < count__14094_14102) {
          var idx_14104 = cljs.core._nth.call(null, chunk__14093_14101, i__14095_14103);
          var attr_14105 = pnod.attributes.item(idx_14104);
          if (cljs.core.truth_(attr_14105.specified)) {
            attr_14105.value = rep_str.call(null, attr_14105.value);
          } else {
          }
          var G__14106 = seq__14092_14100;
          var G__14107 = chunk__14093_14101;
          var G__14108 = count__14094_14102;
          var G__14109 = i__14095_14103 + 1;
          seq__14092_14100 = G__14106;
          chunk__14093_14101 = G__14107;
          count__14094_14102 = G__14108;
          i__14095_14103 = G__14109;
          continue;
        } else {
          var temp__4657__auto___14110 = cljs.core.seq.call(null, seq__14092_14100);
          if (temp__4657__auto___14110) {
            var seq__14092_14111__$1 = temp__4657__auto___14110;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__14092_14111__$1)) {
              var c__6959__auto___14112 = cljs.core.chunk_first.call(null, seq__14092_14111__$1);
              var G__14113 = cljs.core.chunk_rest.call(null, seq__14092_14111__$1);
              var G__14114 = c__6959__auto___14112;
              var G__14115 = cljs.core.count.call(null, c__6959__auto___14112);
              var G__14116 = 0;
              seq__14092_14100 = G__14113;
              chunk__14093_14101 = G__14114;
              count__14094_14102 = G__14115;
              i__14095_14103 = G__14116;
              continue;
            } else {
              var idx_14117 = cljs.core.first.call(null, seq__14092_14111__$1);
              var attr_14118 = pnod.attributes.item(idx_14117);
              if (cljs.core.truth_(attr_14118.specified)) {
                attr_14118.value = rep_str.call(null, attr_14118.value);
              } else {
              }
              var G__14119 = cljs.core.next.call(null, seq__14092_14111__$1);
              var G__14120 = null;
              var G__14121 = 0;
              var G__14122 = 0;
              seq__14092_14100 = G__14119;
              chunk__14093_14101 = G__14120;
              count__14094_14102 = G__14121;
              i__14095_14103 = G__14122;
              continue;
            }
          } else {
          }
        }
        break;
      }
    } else {
    }
    if (cljs.core._EQ_.call(null, pnod.nodeType, 3)) {
      return pnod.nodeValue = rep_str.call(null, pnod.nodeValue);
    } else {
      var seq__14096 = cljs.core.seq.call(null, enfocus.core.nodes__GT_coll.call(null, pnod.childNodes));
      var chunk__14097 = null;
      var count__14098 = 0;
      var i__14099 = 0;
      while (true) {
        if (i__14099 < count__14098) {
          var cnode = cljs.core._nth.call(null, chunk__14097, i__14099);
          enfocus$core$replace_vars_$_rep_node.call(null, cnode);
          var G__14123 = seq__14096;
          var G__14124 = chunk__14097;
          var G__14125 = count__14098;
          var G__14126 = i__14099 + 1;
          seq__14096 = G__14123;
          chunk__14097 = G__14124;
          count__14098 = G__14125;
          i__14099 = G__14126;
          continue;
        } else {
          var temp__4657__auto__ = cljs.core.seq.call(null, seq__14096);
          if (temp__4657__auto__) {
            var seq__14096__$1 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__14096__$1)) {
              var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__14096__$1);
              var G__14127 = cljs.core.chunk_rest.call(null, seq__14096__$1);
              var G__14128 = c__6959__auto__;
              var G__14129 = cljs.core.count.call(null, c__6959__auto__);
              var G__14130 = 0;
              seq__14096 = G__14127;
              chunk__14097 = G__14128;
              count__14098 = G__14129;
              i__14099 = G__14130;
              continue;
            } else {
              var cnode = cljs.core.first.call(null, seq__14096__$1);
              enfocus$core$replace_vars_$_rep_node.call(null, cnode);
              var G__14131 = cljs.core.next.call(null, seq__14096__$1);
              var G__14132 = null;
              var G__14133 = 0;
              var G__14134 = 0;
              seq__14096 = G__14131;
              chunk__14097 = G__14132;
              count__14098 = G__14133;
              i__14099 = G__14134;
              continue;
            }
          } else {
            return null;
          }
        }
        break;
      }
    }
  };
};
enfocus.core.exists_in_QMARK_ = function enfocus$core$exists_in_QMARK_(col_or_val, val) {
  if (cljs.core.coll_QMARK_.call(null, col_or_val)) {
    return cljs.core.some.call(null, cljs.core.PersistentHashSet.fromArray([val], true), col_or_val);
  } else {
    return cljs.core._EQ_.call(null, col_or_val, val);
  }
};
enfocus.core.set_form_input = function enfocus$core$set_form_input(val) {
  return function(el) {
    if (cljs.core._EQ_.call(null, el.type, "checkbox") || cljs.core._EQ_.call(null, el.type, "radio")) {
      return el.checked = enfocus.core.exists_in_QMARK_.call(null, val, el.value);
    } else {
      var nval = cljs.core.coll_QMARK_.call(null, val) && !(typeof val === "string") ? cljs.core.vec.call(null, val) : cljs.core._EQ_.call(null, el.type, "select-multiple") ? new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [val], null) : val;
      return goog.dom.forms.setValue(el, cljs.core.clj__GT_js.call(null, nval));
    }
  };
};
enfocus.core.set_form = function enfocus$core$set_form(value_map) {
  return function(form_node) {
    if (cljs.core._EQ_.call(null, form_node.nodeName, "FORM")) {
      var seq__14139 = cljs.core.seq.call(null, cljs.core.range.call(null, form_node.length));
      var chunk__14140 = null;
      var count__14141 = 0;
      var i__14142 = 0;
      while (true) {
        if (i__14142 < count__14141) {
          var idx = cljs.core._nth.call(null, chunk__14140, i__14142);
          var el_14143 = form_node.elements[idx];
          var ky_14144 = cljs.core.keyword.call(null, el_14143.name);
          var val_14145 = ky_14144.call(null, value_map);
          if (cljs.core.contains_QMARK_.call(null, value_map, ky_14144)) {
            var val_14146__$1 = cljs.core.truth_(val_14145) ? val_14145 : "";
            enfocus.core.set_form_input.call(null, val_14146__$1).call(null, el_14143);
          } else {
          }
          var G__14147 = seq__14139;
          var G__14148 = chunk__14140;
          var G__14149 = count__14141;
          var G__14150 = i__14142 + 1;
          seq__14139 = G__14147;
          chunk__14140 = G__14148;
          count__14141 = G__14149;
          i__14142 = G__14150;
          continue;
        } else {
          var temp__4657__auto__ = cljs.core.seq.call(null, seq__14139);
          if (temp__4657__auto__) {
            var seq__14139__$1 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__14139__$1)) {
              var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__14139__$1);
              var G__14151 = cljs.core.chunk_rest.call(null, seq__14139__$1);
              var G__14152 = c__6959__auto__;
              var G__14153 = cljs.core.count.call(null, c__6959__auto__);
              var G__14154 = 0;
              seq__14139 = G__14151;
              chunk__14140 = G__14152;
              count__14141 = G__14153;
              i__14142 = G__14154;
              continue;
            } else {
              var idx = cljs.core.first.call(null, seq__14139__$1);
              var el_14155 = form_node.elements[idx];
              var ky_14156 = cljs.core.keyword.call(null, el_14155.name);
              var val_14157 = ky_14156.call(null, value_map);
              if (cljs.core.contains_QMARK_.call(null, value_map, ky_14156)) {
                var val_14158__$1 = cljs.core.truth_(val_14157) ? val_14157 : "";
                enfocus.core.set_form_input.call(null, val_14158__$1).call(null, el_14155);
              } else {
              }
              var G__14159 = cljs.core.next.call(null, seq__14139__$1);
              var G__14160 = null;
              var G__14161 = 0;
              var G__14162 = 0;
              seq__14139 = G__14159;
              chunk__14140 = G__14160;
              count__14141 = G__14161;
              i__14142 = G__14162;
              continue;
            }
          } else {
            return null;
          }
        }
        break;
      }
    } else {
      return null;
    }
  };
};
enfocus.core.html = function enfocus$core$html(node_spec) {
  if (typeof node_spec === "string") {
    return document.createTextNode(node_spec);
  } else {
    if (cljs.core.vector_QMARK_.call(null, node_spec)) {
      var vec__14172 = node_spec;
      var tag = cljs.core.nth.call(null, vec__14172, 0, null);
      var vec__14173 = cljs.core.nthnext.call(null, vec__14172, 1);
      var m = cljs.core.nth.call(null, vec__14173, 0, null);
      var ms = cljs.core.nthnext.call(null, vec__14173, 1);
      var more = vec__14173;
      var vec__14174 = cljs.core.name.call(null, tag).split(/(?=[#.])/);
      var tag_name = cljs.core.nth.call(null, vec__14174, 0, null);
      var segments = cljs.core.nthnext.call(null, vec__14174, 1);
      var id = cljs.core.some.call(null, function(vec__14172, tag, vec__14173, m, ms, more, vec__14174, tag_name, segments) {
        return function(seg) {
          if (cljs.core._EQ_.call(null, "#", seg.charAt(0))) {
            return cljs.core.subs.call(null, seg, 1);
          } else {
            return null;
          }
        };
      }(vec__14172, tag, vec__14173, m, ms, more, vec__14174, tag_name, segments), segments);
      var classes = cljs.core.keep.call(null, function(vec__14172, tag, vec__14173, m, ms, more, vec__14174, tag_name, segments, id) {
        return function(seg) {
          if (cljs.core._EQ_.call(null, ".", seg.charAt(0))) {
            return cljs.core.subs.call(null, seg, 1);
          } else {
            return null;
          }
        };
      }(vec__14172, tag, vec__14173, m, ms, more, vec__14174, tag_name, segments, id), segments);
      var attrs = cljs.core.map_QMARK_.call(null, m) ? m : cljs.core.PersistentArrayMap.EMPTY;
      var attrs__$1 = cljs.core.truth_(id) ? cljs.core.assoc.call(null, attrs, new cljs.core.Keyword(null, "id", "id", -1388402092), id) : attrs;
      var attrs__$2 = !cljs.core.empty_QMARK_.call(null, classes) ? cljs.core.assoc.call(null, attrs__$1, new cljs.core.Keyword(null, "class", "class", -2030961996), cljs.core.apply.call(null, cljs.core.str, cljs.core.interpose.call(null, " ", classes))) : attrs__$1;
      var content = cljs.core.flatten.call(null, cljs.core.map.call(null, enfocus$core$html, cljs.core.map_QMARK_.call(null, m) ? ms : more));
      var node = document.createElement(tag_name);
      var seq__14175_14181 = cljs.core.seq.call(null, attrs__$2);
      var chunk__14176_14182 = null;
      var count__14177_14183 = 0;
      var i__14178_14184 = 0;
      while (true) {
        if (i__14178_14184 < count__14177_14183) {
          var vec__14179_14185 = cljs.core._nth.call(null, chunk__14176_14182, i__14178_14184);
          var key_14186 = cljs.core.nth.call(null, vec__14179_14185, 0, null);
          var val_14187 = cljs.core.nth.call(null, vec__14179_14185, 1, null);
          node.setAttribute(cljs.core.name.call(null, key_14186), val_14187);
          var G__14188 = seq__14175_14181;
          var G__14189 = chunk__14176_14182;
          var G__14190 = count__14177_14183;
          var G__14191 = i__14178_14184 + 1;
          seq__14175_14181 = G__14188;
          chunk__14176_14182 = G__14189;
          count__14177_14183 = G__14190;
          i__14178_14184 = G__14191;
          continue;
        } else {
          var temp__4657__auto___14192 = cljs.core.seq.call(null, seq__14175_14181);
          if (temp__4657__auto___14192) {
            var seq__14175_14193__$1 = temp__4657__auto___14192;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__14175_14193__$1)) {
              var c__6959__auto___14194 = cljs.core.chunk_first.call(null, seq__14175_14193__$1);
              var G__14195 = cljs.core.chunk_rest.call(null, seq__14175_14193__$1);
              var G__14196 = c__6959__auto___14194;
              var G__14197 = cljs.core.count.call(null, c__6959__auto___14194);
              var G__14198 = 0;
              seq__14175_14181 = G__14195;
              chunk__14176_14182 = G__14196;
              count__14177_14183 = G__14197;
              i__14178_14184 = G__14198;
              continue;
            } else {
              var vec__14180_14199 = cljs.core.first.call(null, seq__14175_14193__$1);
              var key_14200 = cljs.core.nth.call(null, vec__14180_14199, 0, null);
              var val_14201 = cljs.core.nth.call(null, vec__14180_14199, 1, null);
              node.setAttribute(cljs.core.name.call(null, key_14200), val_14201);
              var G__14202 = cljs.core.next.call(null, seq__14175_14193__$1);
              var G__14203 = null;
              var G__14204 = 0;
              var G__14205 = 0;
              seq__14175_14181 = G__14202;
              chunk__14176_14182 = G__14203;
              count__14177_14183 = G__14204;
              i__14178_14184 = G__14205;
              continue;
            }
          } else {
          }
        }
        break;
      }
      if (cljs.core.truth_(content)) {
        return domina.append_BANG_.call(null, node, content);
      } else {
        return null;
      }
    } else {
      if (cljs.core.sequential_QMARK_.call(null, node_spec)) {
        return cljs.core.flatten.call(null, cljs.core.map.call(null, enfocus$core$html, node_spec));
      } else {
        return document.createTextNode([cljs.core.str(node_spec)].join(""));
      }
    }
  }
};
enfocus.core.get_attr = function enfocus$core$get_attr(attr) {
  return enfocus.core.extr_multi_node.call(null, function(pnod) {
    return pnod.getAttribute(cljs.core.name.call(null, attr));
  });
};
enfocus.core.get_text = function enfocus$core$get_text() {
  return enfocus.core.extr_multi_node.call(null, function(pnod) {
    return goog.dom.getTextContent(pnod);
  });
};
enfocus.core.get_data = function enfocus$core$get_data(var_args) {
  var args14206 = [];
  var len__7214__auto___14209 = arguments.length;
  var i__7215__auto___14210 = 0;
  while (true) {
    if (i__7215__auto___14210 < len__7214__auto___14209) {
      args14206.push(arguments[i__7215__auto___14210]);
      var G__14211 = i__7215__auto___14210 + 1;
      i__7215__auto___14210 = G__14211;
      continue;
    } else {
    }
    break;
  }
  var G__14208 = args14206.length;
  switch(G__14208) {
    case 1:
      return enfocus.core.get_data.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.get_data.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args14206.length)].join(""));;
  }
};
enfocus.core.get_data.cljs$core$IFn$_invoke$arity$1 = function(ky) {
  return enfocus.core.get_data.call(null, ky, false);
};
enfocus.core.get_data.cljs$core$IFn$_invoke$arity$2 = function(ky, bubble) {
  return enfocus.core.extr_multi_node.call(null, function(node) {
    return domina.get_data.call(null, node, ky, bubble);
  });
};
enfocus.core.get_data.cljs$lang$maxFixedArity = 2;
enfocus.core.get_prop = function enfocus$core$get_prop(prop) {
  return enfocus.core.extr_multi_node.call(null, function(pnod) {
    return pnod[cljs.core.name.call(null, prop)];
  });
};
enfocus.core.merge_form_val = function enfocus$core$merge_form_val(form_map, ky, val) {
  var mval = form_map.call(null, ky);
  if (cljs.core.truth_(val)) {
    if (cljs.core.coll_QMARK_.call(null, mval) && cljs.core.coll_QMARK_.call(null, val)) {
      return cljs.core.assoc.call(null, form_map, ky, cljs.core.into.call(null, mval, val));
    } else {
      if (cljs.core.coll_QMARK_.call(null, mval)) {
        return cljs.core.assoc.call(null, form_map, ky, cljs.core.conj.call(null, mval, val));
      } else {
        if (cljs.core.truth_(mval)) {
          return cljs.core.assoc.call(null, form_map, ky, cljs.core.PersistentHashSet.fromArray([mval, val], true));
        } else {
          return cljs.core.assoc.call(null, form_map, ky, val);
        }
      }
    }
  } else {
    return form_map;
  }
};
enfocus.core.read_form_input = function enfocus$core$read_form_input() {
  var trans = function(nodes, chain) {
    var nod_col = enfocus.core.nodes__GT_coll.call(null, nodes);
    var result = cljs.core.reduce.call(null, function(nod_col) {
      return function(p1__14214_SHARP_, p2__14213_SHARP_) {
        var vals = cljs.core.js__GT_clj.call(null, goog.dom.forms.getValue(p2__14213_SHARP_));
        if (!(typeof vals === "string") && cljs.core.coll_QMARK_.call(null, vals)) {
          return cljs.core.into.call(null, p1__14214_SHARP_, vals);
        } else {
          if (cljs.core.truth_(vals)) {
            return cljs.core.conj.call(null, p1__14214_SHARP_, vals);
          } else {
            return p1__14214_SHARP_;
          }
        }
      };
    }(nod_col), cljs.core.PersistentHashSet.EMPTY, nod_col);
    if (cljs.core.empty_QMARK_.call(null, result)) {
      return null;
    } else {
      if (cljs.core._EQ_.call(null, 1, cljs.core.count.call(null, result)) && cljs.core.not.call(null, (new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, ["checkbox", null, "select-multiple", null], null), null)).call(null, cljs.core.first.call(null, nod_col).type))) {
        return cljs.core.first.call(null, result);
      } else {
        return result;
      }
    }
  };
  if (typeof enfocus.core.t_enfocus$core14219 !== "undefined") {
  } else {
    enfocus.core.t_enfocus$core14219 = function(read_form_input, trans, meta14220) {
      this.read_form_input = read_form_input;
      this.trans = trans;
      this.meta14220 = meta14220;
      this.cljs$lang$protocol_mask$partition0$ = 393217;
      this.cljs$lang$protocol_mask$partition1$ = 0;
    };
    enfocus.core.t_enfocus$core14219.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = function(trans) {
      return function(_14221, meta14220__$1) {
        var self__ = this;
        var _14221__$1 = this;
        return new enfocus.core.t_enfocus$core14219(self__.read_form_input, self__.trans, meta14220__$1);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.cljs$core$IMeta$_meta$arity$1 = function(trans) {
      return function(_14221) {
        var self__ = this;
        var _14221__$1 = this;
        return self__.meta14220;
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.enfocus$core$ITransform$ = true;
    enfocus.core.t_enfocus$core14219.prototype.enfocus$core$ITransform$apply_transform$arity$2 = function(trans) {
      return function(_, nodes) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.enfocus$core$ITransform$apply_transform$arity$3 = function(trans) {
      return function(_, nodes, chain) {
        var self__ = this;
        var ___$1 = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.call = function(trans) {
      return function() {
        var G__14223 = null;
        var G__14223__2 = function(self__, nodes) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, null);
        };
        var G__14223__3 = function(self__, nodes, chain) {
          var self__ = this;
          var self____$1 = this;
          var _ = self____$1;
          return self__.trans.call(null, nodes, chain);
        };
        G__14223 = function(self__, nodes, chain) {
          switch(arguments.length) {
            case 2:
              return G__14223__2.call(this, self__, nodes);
            case 3:
              return G__14223__3.call(this, self__, nodes, chain);
          }
          throw new Error("Invalid arity: " + arguments.length);
        };
        G__14223.cljs$core$IFn$_invoke$arity$2 = G__14223__2;
        G__14223.cljs$core$IFn$_invoke$arity$3 = G__14223__3;
        return G__14223;
      }();
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.apply = function(trans) {
      return function(self__, args14222) {
        var self__ = this;
        var self____$1 = this;
        return self____$1.call.apply(self____$1, [self____$1].concat(cljs.core.aclone.call(null, args14222)));
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.cljs$core$IFn$_invoke$arity$1 = function(trans) {
      return function(nodes) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, null);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.prototype.cljs$core$IFn$_invoke$arity$2 = function(trans) {
      return function(nodes, chain) {
        var self__ = this;
        var _ = this;
        return self__.trans.call(null, nodes, chain);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.getBasis = function(trans) {
      return function() {
        return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null, "read-form-input", "read-form-input", 1575979010, null), new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "arglists", "arglists", 1661989754), cljs.core.list(new cljs.core.Symbol(null, "quote", "quote", 1377916282, null), cljs.core.list(cljs.core.PersistentVector.EMPTY)), new cljs.core.Keyword(null, "doc", "doc", 1913296891), "returns the value of a given form input (text,select,checkbox,etc...)    If more than  one value exists it will return a set of values."], 
        null)), new cljs.core.Symbol(null, "trans", "trans", 322027676, null), new cljs.core.Symbol(null, "meta14220", "meta14220", -783607979, null)], null);
      };
    }(trans);
    enfocus.core.t_enfocus$core14219.cljs$lang$type = true;
    enfocus.core.t_enfocus$core14219.cljs$lang$ctorStr = "enfocus.core/t_enfocus$core14219";
    enfocus.core.t_enfocus$core14219.cljs$lang$ctorPrWriter = function(trans) {
      return function(this__6754__auto__, writer__6755__auto__, opt__6756__auto__) {
        return cljs.core._write.call(null, writer__6755__auto__, "enfocus.core/t_enfocus$core14219");
      };
    }(trans);
    enfocus.core.__GT_t_enfocus$core14219 = function(trans) {
      return function enfocus$core$read_form_input_$___GT_t_enfocus$core14219(read_form_input__$1, trans__$1, meta14220) {
        return new enfocus.core.t_enfocus$core14219(read_form_input__$1, trans__$1, meta14220);
      };
    }(trans);
  }
  return new enfocus.core.t_enfocus$core14219(enfocus$core$read_form_input, trans, cljs.core.PersistentArrayMap.EMPTY);
};
enfocus.core.read_form = function enfocus$core$read_form() {
  return enfocus.core.extr_multi_node.call(null, function(node) {
    var inputs = node.elements;
    return cljs.core.reduce.call(null, function(inputs) {
      return function(p1__14225_SHARP_, p2__14224_SHARP_) {
        if (!cljs.core.empty_QMARK_.call(null, inputs.item(p2__14224_SHARP_).name)) {
          return enfocus.core.merge_form_val.call(null, p1__14225_SHARP_, cljs.core.keyword.call(null, inputs.item(p2__14224_SHARP_).name), enfocus.core.read_form_input.call(null).call(null, inputs.item(p2__14224_SHARP_)));
        } else {
          return p1__14225_SHARP_;
        }
      };
    }(inputs), cljs.core.PersistentArrayMap.EMPTY, cljs.core.range.call(null, inputs.length));
  });
};
enfocus.core.reg_filt = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
enfocus.core.filter = function enfocus$core$filter(tst, trans) {
  return enfocus.core.multi_node_chain.call(null, function() {
    var enfocus$core$filter_$_filt = null;
    var enfocus$core$filter_$_filt__1 = function(pnodes) {
      return enfocus$core$filter_$_filt.call(null, pnodes, null);
    };
    var enfocus$core$filter_$_filt__2 = function(pnodes, chain) {
      var pnod_col = enfocus.core.nodes__GT_coll.call(null, pnodes);
      var ttest = tst instanceof cljs.core.Keyword ? cljs.core.deref.call(null, enfocus.core.reg_filt).call(null, tst) : tst;
      var res = cljs.core.filter.call(null, ttest, pnod_col);
      if (chain == null) {
        return enfocus.core.apply_transform.call(null, trans, res);
      } else {
        return enfocus.core.apply_transform.call(null, trans, res, chain);
      }
    };
    enfocus$core$filter_$_filt = function(pnodes, chain) {
      switch(arguments.length) {
        case 1:
          return enfocus$core$filter_$_filt__1.call(this, pnodes);
        case 2:
          return enfocus$core$filter_$_filt__2.call(this, pnodes, chain);
      }
      throw new Error("Invalid arity: " + arguments.length);
    };
    enfocus$core$filter_$_filt.cljs$core$IFn$_invoke$arity$1 = enfocus$core$filter_$_filt__1;
    enfocus$core$filter_$_filt.cljs$core$IFn$_invoke$arity$2 = enfocus$core$filter_$_filt__2;
    return enfocus$core$filter_$_filt;
  }());
};
enfocus.core.register_filter = function enfocus$core$register_filter(ky, func) {
  return cljs.core.swap_BANG_.call(null, enfocus.core.reg_filt, cljs.core.assoc, ky, func);
};
enfocus.core.selected_options = function enfocus$core$selected_options(pnod) {
  return pnod.selected;
};
enfocus.core.checked_radio_checkbox = function enfocus$core$checked_radio_checkbox(pnod) {
  return pnod.checked;
};
enfocus.core.register_filter.call(null, new cljs.core.Keyword(null, "selected", "selected", 574897764), enfocus.core.selected_options);
enfocus.core.register_filter.call(null, new cljs.core.Keyword(null, "checked", "checked", -50955819), enfocus.core.checked_radio_checkbox);
enfocus.core.match_QMARK_ = function enfocus$core$match_QMARK_(selector) {
  return function(node) {
    if (cljs.core.truth_(node["matches"])) {
      return node.matches(selector);
    } else {
      if (cljs.core.truth_(node["matchesSelector"])) {
        return node.matchesSelector(selector);
      } else {
        if (cljs.core.truth_(node["msMatchesSelector"])) {
          return node.msMatchesSelector(selector);
        } else {
          if (cljs.core.truth_(node["mozMatchesSelector"])) {
            return node.mozMatchesSelector(selector);
          } else {
            if (cljs.core.truth_(node["webkitMatchesSelector"])) {
              return node.webkitMatchesSelector(selector);
            } else {
              return cljs.core.some.call(null, cljs.core.PersistentHashSet.fromArray([node], true), enfocus.core.nodes__GT_coll.call(null, enfocus.core.select.call(null, node)));
            }
          }
        }
      }
    }
  };
};
enfocus.core.create_sel_str = function enfocus$core$create_sel_str(var_args) {
  var args14227 = [];
  var len__7214__auto___14230 = arguments.length;
  var i__7215__auto___14231 = 0;
  while (true) {
    if (i__7215__auto___14231 < len__7214__auto___14230) {
      args14227.push(arguments[i__7215__auto___14231]);
      var G__14232 = i__7215__auto___14231 + 1;
      i__7215__auto___14231 = G__14232;
      continue;
    } else {
    }
    break;
  }
  var G__14229 = args14227.length;
  switch(G__14229) {
    case 1:
      return enfocus.core.create_sel_str.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.create_sel_str.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args14227.length)].join(""));;
  }
};
enfocus.core.create_sel_str.cljs$core$IFn$_invoke$arity$1 = function(css_sel) {
  return enfocus.core.create_sel_str.call(null, "", css_sel);
};
enfocus.core.create_sel_str.cljs$core$IFn$_invoke$arity$2 = function(id_mask_sym, css_sel) {
  return cljs.core.apply.call(null, cljs.core.str, cljs.core.map.call(null, function(p1__14226_SHARP_) {
    if (p1__14226_SHARP_ instanceof cljs.core.Symbol) {
      return enfocus.core.css_syms.call(null, p1__14226_SHARP_);
    } else {
      if (p1__14226_SHARP_ instanceof cljs.core.Keyword) {
        return [cljs.core.str(" "), cljs.core.str(cljs.core.name.call(null, p1__14226_SHARP_).replace("#", [cljs.core.str("#"), cljs.core.str(id_mask_sym)].join("")))].join("");
      } else {
        if (cljs.core.vector_QMARK_.call(null, p1__14226_SHARP_)) {
          return enfocus.core.create_sel_str.call(null, p1__14226_SHARP_);
        } else {
          if (typeof p1__14226_SHARP_ === "string") {
            return p1__14226_SHARP_.replace("#", [cljs.core.str("#"), cljs.core.str(id_mask_sym)].join(""));
          } else {
            return null;
          }
        }
      }
    }
  }, css_sel));
};
enfocus.core.create_sel_str.cljs$lang$maxFixedArity = 2;
enfocus.core.css_select = function enfocus$core$css_select(var_args) {
  var args14234 = [];
  var len__7214__auto___14237 = arguments.length;
  var i__7215__auto___14238 = 0;
  while (true) {
    if (i__7215__auto___14238 < len__7214__auto___14237) {
      args14234.push(arguments[i__7215__auto___14238]);
      var G__14239 = i__7215__auto___14238 + 1;
      i__7215__auto___14238 = G__14239;
      continue;
    } else {
    }
    break;
  }
  var G__14236 = args14234.length;
  switch(G__14236) {
    case 1:
      return enfocus.core.css_select.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return enfocus.core.css_select.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return enfocus.core.css_select.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args14234.length)].join(""));;
  }
};
enfocus.core.css_select.cljs$core$IFn$_invoke$arity$1 = function(css_sel) {
  return enfocus.core.css_select.call(null, "", document, css_sel);
};
enfocus.core.css_select.cljs$core$IFn$_invoke$arity$2 = function(dom_node, css_sel) {
  return enfocus.core.css_select.call(null, "", dom_node, css_sel);
};
enfocus.core.css_select.cljs$core$IFn$_invoke$arity$3 = function(id_mask_sym, dom_node, css_sel) {
  var sel = clojure.string.trim.call(null, enfocus.enlive.syntax.convert.call(null, enfocus.core.create_sel_str.call(null, id_mask_sym, css_sel)));
  var ret = domina.css.sel.call(null, dom_node, sel);
  return ret;
};
enfocus.core.css_select.cljs$lang$maxFixedArity = 3;
enfocus.core.nil_t = function enfocus$core$nil_t(func) {
  var or__6156__auto__ = func;
  if (cljs.core.truth_(or__6156__auto__)) {
    return or__6156__auto__;
  } else {
    return enfocus.core.remove_node;
  }
};
enfocus.core.i_at = function enfocus$core$i_at(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14253 = arguments.length;
  var i__7215__auto___14254 = 0;
  while (true) {
    if (i__7215__auto___14254 < len__7214__auto___14253) {
      args__7221__auto__.push(arguments[i__7215__auto___14254]);
      var G__14255 = i__7215__auto___14254 + 1;
      i__7215__auto___14254 = G__14255;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return enfocus.core.i_at.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
enfocus.core.i_at.cljs$core$IFn$_invoke$arity$variadic = function(id_mask, node, trans) {
  var cnt = cljs.core.count.call(null, trans);
  var sel_QMARK_ = function() {
    var and__6144__auto__ = !(node == null);
    if (and__6144__auto__) {
      if (!(node == null)) {
        if (false || node.enfocus$core$ISelector$) {
          return true;
        } else {
          if (!node.cljs$lang$protocol_mask$partition$) {
            return cljs.core.native_satisfies_QMARK_.call(null, enfocus.core.ISelector, node);
          } else {
            return false;
          }
        }
      } else {
        return cljs.core.native_satisfies_QMARK_.call(null, enfocus.core.ISelector, node);
      }
    } else {
      return and__6144__auto__;
    }
  }();
  if (!sel_QMARK_ && cljs.core._EQ_.call(null, 1, cnt)) {
    return enfocus.core.apply_transform.call(null, cljs.core.first.call(null, trans), node);
  } else {
    var vec__14246 = sel_QMARK_ ? cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, cljs.core.conj.call(null, trans, node)), document) : cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, trans), node);
    var node__$1 = cljs.core.nth.call(null, vec__14246, 0, null);
    var trans__$1 = cljs.core.nth.call(null, vec__14246, 1, null);
    var seq__14247 = cljs.core.seq.call(null, cljs.core.partition.call(null, 2, trans__$1));
    var chunk__14248 = null;
    var count__14249 = 0;
    var i__14250 = 0;
    while (true) {
      if (i__14250 < count__14249) {
        var vec__14251 = cljs.core._nth.call(null, chunk__14248, i__14250);
        var sel = cljs.core.nth.call(null, vec__14251, 0, null);
        var t = cljs.core.nth.call(null, vec__14251, 1, null);
        enfocus.core.apply_transform.call(null, enfocus.core.nil_t.call(null, t), enfocus.core.select.call(null, sel, node__$1, id_mask));
        var G__14256 = seq__14247;
        var G__14257 = chunk__14248;
        var G__14258 = count__14249;
        var G__14259 = i__14250 + 1;
        seq__14247 = G__14256;
        chunk__14248 = G__14257;
        count__14249 = G__14258;
        i__14250 = G__14259;
        continue;
      } else {
        var temp__4657__auto__ = cljs.core.seq.call(null, seq__14247);
        if (temp__4657__auto__) {
          var seq__14247__$1 = temp__4657__auto__;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__14247__$1)) {
            var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__14247__$1);
            var G__14260 = cljs.core.chunk_rest.call(null, seq__14247__$1);
            var G__14261 = c__6959__auto__;
            var G__14262 = cljs.core.count.call(null, c__6959__auto__);
            var G__14263 = 0;
            seq__14247 = G__14260;
            chunk__14248 = G__14261;
            count__14249 = G__14262;
            i__14250 = G__14263;
            continue;
          } else {
            var vec__14252 = cljs.core.first.call(null, seq__14247__$1);
            var sel = cljs.core.nth.call(null, vec__14252, 0, null);
            var t = cljs.core.nth.call(null, vec__14252, 1, null);
            enfocus.core.apply_transform.call(null, enfocus.core.nil_t.call(null, t), enfocus.core.select.call(null, sel, node__$1, id_mask));
            var G__14264 = cljs.core.next.call(null, seq__14247__$1);
            var G__14265 = null;
            var G__14266 = 0;
            var G__14267 = 0;
            seq__14247 = G__14264;
            chunk__14248 = G__14265;
            count__14249 = G__14266;
            i__14250 = G__14267;
            continue;
          }
        } else {
          return null;
        }
      }
      break;
    }
  }
};
enfocus.core.i_at.cljs$lang$maxFixedArity = 2;
enfocus.core.i_at.cljs$lang$applyTo = function(seq14241) {
  var G__14242 = cljs.core.first.call(null, seq14241);
  var seq14241__$1 = cljs.core.next.call(null, seq14241);
  var G__14243 = cljs.core.first.call(null, seq14241__$1);
  var seq14241__$2 = cljs.core.next.call(null, seq14241__$1);
  return enfocus.core.i_at.cljs$core$IFn$_invoke$arity$variadic(G__14242, G__14243, seq14241__$2);
};
enfocus.core.at = function enfocus$core$at(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14270 = arguments.length;
  var i__7215__auto___14271 = 0;
  while (true) {
    if (i__7215__auto___14271 < len__7214__auto___14270) {
      args__7221__auto__.push(arguments[i__7215__auto___14271]);
      var G__14272 = i__7215__auto___14271 + 1;
      i__7215__auto___14271 = G__14272;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return enfocus.core.at.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
enfocus.core.at.cljs$core$IFn$_invoke$arity$variadic = function(node, trans) {
  return cljs.core.apply.call(null, enfocus.core.i_at, "", node, trans);
};
enfocus.core.at.cljs$lang$maxFixedArity = 1;
enfocus.core.at.cljs$lang$applyTo = function(seq14268) {
  var G__14269 = cljs.core.first.call(null, seq14268);
  var seq14268__$1 = cljs.core.next.call(null, seq14268);
  return enfocus.core.at.cljs$core$IFn$_invoke$arity$variadic(G__14269, seq14268__$1);
};
enfocus.core.from = function enfocus$core$from(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___14279 = arguments.length;
  var i__7215__auto___14280 = 0;
  while (true) {
    if (i__7215__auto___14280 < len__7214__auto___14279) {
      args__7221__auto__.push(arguments[i__7215__auto___14280]);
      var G__14281 = i__7215__auto___14280 + 1;
      i__7215__auto___14280 = G__14281;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return enfocus.core.from.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
enfocus.core.from.cljs$core$IFn$_invoke$arity$variadic = function(node, trans) {
  var cnt = cljs.core.count.call(null, trans);
  var sel_QMARK_ = !(node == null) ? false || node.enfocus$core$ISelector$ ? true : !node.cljs$lang$protocol_mask$partition$ ? cljs.core.native_satisfies_QMARK_.call(null, enfocus.core.ISelector, node) : false : cljs.core.native_satisfies_QMARK_.call(null, enfocus.core.ISelector, node);
  if (sel_QMARK_ && cljs.core._EQ_.call(null, 1, cnt)) {
    return enfocus.core.apply_transform.call(null, cljs.core.first.call(null, trans), enfocus.core.select.call(null, node));
  } else {
    if (cljs.core._EQ_.call(null, 1, cnt)) {
      return enfocus.core.apply_transform.call(null, cljs.core.first.call(null, trans), node);
    } else {
      var vec__14276 = sel_QMARK_ ? cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, cljs.core.conj.call(null, trans, node)), document) : cljs.core._conj.call(null, cljs.core._conj.call(null, cljs.core.List.EMPTY, trans), node);
      var node__$1 = cljs.core.nth.call(null, vec__14276, 0, null);
      var trans__$1 = cljs.core.nth.call(null, vec__14276, 1, null);
      return cljs.core.apply.call(null, cljs.core.hash_map, cljs.core.mapcat.call(null, function(vec__14276, node__$1, trans__$1, cnt, sel_QMARK_) {
        return function(p__14277) {
          var vec__14278 = p__14277;
          var ky = cljs.core.nth.call(null, vec__14278, 0, null);
          var sel = cljs.core.nth.call(null, vec__14278, 1, null);
          var ext = cljs.core.nth.call(null, vec__14278, 2, null);
          return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [ky, enfocus.core.apply_transform.call(null, ext, enfocus.core.select.call(null, sel, node__$1, ""))], null);
        };
      }(vec__14276, node__$1, trans__$1, cnt, sel_QMARK_), cljs.core.partition.call(null, 3, trans__$1)));
    }
  }
};
enfocus.core.from.cljs$lang$maxFixedArity = 1;
enfocus.core.from.cljs$lang$applyTo = function(seq14273) {
  var G__14274 = cljs.core.first.call(null, seq14273);
  var seq14273__$1 = cljs.core.next.call(null, seq14273);
  return enfocus.core.from.cljs$core$IFn$_invoke$arity$variadic(G__14274, seq14273__$1);
};
enfocus.core.xpath = function enfocus$core$xpath(path) {
  return function(root, id_mask) {
    if (cljs.core.empty_QMARK_.call(null, id_mask)) {
      return domina.xpath.xpath.call(null, root, path);
    } else {
      var tmp = path.replace("@ID\x3d'", [cljs.core.str("@ID\x3d'"), cljs.core.str(id_mask)].join(""));
      var mpath = path.replace("@id\x3d'", [cljs.core.str("@id\x3d'"), cljs.core.str(id_mask)].join(""));
      return domina.xpath.xpath.call(null, root, mpath);
    }
  };
};
enfocus.core.this_node = function enfocus$core$this_node(root, id_mask) {
  return root;
};
if (cljs.core.truth_(typeof Text != "undefined")) {
  Text.prototype.domina$DomContent$ = true;
  Text.prototype.domina$DomContent$nodes$arity$1 = function(content) {
    var content__$1 = this;
    return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [content__$1], null);
  };
  Text.prototype.domina$DomContent$single_node$arity$1 = function(content) {
    var content__$1 = this;
    return content__$1;
  };
} else {
}
enfocus.core.ISelector["function"] = true;
enfocus.core.select["function"] = function() {
  var G__14282 = null;
  var G__14282__1 = function(this$) {
    return enfocus.core.select.call(null, this$, document, "");
  };
  var G__14282__2 = function(this$, root) {
    return enfocus.core.select.call(null, this$, root, "");
  };
  var G__14282__3 = function(this$, root, id_mask) {
    return this$.call(null, root, id_mask);
  };
  G__14282 = function(this$, root, id_mask) {
    switch(arguments.length) {
      case 1:
        return G__14282__1.call(this, this$);
      case 2:
        return G__14282__2.call(this, this$, root);
      case 3:
        return G__14282__3.call(this, this$, root, id_mask);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__14282.cljs$core$IFn$_invoke$arity$1 = G__14282__1;
  G__14282.cljs$core$IFn$_invoke$arity$2 = G__14282__2;
  G__14282.cljs$core$IFn$_invoke$arity$3 = G__14282__3;
  return G__14282;
}();
cljs.core.PersistentVector.prototype.enfocus$core$ISelector$ = true;
cljs.core.PersistentVector.prototype.enfocus$core$ISelector$select$arity$1 = function(this$) {
  var this$__$1 = this;
  return enfocus.core.select.call(null, this$__$1, document, "");
};
cljs.core.PersistentVector.prototype.enfocus$core$ISelector$select$arity$2 = function(this$, root) {
  var this$__$1 = this;
  return enfocus.core.select.call(null, this$__$1, root, "");
};
cljs.core.PersistentVector.prototype.enfocus$core$ISelector$select$arity$3 = function(this$, root, id_mask) {
  var this$__$1 = this;
  return enfocus.core.css_select.call(null, id_mask, root, this$__$1);
};
enfocus.core.ISelector["string"] = true;
enfocus.core.select["string"] = function() {
  var G__14283 = null;
  var G__14283__1 = function(this$) {
    return enfocus.core.select.call(null, this$, document, "");
  };
  var G__14283__2 = function(this$, root) {
    return enfocus.core.select.call(null, this$, root, "");
  };
  var G__14283__3 = function(this$, root, id_mask) {
    return enfocus.core.css_select.call(null, id_mask, root, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [this$], null));
  };
  G__14283 = function(this$, root, id_mask) {
    switch(arguments.length) {
      case 1:
        return G__14283__1.call(this, this$);
      case 2:
        return G__14283__2.call(this, this$, root);
      case 3:
        return G__14283__3.call(this, this$, root, id_mask);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__14283.cljs$core$IFn$_invoke$arity$1 = G__14283__1;
  G__14283.cljs$core$IFn$_invoke$arity$2 = G__14283__2;
  G__14283.cljs$core$IFn$_invoke$arity$3 = G__14283__3;
  return G__14283;
}();
enfocus.core.ISelector["null"] = true;
enfocus.core.select["null"] = function() {
  var G__14284 = null;
  var G__14284__1 = function(this$) {
    return cljs.core.List.EMPTY;
  };
  var G__14284__2 = function(this$, root) {
    return cljs.core.List.EMPTY;
  };
  var G__14284__3 = function(this$, root, id_mask) {
    return cljs.core.List.EMPTY;
  };
  G__14284 = function(this$, root, id_mask) {
    switch(arguments.length) {
      case 1:
        return G__14284__1.call(this, this$);
      case 2:
        return G__14284__2.call(this, this$, root);
      case 3:
        return G__14284__3.call(this, this$, root, id_mask);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__14284.cljs$core$IFn$_invoke$arity$1 = G__14284__1;
  G__14284.cljs$core$IFn$_invoke$arity$2 = G__14284__2;
  G__14284.cljs$core$IFn$_invoke$arity$3 = G__14284__3;
  return G__14284;
}();
enfocus.core.ITransform["function"] = true;
enfocus.core.apply_transform["function"] = function() {
  var G__14285 = null;
  var G__14285__2 = function(trans, nodes) {
    return cljs.core.doall.call(null, cljs.core.map.call(null, trans, enfocus.core.nodes__GT_coll.call(null, nodes)));
  };
  var G__14285__3 = function(trans, nodes, chain) {
    var pnod_col = enfocus.core.nodes__GT_coll.call(null, nodes);
    var val = cljs.core.doall.call(null, cljs.core.map.call(null, trans, pnod_col));
    if (cljs.core.truth_(chain)) {
      return enfocus.core.apply_transform.call(null, chain, nodes);
    } else {
      return val;
    }
  };
  G__14285 = function(trans, nodes, chain) {
    switch(arguments.length) {
      case 2:
        return G__14285__2.call(this, trans, nodes);
      case 3:
        return G__14285__3.call(this, trans, nodes, chain);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__14285.cljs$core$IFn$_invoke$arity$2 = G__14285__2;
  G__14285.cljs$core$IFn$_invoke$arity$3 = G__14285__3;
  return G__14285;
}();
enfocus.core.ITransform["null"] = true;
enfocus.core.apply_transform["null"] = function() {
  var G__14286 = null;
  var G__14286__2 = function(trans, nodes) {
    return nodes;
  };
  var G__14286__3 = function(trans, nodes, chain) {
    return nodes;
  };
  G__14286 = function(trans, nodes, chain) {
    switch(arguments.length) {
      case 2:
        return G__14286__2.call(this, trans, nodes);
      case 3:
        return G__14286__3.call(this, trans, nodes, chain);
    }
    throw new Error("Invalid arity: " + arguments.length);
  };
  G__14286.cljs$core$IFn$_invoke$arity$2 = G__14286__2;
  G__14286.cljs$core$IFn$_invoke$arity$3 = G__14286__3;
  return G__14286;
}();
goog.provide("kuroi.render");
goog.require("cljs.core");
goog.require("kuroi.base");
goog.require("enfocus.core");
goog.require("kuroi.settings");
goog.require("kuroi.io");
goog.require("kuroi.page_parser");
goog.require("kuroi.filters");
goog.require("clojure.string");
goog.require("cljs.reader");
kuroi.render.flatten_markup = function kuroi$render$flatten_markup(text) {
  return clojure.string.replace.call(null, clojure.string.replace.call(null, clojure.string.replace.call(null, clojure.string.replace.call(null, text, /<br[^>]*>/, " "), /<object[^>]*>.*?<\/object>/, ""), /<embed[^>]*>/, ""), /((?:<blockquote)|(?:<div)|(?:<p))/, '$1 style\x3d"display: inline" ');
};
kuroi.render.replace_events = function kuroi$render$replace_events(n) {
  var with_event_9432 = n.querySelectorAll("*[data-onclick]");
  with_event_9432.forEach(function(with_event_9432) {
    return function(we) {
      return we.onclick = function(with_event_9432) {
        return function(event) {
          we._event = event;
          return eval([cljs.core.str("event\x3dthis._event;"), cljs.core.str(we.getAttribute("data-onclick")), cljs.core.str("")].join(""));
        };
      }(with_event_9432);
    };
  }(with_event_9432));
  var with_event_9433 = n.querySelectorAll("*[data-onload]");
  with_event_9433.forEach(function(with_event_9433) {
    return function(we) {
      return we.onload = function(with_event_9433) {
        return function(event) {
          we._event = event;
          return eval([cljs.core.str("event\x3dthis._event;"), cljs.core.str(we.getAttribute("data-onload")), cljs.core.str("")].join(""));
        };
      }(with_event_9433);
    };
  }(with_event_9433));
  var with_event_9434 = n.querySelectorAll("*[data-onmouseover]");
  with_event_9434.forEach(function(with_event_9434) {
    return function(we) {
      return we.onmouseover = function(with_event_9434) {
        return function(event) {
          we._event = event;
          return eval([cljs.core.str("event\x3dthis._event;"), cljs.core.str(we.getAttribute("data-onmouseover")), cljs.core.str("")].join(""));
        };
      }(with_event_9434);
    };
  }(with_event_9434));
  var with_event = n.querySelectorAll("*[data-onmouseout]");
  return with_event.forEach(function(with_event) {
    return function(we) {
      return we.onmouseout = function(with_event) {
        return function(event) {
          we._event = event;
          return eval([cljs.core.str("event\x3dthis._event;"), cljs.core.str(we.getAttribute("data-onmouseout")), cljs.core.str("")].join(""));
        };
      }(with_event);
    };
  }(with_event));
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/watch-stream.html") == null) {
  var vec__9437_9442 = enfocus.core.replace_ids.call(null, "en9436_", '\x3ctable class\x3d"thread-stream" cellpadding\x3d"0" cellspacing\x3d"0" border\x3d"0"\x3e\r\n  \x3ctr class\x3d"thread-line"\x3e\r\n\t\x3ctd class\x3d"watch-thread-control" style\x3d"display: none;"\x3e\r\n\t  \x3cdiv class\x3d"control-buttons"\x3e\r\n\t\t\x3cdiv class\x3d"service-pane-container" style\x3d"margin-top: 15px;"\x3e\r\n\t\t  \x3cp class\x3d"service-pane"\x3e\r\n\t\t\t\x3cspan class\x3d"delta-posts-lazy" data-onclick\x3d"frontend.lazy_get_watch(this)"\r\n\t\t\t\t  title\x3d"Delta posts from the last visit"\x3e\x26#x2206; [?]\x3c/span\x3e\r\n\t\t  \x3c/p\x3e\r\n\t\t\x3c/div\x3e\r\n\t  \x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"watch-image-cell" style\x3d"border-bottom: none;"\x3e\r\n\t  \x3cdiv class\x3d"watch-image-container"\x3e\r\n\t\t\x3ca class\x3d"image-link" target\x3d"_blank"\x3e\x3cimg class\x3d"watch-image" src\x3d""/\x3e\x3c/a\x3e\r\n\t  \x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"thread-oppost watch-thread-oppost" style\x3d"border-bottom: none;"\x3e\r\n\t  \x3cdiv class\x3d"thread-header watch-thread-header" style\x3d"display: none;"\x3e\r\n\t\tNo.\x26nbsp;\x3ca class\x3d"thread-no" target\x3d"_blank"\x3e\x3c/a\x3e\r\n\t\t\x26nbsp;\x3ca class\x3d"inline-view-trigger" title\x3d"Inline view" \r\n\t\t\t\t data-onclick\x3d"frontend.inline_view_thread(this)"\x3e\x26#x274F;\x3c/a\x3e\r\n\t\t\x3ca class\x3d"delta-link" target\x3d"_blank" data-onclick\x3d"frontend.inline_view_reflink(this)"\r\n\t\t   title\x3d"Inline view delta"\x3e\x26#x2206;\x3c/a\x3e\r\n\t\t\x26nbsp;\x3cspan class\x3d"watch-control-buttons"\x3e\r\n\t\t  \x3ca class\x3d"watch-trigger-enabled" data-onclick\x3d"frontend.watch_thread(this)" onwatch\x3d"onwatch"\r\n\t\t\t title\x3d"Unwatch thread"\x3e\x26#x2605;\x3c/a\x3e\r\n\t\t\x3c/span\x3e\r\n\t\t\x26nbsp;\x3cspan class\x3d"post-count" title\x3d"Post count"\x3e\x3c/span\x3e\r\n\t\t\x3cspan class\x3d"thread-title"\x3e\x3c/span\x3e\r\n\t  \x3c/div\x3e\r\n\t  \x3cdiv class\x3d"oppost-text watch-oppost-text"\x3e\r\n        \x3cdiv class\x3d"load-indicator"\x3e\r\n          \x3cimg src\x3d"loading-bar.gif"/\x3e Processing...\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\t  \x3cimg class\x3d"lazy-load-trigger" data-onload\x3d"frontend.lazy_get_watch(this, true)"/\x3e\r\n\t\x3c/td\x3e\r\n  \x3c/tr\x3e\r\n\x3c/table\x3e\r\n');
  var sym__8840__auto___9443 = cljs.core.nth.call(null, vec__9437_9442, 0, null);
  var txt__8841__auto___9444 = cljs.core.nth.call(null, vec__9437_9442, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/watch-stream.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9443, txt__8841__auto___9444], null));
} else {
}
kuroi.render.watch = function kuroi$render$watch(threads, target) {
  var vec__9441 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/watch-stream.html");
  }.call(null);
  var id_sym9438 = cljs.core.nth.call(null, vec__9441, 0, null);
  var pnod9439 = cljs.core.nth.call(null, vec__9441, 1, null);
  var pnod9439__$1 = enfocus.core.create_hidden_dom.call(null, pnod9439);
  enfocus.core.i_at.call(null, id_sym9438, pnod9439__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-line", ".thread-line", 1810852588)], null), function(vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
    return function(pnod__8458__auto__) {
      var div__8459__auto__ = enfocus.core.create_hidden_dom.call(null, document.createDocumentFragment());
      return function(div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
        return function kuroi$render$watch_$_breaker__8460__auto__(lst__8461__auto__) {
          var temp__4657__auto__ = cljs.core.first.call(null, lst__8461__auto__);
          if (cljs.core.truth_(temp__4657__auto__)) {
            var th = temp__4657__auto__;
            enfocus.core.at.call(null, div__8459__auto__, enfocus.core.append.call(null, pnod__8458__auto__.cloneNode(true)));
            enfocus.core.at.call(null, goog.dom.getLastElementChild(div__8459__auto__), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
              return function(node) {
                if (typeof th === "string") {
                  return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "group-line"), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                    return function(node__$1) {
                      return enfocus.core.at.call(null, node__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-thread-control", ".watch-thread-control", -1054930767)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "colspan", "colspan", -1512420934), "3"), enfocus.core.set_attr.call(null, 
                      new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-group"), enfocus.core.content.call(null, th)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-image-cell", ".watch-image-cell", 1249120827)], null), enfocus.core.remove_node.call(null), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-oppost", ".thread-oppost", -886419377)], 
                      null), enfocus.core.remove_node.call(null));
                    };
                  }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1)).call(null, node);
                } else {
                  return enfocus.core.at.call(null, node, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-thread-control", ".watch-thread-control", -1054930767)], null), enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-thread-header", ".watch-thread-header", -512154600)], 
                  null), enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-image-cell", ".watch-image-cell", 1249120827)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, 
                  pnod9439__$1) {
                    return function(node__8446__auto__) {
                      if (cljs.core.truth_((new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target))) {
                        return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                      } else {
                        return node__8446__auto__;
                      }
                    };
                  }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-image", ".watch-image", -1846716937)], null), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                    return function(node__8452__auto__) {
                      if (cljs.core.truth_(function() {
                        var and__6144__auto__ = (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th);
                        if (cljs.core.truth_(and__6144__auto__)) {
                          return cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                        } else {
                          return and__6144__auto__;
                        }
                      }())) {
                        return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(th)).call(null, node__8452__auto__);
                      } else {
                        return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                      }
                    };
                  }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-link", ".image-link", 413548652)], null), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                    return function(node__8452__auto__) {
                      if (cljs.core.truth_(function() {
                        var and__6144__auto__ = (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th);
                        if (cljs.core.truth_(and__6144__auto__)) {
                          return cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                        } else {
                          return and__6144__auto__;
                        }
                      }())) {
                        return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 1121593638), [cljs.core.str("frontend.expand_image(this,"), cljs.core.str(cljs.core.first.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(th))), 
                        cljs.core.str(","), cljs.core.str(cljs.core.second.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(th))), cljs.core.str(")")].join(""))).call(null, node__8452__auto__);
                      } else {
                        return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                      }
                    };
                  }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-image-container", ".watch-image-container", -487440614)], null), function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                    return function(node__8452__auto__) {
                      if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target))) {
                        return function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                          return function(p1__9435_SHARP_) {
                            if (cljs.core.truth_((new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th))) {
                              return p1__9435_SHARP_;
                            } else {
                              return enfocus.core.html_content.call(null, '\x3cspan class\x3d"noimage"\x3eNo image\x3c/span\x3e').call(null, p1__9435_SHARP_);
                            }
                          };
                        }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1).call(null, node__8452__auto__);
                      } else {
                        return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                      }
                    };
                  }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-oppost", ".thread-oppost", -886419377)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "id", "id", -1388402092), (new cljs.core.Keyword(null, 
                  "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-no", ".thread-no", -1716557330)], null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "title", "title", 636505583), (new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.set_attr.call(null, 
                  new cljs.core.Keyword(null, "href", "href", -793805698), (new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.content.call(null, [cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(th))].join(""))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".delta-link", ".delta-link", 1472728903)], null), enfocus.core.set_attr.call(null, 
                  new cljs.core.Keyword(null, "href", "href", -793805698), [cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str("#"), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(th)) ? "p" : null), cljs.core.str((new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(th))].join("")), new cljs.core.PersistentVector(null, 
                  1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".post-count", ".post-count", 615998627)], null), enfocus.core.content.call(null, [cljs.core.str("["), cljs.core.str((new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str("]")].join("")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-title", ".thread-title", 404132726)], 
                  null), enfocus.core.html_content.call(null, (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(th)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".lazy-load-trigger", ".lazy-load-trigger", 2095231431)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), [cljs.core.str(kuroi.io._STAR_file_base_STAR_), cljs.core.str("empty.png")].join("")), 
                  new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-oppost-text", ".watch-oppost-text", -816154217)], null), enfocus.core.html_content.call(null, kuroi.render.flatten_markup.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(th))));
                }
              };
            }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1));
            kuroi.render.replace_events.call(null, div__8459__auto__);
            if (cljs.core.next.call(null, lst__8461__auto__)) {
              return setTimeout(function(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1) {
                return function() {
                  return kuroi$render$watch_$_breaker__8460__auto__.call(null, cljs.core.rest.call(null, lst__8461__auto__));
                };
              }(th, temp__4657__auto__, div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1), 1);
            } else {
              return enfocus.core.at.call(null, pnod__8458__auto__, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, enfocus.core.remove_node_return_child.call(null, div__8459__auto__)), enfocus.core.remove_node.call(null)));
            }
          } else {
            return null;
          }
        };
      }(div__8459__auto__, vec__9441, id_sym9438, pnod9439, pnod9439__$1).call(null, threads);
    };
  }(vec__9441, id_sym9438, pnod9439, pnod9439__$1));
  enfocus.core.reset_ids.call(null, id_sym9438, pnod9439__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9439__$1);
};
kuroi.render.inject_replies = function kuroi$render$inject_replies(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___9456 = arguments.length;
  var i__7215__auto___9457 = 0;
  while (true) {
    if (i__7215__auto___9457 < len__7214__auto___9456) {
      args__7221__auto__.push(arguments[i__7215__auto___9457]);
      var G__9458 = i__7215__auto___9457 + 1;
      i__7215__auto___9457 = G__9458;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 3 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(3), 0) : null;
  return kuroi.render.inject_replies.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], arguments[2], argseq__7222__auto__);
};
kuroi.render.inject_replies.cljs$core$IFn$_invoke$arity$variadic = function(root_node, thread, target, p__9449) {
  var map__9450 = p__9449;
  var map__9450__$1 = (!(map__9450 == null) ? map__9450.cljs$lang$protocol_mask$partition0$ & 64 || map__9450.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9450) : map__9450;
  var word_filter = cljs.core.get.call(null, map__9450__$1, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909), true);
  var settings = kuroi.settings.get_for.call(null, target);
  var replies = cljs.core.truth_(function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674)).cljs$core$IFn$_invoke$arity$1(settings);
    if (cljs.core.truth_(and__6144__auto__)) {
      return word_filter;
    } else {
      return and__6144__auto__;
    }
  }()) ? (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(kuroi.filters.filter_replies.call(null, (new cljs.core.Keyword(null, "wf-post-parsed", "wf-post-parsed", -380297627)).cljs$core$IFn$_invoke$arity$1(settings), thread, target)) : (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread);
  return function(settings, replies, map__9450, map__9450__$1, word_filter) {
    return function(node) {
      return function(settings, replies, map__9450, map__9450__$1, word_filter) {
        return function(pnod__8469__auto__) {
          var div__8470__auto__ = root_node;
          var fallback__8471__auto__ = cljs.core.not.call(null, div__8470__auto__);
          var do_clone__8472__auto__ = function(div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
            return function() {
              var wnd__8473__auto__ = 10;
              var hidden__8474__auto__ = enfocus.core.create_hidden_dom.call(null, document.createDocumentFragment());
              var div__8470__auto____$1 = fallback__8471__auto__ ? hidden__8474__auto__ : div__8470__auto__;
              var show_nodes__8475__auto__ = function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                return function(nodes__8476__auto__, where__8477__auto__) {
                  var seq__9452 = cljs.core.seq.call(null, nodes__8476__auto__);
                  var chunk__9453 = null;
                  var count__9454 = 0;
                  var i__9455 = 0;
                  while (true) {
                    if (i__9455 < count__9454) {
                      var n__8478__auto__ = cljs.core._nth.call(null, chunk__9453, i__9455);
                      n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                      where__8477__auto__.appendChild(n__8478__auto__);
                      var G__9459 = seq__9452;
                      var G__9460 = chunk__9453;
                      var G__9461 = count__9454;
                      var G__9462 = i__9455 + 1;
                      seq__9452 = G__9459;
                      chunk__9453 = G__9460;
                      count__9454 = G__9461;
                      i__9455 = G__9462;
                      continue;
                    } else {
                      var temp__4657__auto__ = cljs.core.seq.call(null, seq__9452);
                      if (temp__4657__auto__) {
                        var seq__9452__$1 = temp__4657__auto__;
                        if (cljs.core.chunked_seq_QMARK_.call(null, seq__9452__$1)) {
                          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__9452__$1);
                          var G__9463 = cljs.core.chunk_rest.call(null, seq__9452__$1);
                          var G__9464 = c__6959__auto__;
                          var G__9465 = cljs.core.count.call(null, c__6959__auto__);
                          var G__9466 = 0;
                          seq__9452 = G__9463;
                          chunk__9453 = G__9464;
                          count__9454 = G__9465;
                          i__9455 = G__9466;
                          continue;
                        } else {
                          var n__8478__auto__ = cljs.core.first.call(null, seq__9452__$1);
                          n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                          where__8477__auto__.appendChild(n__8478__auto__);
                          var G__9467 = cljs.core.next.call(null, seq__9452__$1);
                          var G__9468 = null;
                          var G__9469 = 0;
                          var G__9470 = 0;
                          seq__9452 = G__9467;
                          chunk__9453 = G__9468;
                          count__9454 = G__9469;
                          i__9455 = G__9470;
                          continue;
                        }
                      } else {
                        return null;
                      }
                    }
                    break;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter);
              if (!fallback__8471__auto__) {
                enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.remove_node.call(null));
              } else {
              }
              return function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                return function kuroi$render$breaker__8479__auto__(lst__8480__auto__, que__8481__auto__) {
                  var temp__4657__auto__ = cljs.core.first.call(null, lst__8480__auto__);
                  if (cljs.core.truth_(temp__4657__auto__)) {
                    var rep = temp__4657__auto__;
                    var clone__8482__auto__ = pnod__8469__auto__.cloneNode(true);
                    enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.append.call(null, clone__8482__auto__));
                    enfocus.core.at.call(null, goog.dom.getLastElementChild(hidden__8474__auto__), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".post-container", ".post-container", -1971734394)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-thread-id", "data-thread-id", 1105730059), (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(thread)), new cljs.core.PersistentVector(null, 
                    1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply-header", ".reply-header", 865667629)], null), enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".flag", ".flag", 1145898241)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, 
                    show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(rep))) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core.first.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(rep)) : "flag"), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                          div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                            return function(node__$1) {
                              if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target))) {
                                return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), cljs.core.first.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(rep))).call(null, node__$1);
                              } else {
                                return enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051)).call(null, node__$1);
                              }
                            };
                          }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "title", "title", 636505583), cljs.core.second.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(rep)))).call(null, node__8452__auto__)
                          ;
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply-no", ".reply-no", 318472859)], null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, 
                    "title", "title", 636505583), (new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(rep)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), [cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(rep)), cljs.core.str("#"), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? 
                    "p" : null), cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(rep))].join("")), enfocus.core.content.call(null, [cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(rep))].join(""))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply-ord", ".reply-ord", -296757733)], null), enfocus.core.content.call(null, [cljs.core.str((new cljs.core.Keyword(null, 
                    "post-num", "post-num", -587129584)).cljs$core$IFn$_invoke$arity$1(rep))].join("")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply-title", ".reply-title", 145592166)], null), enfocus.core.html_content.call(null, (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(rep)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, 
                    ".post-image", ".post-image", 2068718389)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_(function() {
                          var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                          if (and__6144__auto__) {
                            return (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(rep);
                          } else {
                            return and__6144__auto__;
                          }
                        }())) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(rep)).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-link", ".image-link", 413548652)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_(function() {
                          var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                          if (and__6144__auto__) {
                            return (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(rep);
                          } else {
                            return and__6144__auto__;
                          }
                        }())) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(rep)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 1121593638), [cljs.core.str("frontend.expand_image(this,"), cljs.core.str(cljs.core.first.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 
                          1574819796)).cljs$core$IFn$_invoke$arity$1(rep))), cljs.core.str(","), cljs.core.str(cljs.core.second.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(rep))), cljs.core.str(")")].join(""))).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-container", ".image-container", -303485076)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, 
                    hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(node__8446__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target))) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".post-text", ".post-text", 298243709)], null), enfocus.core.do__GT_.call(null, enfocus.core.html_content.call(null, (new cljs.core.Keyword(null, 
                    "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(rep)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), cljs.core.truth_(function() {
                      var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                      if (and__6144__auto__) {
                        return (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(rep);
                      } else {
                        return and__6144__auto__;
                      }
                    }()) ? "image-indent post-text" : "text-indent post-text")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".crossref-container", ".crossref-container", 555173423)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(node__8446__auto__) {
                        if (cljs.core.not.call(null, cljs.core.seq.call(null, (new cljs.core.Keyword(null, "refs", "refs", -1560051448)).cljs$core$IFn$_invoke$arity$1(rep)))) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".crossref-wrap", ".crossref-wrap", 1393474522)], null), function(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, 
                    hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                      return function(pnod__8458__auto__) {
                        var div__8459__auto__ = enfocus.core.create_hidden_dom.call(null, document.createDocumentFragment());
                        return function(div__8459__auto__, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                          return function kuroi$render$breaker__8479__auto___$_breaker__8460__auto__(lst__8461__auto__) {
                            var temp__4657__auto____$1 = cljs.core.first.call(null, lst__8461__auto__);
                            if (cljs.core.truth_(temp__4657__auto____$1)) {
                              var ref = temp__4657__auto____$1;
                              enfocus.core.at.call(null, div__8459__auto__, enfocus.core.append.call(null, pnod__8458__auto__.cloneNode(true)));
                              enfocus.core.at.call(null, goog.dom.getLastElementChild(div__8459__auto__), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".crossref", ".crossref", -1060778305)], null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), [cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(rep)), cljs.core.str("#"), 
                              cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? "p" : null), cljs.core.str(ref)].join("")), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onmouseover", "data-onmouseover", 268283930), [cljs.core.str("frontend.show_popup(event, '"), cljs.core.str(ref), cljs.core.str("', true)")].join("")), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onmouseout", 
                              "data-onmouseout", 210757608), [cljs.core.str("frontend.show_popup(event, '"), cljs.core.str(ref), cljs.core.str("', false)")].join("")), enfocus.core.html_content.call(null, [cljs.core.str("\x26gt;\x26gt;"), cljs.core.str(ref)].join(""))));
                              kuroi.render.replace_events.call(null, div__8459__auto__);
                              if (cljs.core.next.call(null, lst__8461__auto__)) {
                                return setTimeout(function(ref, temp__4657__auto____$1, div__8459__auto__, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                                  return function() {
                                    return kuroi$render$breaker__8479__auto___$_breaker__8460__auto__.call(null, cljs.core.rest.call(null, lst__8461__auto__));
                                  };
                                }(ref, temp__4657__auto____$1, div__8459__auto__, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), 1);
                              } else {
                                return enfocus.core.at.call(null, pnod__8458__auto__, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, enfocus.core.remove_node_return_child.call(null, div__8459__auto__)), enfocus.core.remove_node.call(null)));
                              }
                            } else {
                              return null;
                            }
                          };
                        }(div__8459__auto__, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter).call(null, (new cljs.core.Keyword(null, "refs", "refs", -1560051448)).cljs$core$IFn$_invoke$arity$1(rep));
                      };
                    }(clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter));
                    kuroi.render.replace_events.call(null, clone__8482__auto__);
                    var que__8481__auto____$1 = !fallback__8471__auto__ && cljs.core.count.call(null, que__8481__auto__) > wnd__8473__auto__ ? function() {
                      show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto__), div__8470__auto____$1);
                      return cljs.core.conj.call(null, cljs.core.PersistentQueue.EMPTY, clone__8482__auto__);
                    }() : !fallback__8471__auto__ ? cljs.core.conj.call(null, que__8481__auto__, clone__8482__auto__) : null;
                    if (cljs.core.next.call(null, lst__8480__auto__)) {
                      return setTimeout(function(que__8481__auto____$1, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter) {
                        return function() {
                          return kuroi$render$breaker__8479__auto__.call(null, cljs.core.rest.call(null, lst__8480__auto__), que__8481__auto____$1);
                        };
                      }(que__8481__auto____$1, clone__8482__auto__, rep, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter), 1);
                    } else {
                      if (fallback__8471__auto__) {
                        return enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, enfocus.core.remove_node_return_child.call(null, div__8470__auto____$1)), enfocus.core.remove_node.call(null)));
                      } else {
                        show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto____$1), div__8470__auto____$1);
                        return enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.remove_node.call(null));
                      }
                    }
                  } else {
                    return null;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter).call(null, replies, cljs.core.PersistentQueue.EMPTY);
            };
          }(div__8470__auto__, fallback__8471__auto__, settings, replies, map__9450, map__9450__$1, word_filter);
          if (!fallback__8471__auto__) {
            return setTimeout(do_clone__8472__auto__, 10);
          } else {
            return do_clone__8472__auto__.call(null);
          }
        };
      }(settings, replies, map__9450, map__9450__$1, word_filter).call(null, node);
    };
  }(settings, replies, map__9450, map__9450__$1, word_filter);
};
kuroi.render.inject_replies.cljs$lang$maxFixedArity = 3;
kuroi.render.inject_replies.cljs$lang$applyTo = function(seq9445) {
  var G__9446 = cljs.core.first.call(null, seq9445);
  var seq9445__$1 = cljs.core.next.call(null, seq9445);
  var G__9447 = cljs.core.first.call(null, seq9445__$1);
  var seq9445__$2 = cljs.core.next.call(null, seq9445__$1);
  var G__9448 = cljs.core.first.call(null, seq9445__$2);
  var seq9445__$3 = cljs.core.next.call(null, seq9445__$2);
  return kuroi.render.inject_replies.cljs$core$IFn$_invoke$arity$variadic(G__9446, G__9447, G__9448, seq9445__$3);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/thread-stream.html[:.replies]") == null) {
  var vec__9472_9482 = enfocus.core.replace_ids.call(null, "en9471_", '\x3cdiv class\x3d"replies"\x3e \n \x3cdiv class\x3d"image-indent"\x3e \n  \x3cdiv class\x3d"reply"\x3e \n   \x3cdiv class\x3d"post-container"\x3e \n    \x3cdiv class\x3d"reply-header" style\x3d"display: none;"\x3e \n     \x3cimg class\x3d"flag" /\x3e\x26nbsp; No.\x26nbsp;\n     \x3ca class\x3d"reply-no" target\x3d"_blank"\x3e\x3c/a\x3e \x26nbsp;\n     \x3ca class\x3d"inline-view-trigger header-btn" title\x3d"Inline view" data-onclick\x3d"frontend.inline_view_thread(this)"\x3e\u274f\x3c/a\x3e \x26nbsp;\n     \x3ca class\x3d"header-btn reply-btn" data-onclick\x3d"frontend.show_reply_form(this);" title\x3d"Reply"\x3e[+]\x3c/a\x3e \n     \x3cspan class\x3d"reply-ord"\x3e\x3c/span\x3e \x26nbsp;\n     \x3cspan class\x3d"reply-title"\x3e\x3c/span\x3e \n    \x3c/div\x3e \n    \x3cdiv class\x3d"image-container"\x3e \n     \x3ca class\x3d"image-link" target\x3d"_blank"\x3e\x3cimg class\x3d"post-image" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAB3RJTUUH3gkWDhMWAydkBAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAALSURBVHjaY2AAAgAABQAB6frc2AAAAABJRU5ErkJggg\x3d\x3d" /\x3e\x3c/a\x3e \n    \x3c/div\x3e \n    \x3cdiv class\x3d"post-text"\x3e \n     \x3cdiv class\x3d"load-indicator"\x3e \n      \x3cimg src\x3d"loading-bar.gif" /\x3e Please wait... \n     \x3c/div\x3e \n    \x3c/div\x3e \n    \x3cdiv class\x3d"crossref-container"\x3e \n     \x3cspan class\x3d"crossref-wrap"\x3e \x3ca class\x3d"crossref" target\x3d"_blank" data-onclick\x3d"frontend.inline_view_reflink(this)"\x3e\x3c/a\x3e \x3c/span\x3e \n    \x3c/div\x3e \n    \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e \n   \x3c/div\x3e \n  \x3c/div\x3e \n  \x3cdiv class\x3d"collapse-bar"\x3e\n   \x3ca class\x3d"expand-trigger" title\x3d"Collapse thread"\x3eCollapse\x3c/a\x3e\n  \x3c/div\x3e \n \x3c/div\x3e \n\x3c/div\x3e');
  var sym__8840__auto___9483 = cljs.core.nth.call(null, vec__9472_9482, 0, null);
  var txt__8841__auto___9484 = cljs.core.nth.call(null, vec__9472_9482, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/thread-stream.html[:.replies]", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9483, txt__8841__auto___9484], null));
} else {
}
kuroi.render.replies = function kuroi$render$replies(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___9485 = arguments.length;
  var i__7215__auto___9486 = 0;
  while (true) {
    if (i__7215__auto___9486 < len__7214__auto___9485) {
      args__7221__auto__.push(arguments[i__7215__auto___9486]);
      var G__9487 = i__7215__auto___9486 + 1;
      i__7215__auto___9486 = G__9487;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return kuroi.render.replies.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
kuroi.render.replies.cljs$core$IFn$_invoke$arity$variadic = function(thread, target, p__9478) {
  var map__9479 = p__9478;
  var map__9479__$1 = (!(map__9479 == null) ? map__9479.cljs$lang$protocol_mask$partition0$ & 64 || map__9479.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9479) : map__9479;
  var word_filter = cljs.core.get.call(null, map__9479__$1, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909), true);
  var fallback_QMARK_ = cljs.core.get.call(null, map__9479__$1, new cljs.core.Keyword(null, "fallback?", "fallback?", -1074968796));
  var vec__9481 = function(map__9479, map__9479__$1, word_filter, fallback_QMARK_) {
    return function() {
      return enfocus.core.get_cached_dom.call(null, "compiledtemplates/thread-stream.html[:.replies]");
    };
  }(map__9479, map__9479__$1, word_filter, fallback_QMARK_).call(null);
  var id_sym9473 = cljs.core.nth.call(null, vec__9481, 0, null);
  var pnod9474 = cljs.core.nth.call(null, vec__9481, 1, null);
  var pnod9474__$1 = enfocus.core.create_hidden_dom.call(null, pnod9474);
  enfocus.core.i_at.call(null, id_sym9473, pnod9474__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".expand-trigger", ".expand-trigger", -205408374)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 1121593638), [cljs.core.str('frontend.expand_thread("'), cljs.core.str((new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(thread)), 
  cljs.core.str('")')].join("")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-indent", ".image-indent", -1780906149)], null), enfocus.core.do__GT_.call(null, function(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_) {
    return function(node) {
      if (cljs.core.truth_((new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target))) {
        return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "text-indent").call(null, node);
      } else {
        return node;
      }
    };
  }(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_), function(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_) {
    return function(node) {
      return enfocus.core.at.call(null, node, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply", ".reply", -1328182862)], null), function(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_) {
        return function(node__8452__auto__) {
          if (cljs.core.seq.call(null, (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread)) && cljs.core.not.call(null, (new cljs.core.Keyword(null, "hdlns", "hdlns", 1319708620)).cljs$core$IFn$_invoke$arity$1(thread))) {
            return kuroi.render.inject_replies.call(null, cljs.core.not.call(null, fallback_QMARK_) ? node : null, thread, target, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909), word_filter).call(null, node__8452__auto__);
          } else {
            return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
          }
        };
      }(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_));
    };
  }(vec__9481, id_sym9473, pnod9474, pnod9474__$1, map__9479, map__9479__$1, word_filter, fallback_QMARK_)));
  enfocus.core.reset_ids.call(null, id_sym9473, pnod9474__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9474__$1);
};
kuroi.render.replies.cljs$lang$maxFixedArity = 2;
kuroi.render.replies.cljs$lang$applyTo = function(seq9475) {
  var G__9476 = cljs.core.first.call(null, seq9475);
  var seq9475__$1 = cljs.core.next.call(null, seq9475);
  var G__9477 = cljs.core.first.call(null, seq9475__$1);
  var seq9475__$2 = cljs.core.next.call(null, seq9475__$1);
  return kuroi.render.replies.cljs$core$IFn$_invoke$arity$variadic(G__9476, G__9477, seq9475__$2);
};
kuroi.render.get_label = function kuroi$render$get_label(thread) {
  var print_index = function kuroi$render$get_label_$_print_index(thread__$1) {
    if (typeof(new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(thread__$1) === "number") {
      return [cljs.core.str("page: "), cljs.core.str((new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(thread__$1))].join("");
    } else {
      return (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(thread__$1);
    }
  };
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(thread);
    if (cljs.core.truth_(and__6144__auto__)) {
      return (new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(thread);
    } else {
      return and__6144__auto__;
    }
  }())) {
    return [cljs.core.str((new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(thread)), cljs.core.str("; "), cljs.core.str(print_index.call(null, thread))].join("");
  } else {
    if (cljs.core.truth_((new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(thread))) {
      return (new cljs.core.Keyword(null, "date", "date", -1463434462)).cljs$core$IFn$_invoke$arity$1(thread);
    } else {
      if (cljs.core.truth_((new cljs.core.Keyword(null, "page-index", "page-index", 272949390)).cljs$core$IFn$_invoke$arity$1(thread))) {
        return print_index.call(null, thread);
      } else {
        return null;
      }
    }
  }
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/thread-stream.html") == null) {
  var vec__9491_9504 = enfocus.core.replace_ids.call(null, "en9490_", '\x3cdiv\x3e\r\n  \x3ctable class\x3d"thread-stream" cellpadding\x3d"0" cellspacing\x3d"0" border\x3d"0"\x3e\r\n\t\x3ctr class\x3d"group-line"\x3e\r\n\t  \x3ctd colspan\x3d"2" class\x3d"thread-group normal-weight"\x3e\x3c/td\x3e\r\n\t\x3c/tr\x3e\r\n\t\x3ctr class\x3d"thread-line"\x3e\r\n\t  \x3ctd class\x3d"thread-control" style\x3d"display: none;"\x3e\r\n\t\t\x26nbsp;\x3ca class\x3d"expand-trigger header-exp" title\x3d"Expand thread"\x3e\x26raquo;\x3c/a\x3e\r\n\t\t\x3cdiv class\x3d"control-buttons"\x3e\r\n\t\t  \x3cp\x3e\x3ca class\x3d"watch-trigger-disabled" data-onclick\x3d"frontend.watch_thread(this)"\r\n\t\t\t\ttitle\x3d"Watch thread"\x3e\x26#x2606;\x3c/a\x3e\x3c/p\x3e\r\n\t\t  \x3cdiv class\x3d"service-pane-container"\x3e\r\n\t\t\t\x3cp class\x3d"service-pane"\x3e\r\n\t\t\t  \x3ca class\x3d"forget-trigger" data-onclick\x3d"frontend.forget_thread(this)"\r\n\t\t\t\t title\x3d"Hide thread"\x3e\x26#x00d7;\x3c/a\x3e\r\n\t\t\t\x3c/p\x3e\r\n\t\t  \x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t  \x3c/td\x3e\r\n\t  \x3ctd class\x3d"thread-oppost" style\x3d"border-bottom: none;"\x3e\r\n\t\t\x3cdiv class\x3d"post-container"\x3e\r\n\t\t  \x3cdiv class\x3d"thread-header" title\x3d"Expand thread" style\x3d"display: none;"\x3e \r\n\t\t\t\x3cimg class\x3d"flag" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAB3RJTUUH3gkWDhMWAydkBAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAALSURBVHjaY2AAAgAABQAB6frc2AAAAABJRU5ErkJggg\x3d\x3d"/\x3e\x26nbsp;\r\n\t\t\tNo.\x26nbsp;\x3ca class\x3d"thread-no reply-no" target\x3d"_blank"\x3e\x3c/a\x3e\r\n\t\t\t\x26nbsp;\x3ca class\x3d"inline-view-trigger header-btn" title\x3d"Inline view" \r\n        \t\t\t data-onclick\x3d"frontend.inline_view_thread(this)"\x3e\x26#x274F;\x3c/a\x3e\r\n\t\t\t\x3ca class\x3d"delta-link header-btn" target\x3d"_blank" data-onclick\x3d"frontend.inline_view_reflink(this)"\r\n\t\t\t   title\x3d"Inline view delta"\x3e\x26#x2206;\x3c/a\x3e\r\n            \x3ca class\x3d"inline-view-trigger header-btn inline-images-btn" title\x3d"Thread images"\r\n\t\t\t   data-onclick\x3d"frontend.show_thread_images(this, true)"\x3ei\x3c/a\x3e\r\n\t\t\t\x3c!--a class\x3d"iv-trigger-menu header-btn" data-onclick\x3d"frontend.iv_show_menu(this)"\r\n\t\t\t   title\x3d"Integrated view"\x3e++\x3c/a--\x3e\r\n            \x3cdiv class\x3d"iv-border"\x3e\r\n\t\t\t  \x3ca class\x3d"iv-trigger header-btn" data-onclick\x3d"frontend.iv_load_posts(this, -1)"\r\n\t\t\t     title\x3d"Integrated view (all)"\x3e\x26#x2193;\x3c/a\x3e\r\n    \t\t  \x3ca class\x3d"iv-trigger header-btn" data-onclick\x3d"frontend.iv_load_posts(this, 100)"\r\n\t\t\t     title\x3d"Integrated view (100)"\x3e10\x26#xb2;\x3c/a\x3e\r\n\t\t\t  \x3ca class\x3d"iv-trigger header-btn" data-onclick\x3d"frontend.iv_load_posts(this, 50)"\r\n\t\t\t     title\x3d"Integrated view (50)"\x3e50\x3c/a\x3e\r\n\t\t\t  \x3ca class\x3d"iv-trigger header-btn" data-onclick\x3d"frontend.iv_load_posts(this, 10)"\r\n\t\t\t     title\x3d"Integrated view (10)"\x3e10\x3c/a\x3e\r\n\t\t\t  \x3ca class\x3d"iv-trigger iv-delta header-btn" data-onclick\x3d"frontend.iv_load_posts(this, -2)"\r\n\t\t\t     title\x3d"Integrated view (\x26#x2206;)"\x3e\x26#x2206;\x3c/a\x3e\r\n            \x3c/div\x3e\r\n            \x26nbsp;\x3ca class\x3d"header-btn reply-btn" data-onclick\x3d"frontend.show_reply_form(this);"\r\n\t\t\t     title\x3d"Reply"\x3e[+]\x3c/a\x3e\r\n\t\t\t\x3cspan class\x3d"post-count" title\x3d"Post count"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"thread-title"\x3e\x3c/span\x3e\r\n\t\t  \x3c/div\x3e\r\n          \r\n\t\t  \x3cdiv class\x3d"image-container"\x3e\r\n\t\t\t\x3ca class\x3d"image-link" target\x3d"_blank"\x3e\x3cimg class\x3d"post-image" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAB3RJTUUH3gkWDhMWAydkBAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAALSURBVHjaY2AAAgAABQAB6frc2AAAAABJRU5ErkJggg\x3d\x3d"/\x3e\x3c/a\x3e\r\n\t\t  \x3c/div\x3e\r\n\t\t  \x3cdiv class\x3d"oppost-text"\x3e\r\n            \x3cdiv class\x3d"load-indicator loading-thread"\x3e\r\n              \x3cimg src\x3d"loading-bar.gif"/\x3e Processing...\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\t\t  \x3cdiv class\x3d"clear"/\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"replies"\x3e\r\n\t\t  \x3cdiv class\x3d"image-indent"\x3e\r\n\t\t\t\x3cdiv class\x3d"reply"\x3e\r\n\t\t\t  \x3cdiv class\x3d"post-container"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"reply-header" style\x3d"display: none;"\x3e\r\n\t\t\t\t  \x3cimg class\x3d"flag"/\x3e\x26nbsp;\r\n\t\t\t\t  No.\x26nbsp;\x3ca class\x3d"reply-no" target\x3d"_blank"\x3e\x3c/a\x3e\r\n\t\t\t\t  \x26nbsp;\x3ca class\x3d"inline-view-trigger header-btn" title\x3d"Inline view" \r\n\t\t\t\t\t   data-onclick\x3d"frontend.inline_view_thread(this)"\x3e\x26#x274F;\x3c/a\x3e\r\n                  \x26nbsp;\x3ca class\x3d"header-btn reply-btn" data-onclick\x3d"frontend.show_reply_form(this);"\r\n \t\t\t        title\x3d"Reply"\x3e[+]\x3c/a\x3e\r\n                  \x3cspan class\x3d"reply-ord"\x3e\x3c/span\x3e\r\n\t\t\t\t  \x26nbsp;\x3cspan class\x3d"reply-title"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"image-container"\x3e\r\n\t\t\t\t  \x3ca class\x3d"image-link" target\x3d"_blank"\x3e\x3cimg class\x3d"post-image" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAB3RJTUUH3gkWDhMWAydkBAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAALSURBVHjaY2AAAgAABQAB6frc2AAAAABJRU5ErkJggg\x3d\x3d"/\x3e\x3c/a\x3e\r\n\t\t\t\t\x3c/div\x3e                \r\n\t\t\t\t\x3cdiv class\x3d"post-text"\x3e\r\n                  \x3cdiv class\x3d"load-indicator"\x3e\r\n                    \x3cimg src\x3d"loading-bar.gif"/\x3e Please wait...\r\n                  \x3c/div\x3e\r\n                \x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"crossref-container"\x3e\r\n                  \x3cspan class\x3d"crossref-wrap"\x3e\r\n\t\t\t\t    \x3ca class\x3d"crossref" target\x3d"_blank" data-onclick\x3d"frontend.inline_view_reflink(this)"\x3e\x3c/a\x3e\r\n                  \x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"clear"/\x3e\r\n\t\t\t  \x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"collapse-bar"\x3e\x3ca class\x3d"expand-trigger" title\x3d"Collapse thread"\x3eCollapse\x3c/a\x3e\x3c/div\x3e\r\n\t\t  \x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cimg class\x3d"lazy-load-trigger" data-onload\x3d"frontend.lazy_get_watch(this)"/\x3e\r\n\t  \x3c/td\x3e\r\n\t\x3c/tr\x3e\r\n  \x3c/table\x3e\r\n  \x3c!-- img class\x3d"expand-all-trigger" onload\x3d"frontend.expand_btn_handler(event)"/--\x3e\r\n\x3c/div\x3e\r\n');
  var sym__8840__auto___9505 = cljs.core.nth.call(null, vec__9491_9504, 0, null);
  var txt__8841__auto___9506 = cljs.core.nth.call(null, vec__9491_9504, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/thread-stream.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9505, txt__8841__auto___9506], null));
} else {
}
kuroi.render.thread_stream = function kuroi$render$thread_stream(threads, target, onendclone) {
  var vec__9499 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/thread-stream.html");
  }.call(null);
  var id_sym9492 = cljs.core.nth.call(null, vec__9499, 0, null);
  var pnod9493 = cljs.core.nth.call(null, vec__9499, 1, null);
  var pnod9493__$1 = enfocus.core.create_hidden_dom.call(null, pnod9493);
  enfocus.core.i_at.call(null, id_sym9492, pnod9493__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".expand-all-trigger", ".expand-all-trigger", -1070733484)], null), function(vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
    return function(node__8452__auto__) {
      if (cljs.core.truth_((new cljs.core.Keyword(null, "xpnd", "xpnd", -14205465)).cljs$core$IFn$_invoke$arity$1(target))) {
        return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), [cljs.core.str(kuroi.io._STAR_file_base_STAR_), cljs.core.str("empty.png")].join("")).call(null, node__8452__auto__);
      } else {
        return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
      }
    };
  }(vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".group-line", ".group-line", 699082405)], null), function(vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
    return function(node__8446__auto__) {
      if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "chain", "chain", 15631029)).cljs$core$IFn$_invoke$arity$1(target))) {
        return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
      } else {
        return node__8446__auto__;
      }
    };
  }(vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, "tbody", "tbody", -80678300)], null), function(vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
    return function(node) {
      return enfocus.core.at.call(null, node, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-line", ".thread-line", 1810852588)], null), function(vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
        return function(pnod__8469__auto__) {
          var div__8470__auto__ = node;
          var fallback__8471__auto__ = cljs.core.not.call(null, div__8470__auto__);
          var do_clone__8472__auto__ = function(div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
            return function() {
              var wnd__8473__auto__ = 10;
              var hidden__8474__auto__ = enfocus.core.create_hidden_dom.call(null, document.createDocumentFragment());
              var div__8470__auto____$1 = fallback__8471__auto__ ? hidden__8474__auto__ : div__8470__auto__;
              var show_nodes__8475__auto__ = function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                return function(nodes__8476__auto__, where__8477__auto__) {
                  var seq__9500 = cljs.core.seq.call(null, nodes__8476__auto__);
                  var chunk__9501 = null;
                  var count__9502 = 0;
                  var i__9503 = 0;
                  while (true) {
                    if (i__9503 < count__9502) {
                      var n__8478__auto__ = cljs.core._nth.call(null, chunk__9501, i__9503);
                      n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                      where__8477__auto__.appendChild(n__8478__auto__);
                      var G__9507 = seq__9500;
                      var G__9508 = chunk__9501;
                      var G__9509 = count__9502;
                      var G__9510 = i__9503 + 1;
                      seq__9500 = G__9507;
                      chunk__9501 = G__9508;
                      count__9502 = G__9509;
                      i__9503 = G__9510;
                      continue;
                    } else {
                      var temp__4657__auto__ = cljs.core.seq.call(null, seq__9500);
                      if (temp__4657__auto__) {
                        var seq__9500__$1 = temp__4657__auto__;
                        if (cljs.core.chunked_seq_QMARK_.call(null, seq__9500__$1)) {
                          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__9500__$1);
                          var G__9511 = cljs.core.chunk_rest.call(null, seq__9500__$1);
                          var G__9512 = c__6959__auto__;
                          var G__9513 = cljs.core.count.call(null, c__6959__auto__);
                          var G__9514 = 0;
                          seq__9500 = G__9511;
                          chunk__9501 = G__9512;
                          count__9502 = G__9513;
                          i__9503 = G__9514;
                          continue;
                        } else {
                          var n__8478__auto__ = cljs.core.first.call(null, seq__9500__$1);
                          n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                          where__8477__auto__.appendChild(n__8478__auto__);
                          var G__9515 = cljs.core.next.call(null, seq__9500__$1);
                          var G__9516 = null;
                          var G__9517 = 0;
                          var G__9518 = 0;
                          seq__9500 = G__9515;
                          chunk__9501 = G__9516;
                          count__9502 = G__9517;
                          i__9503 = G__9518;
                          continue;
                        }
                      } else {
                        return null;
                      }
                    }
                    break;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1);
              if (!fallback__8471__auto__) {
                enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.remove_node.call(null));
              } else {
              }
              return function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                return function kuroi$render$thread_stream_$_breaker__8479__auto__(lst__8480__auto__, que__8481__auto__) {
                  var temp__4657__auto__ = cljs.core.first.call(null, lst__8480__auto__);
                  if (cljs.core.truth_(temp__4657__auto__)) {
                    var th = temp__4657__auto__;
                    var clone__8482__auto__ = pnod__8469__auto__.cloneNode(true);
                    enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.append.call(null, clone__8482__auto__));
                    enfocus.core.at.call(null, goog.dom.getLastElementChild(hidden__8474__auto__), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-line", ".thread-line", 1810852588)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(p1__9488_SHARP_) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), "onwatch").call(null, p1__9488_SHARP_);
                        } else {
                          return p1__9488_SHARP_;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-control", ".thread-control", 1213032752)], null), enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), 
                    new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".control-buttons", ".control-buttons", -1421064901)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8446__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".inline-view-trigger", ".inline-view-trigger", 296724079)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8446__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".iv-border", ".iv-border", -606061267)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8446__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply-btn", ".reply-btn", -1626149542)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8446__auto__) {
                        if (cljs.core.truth_(function() {
                          var or__6156__auto__ = (new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(th);
                          if (cljs.core.truth_(or__6156__auto__)) {
                            return or__6156__auto__;
                          } else {
                            var or__6156__auto____$1 = cljs.core.not.call(null, kuroi.io._STAR_addon_STAR_);
                            if (or__6156__auto____$1) {
                              return or__6156__auto____$1;
                            } else {
                              return kuroi.base._STAR_posting_not_impl_STAR_.call(null, (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target));
                            }
                          }
                        }())) {
                          return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                        } else {
                          return node__8446__auto__;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".expand-trigger", ".expand-trigger", -205408374)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 
                    1121593638), [cljs.core.str('frontend.expand_thread("'), cljs.core.str((new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str('")')].join("")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".post-container", ".post-container", -1971734394)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-thread-id", "data-thread-id", 1105730059), 
                    (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(th)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-header", ".thread-header", -1290728517)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 
                    1121593638), [cljs.core.str('if (event.target \x3d\x3d this) frontend.expand_thread("'), cljs.core.str((new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str('")')].join(""))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".watch-trigger-disabled", ".watch-trigger-disabled", -619142775)], null), function(clone__8482__auto__, th, temp__4657__auto__, 
                    wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "watch-trigger-enabled"), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "title", "title", 636505583), "Unwatch thread"), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), "onwatch"), enfocus.core.html_content.call(null, "\x26#x2605;")).call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".lazy-load-trigger", ".lazy-load-trigger", 2095231431)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_(function() {
                          var and__6144__auto__ = (new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th);
                          if (cljs.core.truth_(and__6144__auto__)) {
                            return cljs.core.not.call(null, (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th));
                          } else {
                            return and__6144__auto__;
                          }
                        }())) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), [cljs.core.str(kuroi.io._STAR_file_base_STAR_), cljs.core.str("empty.png")].join("")).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".service-pane", ".service-pane", -229119773)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.html_content.call(null, [cljs.core.str('\x3cspan class\x3d"'), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th)) ? "delta-posts" : "delta-posts-lazy"), cljs.core.str('"'), cljs.core.str(cljs.core.not.call(null, (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th)) ? 'data-onclick\x3d"frontend.lazy_get_watch(this)"' : 
                          null), cljs.core.str('title\x3d"Delta posts from the last visit"\x3e\x26#x2206; ['), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th)) ? (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th) : "?"), cljs.core.str("]\x3c/span\x3e")].join("")).call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-control", ".thread-control", 1213032752)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-control onwatch").call(null, node__$1);
                        } else {
                          if (cljs.core.truth_((new cljs.core.Keyword(null, "boundary", "boundary", -2000996754)).cljs$core$IFn$_invoke$arity$1(th))) {
                            return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-control read").call(null, node__$1);
                          } else {
                            if (cljs.core.truth_((new cljs.core.Keyword(null, "pre-boundary", "pre-boundary", -96840585)).cljs$core$IFn$_invoke$arity$1(th))) {
                              return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-oppost before-read").call(null, node__$1);
                            } else {
                              return node__$1;
                            }
                          }
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-oppost", ".thread-oppost", -886419377)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, 
                    "style", "style", -496642736)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "id", "id", -1388402092), (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(th)), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-oppost onwatch").call(null, node__$1);
                        } else {
                          if (cljs.core.truth_((new cljs.core.Keyword(null, "boundary", "boundary", -2000996754)).cljs$core$IFn$_invoke$arity$1(th))) {
                            return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-oppost read").call(null, node__$1);
                          } else {
                            if (cljs.core.truth_((new cljs.core.Keyword(null, "pre-boundary", "pre-boundary", -96840585)).cljs$core$IFn$_invoke$arity$1(th))) {
                              return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "thread-oppost before-read").call(null, node__$1);
                            } else {
                              return node__$1;
                            }
                          }
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".flag", ".flag", 1145898241)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, 
                    show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core.first.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(th)) : "flag"), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                          div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                            return function(node__$1) {
                              if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target))) {
                                return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), cljs.core.first.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(th))).call(null, node__$1);
                              } else {
                                return enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051)).call(null, node__$1);
                              }
                            };
                          }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "title", "title", 636505583), cljs.core.second.call(null, (new cljs.core.Keyword(null, "flag", "flag", 1088647881)).cljs$core$IFn$_invoke$arity$1(th)))).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-no", ".thread-no", -1716557330)], null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, 
                    "href", "href", -793805698), (new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "title", "title", 636505583), kuroi.render.get_label.call(null, th)), enfocus.core.content.call(null, [cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(th))].join(""))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, 
                    [new cljs.core.Keyword(null, ".delta-link", ".delta-link", 1472728903)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), [cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str("#"), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target)) ? "p" : null), cljs.core.str((new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(th))].join("")).call(null, 
                          node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".iv-delta", ".iv-delta", 743754110)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, 
                    show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                            return function(p1__9489_SHARP_) {
                              if (cljs.core.truth_(function() {
                                var and__6144__auto__ = (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th);
                                if (cljs.core.truth_(and__6144__auto__)) {
                                  return (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(th) > 0;
                                } else {
                                  return and__6144__auto__;
                                }
                              }())) {
                                return p1__9489_SHARP_;
                              } else {
                                return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736), "color: #757575").call(null, p1__9489_SHARP_);
                              }
                            };
                          }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".post-count", ".post-count", 615998627)], null), enfocus.core.content.call(null, [cljs.core.str("["), cljs.core.str((new cljs.core.Keyword(null, 
                    "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(th)), cljs.core.str("]")].join("")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-title", ".thread-title", 404132726)], null), enfocus.core.html_content.call(null, (new cljs.core.Keyword(null, "title", "title", 636505583)).cljs$core$IFn$_invoke$arity$1(th)), new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, 
                    [new cljs.core.Keyword(null, ".thread-oppost", ".thread-oppost", -886419377), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".post-container", ".post-container", -1971734394), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".image-container", ".image-container", -303485076), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".image-link", ".image-link", 413548652), new cljs.core.Keyword(null, 
                    "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".post-image", ".post-image", 2068718389)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_(function() {
                          var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                          if (and__6144__auto__) {
                            return (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(th);
                          } else {
                            return and__6144__auto__;
                          }
                        }())) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "src", "src", -1651076051), (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(th)).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-oppost", ".thread-oppost", -886419377), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".post-container", 
                    ".post-container", -1971734394), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".image-container", ".image-container", -303485076), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".image-link", ".image-link", 413548652)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, 
                    vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.truth_(function() {
                          var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                          if (and__6144__auto__) {
                            return (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(th);
                          } else {
                            return and__6144__auto__;
                          }
                        }())) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 1121593638), [cljs.core.str("frontend.expand_image(this,"), cljs.core.str(cljs.core.first.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 
                          1574819796)).cljs$core$IFn$_invoke$arity$1(th))), cljs.core.str(","), cljs.core.str(cljs.core.second.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(th))), cljs.core.str(")")].join(""))).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".header-exp", ".header-exp", 808871320)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, 
                    div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "expanded", "expanded", -3020742)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.do__GT_.call(null, enfocus.core.html_content.call(null, "\x26laquo;"), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "expanded_", "expanded_", -1538215926), "true")).call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".oppost-text", ".oppost-text", 502492137)], null), enfocus.core.do__GT_.call(null, function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, 
                    hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "expanded", "expanded", -3020742)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736), "max-height: none;").call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), enfocus.core.html_content.call(null, (new cljs.core.Keyword(null, "text", "text", -1790561697)).cljs$core$IFn$_invoke$arity$1(th)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), cljs.core.truth_(function() {
                      var and__6144__auto__ = cljs.core.not.call(null, (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target));
                      if (and__6144__auto__) {
                        return (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th);
                      } else {
                        return and__6144__auto__;
                      }
                    }()) ? "image-indent oppost-text" : "text-indent oppost-text")), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".replies", ".replies", 1312608712)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_((new cljs.core.Keyword(null, "expanded", "expanded", -3020742)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736), "display: block;").call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".replies", ".replies", 1312608712), new cljs.core.Keyword(null, "\x3e", "\x3e", -555517146), new cljs.core.Keyword(null, ".image-indent", ".image-indent", 
                    -1780906149)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__$1) {
                        if (cljs.core.truth_(function() {
                          var or__6156__auto__ = (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(target);
                          if (cljs.core.truth_(or__6156__auto__)) {
                            return or__6156__auto__;
                          } else {
                            return cljs.core.not.call(null, (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(th));
                          }
                        }())) {
                          return enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "class", "class", -2030961996), "text-indent").call(null, node__$1);
                        } else {
                          return node__$1;
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".reply", ".reply", -1328182862)], null), function(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, 
                    show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                      return function(node__8452__auto__) {
                        if (cljs.core.seq.call(null, (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(th)) && cljs.core.not.call(null, (new cljs.core.Keyword(null, "hdlns", "hdlns", 1319708620)).cljs$core$IFn$_invoke$arity$1(th))) {
                          return kuroi.render.inject_replies.call(null, null, th, target).call(null, node__8452__auto__);
                        } else {
                          return enfocus.core.remove_node.call(null).call(null, node__8452__auto__);
                        }
                      };
                    }(clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1));
                    kuroi.render.replace_events.call(null, clone__8482__auto__);
                    var que__8481__auto____$1 = !fallback__8471__auto__ && cljs.core.count.call(null, que__8481__auto__) > wnd__8473__auto__ ? function() {
                      show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto__), div__8470__auto____$1);
                      return cljs.core.conj.call(null, cljs.core.PersistentQueue.EMPTY, clone__8482__auto__);
                    }() : !fallback__8471__auto__ ? cljs.core.conj.call(null, que__8481__auto__, clone__8482__auto__) : null;
                    if (cljs.core.next.call(null, lst__8480__auto__)) {
                      return setTimeout(function(que__8481__auto____$1, clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1) {
                        return function() {
                          return kuroi$render$thread_stream_$_breaker__8479__auto__.call(null, cljs.core.rest.call(null, lst__8480__auto__), que__8481__auto____$1);
                        };
                      }(que__8481__auto____$1, clone__8482__auto__, th, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1), 1);
                    } else {
                      if (fallback__8471__auto__) {
                        return enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, enfocus.core.remove_node_return_child.call(null, div__8470__auto____$1)), enfocus.core.remove_node.call(null)));
                      } else {
                        show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto____$1), div__8470__auto____$1);
                        return enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.remove_node.call(null));
                      }
                    }
                  } else {
                    return null;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1).call(null, threads, cljs.core.PersistentQueue.EMPTY);
            };
          }(div__8470__auto__, fallback__8471__auto__, vec__9499, id_sym9492, pnod9493, pnod9493__$1);
          if (!fallback__8471__auto__) {
            return setTimeout(do_clone__8472__auto__, 10);
          } else {
            return do_clone__8472__auto__.call(null);
          }
        };
      }(vec__9499, id_sym9492, pnod9493, pnod9493__$1));
    };
  }(vec__9499, id_sym9492, pnod9493, pnod9493__$1));
  enfocus.core.reset_ids.call(null, id_sym9492, pnod9493__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9493__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/image-stream.html[:#image-stream]") == null) {
  var vec__9520_9533 = enfocus.core.replace_ids.call(null, "en9519_", '\x3cdiv id\x3d"image-stream"\x3e \n \x3cdiv class\x3d"stream-image-container" style\x3d"width: 99%"\x3e \n  \x3cdiv class\x3d"image-thread-links" style\x3d"display: none;"\x3e \n   \x3ca class\x3d"thread-no" target\x3d"_blank"\x3e\x3c/a\x3e \n   \x3ca class\x3d"inline-view-trigger" title\x3d"Inline view" data-onclick\x3d"frontend.show_thread_images(this)"\x3e\u274f\x3c/a\x3e \n  \x3c/div\x3e \n  \x3cdiv class\x3d"load-indicator loading-images"\x3e \n   \x3cimg src\x3d"loading-bar.gif" /\x3e Processing... \n  \x3c/div\x3e \n  \x3ca class\x3d"image-link" target\x3d"_blank"\x3e\x3cimg class\x3d"stream-image" /\x3e\x3c/a\x3e \n \x3c/div\x3e \n\x3c/div\x3e');
  var sym__8840__auto___9534 = cljs.core.nth.call(null, vec__9520_9533, 0, null);
  var txt__8841__auto___9535 = cljs.core.nth.call(null, vec__9520_9533, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/image-stream.html[:#image-stream]", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9534, txt__8841__auto___9535], null));
} else {
}
kuroi.render.image_stream = function kuroi$render$image_stream(images, target) {
  var vec__9528 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/image-stream.html[:#image-stream]");
  }.call(null);
  var id_sym9521 = cljs.core.nth.call(null, vec__9528, 0, null);
  var pnod9522 = cljs.core.nth.call(null, vec__9528, 1, null);
  var pnod9522__$1 = enfocus.core.create_hidden_dom.call(null, pnod9522);
  enfocus.core.i_at.call(null, id_sym9521, pnod9522__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, "#image-stream", "#image-stream", -1836773144)], null), function(vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
    return function(node) {
      return enfocus.core.at.call(null, node, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".stream-image-container", ".stream-image-container", 95068450)], null), function(vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
        return function(pnod__8469__auto__) {
          var div__8470__auto__ = node;
          var fallback__8471__auto__ = cljs.core.not.call(null, div__8470__auto__);
          var do_clone__8472__auto__ = function(div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
            return function() {
              var wnd__8473__auto__ = 5;
              var hidden__8474__auto__ = enfocus.core.create_hidden_dom.call(null, document.createDocumentFragment());
              var div__8470__auto____$1 = fallback__8471__auto__ ? hidden__8474__auto__ : div__8470__auto__;
              var show_nodes__8475__auto__ = function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
                return function(nodes__8476__auto__, where__8477__auto__) {
                  var seq__9529 = cljs.core.seq.call(null, nodes__8476__auto__);
                  var chunk__9530 = null;
                  var count__9531 = 0;
                  var i__9532 = 0;
                  while (true) {
                    if (i__9532 < count__9531) {
                      var n__8478__auto__ = cljs.core._nth.call(null, chunk__9530, i__9532);
                      n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                      where__8477__auto__.appendChild(n__8478__auto__);
                      var G__9536 = seq__9529;
                      var G__9537 = chunk__9530;
                      var G__9538 = count__9531;
                      var G__9539 = i__9532 + 1;
                      seq__9529 = G__9536;
                      chunk__9530 = G__9537;
                      count__9531 = G__9538;
                      i__9532 = G__9539;
                      continue;
                    } else {
                      var temp__4657__auto__ = cljs.core.seq.call(null, seq__9529);
                      if (temp__4657__auto__) {
                        var seq__9529__$1 = temp__4657__auto__;
                        if (cljs.core.chunked_seq_QMARK_.call(null, seq__9529__$1)) {
                          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__9529__$1);
                          var G__9540 = cljs.core.chunk_rest.call(null, seq__9529__$1);
                          var G__9541 = c__6959__auto__;
                          var G__9542 = cljs.core.count.call(null, c__6959__auto__);
                          var G__9543 = 0;
                          seq__9529 = G__9540;
                          chunk__9530 = G__9541;
                          count__9531 = G__9542;
                          i__9532 = G__9543;
                          continue;
                        } else {
                          var n__8478__auto__ = cljs.core.first.call(null, seq__9529__$1);
                          n__8478__auto__.parentNode.removeChild(n__8478__auto__);
                          where__8477__auto__.appendChild(n__8478__auto__);
                          var G__9544 = cljs.core.next.call(null, seq__9529__$1);
                          var G__9545 = null;
                          var G__9546 = 0;
                          var G__9547 = 0;
                          seq__9529 = G__9544;
                          chunk__9530 = G__9545;
                          count__9531 = G__9546;
                          i__9532 = G__9547;
                          continue;
                        }
                      } else {
                        return null;
                      }
                    }
                    break;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1);
              if (!fallback__8471__auto__) {
                enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.remove_node.call(null));
              } else {
              }
              return function(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
                return function kuroi$render$image_stream_$_breaker__8479__auto__(lst__8480__auto__, que__8481__auto__) {
                  var temp__4657__auto__ = cljs.core.first.call(null, lst__8480__auto__);
                  if (cljs.core.truth_(temp__4657__auto__)) {
                    var im = temp__4657__auto__;
                    var clone__8482__auto__ = pnod__8469__auto__.cloneNode(true);
                    enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.append.call(null, clone__8482__auto__));
                    enfocus.core.at.call(null, goog.dom.getLastElementChild(hidden__8474__auto__), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), function(clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
                      return function(node__$1) {
                        return enfocus.core.at.call(null, node__$1, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-thread-links", ".image-thread-links", 2035459801)], null), enfocus.core.do__GT_.call(null, enfocus.core.remove_attr.call(null, new cljs.core.Keyword(null, "style", "style", -496642736)), function(clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, 
                        div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
                          return function(node__8446__auto__) {
                            if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(im))) {
                              return enfocus.core.remove_node.call(null).call(null, node__8446__auto__);
                            } else {
                              return node__8446__auto__;
                            }
                          };
                        }(clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".thread-no", ".thread-no", -1716557330)], null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, 
                        "href", "href", -793805698), (new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(im)), enfocus.core.content.call(null, [cljs.core.str((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(im))].join(""))), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".stream-image", ".stream-image", 1201512623)], null), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, 
                        "src", "src", -1651076051), (new cljs.core.Keyword(null, "thumb", "thumb", 1718947232)).cljs$core$IFn$_invoke$arity$1(im)), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".load-indicator", ".load-indicator", -2064370424)], null), enfocus.core.remove_node.call(null), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null, ".image-link", ".image-link", 413548652)], 
                        null), enfocus.core.do__GT_.call(null, enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "href", "href", -793805698), (new cljs.core.Keyword(null, "image", "image", -58725096)).cljs$core$IFn$_invoke$arity$1(im)), enfocus.core.set_attr.call(null, new cljs.core.Keyword(null, "data-onclick", "data-onclick", 1121593638), [cljs.core.str("frontend.expand_image(this,"), cljs.core.str(cljs.core.first.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(im))), 
                        cljs.core.str(","), cljs.core.str(cljs.core.second.call(null, (new cljs.core.Keyword(null, "image-size", "image-size", 1574819796)).cljs$core$IFn$_invoke$arity$1(im))), cljs.core.str(")")].join(""))));
                      };
                    }(clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1)));
                    kuroi.render.replace_events.call(null, clone__8482__auto__);
                    var que__8481__auto____$1 = !fallback__8471__auto__ && cljs.core.count.call(null, que__8481__auto__) > wnd__8473__auto__ ? function() {
                      show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto__), div__8470__auto____$1);
                      return cljs.core.conj.call(null, cljs.core.PersistentQueue.EMPTY, clone__8482__auto__);
                    }() : !fallback__8471__auto__ ? cljs.core.conj.call(null, que__8481__auto__, clone__8482__auto__) : null;
                    if (cljs.core.next.call(null, lst__8480__auto__)) {
                      return setTimeout(function(que__8481__auto____$1, clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1) {
                        return function() {
                          return kuroi$render$image_stream_$_breaker__8479__auto__.call(null, cljs.core.rest.call(null, lst__8480__auto__), que__8481__auto____$1);
                        };
                      }(que__8481__auto____$1, clone__8482__auto__, im, temp__4657__auto__, wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1), 1);
                    } else {
                      if (fallback__8471__auto__) {
                        return enfocus.core.at.call(null, pnod__8469__auto__, enfocus.core.do__GT_.call(null, enfocus.core.after.call(null, enfocus.core.remove_node_return_child.call(null, div__8470__auto____$1)), enfocus.core.remove_node.call(null)));
                      } else {
                        show_nodes__8475__auto__.call(null, cljs.core.seq.call(null, que__8481__auto____$1), div__8470__auto____$1);
                        return enfocus.core.at.call(null, hidden__8474__auto__, enfocus.core.remove_node.call(null));
                      }
                    }
                  } else {
                    return null;
                  }
                };
              }(wnd__8473__auto__, hidden__8474__auto__, div__8470__auto____$1, show_nodes__8475__auto__, div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1).call(null, images, cljs.core.PersistentQueue.EMPTY);
            };
          }(div__8470__auto__, fallback__8471__auto__, vec__9528, id_sym9521, pnod9522, pnod9522__$1);
          if (!fallback__8471__auto__) {
            return setTimeout(do_clone__8472__auto__, 10);
          } else {
            return do_clone__8472__auto__.call(null);
          }
        };
      }(vec__9528, id_sym9521, pnod9522, pnod9522__$1));
    };
  }(vec__9528, id_sym9521, pnod9522, pnod9522__$1));
  enfocus.core.reset_ids.call(null, id_sym9521, pnod9522__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9522__$1);
};
kuroi.render.threads = function kuroi$render$threads(var_args) {
  var args9548 = [];
  var len__7214__auto___9551 = arguments.length;
  var i__7215__auto___9552 = 0;
  while (true) {
    if (i__7215__auto___9552 < len__7214__auto___9551) {
      args9548.push(arguments[i__7215__auto___9552]);
      var G__9553 = i__7215__auto___9552 + 1;
      i__7215__auto___9552 = G__9553;
      continue;
    } else {
    }
    break;
  }
  var G__9550 = args9548.length;
  switch(G__9550) {
    case 3:
      return kuroi.render.threads.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 2:
      return kuroi.render.threads.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args9548.length)].join(""));;
  }
};
kuroi.render.threads.cljs$core$IFn$_invoke$arity$3 = function(data, target, onendclone) {
  if (cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target))) {
    return kuroi.render.image_stream.call(null, data, target);
  } else {
    return kuroi.render.thread_stream.call(null, data, target, onendclone);
  }
};
kuroi.render.threads.cljs$core$IFn$_invoke$arity$2 = function(data, target) {
  return kuroi.render.threads.call(null, data, target, null);
};
kuroi.render.threads.cljs$lang$maxFixedArity = 3;
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/frontend.html") == null) {
  var vec__9556_9561 = enfocus.core.replace_ids.call(null, "en9555_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n \x3chead\x3e\r\n   \x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html;charset\x3dUTF-8"/\x3e\r\n   \x3cscript type\x3d"text/javascript" id\x3d"frontend-script" src\x3d"frontend.js"/\x3e\r\n \x3c/head\x3e\r\n \x3cbody\x3e\r\n   \x3cdiv id\x3d"content" class\x3d"tab-content"\x3e\r\n     \x3cdiv id\x3d"tabs"\x3e\r\n       \x3cdiv id\x3d"thread-tabs_content" class\x3d"tab-thread-tabs_content goog-tab-content"\x3e\r\n         \x3cdiv id\x3d"tab-page"\x3e\r\n           \x3cdiv id\x3d"thread-list"\x3e\r\n             \x3cdiv id\x3d"thread-list-buttons"\x3e\r\n               \x3cdiv id\x3d"address-btn-container"\x3e\x3ca class\x3d"header-btn iv-trigger" title\x3d"Enter address" id\x3d"follow-btn"\x3e\x26gt;\x3c/a\x3e\x26nbsp;\x26nbsp;\x3c/div\x3e\r\n               \x3cdiv id\x3d"thread-list-caption"\x3e\x3c/div\x3e\r\n               \x3cdiv class\x3d"right text-buttons"\x3e\r\n                 \x26nbsp;\x26nbsp;\x3ca class\x3d"header-btn iv-trigger" title\x3d"Settings" id\x3d"settings-btn"\x3e\x26#xa7;\x3c/a\x3e\r\n                 \x3ca class\x3d"header-btn iv-trigger" title\x3d"Watch" id\x3d"watch-btn"\x3e\x26#xa4;\x3c/a\x3e\r\n                 \x3ca class\x3d"header-btn iv-trigger" title\x3d"Help" id\x3d"help-btn"\x3e?\x3c/a\x3e  \r\n               \x3c/div\x3e\r\n               \x3cdiv id\x3d"expand-btn" title\x3d"Expand all threads" class\x3d"right goog-flat-button"\x3eExpand\x3c/div\x3e\r\n               \x3cdiv id\x3d"refresh-btn" class\x3d"right goog-flat-button"\x3eRefresh\x3c/div\x3e\r\n               \x3cdiv id\x3d"go-again-btn" class\x3d"right goog-flat-button"\x3eReload\x3c/div\x3e\r\n               \x3cdiv class\x3d"clear"/\x3e\r\n             \x3c/div\x3e\r\n             \x3cdiv id\x3d"thread-headlines"\x3e\x3c/div\x3e\r\n           \x3c/div\x3e                \r\n         \x3c/div\x3e  \r\n         \x3cdiv id\x3d"nav-btn" data-onclick\x3d"frontend.show_nav_popup(event)"\x3e\x3cimg src\x3d"nav.png"/\x3e\x3c/div\x3e\r\n       \x3c/div\x3e\r\n     \x3c/div\x3e\r\n   \x3c/div\x3e    \r\n \x3c/body\x3e\r\n\x3c/html\x3e\r\n');
  var sym__8840__auto___9562 = cljs.core.nth.call(null, vec__9556_9561, 0, null);
  var txt__8841__auto___9563 = cljs.core.nth.call(null, vec__9556_9561, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/frontend.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9562, txt__8841__auto___9563], null));
} else {
}
kuroi.render.frontend = function kuroi$render$frontend() {
  var vec__9560 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/frontend.html");
  }.call(null);
  var id_sym9557 = cljs.core.nth.call(null, vec__9560, 0, null);
  var pnod9558 = cljs.core.nth.call(null, vec__9560, 1, null);
  var pnod9558__$1 = enfocus.core.create_hidden_dom.call(null, pnod9558);
  enfocus.core.i_at.call(null, id_sym9557, pnod9558__$1);
  enfocus.core.reset_ids.call(null, id_sym9557, pnod9558__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9558__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/settings.html") == null) {
  var vec__9565_9570 = enfocus.core.replace_ids.call(null, "en9564_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n  \x3chead\x3e\r\n    \x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html;charset\x3dUTF-8"/\x3e\r\n  \x3c/head\x3e\r\n\r\n  \x3cbody\x3e\r\n    \x3cdiv id\x3d"content"\x3e\r\n      \x3cdiv class\x3d"settings-group"\x3e\r\n        \x3cspan class\x3d"gold"\x3ePersonal data\x3c/span\x3e\r\n        \x3chr/\x3e\r\n        \x3cdiv id\x3d"remember-btn" class\x3d"goog-flat-button"\x3eShow hidden threads\x3c/div\x3e\r\n        \x3cdiv id\x3d"clear-watch-btn" class\x3d"goog-flat-button"\x3eClear all watch items\x3c/div\x3e\r\n        \x3cdiv id\x3d"clear-data-btn" class\x3d"goog-flat-button"\x3eClear all personal data\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"settings-group"\x3e\r\n        \x3cspan class\x3d"gold"\x3eWatch\x3c/span\x3e\r\n        \x3chr/\x3e\r\n        \x3cinput type\x3d"checkbox" id\x3d"watch-first"\x3ePin watch items\x3c/input\x3e\x3cbr/\x3e\r\n        \x3cinput type\x3d"checkbox" id\x3d"remember-expanded"\x3eRemember expanded threads\x3c/input\x3e\x3cbr/\x3e\r\n        \x3c!--input type\x3d"checkbox" id\x3d"always-calc-delta"\x3eAutoload content of out-of-scope watch items\x3c/input--\x3e\r\n      \x3c/div\x3e\r\n      \x3c!--div class\x3d"settings-group"\x3e\r\n        \x3cspan class\x3d"gold"\x3eArchive\x3c/span\x3e\r\n        \x3chr/\x3e\r\n        \x3cinput type\x3d"checkbox" id\x3d"archive-disable"\x3e\r\n          \x3cspan id\x3d"dis-arc-lbl"\x3eDo not add new items (disable archive\x3csup\x3e?\x3c/sup\x3e)\x3c/span\x3e\r\n        \x3c/input\x3e\x3cbr/\x3e\r\n      \x3c/div--\x3e\r\n      \x3cdiv class\x3d"settings-group"\x3e\r\n        \x3cspan id\x3d"wf-label" class\x3d"gold"\x3eWordfilter\x3csup\x3e?\x3c/sup\x3e\x26nbsp;\x3c/span\x3e\r\n        \x3cinput type\x3d"checkbox" id\x3d"wf-enable"/\x3e\r\n        \x26nbsp;\x3cspan id\x3d"warning"\x3eWarning: an additional permanent wordfilter is set for iichan.hk\x3c/span\x3e\r\n        \x3chr/\x3e\r\n        \x3cdiv id\x3d"wf-title"\x3e\r\n          Post title\r\n          \x3ctextarea id\x3d"wf-title-words"\x3e\x3c/textarea\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"wf-post"\x3e\r\n          Post content\r\n          \x3ctextarea id\x3d"wf-post-words"\x3e\x3c/textarea\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"settings-group"\x3e\r\n        \x3cdiv id\x3d"fav-container"\x3e\r\n          \x3cspan id\x3d"fav-lbl" class\x3d"gold"\x3eDefault parameters\x3csup\x3e?\x3c/sup\x3e\x3c/span\x3e\r\n          \x3chr/\x3e\r\n          \x3ctextarea id\x3d"favorites"\x3e\x3c/textarea\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"misc-container"\x3e\r\n          \x3cspan class\x3d"gold"\x3eMiscellaneous\x3csup\x3e\x26nbsp;\x3c/sup\x3e\x3c/span\x3e\r\n          \x3chr/\x3e\r\n          \x3cp\x3e\r\n          Theme: \r\n          \x3cselect id\x3d"theme"\x3e\r\n            \x3coption value\x3d"dark"\x3eDark\x3c/option\x3e\r\n            \x3coption value\x3d"light"\x3eLight\x3c/option\x3e\r\n          \x3c/select\x3e\r\n          \x3c/p\x3e\r\n          \x3cp\x3e            \r\n            \x3cinput type\x3d"checkbox" id\x3d"force-textonly"\x3eForce text only\x3c/input\x3e\x3cbr/\x3e\r\n          \x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"clear"/\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"settings-group"\x3e\r\n        \x3chr/\x3e\r\n        \x3cdiv id\x3d"save-settings-btn" class\x3d"goog-flat-button"\x3eSave settings\x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \x3c/body\x3e\r\n\x3c/html\x3e\r\n');
  var sym__8840__auto___9571 = cljs.core.nth.call(null, vec__9565_9570, 0, null);
  var txt__8841__auto___9572 = cljs.core.nth.call(null, vec__9565_9570, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/settings.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9571, txt__8841__auto___9572], null));
} else {
}
kuroi.render.settings = function kuroi$render$settings() {
  var vec__9569 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/settings.html");
  }.call(null);
  var id_sym9566 = cljs.core.nth.call(null, vec__9569, 0, null);
  var pnod9567 = cljs.core.nth.call(null, vec__9569, 1, null);
  var pnod9567__$1 = enfocus.core.create_hidden_dom.call(null, pnod9567);
  enfocus.core.i_at.call(null, id_sym9566, pnod9567__$1);
  enfocus.core.reset_ids.call(null, id_sym9566, pnod9567__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9567__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/watch.html") == null) {
  var vec__9574_9579 = enfocus.core.replace_ids.call(null, "en9573_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n  \x3chead\x3e\r\n    \x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html;charset\x3dUTF-8"/\x3e\r\n  \x3c/head\x3e\r\n\r\n  \x3cbody\x3e\r\n    \x3cdiv id\x3d"content" class\x3d"tab-content"\x3e\r\n      \x3cdiv id\x3d"tabs"\x3e\r\n        \x3cdiv id\x3d"thread-tabs_content" class\x3d"tab-thread-tabs_content goog-tab-content"\x3e\r\n          \x3cdiv id\x3d"tab-page"\x3e\r\n            \x3cdiv id\x3d"thread-list"\x3e\r\n              \x3cdiv id\x3d"thread-headlines" style\x3d"top: 0"\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e      \r\n          \x3c/div\x3e  \r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e                \r\n  \x3c/body\x3e\r\n\x3c/html\x3e\r\n');
  var sym__8840__auto___9580 = cljs.core.nth.call(null, vec__9574_9579, 0, null);
  var txt__8841__auto___9581 = cljs.core.nth.call(null, vec__9574_9579, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/watch.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9580, txt__8841__auto___9581], null));
} else {
}
kuroi.render.inline_watch_stream = function kuroi$render$inline_watch_stream() {
  var vec__9578 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/watch.html");
  }.call(null);
  var id_sym9575 = cljs.core.nth.call(null, vec__9578, 0, null);
  var pnod9576 = cljs.core.nth.call(null, vec__9578, 1, null);
  var pnod9576__$1 = enfocus.core.create_hidden_dom.call(null, pnod9576);
  enfocus.core.i_at.call(null, id_sym9575, pnod9576__$1);
  enfocus.core.reset_ids.call(null, id_sym9575, pnod9576__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9576__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/images.html") == null) {
  var vec__9583_9588 = enfocus.core.replace_ids.call(null, "en9582_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n  \x3chead\x3e\r\n    \x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html;charset\x3dUTF-8"/\x3e\r\n  \x3c/head\x3e\r\n\r\n  \x3cbody\x3e\r\n    \x3cdiv id\x3d"content"\x3e\r\n      \x3cdiv id\x3d"thread-headlines" style\x3d"top: 4px"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e    \r\n  \x3c/body\x3e\r\n\x3c/html\x3e\r\n');
  var sym__8840__auto___9589 = cljs.core.nth.call(null, vec__9583_9588, 0, null);
  var txt__8841__auto___9590 = cljs.core.nth.call(null, vec__9583_9588, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/images.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9589, txt__8841__auto___9590], null));
} else {
}
kuroi.render.inline_image_stream = function kuroi$render$inline_image_stream() {
  var vec__9587 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/images.html");
  }.call(null);
  var id_sym9584 = cljs.core.nth.call(null, vec__9587, 0, null);
  var pnod9585 = cljs.core.nth.call(null, vec__9587, 1, null);
  var pnod9585__$1 = enfocus.core.create_hidden_dom.call(null, pnod9585);
  enfocus.core.i_at.call(null, id_sym9584, pnod9585__$1);
  enfocus.core.reset_ids.call(null, id_sym9584, pnod9585__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9585__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/manual.html") == null) {
  var vec__9592_9597 = enfocus.core.replace_ids.call(null, "en9591_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n  \x3chead\x3e\r\n    \x3cstyle type\x3d"text/css"\x3e\r\n      html, body\r\n      {\r\n        width: 100%;\r\n        margin: 0;\r\n        padding: 0;\r\n      }\r\n   \x3c/style\x3e\r\n  \x3c/head\x3e\r\n  \x3cbody style\x3d"background-color: #181818 !important"\x3e\r\n    \x3cdiv id\x3d"content" class\x3d"manual-content"\x3e\r\n      \x3cdiv align\x3d"center"\x3e\x3cimg id\x3d"manual" src\x3d"manual.png"/\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/body\x3e\r\n\x3chtml\x3e');
  var sym__8840__auto___9598 = cljs.core.nth.call(null, vec__9592_9597, 0, null);
  var txt__8841__auto___9599 = cljs.core.nth.call(null, vec__9592_9597, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/manual.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9598, txt__8841__auto___9599], null));
} else {
}
kuroi.render.manual = function kuroi$render$manual() {
  var vec__9596 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/manual.html");
  }.call(null);
  var id_sym9593 = cljs.core.nth.call(null, vec__9596, 0, null);
  var pnod9594 = cljs.core.nth.call(null, vec__9596, 1, null);
  var pnod9594__$1 = enfocus.core.create_hidden_dom.call(null, pnod9594);
  enfocus.core.i_at.call(null, id_sym9593, pnod9594__$1);
  enfocus.core.reset_ids.call(null, id_sym9593, pnod9594__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9594__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/urlbar.html") == null) {
  var vec__9601_9606 = enfocus.core.replace_ids.call(null, "en9600_", '\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\r\n\x3chead\x3e\r\n  \x3cstyle\x3e\r\n  .goog-combobox input \r\n  {\r\n    width: 100px;\r\n  }\r\n\r\n  .goog-combobox .goog-menu\r\n  {\r\n    width: 120px;\r\n  }\r\n\r\n  .mobile-controls\r\n  {\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: 460px;\r\n    margin-top: 30px;\r\n    text-align: left;\r\n  }\r\n\r\n  .mobile-selector\r\n  {\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: 460px;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    line-height: 200%;\r\n  }\r\n\r\n  .sel-link\r\n  {\r\n    cursor: pointer;\r\n  } \r\n  \x3c/style\x3e\r\n\r\n  \x3c!--script type\x3d"text/javascript" class\x3d"uncompiled-script" src\x3d"js/goog/base.js"\x3e\x3c/script\x3e\r\n  \x3cscript type\x3d"text/javascript" src\x3d"js/mobile.js"\x3e\x3c/script\x3e\t\r\n  \x3cscript type\x3d"text/javascript" src\x3d"js/utils/utils.js"\x3e\x3c/script\x3e\t\r\n  \x3cscript type\x3d"text/javascript"\x3e\r\n    var user_agent \x3d __ua.toLowerCase();\r\n    var isMobile \x3d (user_agent.indexOf("android") \x3e -1 || user_agent.indexOf("ipad") \x3e -1);\r\n    if(isMobile) \r\n    {\r\n      loadjscssfile("/css/mobile.css", "css");\r\n    }\r\n  \x3c/script\x3e\r\n\r\n  \x3cscript type\x3d"text/javascript" class\x3d"uncompiled-script"\x3e\r\n    goog.require(\'mobile\');\r\n  \x3c/script--\x3e\r\n\r\n\x3c/head\x3e\r\n\r\n\x3cbody\x3e\r\n  \x3cdiv id\x3d"content" class\x3d"tab-content"\x3e\r\n\t\x3cdiv id\x3d"tabs"\x3e\r\n      \x3cdiv id\x3d"thread-tabs_content" class\x3d"tab-thread-tabs_content goog-tab-content vh-centered"\x3e\r\n        \x3cdiv class\x3d"science-stream"\x3e\r\n          \x3cdiv class\x3d"mobile-controls branding-container" style\x3d"margin-top: 0"\x3e\r\n            \x3cimg src\x3d"icons/icon-64.png"/\x3e\x26nbsp;\r\n            \x3cspan class\x3d"branding-title"\x3eDARK FLOW\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"mobile-controls black"\x3e\r\n            \x3cinput id\x3d"address-txt" class\x3d"gold" type\x3d"text" style\x3d"float: left; width: 380px;"  autofocus/\x3e\r\n            \x3cdiv id\x3d"go-btn" class\x3d"gold goog-flat-button" style\x3d"height: auto; top: -2px;"\x3eGo\x3c/div\x3e\r\n            \x3cdiv style\x3d"margin-top: 10px; padding-left: 20px; display: none;"\x3e\r\n              \x3cspan class\x3d"gold"\x3e\r\n                \x3cinput type\x3d"checkbox" id\x3d"text-only"\x3e\x3c/input\x3e\r\n                \x3clabel for\x3d"text-only"\x3eText only\x3c/label\x3e\r\n              \x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"mobile-controls gray-border" style\x3d"width: 650px; padding: 5px"\x3e\r\n            Enter a forum address with colon-separated options, for example: \x3cspan class\x3d"gold"\x3echan://4chan.org/a:10p:5r:rev\x3c/span\x3e\x3cbr\x3e\r\n            The following options are available (all the options are optional):\r\n            \x3ctable style\x3d"margin-top: 5px"\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd style\x3d"width: 400px"\x3e\r\n                  \x3cspan class\x3d"gold"\x3eNp\x3c/span\x3e - take N pages on the initial forum load (the default is 5)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3eNr\x3c/span\x3e - take N pages on a refresh (the default is 2)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3eNv\x3c/span\x3e - take N last (visible) replies from a thread (the default is 3)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3etxt\x3c/span\x3e - text only (do not display images)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3ehdlns\x3c/span\x3e - display opposts only\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3eimg\x3c/span\x3e - show an image stream instead of a thread list (limited support)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3esortid\x3c/span\x3e - sort threads by id (desc)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3erev\x3c/span\x3e - reverse (show the oldest threads first)\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3esearch(text)\x3c/span\x3e - show only threads which contain the specified text in the op-post title or message\x3cbr\x3e\r\n                  \x3cspan class\x3d"gold"\x3edeep\x3c/span\x3e - also search in the visible posts new - show only new threads or threads with new posts\r\n                \x3c/td\x3e\r\n                \x3ctd style\x3d"vertical-align: top;"\x3e\r\n                  Chained links allow to simultaneously view multiple boards in one tab, for example, the link: \x3cspan class\x3d"gold"\x3e4chan.org/[a:3p,c,m:2p]:5p\x3c/span\x3e will take 3 pages from the board /a. 5 pages from the board /\u0441 and two pages from the board /m.\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n            \x3c/table\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\t  \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  --------------------------------------------------------------------------1------------------------\r\n  Enter a forum address with colon-separated options, for example: chan://4chan.org/a: 10p:5r:rev The options are (all the options are optional):\r\n  Np - take N pages on the initial forum load (the default is 5)\r\n  Nr - take N pages on a refresh (the default is 2)\r\n  Nv - take N last (visible) replies from a thread (the default is 3) txt - text only (do not display images)\r\n  hdlns - display opposts only\t\u2022\u2014\r\n  img - show an image stream instead of a thread list (limited support) sortid - sort threads by id (desc) rev - reverse (show the oldest threads first)\r\n  search(text) - show only threads which contain the specified text in the op-post title or message deep - also search in the visible posts new - show only new threads or threads with new posts\r\n  Chained links allow to simultaneously view multiple boards in one tab, for example, the link: 4chan.org/[a:3p,c,m:2p]:5p will take 3 pages from the board /a. 5 pages from the board /\u0441 and two pages from the board /m.\r\n  Additional links: chan:settings - addon settings chan:wach - the watch list\r\n\r\n\r\n\x3c/body\x3e\r\n\r\n\x3c/html\x3e\r\n');
  var sym__8840__auto___9607 = cljs.core.nth.call(null, vec__9601_9606, 0, null);
  var txt__8841__auto___9608 = cljs.core.nth.call(null, vec__9601_9606, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/urlbar.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9607, txt__8841__auto___9608], null));
} else {
}
kuroi.render.urlbar = function kuroi$render$urlbar() {
  var vec__9605 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/urlbar.html");
  }.call(null);
  var id_sym9602 = cljs.core.nth.call(null, vec__9605, 0, null);
  var pnod9603 = cljs.core.nth.call(null, vec__9605, 1, null);
  var pnod9603__$1 = enfocus.core.create_hidden_dom.call(null, pnod9603);
  enfocus.core.i_at.call(null, id_sym9602, pnod9603__$1);
  enfocus.core.reset_ids.call(null, id_sym9602, pnod9603__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9603__$1);
};
if (cljs.core.deref.call(null, enfocus.core.tpl_cache).call(null, "compiledtemplates/video-stream.html") == null) {
  var vec__9610_9615 = enfocus.core.replace_ids.call(null, "en9609_", '\x3cdiv id\x3d"content"\x3e\r\n  \x3cdiv class\x3d"video-stream"\x3e\r\n    \x3cdiv class\x3d"video-container"\x3e\r\n\t  \x3cdiv class\x3d"video"\x3e\r\n\t    \x3ciframe id\x3d"video" width\x3d"538" height\x3d"431" frameborder\x3d"0" allowfullscreen\x3d""\r\n\t\t        src\x3d""/\x3e\r\n\t  \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e');
  var sym__8840__auto___9616 = cljs.core.nth.call(null, vec__9610_9615, 0, null);
  var txt__8841__auto___9617 = cljs.core.nth.call(null, vec__9610_9615, 1, null);
  cljs.core.swap_BANG_.call(null, enfocus.core.tpl_cache, cljs.core.assoc, "compiledtemplates/video-stream.html", new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sym__8840__auto___9616, txt__8841__auto___9617], null));
} else {
}
kuroi.render.video = function kuroi$render$video() {
  var vec__9614 = function() {
    return enfocus.core.get_cached_dom.call(null, "compiledtemplates/video-stream.html");
  }.call(null);
  var id_sym9611 = cljs.core.nth.call(null, vec__9614, 0, null);
  var pnod9612 = cljs.core.nth.call(null, vec__9614, 1, null);
  var pnod9612__$1 = enfocus.core.create_hidden_dom.call(null, pnod9612);
  enfocus.core.i_at.call(null, id_sym9611, pnod9612__$1);
  enfocus.core.reset_ids.call(null, id_sym9611, pnod9612__$1);
  return enfocus.core.remove_node_return_child.call(null, pnod9612__$1);
};
goog.provide("goog.net.xpc");
goog.provide("goog.net.xpc.CfgFields");
goog.provide("goog.net.xpc.ChannelStates");
goog.provide("goog.net.xpc.TransportNames");
goog.provide("goog.net.xpc.TransportTypes");
goog.provide("goog.net.xpc.UriCfgFields");
goog.require("goog.log");
goog.net.xpc.TransportTypes = {NATIVE_MESSAGING:1, FRAME_ELEMENT_METHOD:2, IFRAME_RELAY:3, IFRAME_POLLING:4, FLASH:5, NIX:6, DIRECT:7};
goog.net.xpc.TransportNames = {1:"NativeMessagingTransport", 2:"FrameElementMethodTransport", 3:"IframeRelayTransport", 4:"IframePollingTransport", 5:"FlashTransport", 6:"NixTransport", 7:"DirectTransport"};
goog.net.xpc.CfgFields = {CHANNEL_NAME:"cn", AUTH_TOKEN:"at", REMOTE_AUTH_TOKEN:"rat", PEER_URI:"pu", IFRAME_ID:"ifrid", TRANSPORT:"tp", LOCAL_RELAY_URI:"lru", PEER_RELAY_URI:"pru", LOCAL_POLL_URI:"lpu", PEER_POLL_URI:"ppu", PEER_HOSTNAME:"ph", ONE_SIDED_HANDSHAKE:"osh", ROLE:"role", NATIVE_TRANSPORT_PROTOCOL_VERSION:"nativeProtocolVersion", DIRECT_TRANSPORT_SYNC_MODE:"directSyncMode"};
goog.net.xpc.UriCfgFields = [goog.net.xpc.CfgFields.PEER_URI, goog.net.xpc.CfgFields.LOCAL_RELAY_URI, goog.net.xpc.CfgFields.PEER_RELAY_URI, goog.net.xpc.CfgFields.LOCAL_POLL_URI, goog.net.xpc.CfgFields.PEER_POLL_URI];
goog.net.xpc.ChannelStates = {NOT_CONNECTED:1, CONNECTED:2, CLOSED:3};
goog.net.xpc.TRANSPORT_SERVICE_ = "tp";
goog.net.xpc.SETUP = "SETUP";
goog.net.xpc.SETUP_NTPV2 = "SETUP_NTPV2";
goog.net.xpc.SETUP_ACK_ = "SETUP_ACK";
goog.net.xpc.SETUP_ACK_NTPV2 = "SETUP_ACK_NTPV2";
goog.net.xpc.channels = {};
goog.net.xpc.getRandomString = function(length, opt_characters) {
  var chars = opt_characters || goog.net.xpc.randomStringCharacters_;
  var charsLength = chars.length;
  var s = "";
  while (length-- > 0) {
    s += chars.charAt(Math.floor(Math.random() * charsLength));
  }
  return s;
};
goog.net.xpc.randomStringCharacters_ = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
goog.net.xpc.logger = goog.log.getLogger("goog.net.xpc");
goog.provide("goog.net.xpc.CrossPageChannelRole");
goog.net.xpc.CrossPageChannelRole = {OUTER:0, INNER:1};
goog.provide("goog.net.xpc.Transport");
goog.require("goog.Disposable");
goog.require("goog.dom");
goog.require("goog.net.xpc.TransportNames");
goog.net.xpc.Transport = function(opt_domHelper) {
  goog.Disposable.call(this);
  this.domHelper_ = opt_domHelper || goog.dom.getDomHelper();
};
goog.inherits(goog.net.xpc.Transport, goog.Disposable);
goog.net.xpc.Transport.prototype.transportType = 0;
goog.net.xpc.Transport.prototype.getType = function() {
  return this.transportType;
};
goog.net.xpc.Transport.prototype.getWindow = function() {
  return this.domHelper_.getWindow();
};
goog.net.xpc.Transport.prototype.getName = function() {
  return goog.net.xpc.TransportNames[String(this.transportType)] || "";
};
goog.net.xpc.Transport.prototype.transportServiceHandler = goog.abstractMethod;
goog.net.xpc.Transport.prototype.connect = goog.abstractMethod;
goog.net.xpc.Transport.prototype.send = goog.abstractMethod;
goog.provide("goog.net.xpc.IframePollingTransport");
goog.provide("goog.net.xpc.IframePollingTransport.Receiver");
goog.provide("goog.net.xpc.IframePollingTransport.Sender");
goog.require("goog.array");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.log");
goog.require("goog.log.Level");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.require("goog.userAgent");
goog.net.xpc.IframePollingTransport = function(channel, opt_domHelper) {
  goog.net.xpc.IframePollingTransport.base(this, "constructor", opt_domHelper);
  this.channel_ = channel;
  this.sendUri_ = this.channel_.getConfig()[goog.net.xpc.CfgFields.PEER_POLL_URI];
  this.rcvUri_ = this.channel_.getConfig()[goog.net.xpc.CfgFields.LOCAL_POLL_URI];
  this.sendQueue_ = [];
};
goog.inherits(goog.net.xpc.IframePollingTransport, goog.net.xpc.Transport);
goog.net.xpc.IframePollingTransport.prototype.pollsBeforeReconnect_ = 5;
goog.net.xpc.IframePollingTransport.prototype.transportType = goog.net.xpc.TransportTypes.IFRAME_POLLING;
goog.net.xpc.IframePollingTransport.prototype.sequence_ = 0;
goog.net.xpc.IframePollingTransport.prototype.waitForAck_ = false;
goog.net.xpc.IframePollingTransport.prototype.initialized_ = false;
goog.net.xpc.IframePollingTransport.prototype.reconnectFrame_ = null;
goog.net.xpc.IframePollingTransport.prototype.ackReceiver_;
goog.net.xpc.IframePollingTransport.prototype.ackSender_;
goog.net.xpc.IframePollingTransport.prototype.ackIframeElm_;
goog.net.xpc.IframePollingTransport.prototype.ackWinObj_;
goog.net.xpc.IframePollingTransport.prototype.checkLocalFramesPresentCb_;
goog.net.xpc.IframePollingTransport.prototype.deliveryQueue_;
goog.net.xpc.IframePollingTransport.prototype.msgIframeElm_;
goog.net.xpc.IframePollingTransport.prototype.msgReceiver_;
goog.net.xpc.IframePollingTransport.prototype.msgSender_;
goog.net.xpc.IframePollingTransport.prototype.msgWinObj_;
goog.net.xpc.IframePollingTransport.prototype.rcvdConnectionSetupAck_;
goog.net.xpc.IframePollingTransport.prototype.sentConnectionSetupAck_;
goog.net.xpc.IframePollingTransport.prototype.sentConnectionSetup_;
goog.net.xpc.IframePollingTransport.prototype.parts_;
goog.net.xpc.IframePollingTransport.IFRAME_PREFIX = "googlexpc";
goog.net.xpc.IframePollingTransport.prototype.getMsgFrameName_ = function() {
  return goog.net.xpc.IframePollingTransport.IFRAME_PREFIX + "_" + this.channel_.name + "_msg";
};
goog.net.xpc.IframePollingTransport.prototype.getAckFrameName_ = function() {
  return goog.net.xpc.IframePollingTransport.IFRAME_PREFIX + "_" + this.channel_.name + "_ack";
};
goog.net.xpc.IframePollingTransport.prototype.isChannelAvailable = function() {
  return !this.isDisposed() && this.channel_.isPeerAvailable();
};
goog.net.xpc.IframePollingTransport.prototype.getPeerFrames_ = function() {
  try {
    if (this.isChannelAvailable()) {
      return this.channel_.getPeerWindowObject().frames || {};
    }
  } catch (e) {
    goog.log.fine(goog.net.xpc.logger, "error retrieving peer frames");
  }
  return {};
};
goog.net.xpc.IframePollingTransport.prototype.getPeerFrame_ = function(frameName) {
  return this.getPeerFrames_()[frameName];
};
goog.net.xpc.IframePollingTransport.prototype.connect = function() {
  if (!this.isChannelAvailable()) {
    return;
  }
  goog.log.fine(goog.net.xpc.logger, "transport connect called");
  if (!this.initialized_) {
    goog.log.fine(goog.net.xpc.logger, "initializing...");
    this.constructSenderFrames_();
    this.initialized_ = true;
  }
  this.checkForeignFramesReady_();
};
goog.net.xpc.IframePollingTransport.prototype.constructSenderFrames_ = function() {
  var name = this.getMsgFrameName_();
  this.msgIframeElm_ = this.constructSenderFrame_(name);
  this.msgWinObj_ = this.getWindow().frames[name];
  name = this.getAckFrameName_();
  this.ackIframeElm_ = this.constructSenderFrame_(name);
  this.ackWinObj_ = this.getWindow().frames[name];
};
goog.net.xpc.IframePollingTransport.prototype.constructSenderFrame_ = function(id) {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "constructing sender frame: " + id);
  var ifr = goog.dom.createElement(goog.dom.TagName.IFRAME);
  var s = ifr.style;
  s.position = "absolute";
  s.top = "-10px";
  s.left = "10px";
  s.width = "1px";
  s.height = "1px";
  ifr.id = ifr.name = id;
  ifr.src = this.sendUri_ + "#INITIAL";
  this.getWindow().document.body.appendChild(ifr);
  return ifr;
};
goog.net.xpc.IframePollingTransport.prototype.maybeInnerPeerReconnect_ = function() {
  if (this.reconnectFrame_ || this.pollsBeforeReconnect_-- > 0) {
    return;
  }
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "Inner peer reconnect triggered.");
  this.channel_.updateChannelNameAndCatalog(goog.net.xpc.getRandomString(10));
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "switching channels: " + this.channel_.name);
  this.deconstructSenderFrames_();
  this.initialized_ = false;
  this.reconnectFrame_ = this.constructSenderFrame_(goog.net.xpc.IframePollingTransport.IFRAME_PREFIX + "_reconnect_" + this.channel_.name);
};
goog.net.xpc.IframePollingTransport.prototype.outerPeerReconnect_ = function() {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "outerPeerReconnect called");
  var frames = this.getPeerFrames_();
  var length = frames.length;
  for (var i = 0;i < length;i++) {
    var frameName;
    try {
      if (frames[i] && frames[i].name) {
        frameName = frames[i].name;
      }
    } catch (e) {
    }
    if (!frameName) {
      continue;
    }
    var message = frameName.split("_");
    if (message.length == 3 && message[0] == goog.net.xpc.IframePollingTransport.IFRAME_PREFIX && message[1] == "reconnect") {
      this.channel_.name = message[2];
      this.deconstructSenderFrames_();
      this.initialized_ = false;
      break;
    }
  }
};
goog.net.xpc.IframePollingTransport.prototype.deconstructSenderFrames_ = function() {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "deconstructSenderFrames called");
  if (this.msgIframeElm_) {
    this.msgIframeElm_.parentNode.removeChild(this.msgIframeElm_);
    this.msgIframeElm_ = null;
    this.msgWinObj_ = null;
  }
  if (this.ackIframeElm_) {
    this.ackIframeElm_.parentNode.removeChild(this.ackIframeElm_);
    this.ackIframeElm_ = null;
    this.ackWinObj_ = null;
  }
};
goog.net.xpc.IframePollingTransport.prototype.checkForeignFramesReady_ = function() {
  if (!(this.isRcvFrameReady_(this.getMsgFrameName_()) && this.isRcvFrameReady_(this.getAckFrameName_()))) {
    goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "foreign frames not (yet) present");
    if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.INNER) {
      this.maybeInnerPeerReconnect_();
    } else {
      if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.OUTER) {
        this.outerPeerReconnect_();
      }
    }
    this.getWindow().setTimeout(goog.bind(this.connect, this), 100);
  } else {
    goog.log.fine(goog.net.xpc.logger, "foreign frames present");
    this.msgReceiver_ = new goog.net.xpc.IframePollingTransport.Receiver(this, this.getPeerFrame_(this.getMsgFrameName_()), goog.bind(this.processIncomingMsg, this));
    this.ackReceiver_ = new goog.net.xpc.IframePollingTransport.Receiver(this, this.getPeerFrame_(this.getAckFrameName_()), goog.bind(this.processIncomingAck, this));
    this.checkLocalFramesPresent_();
  }
};
goog.net.xpc.IframePollingTransport.prototype.isRcvFrameReady_ = function(frameName) {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "checking for receive frame: " + frameName);
  try {
    var winObj = this.getPeerFrame_(frameName);
    if (!winObj || winObj.location.href.indexOf(this.rcvUri_) != 0) {
      return false;
    }
  } catch (e) {
    return false;
  }
  return true;
};
goog.net.xpc.IframePollingTransport.prototype.checkLocalFramesPresent_ = function() {
  var frames = this.getPeerFrames_();
  if (!(frames[this.getAckFrameName_()] && frames[this.getMsgFrameName_()])) {
    if (!this.checkLocalFramesPresentCb_) {
      this.checkLocalFramesPresentCb_ = goog.bind(this.checkLocalFramesPresent_, this);
    }
    this.getWindow().setTimeout(this.checkLocalFramesPresentCb_, 100);
    goog.log.fine(goog.net.xpc.logger, "local frames not (yet) present");
  } else {
    this.msgSender_ = new goog.net.xpc.IframePollingTransport.Sender(this.sendUri_, this.msgWinObj_);
    this.ackSender_ = new goog.net.xpc.IframePollingTransport.Sender(this.sendUri_, this.ackWinObj_);
    goog.log.fine(goog.net.xpc.logger, "local frames ready");
    this.getWindow().setTimeout(goog.bind(function() {
      this.msgSender_.send(goog.net.xpc.SETUP);
      this.sentConnectionSetup_ = true;
      this.waitForAck_ = true;
      goog.log.fine(goog.net.xpc.logger, "SETUP sent");
    }, this), 100);
  }
};
goog.net.xpc.IframePollingTransport.prototype.checkIfConnected_ = function() {
  if (this.sentConnectionSetupAck_ && this.rcvdConnectionSetupAck_) {
    this.channel_.notifyConnected();
    if (this.deliveryQueue_) {
      goog.log.fine(goog.net.xpc.logger, "delivering queued messages " + "(" + this.deliveryQueue_.length + ")");
      for (var i = 0, m;i < this.deliveryQueue_.length;i++) {
        m = this.deliveryQueue_[i];
        this.channel_.xpcDeliver(m.service, m.payload);
      }
      delete this.deliveryQueue_;
    }
  } else {
    goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "checking if connected: " + "ack sent:" + this.sentConnectionSetupAck_ + ", ack rcvd: " + this.rcvdConnectionSetupAck_);
  }
};
goog.net.xpc.IframePollingTransport.prototype.processIncomingMsg = function(raw) {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "msg received: " + raw);
  if (raw == goog.net.xpc.SETUP) {
    if (!this.ackSender_) {
      return;
    }
    this.ackSender_.send(goog.net.xpc.SETUP_ACK_);
    goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "SETUP_ACK sent");
    this.sentConnectionSetupAck_ = true;
    this.checkIfConnected_();
  } else {
    if (this.channel_.isConnected() || this.sentConnectionSetupAck_) {
      var pos = raw.indexOf("|");
      var head = raw.substring(0, pos);
      var frame = raw.substring(pos + 1);
      pos = head.indexOf(",");
      if (pos == -1) {
        var seq = head;
        this.ackSender_.send("ACK:" + seq);
        this.deliverPayload_(frame);
      } else {
        var seq = head.substring(0, pos);
        this.ackSender_.send("ACK:" + seq);
        var partInfo = head.substring(pos + 1).split("/");
        var part0 = parseInt(partInfo[0], 10);
        var part1 = parseInt(partInfo[1], 10);
        if (part0 == 1) {
          this.parts_ = [];
        }
        this.parts_.push(frame);
        if (part0 == part1) {
          this.deliverPayload_(this.parts_.join(""));
          delete this.parts_;
        }
      }
    } else {
      goog.log.warning(goog.net.xpc.logger, "received msg, but channel is not connected");
    }
  }
};
goog.net.xpc.IframePollingTransport.prototype.processIncomingAck = function(msgStr) {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "ack received: " + msgStr);
  if (msgStr == goog.net.xpc.SETUP_ACK_) {
    this.waitForAck_ = false;
    this.rcvdConnectionSetupAck_ = true;
    this.checkIfConnected_();
  } else {
    if (this.channel_.isConnected()) {
      if (!this.waitForAck_) {
        goog.log.warning(goog.net.xpc.logger, "got unexpected ack");
        return;
      }
      var seq = parseInt(msgStr.split(":")[1], 10);
      if (seq == this.sequence_) {
        this.waitForAck_ = false;
        this.sendNextFrame_();
      } else {
        goog.log.warning(goog.net.xpc.logger, "got ack with wrong sequence");
      }
    } else {
      goog.log.warning(goog.net.xpc.logger, "received ack, but channel not connected");
    }
  }
};
goog.net.xpc.IframePollingTransport.prototype.sendNextFrame_ = function() {
  if (this.waitForAck_ || !this.sendQueue_.length) {
    return;
  }
  var s = this.sendQueue_.shift();
  ++this.sequence_;
  this.msgSender_.send(this.sequence_ + s);
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "msg sent: " + this.sequence_ + s);
  this.waitForAck_ = true;
};
goog.net.xpc.IframePollingTransport.prototype.deliverPayload_ = function(s) {
  var pos = s.indexOf(":");
  var service = s.substr(0, pos);
  var payload = s.substring(pos + 1);
  if (!this.channel_.isConnected()) {
    (this.deliveryQueue_ || (this.deliveryQueue_ = [])).push({service:service, payload:payload});
    goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "queued delivery");
  } else {
    this.channel_.xpcDeliver(service, payload);
  }
};
goog.net.xpc.IframePollingTransport.prototype.MAX_FRAME_LENGTH_ = 3800;
goog.net.xpc.IframePollingTransport.prototype.send = function(service, payload) {
  var frame = service + ":" + payload;
  if (!goog.userAgent.IE || payload.length <= this.MAX_FRAME_LENGTH_) {
    this.sendQueue_.push("|" + frame);
  } else {
    var l = payload.length;
    var num = Math.ceil(l / this.MAX_FRAME_LENGTH_);
    var pos = 0;
    var i = 1;
    while (pos < l) {
      this.sendQueue_.push("," + i + "/" + num + "|" + frame.substr(pos, this.MAX_FRAME_LENGTH_));
      i++;
      pos += this.MAX_FRAME_LENGTH_;
    }
  }
  this.sendNextFrame_();
};
goog.net.xpc.IframePollingTransport.prototype.disposeInternal = function() {
  goog.net.xpc.IframePollingTransport.base(this, "disposeInternal");
  var receivers = goog.net.xpc.IframePollingTransport.receivers_;
  goog.array.remove(receivers, this.msgReceiver_);
  goog.array.remove(receivers, this.ackReceiver_);
  this.msgReceiver_ = this.ackReceiver_ = null;
  goog.dom.removeNode(this.msgIframeElm_);
  goog.dom.removeNode(this.ackIframeElm_);
  this.msgIframeElm_ = this.ackIframeElm_ = null;
  this.msgWinObj_ = this.ackWinObj_ = null;
};
goog.net.xpc.IframePollingTransport.receivers_ = [];
goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_ = 10;
goog.net.xpc.IframePollingTransport.TIME_POLL_LONG_ = 100;
goog.net.xpc.IframePollingTransport.TIME_SHORT_POLL_AFTER_ACTIVITY_ = 1E3;
goog.net.xpc.IframePollingTransport.receive_ = function() {
  var receivers = goog.net.xpc.IframePollingTransport.receivers_;
  var receiver;
  var rcvd = false;
  try {
    for (var i = 0;receiver = receivers[i];i++) {
      rcvd = rcvd || receiver.receive();
    }
  } catch (e) {
    goog.log.info(goog.net.xpc.logger, "receive_() failed: " + e);
    receiver.transport_.channel_.notifyTransportError();
    if (!receivers.length) {
      return;
    }
  }
  var now = goog.now();
  if (rcvd) {
    goog.net.xpc.IframePollingTransport.lastActivity_ = now;
  }
  var t = now - goog.net.xpc.IframePollingTransport.lastActivity_ < goog.net.xpc.IframePollingTransport.TIME_SHORT_POLL_AFTER_ACTIVITY_ ? goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_ : goog.net.xpc.IframePollingTransport.TIME_POLL_LONG_;
  goog.net.xpc.IframePollingTransport.rcvTimer_ = window.setTimeout(goog.net.xpc.IframePollingTransport.receiveCb_, t);
};
goog.net.xpc.IframePollingTransport.receiveCb_ = goog.bind(goog.net.xpc.IframePollingTransport.receive_, goog.net.xpc.IframePollingTransport);
goog.net.xpc.IframePollingTransport.startRcvTimer_ = function() {
  goog.log.fine(goog.net.xpc.logger, "starting receive-timer");
  goog.net.xpc.IframePollingTransport.lastActivity_ = goog.now();
  if (goog.net.xpc.IframePollingTransport.rcvTimer_) {
    window.clearTimeout(goog.net.xpc.IframePollingTransport.rcvTimer_);
  }
  goog.net.xpc.IframePollingTransport.rcvTimer_ = window.setTimeout(goog.net.xpc.IframePollingTransport.receiveCb_, goog.net.xpc.IframePollingTransport.TIME_POLL_SHORT_);
};
goog.net.xpc.IframePollingTransport.Sender = function(url, windowObj) {
  if (!/^https?:\/\//.test(url)) {
    throw Error("URL " + url + " is invalid");
  }
  this.sanitizedSendUri_ = url;
  this.sendFrame_ = (windowObj);
  this.cycle_ = 0;
};
goog.net.xpc.IframePollingTransport.Sender.prototype.send = function(payload) {
  this.cycle_ = ++this.cycle_ % 2;
  var url = this.sanitizedSendUri_ + "#" + this.cycle_ + encodeURIComponent(payload);
  try {
    if (goog.userAgent.WEBKIT) {
      this.sendFrame_.location.href = url;
    } else {
      this.sendFrame_.location.replace(url);
    }
  } catch (e) {
    goog.log.error(goog.net.xpc.logger, "sending failed", e);
  }
  goog.net.xpc.IframePollingTransport.startRcvTimer_();
};
goog.net.xpc.IframePollingTransport.Receiver = function(transport, windowObj, callback) {
  this.transport_ = transport;
  this.rcvFrame_ = windowObj;
  this.cb_ = callback;
  this.currentLoc_ = this.rcvFrame_.location.href.split("#")[0] + "#INITIAL";
  goog.net.xpc.IframePollingTransport.receivers_.push(this);
  goog.net.xpc.IframePollingTransport.startRcvTimer_();
};
goog.net.xpc.IframePollingTransport.Receiver.prototype.receive = function() {
  var loc = this.rcvFrame_.location.href;
  if (loc != this.currentLoc_) {
    this.currentLoc_ = loc;
    var payload = loc.split("#")[1];
    if (payload) {
      payload = payload.substr(1);
      this.cb_(decodeURIComponent(payload));
    }
    return true;
  } else {
    return false;
  }
};
/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
goog.provide("goog.async.Deferred");
goog.provide("goog.async.Deferred.AlreadyCalledError");
goog.provide("goog.async.Deferred.CanceledError");
goog.require("goog.Promise");
goog.require("goog.Thenable");
goog.require("goog.array");
goog.require("goog.asserts");
goog.require("goog.debug.Error");
goog.async.Deferred = function(opt_onCancelFunction, opt_defaultScope) {
  this.sequence_ = [];
  this.onCancelFunction_ = opt_onCancelFunction;
  this.defaultScope_ = opt_defaultScope || null;
  this.fired_ = false;
  this.hadError_ = false;
  this.result_ = undefined;
  this.blocked_ = false;
  this.blocking_ = false;
  this.silentlyCanceled_ = false;
  this.unhandledErrorId_ = 0;
  this.parent_ = null;
  this.branches_ = 0;
  if (goog.async.Deferred.LONG_STACK_TRACES) {
    this.constructorStack_ = null;
    if (Error.captureStackTrace) {
      var target = {stack:""};
      Error.captureStackTrace(target, goog.async.Deferred);
      if (typeof target.stack == "string") {
        this.constructorStack_ = target.stack.replace(/^[^\n]*\n/, "");
      }
    }
  }
};
goog.define("goog.async.Deferred.STRICT_ERRORS", false);
goog.define("goog.async.Deferred.LONG_STACK_TRACES", false);
goog.async.Deferred.prototype.cancel = function(opt_deepCancel) {
  if (!this.hasFired()) {
    if (this.parent_) {
      var parent = this.parent_;
      delete this.parent_;
      if (opt_deepCancel) {
        parent.cancel(opt_deepCancel);
      } else {
        parent.branchCancel_();
      }
    }
    if (this.onCancelFunction_) {
      this.onCancelFunction_.call(this.defaultScope_, this);
    } else {
      this.silentlyCanceled_ = true;
    }
    if (!this.hasFired()) {
      this.errback(new goog.async.Deferred.CanceledError(this));
    }
  } else {
    if (this.result_ instanceof goog.async.Deferred) {
      this.result_.cancel();
    }
  }
};
goog.async.Deferred.prototype.branchCancel_ = function() {
  this.branches_--;
  if (this.branches_ <= 0) {
    this.cancel();
  }
};
goog.async.Deferred.prototype.continue_ = function(isSuccess, res) {
  this.blocked_ = false;
  this.updateResult_(isSuccess, res);
};
goog.async.Deferred.prototype.updateResult_ = function(isSuccess, res) {
  this.fired_ = true;
  this.result_ = res;
  this.hadError_ = !isSuccess;
  this.fire_();
};
goog.async.Deferred.prototype.check_ = function() {
  if (this.hasFired()) {
    if (!this.silentlyCanceled_) {
      throw new goog.async.Deferred.AlreadyCalledError(this);
    }
    this.silentlyCanceled_ = false;
  }
};
goog.async.Deferred.prototype.callback = function(opt_result) {
  this.check_();
  this.assertNotDeferred_(opt_result);
  this.updateResult_(true, opt_result);
};
goog.async.Deferred.prototype.errback = function(opt_result) {
  this.check_();
  this.assertNotDeferred_(opt_result);
  this.makeStackTraceLong_(opt_result);
  this.updateResult_(false, opt_result);
};
goog.async.Deferred.prototype.makeStackTraceLong_ = function(error) {
  if (!goog.async.Deferred.LONG_STACK_TRACES) {
    return;
  }
  if (this.constructorStack_ && goog.isObject(error) && error.stack && /^[^\n]+(\n   [^\n]+)+/.test(error.stack)) {
    error.stack = error.stack + "\nDEFERRED OPERATION:\n" + this.constructorStack_;
  }
};
goog.async.Deferred.prototype.assertNotDeferred_ = function(obj) {
  goog.asserts.assert(!(obj instanceof goog.async.Deferred), "An execution sequence may not be initiated with a blocking Deferred.");
};
goog.async.Deferred.prototype.addCallback = function(cb, opt_scope) {
  return this.addCallbacks(cb, null, opt_scope);
};
goog.async.Deferred.prototype.addErrback = function(eb, opt_scope) {
  return this.addCallbacks(null, eb, opt_scope);
};
goog.async.Deferred.prototype.addBoth = function(f, opt_scope) {
  return this.addCallbacks(f, f, opt_scope);
};
goog.async.Deferred.prototype.addFinally = function(f, opt_scope) {
  var self = this;
  return this.addCallbacks(f, function(err) {
    var result = f.call(self, err);
    if (!goog.isDef(result)) {
      throw err;
    }
    return result;
  }, opt_scope);
};
goog.async.Deferred.prototype.addCallbacks = function(cb, eb, opt_scope) {
  goog.asserts.assert(!this.blocking_, "Blocking Deferreds can not be re-used");
  this.sequence_.push([cb, eb, opt_scope]);
  if (this.hasFired()) {
    this.fire_();
  }
  return this;
};
goog.async.Deferred.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {
  var resolve, reject;
  var promise = new goog.Promise(function(res, rej) {
    resolve = res;
    reject = rej;
  });
  this.addCallbacks(resolve, function(reason) {
    if (reason instanceof goog.async.Deferred.CanceledError) {
      promise.cancel();
    } else {
      reject(reason);
    }
  });
  return promise.then(opt_onFulfilled, opt_onRejected, opt_context);
};
goog.Thenable.addImplementation(goog.async.Deferred);
goog.async.Deferred.prototype.chainDeferred = function(otherDeferred) {
  this.addCallbacks(otherDeferred.callback, otherDeferred.errback, otherDeferred);
  return this;
};
goog.async.Deferred.prototype.awaitDeferred = function(otherDeferred) {
  if (!(otherDeferred instanceof goog.async.Deferred)) {
    return this.addCallback(function() {
      return otherDeferred;
    });
  }
  return this.addCallback(goog.bind(otherDeferred.branch, otherDeferred));
};
goog.async.Deferred.prototype.branch = function(opt_propagateCancel) {
  var d = new goog.async.Deferred;
  this.chainDeferred(d);
  if (opt_propagateCancel) {
    d.parent_ = this;
    this.branches_++;
  }
  return d;
};
goog.async.Deferred.prototype.hasFired = function() {
  return this.fired_;
};
goog.async.Deferred.prototype.isError = function(res) {
  return res instanceof Error;
};
goog.async.Deferred.prototype.hasErrback_ = function() {
  return goog.array.some(this.sequence_, function(sequenceRow) {
    return goog.isFunction(sequenceRow[1]);
  });
};
goog.async.Deferred.prototype.fire_ = function() {
  if (this.unhandledErrorId_ && this.hasFired() && this.hasErrback_()) {
    goog.async.Deferred.unscheduleError_(this.unhandledErrorId_);
    this.unhandledErrorId_ = 0;
  }
  if (this.parent_) {
    this.parent_.branches_--;
    delete this.parent_;
  }
  var res = this.result_;
  var unhandledException = false;
  var isNewlyBlocked = false;
  while (this.sequence_.length && !this.blocked_) {
    var sequenceEntry = this.sequence_.shift();
    var callback = sequenceEntry[0];
    var errback = sequenceEntry[1];
    var scope = sequenceEntry[2];
    var f = this.hadError_ ? errback : callback;
    if (f) {
      try {
        var ret = f.call(scope || this.defaultScope_, res);
        if (goog.isDef(ret)) {
          this.hadError_ = this.hadError_ && (ret == res || this.isError(ret));
          this.result_ = res = ret;
        }
        if (goog.Thenable.isImplementedBy(res) || typeof goog.global["Promise"] === "function" && res instanceof goog.global["Promise"]) {
          isNewlyBlocked = true;
          this.blocked_ = true;
        }
      } catch (ex) {
        res = ex;
        this.hadError_ = true;
        this.makeStackTraceLong_(res);
        if (!this.hasErrback_()) {
          unhandledException = true;
        }
      }
    }
  }
  this.result_ = res;
  if (isNewlyBlocked) {
    var onCallback = goog.bind(this.continue_, this, true);
    var onErrback = goog.bind(this.continue_, this, false);
    if (res instanceof goog.async.Deferred) {
      res.addCallbacks(onCallback, onErrback);
      res.blocking_ = true;
    } else {
      res.then(onCallback, onErrback);
    }
  } else {
    if (goog.async.Deferred.STRICT_ERRORS && this.isError(res) && !(res instanceof goog.async.Deferred.CanceledError)) {
      this.hadError_ = true;
      unhandledException = true;
    }
  }
  if (unhandledException) {
    this.unhandledErrorId_ = goog.async.Deferred.scheduleError_(res);
  }
};
goog.async.Deferred.succeed = function(opt_result) {
  var d = new goog.async.Deferred;
  d.callback(opt_result);
  return d;
};
goog.async.Deferred.fromPromise = function(promise) {
  var d = new goog.async.Deferred;
  d.callback();
  d.addCallback(function() {
    return promise;
  });
  return d;
};
goog.async.Deferred.fail = function(res) {
  var d = new goog.async.Deferred;
  d.errback(res);
  return d;
};
goog.async.Deferred.canceled = function() {
  var d = new goog.async.Deferred;
  d.cancel();
  return d;
};
goog.async.Deferred.when = function(value, callback, opt_scope) {
  if (value instanceof goog.async.Deferred) {
    return value.branch(true).addCallback(callback, opt_scope);
  } else {
    return goog.async.Deferred.succeed(value).addCallback(callback, opt_scope);
  }
};
goog.async.Deferred.AlreadyCalledError = function(deferred) {
  goog.debug.Error.call(this);
  this.deferred = deferred;
};
goog.inherits(goog.async.Deferred.AlreadyCalledError, goog.debug.Error);
goog.async.Deferred.AlreadyCalledError.prototype.message = "Deferred has already fired";
goog.async.Deferred.AlreadyCalledError.prototype.name = "AlreadyCalledError";
goog.async.Deferred.CanceledError = function(deferred) {
  goog.debug.Error.call(this);
  this.deferred = deferred;
};
goog.inherits(goog.async.Deferred.CanceledError, goog.debug.Error);
goog.async.Deferred.CanceledError.prototype.message = "Deferred was canceled";
goog.async.Deferred.CanceledError.prototype.name = "CanceledError";
goog.async.Deferred.Error_ = function(error) {
  this.id_ = goog.global.setTimeout(goog.bind(this.throwError, this), 0);
  this.error_ = error;
};
goog.async.Deferred.Error_.prototype.throwError = function() {
  goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_], "Cannot throw an error that is not scheduled.");
  delete goog.async.Deferred.errorMap_[this.id_];
  throw this.error_;
};
goog.async.Deferred.Error_.prototype.resetTimer = function() {
  goog.global.clearTimeout(this.id_);
};
goog.async.Deferred.errorMap_ = {};
goog.async.Deferred.scheduleError_ = function(error) {
  var deferredError = new goog.async.Deferred.Error_(error);
  goog.async.Deferred.errorMap_[deferredError.id_] = deferredError;
  return deferredError.id_;
};
goog.async.Deferred.unscheduleError_ = function(id) {
  var error = goog.async.Deferred.errorMap_[id];
  if (error) {
    error.resetTimer();
    delete goog.async.Deferred.errorMap_[id];
  }
};
goog.async.Deferred.assertNoErrors = function() {
  var map = goog.async.Deferred.errorMap_;
  for (var key in map) {
    var error = map[key];
    error.resetTimer();
    error.throwError();
  }
};
goog.provide("goog.net.xpc.DirectTransport");
goog.require("goog.Timer");
goog.require("goog.async.Deferred");
goog.require("goog.events.EventHandler");
goog.require("goog.log");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.require("goog.object");
goog.scope(function() {
  var CfgFields = goog.net.xpc.CfgFields;
  var CrossPageChannelRole = goog.net.xpc.CrossPageChannelRole;
  var Deferred = goog.async.Deferred;
  var EventHandler = goog.events.EventHandler;
  var Timer = goog.Timer;
  var Transport = goog.net.xpc.Transport;
  goog.net.xpc.DirectTransport = function(channel, opt_domHelper) {
    goog.net.xpc.DirectTransport.base(this, "constructor", opt_domHelper);
    this.channel_ = channel;
    this.eventHandler_ = new EventHandler(this);
    this.registerDisposable(this.eventHandler_);
    this.maybeAttemptToConnectTimer_ = new Timer(DirectTransport.CONNECTION_ATTEMPT_INTERVAL_MS_, this.getWindow());
    this.registerDisposable(this.maybeAttemptToConnectTimer_);
    this.setupAckReceived_ = new Deferred;
    this.setupAckSent_ = new Deferred;
    this.connected_ = new Deferred;
    this.endpointId_ = goog.net.xpc.getRandomString(10);
    this.peerEndpointId_ = null;
    this.asyncSendsMap_ = {};
    this.originalChannelName_ = this.channel_.name;
    this.channel_.updateChannelNameAndCatalog(DirectTransport.getRoledChannelName_(this.channel_.name, this.channel_.getRole()));
    this.initialized_ = false;
    this.connected_.awaitDeferred(this.setupAckReceived_);
    this.connected_.awaitDeferred(this.setupAckSent_);
    this.connected_.addCallback(this.notifyConnected_, this);
    this.connected_.callback(true);
    this.eventHandler_.listen(this.maybeAttemptToConnectTimer_, Timer.TICK, this.maybeAttemptToConnect_);
    goog.log.info(goog.net.xpc.logger, "DirectTransport created. role\x3d" + this.channel_.getRole());
  };
  goog.inherits(goog.net.xpc.DirectTransport, Transport);
  var DirectTransport = goog.net.xpc.DirectTransport;
  DirectTransport.CONNECTION_ATTEMPT_INTERVAL_MS_ = 100;
  DirectTransport.CONNECTION_DELAY_INTERVAL_MS_ = 0;
  DirectTransport.isSupported = function(peerWindow) {
    try {
      return window.document.domain == peerWindow.document.domain;
    } catch (e) {
      return false;
    }
  };
  DirectTransport.activeCount_ = {};
  DirectTransport.GLOBAL_TRANPORT_PATH_ = "crosswindowmessaging.channel";
  DirectTransport.MESSAGE_DELIMITER_ = ",";
  DirectTransport.initialize_ = function(listenWindow) {
    var uid = goog.getUid(listenWindow);
    var value = DirectTransport.activeCount_[uid] || 0;
    if (value == 0) {
      var globalProxy = goog.getObjectByName(DirectTransport.GLOBAL_TRANPORT_PATH_, listenWindow);
      if (globalProxy == null) {
        goog.exportSymbol(DirectTransport.GLOBAL_TRANPORT_PATH_, DirectTransport.messageReceivedHandler_, listenWindow);
      }
    }
    DirectTransport.activeCount_[uid]++;
  };
  DirectTransport.getRoledChannelName_ = function(channelName, role) {
    return channelName + "_" + role;
  };
  DirectTransport.messageReceivedHandler_ = function(literal) {
    var msg = DirectTransport.Message_.fromLiteral(literal);
    var channelName = msg.channelName;
    var service = msg.service;
    var payload = msg.payload;
    goog.log.fine(goog.net.xpc.logger, "messageReceived: channel\x3d" + channelName + ", service\x3d" + service + ", payload\x3d" + payload);
    var channel = goog.net.xpc.channels[channelName];
    if (channel) {
      channel.xpcDeliver(service, payload);
      return true;
    }
    var transportMessageType = DirectTransport.parseTransportPayload_(payload)[0];
    for (var staleChannelName in goog.net.xpc.channels) {
      var staleChannel = goog.net.xpc.channels[staleChannelName];
      if (staleChannel.getRole() == CrossPageChannelRole.INNER && !staleChannel.isConnected() && service == goog.net.xpc.TRANSPORT_SERVICE_ && transportMessageType == goog.net.xpc.SETUP) {
        staleChannel.updateChannelNameAndCatalog(channelName);
        staleChannel.xpcDeliver(service, payload);
        return true;
      }
    }
    goog.log.info(goog.net.xpc.logger, "channel name mismatch; message ignored.");
    return false;
  };
  DirectTransport.prototype.transportType = goog.net.xpc.TransportTypes.DIRECT;
  DirectTransport.prototype.transportServiceHandler = function(payload) {
    var transportParts = DirectTransport.parseTransportPayload_(payload);
    var transportMessageType = transportParts[0];
    var peerEndpointId = transportParts[1];
    switch(transportMessageType) {
      case goog.net.xpc.SETUP_ACK_:
        if (!this.setupAckReceived_.hasFired()) {
          this.setupAckReceived_.callback(true);
        }
        break;
      case goog.net.xpc.SETUP:
        this.sendSetupAckMessage_();
        if (this.peerEndpointId_ != null && this.peerEndpointId_ != peerEndpointId) {
          goog.log.info(goog.net.xpc.logger, "Sending SETUP and changing peer ID to: " + peerEndpointId);
          this.sendSetupMessage_();
        }
        this.peerEndpointId_ = peerEndpointId;
        break;
    }
  };
  DirectTransport.prototype.sendSetupMessage_ = function() {
    var payload = goog.net.xpc.SETUP;
    payload += DirectTransport.MESSAGE_DELIMITER_;
    payload += this.endpointId_;
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, payload);
  };
  DirectTransport.prototype.sendSetupAckMessage_ = function() {
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP_ACK_);
    if (!this.setupAckSent_.hasFired()) {
      this.setupAckSent_.callback(true);
    }
  };
  DirectTransport.prototype.connect = function() {
    var win = this.getWindow();
    if (win) {
      DirectTransport.initialize_(win);
      this.initialized_ = true;
      this.maybeAttemptToConnect_();
    } else {
      goog.log.fine(goog.net.xpc.logger, "connect(): no window to initialize.");
    }
  };
  DirectTransport.prototype.maybeAttemptToConnect_ = function() {
    var outerRole = this.channel_.getRole() == CrossPageChannelRole.OUTER;
    if (this.channel_.isConnected()) {
      this.maybeAttemptToConnectTimer_.stop();
      return;
    }
    this.maybeAttemptToConnectTimer_.start();
    this.sendSetupMessage_();
  };
  DirectTransport.prototype.send = function(service, payload) {
    if (!this.channel_.getPeerWindowObject()) {
      goog.log.fine(goog.net.xpc.logger, "send(): window not ready");
      return;
    }
    var channelName = DirectTransport.getRoledChannelName_(this.originalChannelName_, this.getPeerRole_());
    var message = new DirectTransport.Message_(channelName, service, payload);
    if (this.channel_.getConfig()[CfgFields.DIRECT_TRANSPORT_SYNC_MODE]) {
      this.executeScheduledSend_(message);
    } else {
      this.asyncSendsMap_[goog.getUid(message)] = Timer.callOnce(goog.bind(this.executeScheduledSend_, this, message), 0);
    }
  };
  DirectTransport.prototype.executeScheduledSend_ = function(message) {
    var messageId = goog.getUid(message);
    if (this.asyncSendsMap_[messageId]) {
      delete this.asyncSendsMap_[messageId];
    }
    try {
      var peerProxy = goog.getObjectByName(DirectTransport.GLOBAL_TRANPORT_PATH_, this.channel_.getPeerWindowObject());
    } catch (error) {
      goog.log.warning(goog.net.xpc.logger, "Can't access other window, ignoring.", error);
      return;
    }
    if (goog.isNull(peerProxy)) {
      goog.log.warning(goog.net.xpc.logger, "Peer window had no global function.");
      return;
    }
    try {
      peerProxy(message.toLiteral());
      goog.log.info(goog.net.xpc.logger, "send(): channelName\x3d" + message.channelName + " service\x3d" + message.service + " payload\x3d" + message.payload);
    } catch (error) {
      goog.log.warning(goog.net.xpc.logger, "Error performing call, ignoring.", error);
    }
  };
  DirectTransport.prototype.getPeerRole_ = function() {
    var role = this.channel_.getRole();
    return role == goog.net.xpc.CrossPageChannelRole.OUTER ? goog.net.xpc.CrossPageChannelRole.INNER : goog.net.xpc.CrossPageChannelRole.OUTER;
  };
  DirectTransport.prototype.notifyConnected_ = function() {
    this.channel_.notifyConnected(this.channel_.getConfig()[CfgFields.DIRECT_TRANSPORT_SYNC_MODE] ? DirectTransport.CONNECTION_DELAY_INTERVAL_MS_ : 0);
  };
  DirectTransport.prototype.disposeInternal = function() {
    if (this.initialized_) {
      var listenWindow = this.getWindow();
      var uid = goog.getUid(listenWindow);
      var value = --DirectTransport.activeCount_[uid];
      if (value == 1) {
        goog.exportSymbol(DirectTransport.GLOBAL_TRANPORT_PATH_, null, listenWindow);
      }
    }
    if (this.asyncSendsMap_) {
      goog.object.forEach(this.asyncSendsMap_, function(timerId) {
        Timer.clear(timerId);
      });
      this.asyncSendsMap_ = null;
    }
    if (this.setupAckReceived_) {
      this.setupAckReceived_.cancel();
      delete this.setupAckReceived_;
    }
    if (this.setupAckSent_) {
      this.setupAckSent_.cancel();
      delete this.setupAckSent_;
    }
    if (this.connected_) {
      this.connected_.cancel();
      delete this.connected_;
    }
    DirectTransport.base(this, "disposeInternal");
  };
  DirectTransport.parseTransportPayload_ = function(payload) {
    var transportParts = (payload.split(DirectTransport.MESSAGE_DELIMITER_));
    transportParts[1] = transportParts[1] || null;
    return transportParts;
  };
  DirectTransport.Message_ = function(channelName, service, payload) {
    this.channelName = channelName;
    this.service = service;
    this.payload = payload;
  };
  DirectTransport.Message_.prototype.toLiteral = function() {
    return {"channelName":this.channelName, "service":this.service, "payload":this.payload};
  };
  DirectTransport.Message_.fromLiteral = function(literal) {
    return new DirectTransport.Message_(literal["channelName"], literal["service"], literal["payload"]);
  };
});
goog.provide("goog.messaging.MessageChannel");
goog.messaging.MessageChannel = function() {
};
goog.messaging.MessageChannel.prototype.connect = function(opt_connectCb) {
};
goog.messaging.MessageChannel.prototype.isConnected = function() {
};
goog.messaging.MessageChannel.prototype.registerService = function(serviceName, callback, opt_objectPayload) {
};
goog.messaging.MessageChannel.prototype.registerDefaultService = function(callback) {
};
goog.messaging.MessageChannel.prototype.send = function(serviceName, payload) {
};
goog.provide("goog.messaging.AbstractChannel");
goog.require("goog.Disposable");
goog.require("goog.json");
goog.require("goog.log");
goog.require("goog.messaging.MessageChannel");
goog.messaging.AbstractChannel = function() {
  goog.messaging.AbstractChannel.base(this, "constructor");
  this.services_ = {};
};
goog.inherits(goog.messaging.AbstractChannel, goog.Disposable);
goog.messaging.AbstractChannel.prototype.defaultService_;
goog.messaging.AbstractChannel.prototype.logger = goog.log.getLogger("goog.messaging.AbstractChannel");
goog.messaging.AbstractChannel.prototype.connect = function(opt_connectCb) {
  if (opt_connectCb) {
    opt_connectCb();
  }
};
goog.messaging.AbstractChannel.prototype.isConnected = function() {
  return true;
};
goog.messaging.AbstractChannel.prototype.registerService = function(serviceName, callback, opt_objectPayload) {
  this.services_[serviceName] = {callback:callback, objectPayload:!!opt_objectPayload};
};
goog.messaging.AbstractChannel.prototype.registerDefaultService = function(callback) {
  this.defaultService_ = callback;
};
goog.messaging.AbstractChannel.prototype.send = goog.abstractMethod;
goog.messaging.AbstractChannel.prototype.deliver = function(serviceName, payload) {
  var service = this.getService(serviceName, payload);
  if (!service) {
    return;
  }
  var decodedPayload = this.decodePayload(serviceName, payload, service.objectPayload);
  if (goog.isDefAndNotNull(decodedPayload)) {
    service.callback(decodedPayload);
  }
};
goog.messaging.AbstractChannel.prototype.getService = function(serviceName, payload) {
  var service = this.services_[serviceName];
  if (service) {
    return service;
  } else {
    if (this.defaultService_) {
      var callback = goog.partial(this.defaultService_, serviceName);
      var objectPayload = goog.isObject(payload);
      return {callback:callback, objectPayload:objectPayload};
    }
  }
  goog.log.warning(this.logger, 'Unknown service name "' + serviceName + '"');
  return null;
};
goog.messaging.AbstractChannel.prototype.decodePayload = function(serviceName, payload, objectPayload) {
  if (objectPayload && goog.isString(payload)) {
    try {
      return goog.json.parse(payload);
    } catch (err) {
      goog.log.warning(this.logger, "Expected JSON payload for " + serviceName + ', was "' + payload + '"');
      return null;
    }
  } else {
    if (!objectPayload && !goog.isString(payload)) {
      return goog.json.serialize(payload);
    }
  }
  return payload;
};
goog.messaging.AbstractChannel.prototype.disposeInternal = function() {
  goog.messaging.AbstractChannel.base(this, "disposeInternal");
  delete this.logger;
  delete this.services_;
  delete this.defaultService_;
};
goog.provide("goog.net.xpc.FrameElementMethodTransport");
goog.require("goog.log");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.net.xpc.FrameElementMethodTransport = function(channel, opt_domHelper) {
  goog.net.xpc.FrameElementMethodTransport.base(this, "constructor", opt_domHelper);
  this.channel_ = channel;
  this.queue_ = [];
  this.deliverQueuedCb_ = goog.bind(this.deliverQueued_, this);
};
goog.inherits(goog.net.xpc.FrameElementMethodTransport, goog.net.xpc.Transport);
goog.net.xpc.FrameElementMethodTransport.prototype.transportType = goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD;
goog.net.xpc.FrameElementMethodTransport.prototype.attemptSetupCb_;
goog.net.xpc.FrameElementMethodTransport.prototype.outgoing_;
goog.net.xpc.FrameElementMethodTransport.prototype.iframeElm_;
goog.net.xpc.FrameElementMethodTransport.prototype.recursive_ = false;
goog.net.xpc.FrameElementMethodTransport.prototype.timer_ = 0;
goog.net.xpc.FrameElementMethodTransport.outgoing_ = null;
goog.net.xpc.FrameElementMethodTransport.prototype.connect = function() {
  if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.OUTER) {
    this.iframeElm_ = this.channel_.getIframeElement();
    this.iframeElm_["XPC_toOuter"] = goog.bind(this.incoming_, this);
  } else {
    this.attemptSetup_();
  }
};
goog.net.xpc.FrameElementMethodTransport.prototype.attemptSetup_ = function() {
  var retry = true;
  try {
    if (!this.iframeElm_) {
      this.iframeElm_ = this.getWindow().frameElement;
    }
    if (this.iframeElm_ && this.iframeElm_["XPC_toOuter"]) {
      this.outgoing_ = this.iframeElm_["XPC_toOuter"];
      this.iframeElm_["XPC_toOuter"]["XPC_toInner"] = goog.bind(this.incoming_, this);
      retry = false;
      this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP_ACK_);
      this.channel_.notifyConnected();
    }
  } catch (e) {
    goog.log.error(goog.net.xpc.logger, "exception caught while attempting setup: " + e);
  }
  if (retry) {
    if (!this.attemptSetupCb_) {
      this.attemptSetupCb_ = goog.bind(this.attemptSetup_, this);
    }
    this.getWindow().setTimeout(this.attemptSetupCb_, 100);
  }
};
goog.net.xpc.FrameElementMethodTransport.prototype.transportServiceHandler = function(payload) {
  if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.OUTER && !this.channel_.isConnected() && payload == goog.net.xpc.SETUP_ACK_) {
    this.outgoing_ = this.iframeElm_["XPC_toOuter"]["XPC_toInner"];
    this.channel_.notifyConnected();
  } else {
    throw Error("Got unexpected transport message.");
  }
};
goog.net.xpc.FrameElementMethodTransport.prototype.incoming_ = function(serviceName, payload) {
  if (!this.recursive_ && this.queue_.length == 0) {
    this.channel_.xpcDeliver(serviceName, payload);
  } else {
    this.queue_.push({serviceName:serviceName, payload:payload});
    if (this.queue_.length == 1) {
      this.timer_ = this.getWindow().setTimeout(this.deliverQueuedCb_, 1);
    }
  }
};
goog.net.xpc.FrameElementMethodTransport.prototype.deliverQueued_ = function() {
  while (this.queue_.length) {
    var msg = this.queue_.shift();
    this.channel_.xpcDeliver(msg.serviceName, msg.payload);
  }
};
goog.net.xpc.FrameElementMethodTransport.prototype.send = function(service, payload) {
  this.recursive_ = true;
  this.outgoing_(service, payload);
  this.recursive_ = false;
};
goog.net.xpc.FrameElementMethodTransport.prototype.disposeInternal = function() {
  goog.net.xpc.FrameElementMethodTransport.superClass_.disposeInternal.call(this);
  this.outgoing_ = null;
  this.iframeElm_ = null;
};
goog.provide("goog.net.xpc.IframeRelayTransport");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.dom.safe");
goog.require("goog.events");
goog.require("goog.html.SafeHtml");
goog.require("goog.log");
goog.require("goog.log.Level");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.require("goog.string");
goog.require("goog.string.Const");
goog.require("goog.userAgent");
goog.net.xpc.IframeRelayTransport = function(channel, opt_domHelper) {
  goog.net.xpc.IframeRelayTransport.base(this, "constructor", opt_domHelper);
  this.channel_ = channel;
  this.peerRelayUri_ = this.channel_.getConfig()[goog.net.xpc.CfgFields.PEER_RELAY_URI];
  this.peerIframeId_ = this.channel_.getConfig()[goog.net.xpc.CfgFields.IFRAME_ID];
  if (goog.userAgent.WEBKIT) {
    goog.net.xpc.IframeRelayTransport.startCleanupTimer_();
  }
};
goog.inherits(goog.net.xpc.IframeRelayTransport, goog.net.xpc.Transport);
if (goog.userAgent.WEBKIT) {
  goog.net.xpc.IframeRelayTransport.iframeRefs_ = [];
  goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_ = 1E3;
  goog.net.xpc.IframeRelayTransport.IFRAME_MAX_AGE_ = 3E3;
  goog.net.xpc.IframeRelayTransport.cleanupTimer_ = 0;
  goog.net.xpc.IframeRelayTransport.startCleanupTimer_ = function() {
    if (!goog.net.xpc.IframeRelayTransport.cleanupTimer_) {
      goog.net.xpc.IframeRelayTransport.cleanupTimer_ = window.setTimeout(function() {
        goog.net.xpc.IframeRelayTransport.cleanup_();
      }, goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_);
    }
  };
  goog.net.xpc.IframeRelayTransport.cleanup_ = function(opt_maxAge) {
    var now = goog.now();
    var maxAge = opt_maxAge || goog.net.xpc.IframeRelayTransport.IFRAME_MAX_AGE_;
    while (goog.net.xpc.IframeRelayTransport.iframeRefs_.length && now - goog.net.xpc.IframeRelayTransport.iframeRefs_[0].timestamp >= maxAge) {
      var ifr = goog.net.xpc.IframeRelayTransport.iframeRefs_.shift().iframeElement;
      goog.dom.removeNode(ifr);
      goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "iframe removed");
    }
    goog.net.xpc.IframeRelayTransport.cleanupTimer_ = window.setTimeout(goog.net.xpc.IframeRelayTransport.cleanupCb_, goog.net.xpc.IframeRelayTransport.CLEANUP_INTERVAL_);
  };
  goog.net.xpc.IframeRelayTransport.cleanupCb_ = function() {
    goog.net.xpc.IframeRelayTransport.cleanup_();
  };
}
goog.net.xpc.IframeRelayTransport.IE_PAYLOAD_MAX_SIZE_ = 1800;
goog.net.xpc.IframeRelayTransport.FragmentInfo;
goog.net.xpc.IframeRelayTransport.fragmentMap_ = {};
goog.net.xpc.IframeRelayTransport.prototype.transportType = goog.net.xpc.TransportTypes.IFRAME_RELAY;
goog.net.xpc.IframeRelayTransport.prototype.connect = function() {
  if (!this.getWindow()["xpcRelay"]) {
    this.getWindow()["xpcRelay"] = goog.net.xpc.IframeRelayTransport.receiveMessage_;
  }
  this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP);
};
goog.net.xpc.IframeRelayTransport.receiveMessage_ = function(channelName, frame) {
  var pos = frame.indexOf(":");
  var header = frame.substr(0, pos);
  var payload = frame.substr(pos + 1);
  if (!goog.userAgent.IE || (pos = header.indexOf("|")) == -1) {
    var service = header
  } else {
    var service = header.substr(0, pos);
    var fragmentIdStr = header.substr(pos + 1);
    pos = fragmentIdStr.indexOf("+");
    var messageIdStr = fragmentIdStr.substr(0, pos);
    var fragmentNum = parseInt(fragmentIdStr.substr(pos + 1), 10);
    var fragmentInfo = goog.net.xpc.IframeRelayTransport.fragmentMap_[messageIdStr];
    if (!fragmentInfo) {
      fragmentInfo = goog.net.xpc.IframeRelayTransport.fragmentMap_[messageIdStr] = {fragments:[], received:0, expected:0};
    }
    if (goog.string.contains(fragmentIdStr, "++")) {
      fragmentInfo.expected = fragmentNum + 1;
    }
    fragmentInfo.fragments[fragmentNum] = payload;
    fragmentInfo.received++;
    if (fragmentInfo.received != fragmentInfo.expected) {
      return;
    }
    payload = fragmentInfo.fragments.join("");
    delete goog.net.xpc.IframeRelayTransport.fragmentMap_[messageIdStr];
  }
  goog.net.xpc.channels[channelName].xpcDeliver(service, decodeURIComponent(payload));
};
goog.net.xpc.IframeRelayTransport.prototype.transportServiceHandler = function(payload) {
  if (payload == goog.net.xpc.SETUP) {
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP_ACK_);
    this.channel_.notifyConnected();
  } else {
    if (payload == goog.net.xpc.SETUP_ACK_) {
      this.channel_.notifyConnected();
    }
  }
};
goog.net.xpc.IframeRelayTransport.prototype.send = function(service, payload) {
  var encodedPayload = encodeURIComponent(payload);
  var encodedLen = encodedPayload.length;
  var maxSize = goog.net.xpc.IframeRelayTransport.IE_PAYLOAD_MAX_SIZE_;
  if (goog.userAgent.IE && encodedLen > maxSize) {
    var messageIdStr = goog.string.getRandomString();
    for (var startIndex = 0, fragmentNum = 0;startIndex < encodedLen;fragmentNum++) {
      var payloadFragment = encodedPayload.substr(startIndex, maxSize);
      startIndex += maxSize;
      var fragmentIdStr = messageIdStr + (startIndex >= encodedLen ? "++" : "+") + fragmentNum;
      this.send_(service, payloadFragment, fragmentIdStr);
    }
  } else {
    this.send_(service, encodedPayload);
  }
};
goog.net.xpc.IframeRelayTransport.prototype.send_ = function(service, encodedPayload, opt_fragmentIdStr) {
  if (goog.userAgent.IE) {
    var div = this.getWindow().document.createElement(goog.dom.TagName.DIV);
    goog.dom.safe.setInnerHtml(div, goog.html.SafeHtml.createIframe(null, null, {"onload":goog.string.Const.from("this.xpcOnload()"), "sandbox":null}));
    var ifr = div.childNodes[0];
    div = null;
    ifr["xpcOnload"] = goog.net.xpc.IframeRelayTransport.iframeLoadHandler_;
  } else {
    var ifr = this.getWindow().document.createElement(goog.dom.TagName.IFRAME);
    if (goog.userAgent.WEBKIT) {
      goog.net.xpc.IframeRelayTransport.iframeRefs_.push({timestamp:goog.now(), iframeElement:ifr});
    } else {
      goog.events.listen(ifr, "load", goog.net.xpc.IframeRelayTransport.iframeLoadHandler_);
    }
  }
  var style = ifr.style;
  style.visibility = "hidden";
  style.width = ifr.style.height = "0px";
  style.position = "absolute";
  var url = this.peerRelayUri_;
  url += "#" + this.channel_.name;
  if (this.peerIframeId_) {
    url += "," + this.peerIframeId_;
  }
  url += "|" + service;
  if (opt_fragmentIdStr) {
    url += "|" + opt_fragmentIdStr;
  }
  url += ":" + encodedPayload;
  ifr.src = url;
  this.getWindow().document.body.appendChild(ifr);
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "msg sent: " + url);
};
goog.net.xpc.IframeRelayTransport.iframeLoadHandler_ = function() {
  goog.log.log(goog.net.xpc.logger, goog.log.Level.FINEST, "iframe-load");
  goog.dom.removeNode(this);
  this.xpcOnload = null;
};
goog.net.xpc.IframeRelayTransport.prototype.disposeInternal = function() {
  goog.net.xpc.IframeRelayTransport.base(this, "disposeInternal");
  if (goog.userAgent.WEBKIT) {
    goog.net.xpc.IframeRelayTransport.cleanup_(0);
  }
};
goog.provide("goog.net.xpc.NativeMessagingTransport");
goog.require("goog.Timer");
goog.require("goog.asserts");
goog.require("goog.async.Deferred");
goog.require("goog.events");
goog.require("goog.events.EventHandler");
goog.require("goog.log");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.net.xpc.NativeMessagingTransport = function(channel, peerHostname, opt_domHelper, opt_oneSidedHandshake, opt_protocolVersion) {
  goog.net.xpc.NativeMessagingTransport.base(this, "constructor", opt_domHelper);
  this.channel_ = channel;
  this.protocolVersion_ = opt_protocolVersion || 2;
  goog.asserts.assert(this.protocolVersion_ >= 1);
  goog.asserts.assert(this.protocolVersion_ <= 2);
  this.peerHostname_ = peerHostname || "*";
  this.eventHandler_ = new goog.events.EventHandler(this);
  this.maybeAttemptToConnectTimer_ = new goog.Timer(100, this.getWindow());
  this.oneSidedHandshake_ = !!opt_oneSidedHandshake;
  this.setupAckReceived_ = new goog.async.Deferred;
  this.setupAckSent_ = new goog.async.Deferred;
  this.connected_ = new goog.async.Deferred;
  this.endpointId_ = goog.net.xpc.getRandomString(10);
  this.peerEndpointId_ = null;
  if (this.oneSidedHandshake_) {
    if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.INNER) {
      this.connected_.awaitDeferred(this.setupAckReceived_);
    } else {
      this.connected_.awaitDeferred(this.setupAckSent_);
    }
  } else {
    this.connected_.awaitDeferred(this.setupAckReceived_);
    if (this.protocolVersion_ == 2) {
      this.connected_.awaitDeferred(this.setupAckSent_);
    }
  }
  this.connected_.addCallback(this.notifyConnected_, this);
  this.connected_.callback(true);
  this.eventHandler_.listen(this.maybeAttemptToConnectTimer_, goog.Timer.TICK, this.maybeAttemptToConnect_);
  goog.log.info(goog.net.xpc.logger, "NativeMessagingTransport created.  " + "protocolVersion\x3d" + this.protocolVersion_ + ", oneSidedHandshake\x3d" + this.oneSidedHandshake_ + ", role\x3d" + this.channel_.getRole());
};
goog.inherits(goog.net.xpc.NativeMessagingTransport, goog.net.xpc.Transport);
goog.net.xpc.NativeMessagingTransport.CONNECTION_DELAY_MS_ = 200;
goog.net.xpc.NativeMessagingTransport.prototype.peerProtocolVersion_ = null;
goog.net.xpc.NativeMessagingTransport.prototype.initialized_ = false;
goog.net.xpc.NativeMessagingTransport.prototype.transportType = goog.net.xpc.TransportTypes.NATIVE_MESSAGING;
goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_ = ",";
goog.net.xpc.NativeMessagingTransport.activeCount_ = {};
goog.net.xpc.NativeMessagingTransport.prototype.sendTimerId_ = 0;
goog.net.xpc.NativeMessagingTransport.prototype.couldPeerVersionBe_ = function(version) {
  return this.peerProtocolVersion_ == null || this.peerProtocolVersion_ == version;
};
goog.net.xpc.NativeMessagingTransport.initialize_ = function(listenWindow) {
  var uid = goog.getUid(listenWindow);
  var value = goog.net.xpc.NativeMessagingTransport.activeCount_[uid];
  if (!goog.isNumber(value)) {
    value = 0;
  }
  if (value == 0) {
    goog.events.listen(listenWindow.postMessage ? listenWindow : listenWindow.document, "message", goog.net.xpc.NativeMessagingTransport.messageReceived_, false, goog.net.xpc.NativeMessagingTransport);
  }
  goog.net.xpc.NativeMessagingTransport.activeCount_[uid] = value + 1;
};
goog.net.xpc.NativeMessagingTransport.messageReceived_ = function(msgEvt) {
  var data = msgEvt.getBrowserEvent().data;
  if (!goog.isString(data)) {
    return false;
  }
  var headDelim = data.indexOf("|");
  var serviceDelim = data.indexOf(":");
  if (headDelim == -1 || serviceDelim == -1) {
    return false;
  }
  var channelName = data.substring(0, headDelim);
  var service = data.substring(headDelim + 1, serviceDelim);
  var payload = data.substring(serviceDelim + 1);
  goog.log.fine(goog.net.xpc.logger, "messageReceived: channel\x3d" + channelName + ", service\x3d" + service + ", payload\x3d" + payload);
  var channel = goog.net.xpc.channels[channelName];
  if (channel) {
    channel.xpcDeliver(service, payload, (msgEvt.getBrowserEvent()).origin);
    return true;
  }
  var transportMessageType = goog.net.xpc.NativeMessagingTransport.parseTransportPayload_(payload)[0];
  for (var staleChannelName in goog.net.xpc.channels) {
    var staleChannel = goog.net.xpc.channels[staleChannelName];
    if (staleChannel.getRole() == goog.net.xpc.CrossPageChannelRole.INNER && !staleChannel.isConnected() && service == goog.net.xpc.TRANSPORT_SERVICE_ && (transportMessageType == goog.net.xpc.SETUP || transportMessageType == goog.net.xpc.SETUP_NTPV2)) {
      staleChannel.updateChannelNameAndCatalog(channelName);
      staleChannel.xpcDeliver(service, payload);
      return true;
    }
  }
  goog.log.info(goog.net.xpc.logger, 'channel name mismatch; message ignored"');
  return false;
};
goog.net.xpc.NativeMessagingTransport.prototype.transportServiceHandler = function(payload) {
  var transportParts = goog.net.xpc.NativeMessagingTransport.parseTransportPayload_(payload);
  var transportMessageType = transportParts[0];
  var peerEndpointId = transportParts[1];
  switch(transportMessageType) {
    case goog.net.xpc.SETUP_ACK_:
      this.setPeerProtocolVersion_(1);
      if (!this.setupAckReceived_.hasFired()) {
        this.setupAckReceived_.callback(true);
      }
      break;
    case goog.net.xpc.SETUP_ACK_NTPV2:
      if (this.protocolVersion_ == 2) {
        this.setPeerProtocolVersion_(2);
        if (!this.setupAckReceived_.hasFired()) {
          this.setupAckReceived_.callback(true);
        }
      }
      break;
    case goog.net.xpc.SETUP:
      this.setPeerProtocolVersion_(1);
      this.sendSetupAckMessage_(1);
      break;
    case goog.net.xpc.SETUP_NTPV2:
      if (this.protocolVersion_ == 2) {
        var prevPeerProtocolVersion = this.peerProtocolVersion_;
        this.setPeerProtocolVersion_(2);
        this.sendSetupAckMessage_(2);
        if ((prevPeerProtocolVersion == 1 || this.peerEndpointId_ != null) && this.peerEndpointId_ != peerEndpointId) {
          goog.log.info(goog.net.xpc.logger, "Sending SETUP and changing peer ID to: " + peerEndpointId);
          this.sendSetupMessage_();
        }
        this.peerEndpointId_ = peerEndpointId;
      }
      break;
  }
};
goog.net.xpc.NativeMessagingTransport.prototype.sendSetupMessage_ = function() {
  goog.asserts.assert(!(this.protocolVersion_ == 1 && this.peerProtocolVersion_ == 2));
  if (this.protocolVersion_ == 2 && this.couldPeerVersionBe_(2)) {
    var payload = goog.net.xpc.SETUP_NTPV2;
    payload += goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_;
    payload += this.endpointId_;
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, payload);
  }
  if (this.couldPeerVersionBe_(1)) {
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP);
  }
};
goog.net.xpc.NativeMessagingTransport.prototype.sendSetupAckMessage_ = function(protocolVersion) {
  goog.asserts.assert(this.protocolVersion_ != 1 || protocolVersion != 2, "Shouldn't try to send a v2 setup ack in v1 mode.");
  if (this.protocolVersion_ == 2 && this.couldPeerVersionBe_(2) && protocolVersion == 2) {
    this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP_ACK_NTPV2);
  } else {
    if (this.couldPeerVersionBe_(1) && protocolVersion == 1) {
      this.send(goog.net.xpc.TRANSPORT_SERVICE_, goog.net.xpc.SETUP_ACK_);
    } else {
      return;
    }
  }
  if (!this.setupAckSent_.hasFired()) {
    this.setupAckSent_.callback(true);
  }
};
goog.net.xpc.NativeMessagingTransport.prototype.setPeerProtocolVersion_ = function(version) {
  if (version > this.peerProtocolVersion_) {
    this.peerProtocolVersion_ = version;
  }
  if (this.peerProtocolVersion_ == 1) {
    if (!this.setupAckSent_.hasFired() && !this.oneSidedHandshake_) {
      this.setupAckSent_.callback(true);
    }
    this.peerEndpointId_ = null;
  }
};
goog.net.xpc.NativeMessagingTransport.prototype.connect = function() {
  goog.net.xpc.NativeMessagingTransport.initialize_(this.getWindow());
  this.initialized_ = true;
  this.maybeAttemptToConnect_();
};
goog.net.xpc.NativeMessagingTransport.prototype.maybeAttemptToConnect_ = function() {
  var outerFrame = this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.OUTER;
  if (this.oneSidedHandshake_ && outerFrame || this.channel_.isConnected() || this.isDisposed()) {
    this.maybeAttemptToConnectTimer_.stop();
    return;
  }
  this.maybeAttemptToConnectTimer_.start();
  this.sendSetupMessage_();
};
goog.net.xpc.NativeMessagingTransport.prototype.send = function(service, payload) {
  var win = this.channel_.getPeerWindowObject();
  if (!win) {
    goog.log.fine(goog.net.xpc.logger, "send(): window not ready");
    return;
  }
  this.send = function(service, payload) {
    var transport = this;
    var channelName = this.channel_.name;
    var sendFunctor = function() {
      transport.sendTimerId_ = 0;
      try {
        var obj = win.postMessage ? win : win.document;
        if (!obj.postMessage) {
          goog.log.warning(goog.net.xpc.logger, "Peer window had no postMessage function.");
          return;
        }
        obj.postMessage(channelName + "|" + service + ":" + payload, transport.peerHostname_);
        goog.log.fine(goog.net.xpc.logger, "send(): service\x3d" + service + " payload\x3d" + payload + " to hostname\x3d" + transport.peerHostname_);
      } catch (error) {
        goog.log.warning(goog.net.xpc.logger, "Error performing postMessage, ignoring.", error);
      }
    };
    this.sendTimerId_ = goog.Timer.callOnce(sendFunctor, 0);
  };
  this.send(service, payload);
};
goog.net.xpc.NativeMessagingTransport.prototype.notifyConnected_ = function() {
  var delay = this.protocolVersion_ == 1 || this.peerProtocolVersion_ == 1 ? goog.net.xpc.NativeMessagingTransport.CONNECTION_DELAY_MS_ : undefined;
  this.channel_.notifyConnected(delay);
};
goog.net.xpc.NativeMessagingTransport.prototype.disposeInternal = function() {
  if (this.initialized_) {
    var listenWindow = this.getWindow();
    var uid = goog.getUid(listenWindow);
    var value = goog.net.xpc.NativeMessagingTransport.activeCount_[uid];
    goog.net.xpc.NativeMessagingTransport.activeCount_[uid] = value - 1;
    if (value == 1) {
      goog.events.unlisten(listenWindow.postMessage ? listenWindow : listenWindow.document, "message", goog.net.xpc.NativeMessagingTransport.messageReceived_, false, goog.net.xpc.NativeMessagingTransport);
    }
  }
  if (this.sendTimerId_) {
    goog.Timer.clear(this.sendTimerId_);
    this.sendTimerId_ = 0;
  }
  goog.dispose(this.eventHandler_);
  delete this.eventHandler_;
  goog.dispose(this.maybeAttemptToConnectTimer_);
  delete this.maybeAttemptToConnectTimer_;
  this.setupAckReceived_.cancel();
  delete this.setupAckReceived_;
  this.setupAckSent_.cancel();
  delete this.setupAckSent_;
  this.connected_.cancel();
  delete this.connected_;
  delete this.send;
  goog.net.xpc.NativeMessagingTransport.base(this, "disposeInternal");
};
goog.net.xpc.NativeMessagingTransport.parseTransportPayload_ = function(payload) {
  var transportParts = (payload.split(goog.net.xpc.NativeMessagingTransport.MESSAGE_DELIMITER_));
  transportParts[1] = transportParts[1] || null;
  return transportParts;
};
goog.provide("goog.net.xpc.NixTransport");
goog.require("goog.log");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.Transport");
goog.require("goog.net.xpc.TransportTypes");
goog.require("goog.reflect");
goog.net.xpc.NixTransport = function(channel, opt_domHelper) {
  goog.net.xpc.NixTransport.base(this, "constructor", opt_domHelper);
  this.channel_ = channel;
  this.authToken_ = channel[goog.net.xpc.CfgFields.AUTH_TOKEN] || "";
  this.remoteAuthToken_ = channel[goog.net.xpc.CfgFields.REMOTE_AUTH_TOKEN] || "";
  goog.net.xpc.NixTransport.conductGlobalSetup_(this.getWindow());
  this[goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE] = this.handleMessage_;
  this[goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL] = this.createChannel_;
};
goog.inherits(goog.net.xpc.NixTransport, goog.net.xpc.Transport);
goog.net.xpc.NixTransport.NIX_WRAPPER = "GCXPC____NIXVBS_wrapper";
goog.net.xpc.NixTransport.NIX_GET_WRAPPER = "GCXPC____NIXVBS_get_wrapper";
goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE = "GCXPC____NIXJS_handle_message";
goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL = "GCXPC____NIXJS_create_channel";
goog.net.xpc.NixTransport.NIX_ID_FIELD = "GCXPC____NIXVBS_container";
goog.net.xpc.NixTransport.isNixSupported = function() {
  var isSupported = false;
  try {
    var oldOpener = window.opener;
    window.opener = ({});
    isSupported = goog.reflect.canAccessProperty(window, "opener");
    window.opener = oldOpener;
  } catch (e) {
  }
  return isSupported;
};
goog.net.xpc.NixTransport.conductGlobalSetup_ = function(listenWindow) {
  if (listenWindow["nix_setup_complete"]) {
    return;
  }
  var vbscript = "Class " + goog.net.xpc.NixTransport.NIX_WRAPPER + "\n " + "Private m_Transport\n" + "Private m_Auth\n" + "Public Sub SetTransport(transport)\n" + "If isEmpty(m_Transport) Then\n" + "Set m_Transport \x3d transport\n" + "End If\n" + "End Sub\n" + "Public Sub SetAuth(auth)\n" + "If isEmpty(m_Auth) Then\n" + "m_Auth \x3d auth\n" + "End If\n" + "End Sub\n" + "Public Function GetAuthToken()\n " + "GetAuthToken \x3d m_Auth\n" + "End Function\n" + "Public Sub SendMessage(service, payload)\n " + 
  "Call m_Transport." + goog.net.xpc.NixTransport.NIX_HANDLE_MESSAGE + "(service, payload)\n" + "End Sub\n" + "Public Sub CreateChannel(channel)\n " + "Call m_Transport." + goog.net.xpc.NixTransport.NIX_CREATE_CHANNEL + "(channel)\n" + "End Sub\n" + "Public Sub " + goog.net.xpc.NixTransport.NIX_ID_FIELD + "()\n " + "End Sub\n" + "End Class\n " + "Function " + goog.net.xpc.NixTransport.NIX_GET_WRAPPER + "(transport, auth)\n" + "Dim wrap\n" + "Set wrap \x3d New " + goog.net.xpc.NixTransport.NIX_WRAPPER + 
  "\n" + "wrap.SetTransport transport\n" + "wrap.SetAuth auth\n" + "Set " + goog.net.xpc.NixTransport.NIX_GET_WRAPPER + " \x3d wrap\n" + "End Function";
  try {
    listenWindow.execScript(vbscript, "vbscript");
    listenWindow["nix_setup_complete"] = true;
  } catch (e) {
    goog.log.error(goog.net.xpc.logger, "exception caught while attempting global setup: " + e);
  }
};
goog.net.xpc.NixTransport.prototype.transportType = goog.net.xpc.TransportTypes.NIX;
goog.net.xpc.NixTransport.prototype.localSetupCompleted_ = false;
goog.net.xpc.NixTransport.prototype.nixChannel_ = null;
goog.net.xpc.NixTransport.prototype.connect = function() {
  if (this.channel_.getRole() == goog.net.xpc.CrossPageChannelRole.OUTER) {
    this.attemptOuterSetup_();
  } else {
    this.attemptInnerSetup_();
  }
};
goog.net.xpc.NixTransport.prototype.attemptOuterSetup_ = function() {
  if (this.localSetupCompleted_) {
    return;
  }
  var innerFrame = this.channel_.getIframeElement();
  try {
    var theWindow = this.getWindow();
    var getWrapper = theWindow[goog.net.xpc.NixTransport.NIX_GET_WRAPPER];
    innerFrame.contentWindow.opener = getWrapper(this, this.authToken_);
    this.localSetupCompleted_ = true;
  } catch (e) {
    goog.log.error(goog.net.xpc.logger, "exception caught while attempting setup: " + e);
  }
  if (!this.localSetupCompleted_) {
    this.getWindow().setTimeout(goog.bind(this.attemptOuterSetup_, this), 100);
  }
};
goog.net.xpc.NixTransport.prototype.attemptInnerSetup_ = function() {
  if (this.localSetupCompleted_) {
    return;
  }
  try {
    var opener = this.getWindow().opener;
    if (opener && goog.net.xpc.NixTransport.NIX_ID_FIELD in opener) {
      this.nixChannel_ = opener;
      var remoteAuthToken = this.nixChannel_["GetAuthToken"]();
      if (remoteAuthToken != this.remoteAuthToken_) {
        goog.log.error(goog.net.xpc.logger, "Invalid auth token from other party");
        return;
      }
      var theWindow = this.getWindow();
      var getWrapper = theWindow[goog.net.xpc.NixTransport.NIX_GET_WRAPPER];
      this.nixChannel_["CreateChannel"](getWrapper(this, this.authToken_));
      this.localSetupCompleted_ = true;
      this.channel_.notifyConnected();
    }
  } catch (e) {
    goog.log.error(goog.net.xpc.logger, "exception caught while attempting setup: " + e);
    return;
  }
  if (!this.localSetupCompleted_) {
    this.getWindow().setTimeout(goog.bind(this.attemptInnerSetup_, this), 100);
  }
};
goog.net.xpc.NixTransport.prototype.createChannel_ = function(channel) {
  if (typeof channel != "unknown" || !(goog.net.xpc.NixTransport.NIX_ID_FIELD in channel)) {
    goog.log.error(goog.net.xpc.logger, "Invalid NIX channel given to createChannel_");
  }
  this.nixChannel_ = channel;
  var remoteAuthToken = this.nixChannel_["GetAuthToken"]();
  if (remoteAuthToken != this.remoteAuthToken_) {
    goog.log.error(goog.net.xpc.logger, "Invalid auth token from other party");
    return;
  }
  this.channel_.notifyConnected();
};
goog.net.xpc.NixTransport.prototype.handleMessage_ = function(serviceName, payload) {
  var deliveryHandler = function() {
    this.channel_.xpcDeliver(serviceName, payload);
  };
  this.getWindow().setTimeout(goog.bind(deliveryHandler, this), 1);
};
goog.net.xpc.NixTransport.prototype.send = function(service, payload) {
  if (typeof this.nixChannel_ !== "unknown") {
    goog.log.error(goog.net.xpc.logger, "NIX channel not connected");
  }
  this.nixChannel_["SendMessage"](service, payload);
};
goog.net.xpc.NixTransport.prototype.disposeInternal = function() {
  goog.net.xpc.NixTransport.base(this, "disposeInternal");
  this.nixChannel_ = null;
};
goog.provide("goog.net.xpc.CrossPageChannel");
goog.require("goog.Uri");
goog.require("goog.async.Deferred");
goog.require("goog.async.Delay");
goog.require("goog.dispose");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.events");
goog.require("goog.events.EventHandler");
goog.require("goog.events.EventType");
goog.require("goog.json");
goog.require("goog.log");
goog.require("goog.messaging.AbstractChannel");
goog.require("goog.net.xpc");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.xpc.ChannelStates");
goog.require("goog.net.xpc.CrossPageChannelRole");
goog.require("goog.net.xpc.DirectTransport");
goog.require("goog.net.xpc.FrameElementMethodTransport");
goog.require("goog.net.xpc.IframePollingTransport");
goog.require("goog.net.xpc.IframeRelayTransport");
goog.require("goog.net.xpc.NativeMessagingTransport");
goog.require("goog.net.xpc.NixTransport");
goog.require("goog.net.xpc.TransportTypes");
goog.require("goog.net.xpc.UriCfgFields");
goog.require("goog.string");
goog.require("goog.uri.utils");
goog.require("goog.userAgent");
goog.net.xpc.CrossPageChannel = function(cfg, opt_domHelper) {
  goog.net.xpc.CrossPageChannel.base(this, "constructor");
  for (var i = 0, uriField;uriField = goog.net.xpc.UriCfgFields[i];i++) {
    if (uriField in cfg && !/^https?:\/\//.test(cfg[uriField])) {
      throw Error("URI " + cfg[uriField] + " is invalid for field " + uriField);
    }
  }
  this.cfg_ = cfg;
  this.name = this.cfg_[goog.net.xpc.CfgFields.CHANNEL_NAME] || goog.net.xpc.getRandomString(10);
  this.domHelper_ = opt_domHelper || goog.dom.getDomHelper();
  this.deferredDeliveries_ = [];
  this.peerLoadHandler_ = new goog.events.EventHandler(this);
  cfg[goog.net.xpc.CfgFields.LOCAL_POLL_URI] = cfg[goog.net.xpc.CfgFields.LOCAL_POLL_URI] || goog.uri.utils.getHost(this.domHelper_.getWindow().location.href) + "/robots.txt";
  cfg[goog.net.xpc.CfgFields.PEER_POLL_URI] = cfg[goog.net.xpc.CfgFields.PEER_POLL_URI] || goog.uri.utils.getHost(cfg[goog.net.xpc.CfgFields.PEER_URI] || "") + "/robots.txt";
  goog.net.xpc.channels[this.name] = this;
  if (!goog.events.getListener(window, goog.events.EventType.UNLOAD, goog.net.xpc.CrossPageChannel.disposeAll_)) {
    goog.events.listenOnce(window, goog.events.EventType.UNLOAD, goog.net.xpc.CrossPageChannel.disposeAll_);
  }
  goog.log.info(goog.net.xpc.logger, "CrossPageChannel created: " + this.name);
};
goog.inherits(goog.net.xpc.CrossPageChannel, goog.messaging.AbstractChannel);
goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_ESCAPE_RE_ = new RegExp("^%*" + goog.net.xpc.TRANSPORT_SERVICE_ + "$");
goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_UNESCAPE_RE_ = new RegExp("^%+" + goog.net.xpc.TRANSPORT_SERVICE_ + "$");
goog.net.xpc.CrossPageChannel.prototype.connectionDelay_ = null;
goog.net.xpc.CrossPageChannel.prototype.peerWindowDeferred_ = null;
goog.net.xpc.CrossPageChannel.prototype.transport_ = null;
goog.net.xpc.CrossPageChannel.prototype.state_ = goog.net.xpc.ChannelStates.NOT_CONNECTED;
goog.net.xpc.CrossPageChannel.prototype.isConnected = function() {
  return this.state_ == goog.net.xpc.ChannelStates.CONNECTED;
};
goog.net.xpc.CrossPageChannel.prototype.peerWindowObject_ = null;
goog.net.xpc.CrossPageChannel.prototype.iframeElement_ = null;
goog.net.xpc.CrossPageChannel.prototype.getConfig = function() {
  return this.cfg_;
};
goog.net.xpc.CrossPageChannel.prototype.getIframeElement = function() {
  return this.iframeElement_;
};
goog.net.xpc.CrossPageChannel.prototype.setPeerWindowObject = function(peerWindowObject) {
  this.peerWindowObject_ = peerWindowObject;
};
goog.net.xpc.CrossPageChannel.prototype.getPeerWindowObject = function() {
  return this.peerWindowObject_;
};
goog.net.xpc.CrossPageChannel.prototype.isPeerAvailable = function() {
  try {
    return !!this.peerWindowObject_ && !Boolean(this.peerWindowObject_.closed);
  } catch (e) {
    return false;
  }
};
goog.net.xpc.CrossPageChannel.prototype.determineTransportType_ = function() {
  var transportType;
  if (goog.isFunction(document.postMessage) || goog.isFunction(window.postMessage) || goog.userAgent.IE && window.postMessage) {
    transportType = goog.net.xpc.TransportTypes.NATIVE_MESSAGING;
  } else {
    if (goog.userAgent.GECKO) {
      transportType = goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD;
    } else {
      if (goog.userAgent.IE && this.cfg_[goog.net.xpc.CfgFields.PEER_RELAY_URI]) {
        transportType = goog.net.xpc.TransportTypes.IFRAME_RELAY;
      } else {
        if (goog.userAgent.IE && goog.net.xpc.NixTransport.isNixSupported()) {
          transportType = goog.net.xpc.TransportTypes.NIX;
        } else {
          transportType = goog.net.xpc.TransportTypes.IFRAME_POLLING;
        }
      }
    }
  }
  return transportType;
};
goog.net.xpc.CrossPageChannel.prototype.createTransport_ = function() {
  if (this.transport_) {
    return;
  }
  var CfgFields = goog.net.xpc.CfgFields;
  if (!this.cfg_[CfgFields.TRANSPORT]) {
    this.cfg_[CfgFields.TRANSPORT] = this.determineTransportType_();
  }
  switch(this.cfg_[CfgFields.TRANSPORT]) {
    case goog.net.xpc.TransportTypes.NATIVE_MESSAGING:
      var protocolVersion = this.cfg_[CfgFields.NATIVE_TRANSPORT_PROTOCOL_VERSION] || 2;
      this.transport_ = new goog.net.xpc.NativeMessagingTransport(this, this.cfg_[CfgFields.PEER_HOSTNAME], this.domHelper_, !!this.cfg_[CfgFields.ONE_SIDED_HANDSHAKE], protocolVersion);
      break;
    case goog.net.xpc.TransportTypes.NIX:
      this.transport_ = new goog.net.xpc.NixTransport(this, this.domHelper_);
      break;
    case goog.net.xpc.TransportTypes.FRAME_ELEMENT_METHOD:
      this.transport_ = new goog.net.xpc.FrameElementMethodTransport(this, this.domHelper_);
      break;
    case goog.net.xpc.TransportTypes.IFRAME_RELAY:
      this.transport_ = new goog.net.xpc.IframeRelayTransport(this, this.domHelper_);
      break;
    case goog.net.xpc.TransportTypes.IFRAME_POLLING:
      this.transport_ = new goog.net.xpc.IframePollingTransport(this, this.domHelper_);
      break;
    case goog.net.xpc.TransportTypes.DIRECT:
      if (this.peerWindowObject_ && goog.net.xpc.DirectTransport.isSupported((this.peerWindowObject_))) {
        this.transport_ = new goog.net.xpc.DirectTransport(this, this.domHelper_);
      } else {
        goog.log.info(goog.net.xpc.logger, "DirectTransport not supported for this window, peer window in" + " different security context or not set yet.");
      }
      break;
  }
  if (this.transport_) {
    goog.log.info(goog.net.xpc.logger, "Transport created: " + this.transport_.getName());
  } else {
    throw Error("CrossPageChannel: No suitable transport found!");
  }
};
goog.net.xpc.CrossPageChannel.prototype.getTransportType = function() {
  return this.transport_.getType();
};
goog.net.xpc.CrossPageChannel.prototype.getTransportName = function() {
  return this.transport_.getName();
};
goog.net.xpc.CrossPageChannel.prototype.getPeerConfiguration = function() {
  var peerCfg = {};
  peerCfg[goog.net.xpc.CfgFields.CHANNEL_NAME] = this.name;
  peerCfg[goog.net.xpc.CfgFields.TRANSPORT] = this.cfg_[goog.net.xpc.CfgFields.TRANSPORT];
  peerCfg[goog.net.xpc.CfgFields.ONE_SIDED_HANDSHAKE] = this.cfg_[goog.net.xpc.CfgFields.ONE_SIDED_HANDSHAKE];
  if (this.cfg_[goog.net.xpc.CfgFields.LOCAL_RELAY_URI]) {
    peerCfg[goog.net.xpc.CfgFields.PEER_RELAY_URI] = this.cfg_[goog.net.xpc.CfgFields.LOCAL_RELAY_URI];
  }
  if (this.cfg_[goog.net.xpc.CfgFields.LOCAL_POLL_URI]) {
    peerCfg[goog.net.xpc.CfgFields.PEER_POLL_URI] = this.cfg_[goog.net.xpc.CfgFields.LOCAL_POLL_URI];
  }
  if (this.cfg_[goog.net.xpc.CfgFields.PEER_POLL_URI]) {
    peerCfg[goog.net.xpc.CfgFields.LOCAL_POLL_URI] = this.cfg_[goog.net.xpc.CfgFields.PEER_POLL_URI];
  }
  var role = this.cfg_[goog.net.xpc.CfgFields.ROLE];
  if (role) {
    peerCfg[goog.net.xpc.CfgFields.ROLE] = role == goog.net.xpc.CrossPageChannelRole.INNER ? goog.net.xpc.CrossPageChannelRole.OUTER : goog.net.xpc.CrossPageChannelRole.INNER;
  }
  return peerCfg;
};
goog.net.xpc.CrossPageChannel.prototype.createPeerIframe = function(parentElm, opt_configureIframeCb, opt_addCfgParam) {
  goog.log.info(goog.net.xpc.logger, "createPeerIframe()");
  var iframeId = this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID];
  if (!iframeId) {
    iframeId = this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID] = "xpcpeer" + goog.net.xpc.getRandomString(4);
  }
  var iframeElm = goog.dom.getDomHelper(parentElm).createElement(goog.dom.TagName.IFRAME);
  iframeElm.id = iframeElm.name = iframeId;
  if (opt_configureIframeCb) {
    opt_configureIframeCb(iframeElm);
  } else {
    iframeElm.style.width = iframeElm.style.height = "100%";
  }
  this.cleanUpIncompleteConnection_();
  this.peerWindowDeferred_ = new goog.async.Deferred(undefined, this);
  var peerUri = this.getPeerUri(opt_addCfgParam);
  this.peerLoadHandler_.listenOnceWithScope(iframeElm, "load", this.peerWindowDeferred_.callback, false, this.peerWindowDeferred_);
  if (goog.userAgent.GECKO || goog.userAgent.WEBKIT) {
    window.setTimeout(goog.bind(function() {
      parentElm.appendChild(iframeElm);
      iframeElm.src = peerUri.toString();
      goog.log.info(goog.net.xpc.logger, "peer iframe created (" + iframeId + ")");
    }, this), 1);
  } else {
    iframeElm.src = peerUri.toString();
    parentElm.appendChild(iframeElm);
    goog.log.info(goog.net.xpc.logger, "peer iframe created (" + iframeId + ")");
  }
  return (iframeElm);
};
goog.net.xpc.CrossPageChannel.prototype.cleanUpIncompleteConnection_ = function() {
  if (this.peerWindowDeferred_) {
    this.peerWindowDeferred_.cancel();
    this.peerWindowDeferred_ = null;
  }
  this.deferredDeliveries_.length = 0;
  this.peerLoadHandler_.removeAll();
};
goog.net.xpc.CrossPageChannel.prototype.getPeerUri = function(opt_addCfgParam) {
  var peerUri = this.cfg_[goog.net.xpc.CfgFields.PEER_URI];
  if (goog.isString(peerUri)) {
    peerUri = this.cfg_[goog.net.xpc.CfgFields.PEER_URI] = new goog.Uri(peerUri);
  }
  if (opt_addCfgParam !== false) {
    peerUri.setParameterValue("xpc", goog.json.serialize(this.getPeerConfiguration()));
  }
  return peerUri;
};
goog.net.xpc.CrossPageChannel.prototype.connect = function(opt_connectCb) {
  this.connectCb_ = opt_connectCb || goog.nullFunction;
  if (this.state_ == goog.net.xpc.ChannelStates.CLOSED) {
    this.state_ = goog.net.xpc.ChannelStates.NOT_CONNECTED;
  }
  if (this.peerWindowDeferred_) {
    this.peerWindowDeferred_.addCallback(this.continueConnection_);
  } else {
    this.continueConnection_();
  }
};
goog.net.xpc.CrossPageChannel.prototype.continueConnection_ = function() {
  goog.log.info(goog.net.xpc.logger, "continueConnection_()");
  this.peerWindowDeferred_ = null;
  if (this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]) {
    this.iframeElement_ = this.domHelper_.getElement(this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]);
  }
  if (this.iframeElement_) {
    var winObj = this.iframeElement_.contentWindow;
    if (!winObj) {
      winObj = window.frames[this.cfg_[goog.net.xpc.CfgFields.IFRAME_ID]];
    }
    this.setPeerWindowObject(winObj);
  }
  if (!this.peerWindowObject_) {
    if (window == window.top) {
      throw Error("CrossPageChannel: Can't connect, peer window-object not set.");
    } else {
      this.setPeerWindowObject(window.parent);
    }
  }
  this.createTransport_();
  this.transport_.connect();
  while (this.deferredDeliveries_.length > 0) {
    this.deferredDeliveries_.shift()();
  }
};
goog.net.xpc.CrossPageChannel.prototype.close = function() {
  this.cleanUpIncompleteConnection_();
  this.state_ = goog.net.xpc.ChannelStates.CLOSED;
  goog.dispose(this.transport_);
  this.transport_ = null;
  this.connectCb_ = null;
  goog.dispose(this.connectionDelay_);
  this.connectionDelay_ = null;
  goog.log.info(goog.net.xpc.logger, 'Channel "' + this.name + '" closed');
};
goog.net.xpc.CrossPageChannel.prototype.notifyConnected = function(opt_delay) {
  if (this.isConnected() || this.connectionDelay_ && this.connectionDelay_.isActive()) {
    return;
  }
  this.state_ = goog.net.xpc.ChannelStates.CONNECTED;
  goog.log.info(goog.net.xpc.logger, 'Channel "' + this.name + '" connected');
  goog.dispose(this.connectionDelay_);
  if (goog.isDef(opt_delay)) {
    this.connectionDelay_ = new goog.async.Delay(this.connectCb_, opt_delay);
    this.connectionDelay_.start();
  } else {
    this.connectionDelay_ = null;
    this.connectCb_();
  }
};
goog.net.xpc.CrossPageChannel.prototype.notifyTransportError = function() {
  goog.log.info(goog.net.xpc.logger, "Transport Error");
  this.close();
};
goog.net.xpc.CrossPageChannel.prototype.send = function(serviceName, payload) {
  if (!this.isConnected()) {
    goog.log.error(goog.net.xpc.logger, "Can't send. Channel not connected.");
    return;
  }
  if (!this.isPeerAvailable()) {
    goog.log.error(goog.net.xpc.logger, "Peer has disappeared.");
    this.close();
    return;
  }
  if (goog.isObject(payload)) {
    payload = goog.json.serialize(payload);
  }
  this.transport_.send(this.escapeServiceName_(serviceName), payload);
};
goog.net.xpc.CrossPageChannel.prototype.xpcDeliver = function(serviceName, payload, opt_origin) {
  if (this.peerWindowDeferred_) {
    this.deferredDeliveries_.push(goog.bind(this.xpcDeliver, this, serviceName, payload, opt_origin));
    return;
  }
  if (!this.isMessageOriginAcceptable_(opt_origin)) {
    goog.log.warning(goog.net.xpc.logger, 'Message received from unapproved origin "' + opt_origin + '" - rejected.');
    return;
  }
  if (this.isDisposed() || this.state_ == goog.net.xpc.ChannelStates.CLOSED) {
    goog.log.warning(goog.net.xpc.logger, "CrossPageChannel::xpcDeliver(): Channel closed.");
  } else {
    if (!serviceName || serviceName == goog.net.xpc.TRANSPORT_SERVICE_) {
      this.transport_.transportServiceHandler(payload);
    } else {
      if (this.isConnected()) {
        this.deliver(this.unescapeServiceName_(serviceName), payload);
      } else {
        goog.log.info(goog.net.xpc.logger, "CrossPageChannel::xpcDeliver(): Not connected.");
      }
    }
  }
};
goog.net.xpc.CrossPageChannel.prototype.escapeServiceName_ = function(name) {
  if (goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_ESCAPE_RE_.test(name)) {
    name = "%" + name;
  }
  return name.replace(/[%:|]/g, encodeURIComponent);
};
goog.net.xpc.CrossPageChannel.prototype.unescapeServiceName_ = function(name) {
  name = name.replace(/%[0-9a-f]{2}/gi, decodeURIComponent);
  if (goog.net.xpc.CrossPageChannel.TRANSPORT_SERVICE_UNESCAPE_RE_.test(name)) {
    return name.substring(1);
  } else {
    return name;
  }
};
goog.net.xpc.CrossPageChannel.prototype.getRole = function() {
  var role = this.cfg_[goog.net.xpc.CfgFields.ROLE];
  if (goog.isNumber(role)) {
    return role;
  } else {
    return window.parent == this.peerWindowObject_ ? goog.net.xpc.CrossPageChannelRole.INNER : goog.net.xpc.CrossPageChannelRole.OUTER;
  }
};
goog.net.xpc.CrossPageChannel.prototype.updateChannelNameAndCatalog = function(name) {
  goog.log.fine(goog.net.xpc.logger, "changing channel name to " + name);
  delete goog.net.xpc.channels[this.name];
  this.name = name;
  goog.net.xpc.channels[name] = this;
};
goog.net.xpc.CrossPageChannel.prototype.isMessageOriginAcceptable_ = function(opt_origin) {
  var peerHostname = this.cfg_[goog.net.xpc.CfgFields.PEER_HOSTNAME];
  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(opt_origin)) || goog.string.isEmptyOrWhitespace(goog.string.makeSafe(peerHostname)) || opt_origin == this.cfg_[goog.net.xpc.CfgFields.PEER_HOSTNAME];
};
goog.net.xpc.CrossPageChannel.prototype.disposeInternal = function() {
  this.close();
  this.peerWindowObject_ = null;
  this.iframeElement_ = null;
  delete goog.net.xpc.channels[this.name];
  goog.dispose(this.peerLoadHandler_);
  delete this.peerLoadHandler_;
  goog.net.xpc.CrossPageChannel.base(this, "disposeInternal");
};
goog.net.xpc.CrossPageChannel.disposeAll_ = function() {
  for (var name in goog.net.xpc.channels) {
    goog.dispose(goog.net.xpc.channels[name]);
  }
};
goog.provide("kuroi.plugins.chan_4chan_org");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_ = "4chan.org";
cljs.core._add_method.call(null, kuroi.page_parser.json_QMARK_, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(target) {
  return true;
});
cljs.core._add_method.call(null, kuroi.page_parser.paginate, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(n, target) {
  return [cljs.core.str("https://a.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(n + 1), cljs.core.str(".json")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.meta_page_url, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(target) {
  return (new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target);
});
cljs.core._add_method.call(null, kuroi.page_parser.thread_url, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread_id, target) {
  return [cljs.core.str("https://a.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread/"), cljs.core.str(thread_id), cljs.core.str(".json")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.html_thread_url, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread_id, target) {
  return [cljs.core.str("https://a.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread/"), cljs.core.str(thread_id), cljs.core.str(".html")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_thread_id, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(root_node, target) {
  return root_node.call(null, "no");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_json_thread_id, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread, target) {
  var oppost = kuroi.page_parser.get_oppost.call(null, thread, target);
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "multiple", "multiple", 1244445549)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target));
    if (cljs.core.truth_(and__6144__auto__)) {
      return oppost;
    } else {
      return and__6144__auto__;
    }
  }())) {
    return oppost.call(null, "no");
  } else {
    return null;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.get_omitted_posts, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread, target) {
  var oppost = cljs.core.first.call(null, thread.call(null, "posts"));
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "multiple", "multiple", 1244445549)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target));
    if (cljs.core.truth_(and__6144__auto__)) {
      var and__6144__auto____$1 = oppost;
      if (cljs.core.truth_(and__6144__auto____$1)) {
        return oppost.call(null, "omitted_posts");
      } else {
        return and__6144__auto____$1;
      }
    } else {
      return and__6144__auto__;
    }
  }())) {
    return oppost.call(null, "omitted_posts") + 1;
  } else {
    return null;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.get_oppost, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread, target) {
  return cljs.core.first.call(null, thread.call(null, "posts"));
});
cljs.core._add_method.call(null, kuroi.page_parser.get_json_post_images, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(post, target) {
  if (cljs.core.truth_(post.call(null, "filename"))) {
    return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [post], null);
  } else {
    return null;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.json__GT_image, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(thread_id, image, target) {
  var image_link = kuroi.page_parser.fix_url.call(null, image.call(null, "path"), target);
  return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null, "id", "id", -1388402092), thread_id, new cljs.core.Keyword(null, "link", "link", -1769163468), [cljs.core.str("http://boards."), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread/"), cljs.core.str(thread_id)].join(""), 
  new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), image_link, new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), cljs.core.truth_(image) ? [cljs.core.str("https://t.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(image.call(null, "tim")), cljs.core.str("s.jpg")].join("") : null, new cljs.core.Keyword(null, "image", "image", -58725096), cljs.core.truth_(image) ? 
  [cljs.core.str("https://i.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(image.call(null, "tim")), cljs.core.str(image.call(null, "ext"))].join("") : null, new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), cljs.core.truth_(image) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [image.call(null, "w"), image.call(null, "h")], null) : 
  new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, 0], null)], null);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_images, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_images_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_thread_images, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.plugins.chan_4chan_org.parse_images_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(root_node, data, target) {
  var post_id = root_node.call(null, "no");
  var post_text = root_node.call(null, "com");
  var post_text__$1 = cljs.core.truth_(post_text) ? kuroi.page_parser.fix_links.call(null, kuroi.page_parser.sanitize.call(null, post_text), target) : null;
  var image = cljs.core.truth_(root_node.call(null, "filename")) ? root_node : null;
  var flag = root_node.call(null, "country");
  return cljs.core.merge.call(null, data, cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), new cljs.core.Keyword(null, "date", "date", -1463434462), new cljs.core.Keyword(null, "flag", "flag", 1088647881), new cljs.core.Keyword(null, "link", "link", -1769163468), new cljs.core.Keyword(null, "id", "id", -1388402092), new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), new cljs.core.Keyword(null, "image", "image", -58725096), new cljs.core.Keyword(null, 
  "internal-id", "internal-id", -305922306), new cljs.core.Keyword(null, "text", "text", -1790561697)], [cljs.core.truth_(image) ? [cljs.core.str("https://t.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(image.call(null, "tim")), cljs.core.str("s.jpg")].join("") : null, root_node.call(null, "now"), cljs.core.truth_(flag) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, 
  [[cljs.core.str("flag flag-"), cljs.core.str(clojure.string.lower_case.call(null, flag))].join(""), root_node.call(null, "country_name")], null) : null, [cljs.core.str("https://boards.4chan.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/thread/"), cljs.core.str(function() {
    var or__6156__auto__ = (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return post_id;
    }
  }())].join(""), [cljs.core.str(post_id)].join(""), cljs.core.truth_(image) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [image.call(null, "w"), image.call(null, "h")], null) : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, 0], null), cljs.core.truth_(image) ? [cljs.core.str("https://i.4cdn.org/"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), 
  cljs.core.str(image.call(null, "tim")), cljs.core.str(image.call(null, "ext"))].join("") : null, [cljs.core.str((new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(post_id)].join(""), cljs.core.truth_(post_text__$1) ? kuroi.page_parser.check_reflinks.call(null, post_id, (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data), post_text__$1, target) : null]));
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.transform_page_text, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(text, target) {
  if (cljs.core.not.call(null, text.startsWith('{"threads":['))) {
    return [cljs.core.str('{"threads":['), cljs.core.str(text), cljs.core.str("]}")].join("");
  } else {
    return text;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.extract_navbar, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(dom, target) {
  var navbar_elt = kuroi.page_parser.select.call(null, dom, "#boardNavDesktop \x3e .boardList");
  return kuroi.page_parser.transform_navbar.call(null, dom, target, cljs.core.seq.call(null, navbar_elt.childNodes), function(navbar_elt) {
    return function(p1__14807_SHARP_) {
      return cljs.core.re_matches.call(null, /\/[^\/]+\//, p1__14807_SHARP_.getAttribute("href"));
    };
  }(navbar_elt), function(navbar_elt) {
    return function(p1__14808_SHARP_) {
      p1__14808_SHARP_.href = [cljs.core.str("?front\x26url\x3d"), cljs.core.str((new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("://"), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(p1__14808_SHARP_.getAttribute("href"))].join("");
      return p1__14808_SHARP_;
    };
  }(navbar_elt));
});
cljs.core._add_method.call(null, kuroi.page_parser.adjust_form, kuroi.plugins.chan_4chan_org._PLUS_trademark_PLUS_, function(form, target) {
  form.__parent_key__ = "resto";
  form.__is_iframe__ = true;
  form.__set_width__ = "545px";
  form.__set_height__ = "537px";
  form.innerHTML = [cljs.core.str('\x3ciframe style\x3d"height:510px; display: none;"/\x3e')].join("");
  return form;
});
goog.provide("goog.ui.ModalAriaVisibilityHelper");
goog.require("goog.a11y.aria");
goog.require("goog.a11y.aria.State");
goog.ui.ModalAriaVisibilityHelper = function(element, domHelper) {
  this.element_ = element;
  this.dom_ = domHelper;
};
goog.ui.ModalAriaVisibilityHelper.prototype.hiddenElements_;
goog.ui.ModalAriaVisibilityHelper.prototype.setBackgroundVisibility = function(hide) {
  if (hide) {
    if (!this.hiddenElements_) {
      this.hiddenElements_ = [];
    }
    var topLevelChildren = this.dom_.getChildren(this.dom_.getDocument().body);
    for (var i = 0;i < topLevelChildren.length;i++) {
      var child = topLevelChildren[i];
      if (child != this.element_ && !goog.a11y.aria.getState(child, goog.a11y.aria.State.HIDDEN)) {
        goog.a11y.aria.setState(child, goog.a11y.aria.State.HIDDEN, true);
        this.hiddenElements_.push(child);
      }
    }
  } else {
    if (this.hiddenElements_) {
      for (var i = 0;i < this.hiddenElements_.length;i++) {
        goog.a11y.aria.removeState(this.hiddenElements_[i], goog.a11y.aria.State.HIDDEN);
      }
      this.hiddenElements_ = null;
    }
  }
};
goog.provide("goog.dom.iframe");
goog.require("goog.dom");
goog.require("goog.dom.safe");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.SafeStyle");
goog.require("goog.html.legacyconversions");
goog.require("goog.userAgent");
goog.dom.iframe.BLANK_SOURCE = goog.userAgent.IE ? 'javascript:""' : "about:blank";
goog.dom.iframe.BLANK_SOURCE_NEW_FRAME = goog.userAgent.IE ? 'javascript:""' : "javascript:undefined";
goog.dom.iframe.STYLES_ = "border:0;vertical-align:bottom;";
goog.dom.iframe.createBlank = function(domHelper, opt_styles) {
  var styles;
  if (goog.isString(opt_styles)) {
    styles = goog.html.legacyconversions.safeStyleFromString(opt_styles).getTypedStringValue();
  } else {
    if (opt_styles instanceof goog.html.SafeStyle) {
      styles = goog.html.SafeStyle.unwrap(opt_styles);
    } else {
      styles = "";
    }
  }
  return (domHelper.createDom("iframe", {"frameborder":0, "style":goog.dom.iframe.STYLES_ + styles, "src":goog.dom.iframe.BLANK_SOURCE}));
};
goog.dom.iframe.writeContent = function(iframe, content) {
  goog.dom.iframe.writeSafeContent(iframe, goog.html.legacyconversions.safeHtmlFromString(content));
};
goog.dom.iframe.writeSafeContent = function(iframe, content) {
  var doc = goog.dom.getFrameContentDocument(iframe);
  doc.open();
  goog.dom.safe.documentWrite(doc, content);
  doc.close();
};
goog.dom.iframe.createWithContent = function(parentElement, opt_headContents, opt_bodyContents, opt_styles, opt_quirks) {
  var domHelper = goog.dom.getDomHelper(parentElement);
  if (goog.isString(opt_headContents)) {
    opt_headContents = goog.html.legacyconversions.safeHtmlFromString(opt_headContents);
  }
  if (goog.isString(opt_bodyContents)) {
    opt_bodyContents = goog.html.legacyconversions.safeHtmlFromString(opt_bodyContents);
  }
  if (goog.isString(opt_styles)) {
    opt_styles = goog.html.legacyconversions.safeStyleFromString(opt_styles);
  }
  var content = goog.html.SafeHtml.create("html", {}, goog.html.SafeHtml.concat(goog.html.SafeHtml.create("head", {}, opt_headContents), goog.html.SafeHtml.create("body", {}, opt_bodyContents)));
  if (!opt_quirks) {
    content = goog.html.SafeHtml.concat(goog.html.SafeHtml.DOCTYPE_HTML, content);
  }
  var iframe = goog.dom.iframe.createBlank(domHelper, opt_styles);
  parentElement.appendChild(iframe);
  goog.dom.iframe.writeSafeContent(iframe, content);
  return iframe;
};
goog.provide("goog.ui.ModalPopup");
goog.require("goog.Timer");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.dom.classlist");
goog.require("goog.dom.iframe");
goog.require("goog.events");
goog.require("goog.events.EventType");
goog.require("goog.events.FocusHandler");
goog.require("goog.fx.Transition");
goog.require("goog.string");
goog.require("goog.style");
goog.require("goog.ui.Component");
goog.require("goog.ui.ModalAriaVisibilityHelper");
goog.require("goog.ui.PopupBase");
goog.require("goog.userAgent");
goog.ui.ModalPopup = function(opt_useIframeMask, opt_domHelper) {
  goog.ui.ModalPopup.base(this, "constructor", opt_domHelper);
  this.useIframeMask_ = !!opt_useIframeMask;
  this.lastFocus_ = null;
};
goog.inherits(goog.ui.ModalPopup, goog.ui.Component);
goog.tagUnsealableClass(goog.ui.ModalPopup);
goog.ui.ModalPopup.prototype.focusHandler_ = null;
goog.ui.ModalPopup.prototype.visible_ = false;
goog.ui.ModalPopup.prototype.bgEl_ = null;
goog.ui.ModalPopup.prototype.bgIframeEl_ = null;
goog.ui.ModalPopup.prototype.tabCatcherElement_ = null;
goog.ui.ModalPopup.prototype.backwardTabWrapInProgress_ = false;
goog.ui.ModalPopup.prototype.popupShowTransition_;
goog.ui.ModalPopup.prototype.popupHideTransition_;
goog.ui.ModalPopup.prototype.bgShowTransition_;
goog.ui.ModalPopup.prototype.bgHideTransition_;
goog.ui.ModalPopup.prototype.modalAriaVisibilityHelper_;
goog.ui.ModalPopup.prototype.getCssClass = function() {
  return goog.getCssName("goog-modalpopup");
};
goog.ui.ModalPopup.prototype.getBackgroundIframe = function() {
  return this.bgIframeEl_;
};
goog.ui.ModalPopup.prototype.getBackgroundElement = function() {
  return this.bgEl_;
};
goog.ui.ModalPopup.prototype.createDom = function() {
  goog.ui.ModalPopup.base(this, "createDom");
  var element = this.getElement();
  goog.asserts.assert(element);
  var allClasses = goog.string.trim(this.getCssClass()).split(" ");
  goog.dom.classlist.addAll(element, allClasses);
  goog.dom.setFocusableTabIndex(element, true);
  goog.style.setElementShown(element, false);
  this.manageBackgroundDom_();
  this.createTabCatcher_();
};
goog.ui.ModalPopup.prototype.manageBackgroundDom_ = function() {
  if (this.useIframeMask_ && !this.bgIframeEl_) {
    this.bgIframeEl_ = goog.dom.iframe.createBlank(this.getDomHelper());
    this.bgIframeEl_.className = goog.getCssName(this.getCssClass(), "bg");
    goog.style.setElementShown(this.bgIframeEl_, false);
    goog.style.setOpacity(this.bgIframeEl_, 0);
  }
  if (!this.bgEl_) {
    this.bgEl_ = this.getDomHelper().createDom(goog.dom.TagName.DIV, goog.getCssName(this.getCssClass(), "bg"));
    goog.style.setElementShown(this.bgEl_, false);
  }
};
goog.ui.ModalPopup.prototype.createTabCatcher_ = function() {
  if (!this.tabCatcherElement_) {
    this.tabCatcherElement_ = this.getDomHelper().createElement(goog.dom.TagName.SPAN);
    goog.style.setElementShown(this.tabCatcherElement_, false);
    goog.dom.setFocusableTabIndex(this.tabCatcherElement_, true);
    this.tabCatcherElement_.style.position = "absolute";
  }
};
goog.ui.ModalPopup.prototype.setupBackwardTabWrap = function() {
  this.backwardTabWrapInProgress_ = true;
  try {
    this.tabCatcherElement_.focus();
  } catch (e) {
  }
  goog.Timer.callOnce(this.resetBackwardTabWrap_, 0, this);
};
goog.ui.ModalPopup.prototype.resetBackwardTabWrap_ = function() {
  this.backwardTabWrapInProgress_ = false;
};
goog.ui.ModalPopup.prototype.renderBackground_ = function() {
  goog.asserts.assert(!!this.bgEl_, "Background element must not be null.");
  if (this.bgIframeEl_) {
    goog.dom.insertSiblingBefore(this.bgIframeEl_, this.getElement());
  }
  goog.dom.insertSiblingBefore(this.bgEl_, this.getElement());
};
goog.ui.ModalPopup.prototype.canDecorate = function(element) {
  return !!element && element.tagName == goog.dom.TagName.DIV;
};
goog.ui.ModalPopup.prototype.decorateInternal = function(element) {
  goog.ui.ModalPopup.base(this, "decorateInternal", element);
  var allClasses = goog.string.trim(this.getCssClass()).split(" ");
  goog.dom.classlist.addAll(goog.asserts.assert(this.getElement()), allClasses);
  this.manageBackgroundDom_();
  this.createTabCatcher_();
  goog.dom.setFocusableTabIndex(this.getElement(), true);
  goog.style.setElementShown(this.getElement(), false);
};
goog.ui.ModalPopup.prototype.enterDocument = function() {
  this.renderBackground_();
  goog.ui.ModalPopup.base(this, "enterDocument");
  goog.dom.insertSiblingAfter(this.tabCatcherElement_, this.getElement());
  this.focusHandler_ = new goog.events.FocusHandler(this.getDomHelper().getDocument());
  this.getHandler().listen(this.focusHandler_, goog.events.FocusHandler.EventType.FOCUSIN, this.onFocus);
  this.setA11YDetectBackground(false);
};
goog.ui.ModalPopup.prototype.exitDocument = function() {
  if (this.isVisible()) {
    this.setVisible(false);
  }
  goog.dispose(this.focusHandler_);
  goog.ui.ModalPopup.base(this, "exitDocument");
  goog.dom.removeNode(this.bgIframeEl_);
  goog.dom.removeNode(this.bgEl_);
  goog.dom.removeNode(this.tabCatcherElement_);
};
goog.ui.ModalPopup.prototype.setVisible = function(visible) {
  goog.asserts.assert(this.isInDocument(), "ModalPopup must be rendered first.");
  if (visible == this.visible_) {
    return;
  }
  if (this.popupShowTransition_) {
    this.popupShowTransition_.stop();
  }
  if (this.bgShowTransition_) {
    this.bgShowTransition_.stop();
  }
  if (this.popupHideTransition_) {
    this.popupHideTransition_.stop();
  }
  if (this.bgHideTransition_) {
    this.bgHideTransition_.stop();
  }
  if (this.isInDocument()) {
    this.setA11YDetectBackground(visible);
  }
  if (visible) {
    this.show_();
  } else {
    this.hide_();
  }
};
goog.ui.ModalPopup.prototype.setA11YDetectBackground = function(hide) {
  if (!this.modalAriaVisibilityHelper_) {
    this.modalAriaVisibilityHelper_ = new goog.ui.ModalAriaVisibilityHelper(this.getElementStrict(), this.dom_);
  }
  this.modalAriaVisibilityHelper_.setBackgroundVisibility(hide);
};
goog.ui.ModalPopup.prototype.setTransition = function(popupShowTransition, popupHideTransition, bgShowTransition, bgHideTransition) {
  this.popupShowTransition_ = popupShowTransition;
  this.popupHideTransition_ = popupHideTransition;
  this.bgShowTransition_ = bgShowTransition;
  this.bgHideTransition_ = bgHideTransition;
};
goog.ui.ModalPopup.prototype.show_ = function() {
  if (!this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW)) {
    return;
  }
  try {
    this.lastFocus_ = this.getDomHelper().getDocument().activeElement;
  } catch (e) {
  }
  this.resizeBackground_();
  this.reposition();
  this.getHandler().listen(this.getDomHelper().getWindow(), goog.events.EventType.RESIZE, this.resizeBackground_);
  this.showPopupElement_(true);
  this.focus();
  this.visible_ = true;
  if (this.popupShowTransition_ && this.bgShowTransition_) {
    goog.events.listenOnce((this.popupShowTransition_), goog.fx.Transition.EventType.END, this.onShow, false, this);
    this.bgShowTransition_.play();
    this.popupShowTransition_.play();
  } else {
    this.onShow();
  }
};
goog.ui.ModalPopup.prototype.hide_ = function() {
  if (!this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_HIDE)) {
    return;
  }
  this.getHandler().unlisten(this.getDomHelper().getWindow(), goog.events.EventType.RESIZE, this.resizeBackground_);
  this.visible_ = false;
  if (this.popupHideTransition_ && this.bgHideTransition_) {
    goog.events.listenOnce((this.popupHideTransition_), goog.fx.Transition.EventType.END, this.onHide, false, this);
    this.bgHideTransition_.play();
    this.popupHideTransition_.play();
  } else {
    this.onHide();
  }
  this.returnFocus_();
};
goog.ui.ModalPopup.prototype.returnFocus_ = function() {
  try {
    var dom = this.getDomHelper();
    var body = dom.getDocument().body;
    var active = dom.getDocument().activeElement || body;
    if (!this.lastFocus_ || this.lastFocus_ == body) {
      this.lastFocus_ = null;
      return;
    }
    if (active == body || dom.contains(this.getElement(), active)) {
      this.lastFocus_.focus();
    }
  } catch (e) {
  }
  this.lastFocus_ = null;
};
goog.ui.ModalPopup.prototype.showPopupElement_ = function(visible) {
  if (this.bgIframeEl_) {
    goog.style.setElementShown(this.bgIframeEl_, visible);
  }
  if (this.bgEl_) {
    goog.style.setElementShown(this.bgEl_, visible);
  }
  goog.style.setElementShown(this.getElement(), visible);
  goog.style.setElementShown(this.tabCatcherElement_, visible);
};
goog.ui.ModalPopup.prototype.onShow = function() {
  this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW);
};
goog.ui.ModalPopup.prototype.onHide = function() {
  this.showPopupElement_(false);
  this.dispatchEvent(goog.ui.PopupBase.EventType.HIDE);
};
goog.ui.ModalPopup.prototype.isVisible = function() {
  return this.visible_;
};
goog.ui.ModalPopup.prototype.focus = function() {
  this.focusElement_();
};
goog.ui.ModalPopup.prototype.resizeBackground_ = function() {
  if (this.bgIframeEl_) {
    goog.style.setElementShown(this.bgIframeEl_, false);
  }
  if (this.bgEl_) {
    goog.style.setElementShown(this.bgEl_, false);
  }
  var doc = this.getDomHelper().getDocument();
  var win = goog.dom.getWindow(doc) || window;
  var viewSize = goog.dom.getViewportSize(win);
  var w = Math.max(viewSize.width, Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth));
  var h = Math.max(viewSize.height, Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight));
  if (this.bgIframeEl_) {
    goog.style.setElementShown(this.bgIframeEl_, true);
    goog.style.setSize(this.bgIframeEl_, w, h);
  }
  if (this.bgEl_) {
    goog.style.setElementShown(this.bgEl_, true);
    goog.style.setSize(this.bgEl_, w, h);
  }
};
goog.ui.ModalPopup.prototype.reposition = function() {
  var doc = this.getDomHelper().getDocument();
  var win = goog.dom.getWindow(doc) || window;
  if (goog.style.getComputedPosition(this.getElement()) == "fixed") {
    var x = 0;
    var y = 0;
  } else {
    var scroll = this.getDomHelper().getDocumentScroll();
    var x = scroll.x;
    var y = scroll.y;
  }
  var popupSize = goog.style.getSize(this.getElement());
  var viewSize = goog.dom.getViewportSize(win);
  var left = Math.max(x + viewSize.width / 2 - popupSize.width / 2, 0);
  var top = Math.max(y + viewSize.height / 2 - popupSize.height / 2, 0);
  goog.style.setPosition(this.getElement(), left, top);
  goog.style.setPosition(this.tabCatcherElement_, left, top);
};
goog.ui.ModalPopup.prototype.onFocus = function(e) {
  if (this.backwardTabWrapInProgress_) {
    this.resetBackwardTabWrap_();
  } else {
    if (e.target == this.tabCatcherElement_) {
      goog.Timer.callOnce(this.focusElement_, 0, this);
    }
  }
};
goog.ui.ModalPopup.prototype.getTabCatcherElement = function() {
  return this.tabCatcherElement_;
};
goog.ui.ModalPopup.prototype.focusElement_ = function() {
  try {
    if (goog.userAgent.IE) {
      this.getDomHelper().getDocument().body.focus();
    }
    this.getElement().focus();
  } catch (e) {
  }
};
goog.ui.ModalPopup.prototype.disposeInternal = function() {
  goog.dispose(this.popupShowTransition_);
  this.popupShowTransition_ = null;
  goog.dispose(this.popupHideTransition_);
  this.popupHideTransition_ = null;
  goog.dispose(this.bgShowTransition_);
  this.bgShowTransition_ = null;
  goog.dispose(this.bgHideTransition_);
  this.bgHideTransition_ = null;
  goog.ui.ModalPopup.base(this, "disposeInternal");
};
goog.provide("goog.net.Cookies");
goog.provide("goog.net.cookies");
goog.net.Cookies = function(context) {
  this.document_ = context;
};
goog.net.Cookies.MAX_COOKIE_LENGTH = 3950;
goog.net.Cookies.SPLIT_RE_ = /\s*;\s*/;
goog.net.Cookies.prototype.isEnabled = function() {
  return navigator.cookieEnabled;
};
goog.net.Cookies.prototype.isValidName = function(name) {
  return !/[;=\s]/.test(name);
};
goog.net.Cookies.prototype.isValidValue = function(value) {
  return !/[;\r\n]/.test(value);
};
goog.net.Cookies.prototype.set = function(name, value, opt_maxAge, opt_path, opt_domain, opt_secure) {
  if (!this.isValidName(name)) {
    throw Error('Invalid cookie name "' + name + '"');
  }
  if (!this.isValidValue(value)) {
    throw Error('Invalid cookie value "' + value + '"');
  }
  if (!goog.isDef(opt_maxAge)) {
    opt_maxAge = -1;
  }
  var domainStr = opt_domain ? ";domain\x3d" + opt_domain : "";
  var pathStr = opt_path ? ";path\x3d" + opt_path : "";
  var secureStr = opt_secure ? ";secure" : "";
  var expiresStr;
  if (opt_maxAge < 0) {
    expiresStr = "";
  } else {
    if (opt_maxAge == 0) {
      var pastDate = new Date(1970, 1, 1);
      expiresStr = ";expires\x3d" + pastDate.toUTCString();
    } else {
      var futureDate = new Date(goog.now() + opt_maxAge * 1E3);
      expiresStr = ";expires\x3d" + futureDate.toUTCString();
    }
  }
  this.setCookie_(name + "\x3d" + value + domainStr + pathStr + expiresStr + secureStr);
};
goog.net.Cookies.prototype.get = function(name, opt_default) {
  var nameEq = name + "\x3d";
  var parts = this.getParts_();
  for (var i = 0, part;part = parts[i];i++) {
    if (part.lastIndexOf(nameEq, 0) == 0) {
      return part.substr(nameEq.length);
    }
    if (part == name) {
      return "";
    }
  }
  return opt_default;
};
goog.net.Cookies.prototype.remove = function(name, opt_path, opt_domain) {
  var rv = this.containsKey(name);
  this.set(name, "", 0, opt_path, opt_domain);
  return rv;
};
goog.net.Cookies.prototype.getKeys = function() {
  return this.getKeyValues_().keys;
};
goog.net.Cookies.prototype.getValues = function() {
  return this.getKeyValues_().values;
};
goog.net.Cookies.prototype.isEmpty = function() {
  return !this.getCookie_();
};
goog.net.Cookies.prototype.getCount = function() {
  var cookie = this.getCookie_();
  if (!cookie) {
    return 0;
  }
  return this.getParts_().length;
};
goog.net.Cookies.prototype.containsKey = function(key) {
  return goog.isDef(this.get(key));
};
goog.net.Cookies.prototype.containsValue = function(value) {
  var values = this.getKeyValues_().values;
  for (var i = 0;i < values.length;i++) {
    if (values[i] == value) {
      return true;
    }
  }
  return false;
};
goog.net.Cookies.prototype.clear = function() {
  var keys = this.getKeyValues_().keys;
  for (var i = keys.length - 1;i >= 0;i--) {
    this.remove(keys[i]);
  }
};
goog.net.Cookies.prototype.setCookie_ = function(s) {
  this.document_.cookie = s;
};
goog.net.Cookies.prototype.getCookie_ = function() {
  return this.document_.cookie;
};
goog.net.Cookies.prototype.getParts_ = function() {
  return (this.getCookie_() || "").split(goog.net.Cookies.SPLIT_RE_);
};
goog.net.Cookies.prototype.getKeyValues_ = function() {
  var parts = this.getParts_();
  var keys = [], values = [], index, part;
  for (var i = 0;part = parts[i];i++) {
    index = part.indexOf("\x3d");
    if (index == -1) {
      keys.push("");
      values.push(part);
    } else {
      keys.push(part.substring(0, index));
      values.push(part.substring(index + 1));
    }
  }
  return {keys:keys, values:values};
};
goog.net.cookies = new goog.net.Cookies(document);
goog.net.cookies.MAX_COOKIE_LENGTH = goog.net.Cookies.MAX_COOKIE_LENGTH;
goog.provide("goog.positioning.AnchoredViewportPosition");
goog.require("goog.positioning");
goog.require("goog.positioning.AnchoredPosition");
goog.require("goog.positioning.Overflow");
goog.require("goog.positioning.OverflowStatus");
goog.positioning.AnchoredViewportPosition = function(anchorElement, corner, opt_adjust, opt_overflowConstraint) {
  goog.positioning.AnchoredPosition.call(this, anchorElement, corner);
  this.lastResortOverflow_ = opt_adjust ? goog.positioning.Overflow.ADJUST_X | goog.positioning.Overflow.ADJUST_Y : goog.positioning.Overflow.IGNORE;
  this.overflowConstraint_ = opt_overflowConstraint || undefined;
};
goog.inherits(goog.positioning.AnchoredViewportPosition, goog.positioning.AnchoredPosition);
goog.positioning.AnchoredViewportPosition.prototype.getOverflowConstraint = function() {
  return this.overflowConstraint_;
};
goog.positioning.AnchoredViewportPosition.prototype.setOverflowConstraint = function(overflowConstraint) {
  this.overflowConstraint_ = overflowConstraint;
};
goog.positioning.AnchoredViewportPosition.prototype.getLastResortOverflow = function() {
  return this.lastResortOverflow_;
};
goog.positioning.AnchoredViewportPosition.prototype.setLastResortOverflow = function(lastResortOverflow) {
  this.lastResortOverflow_ = lastResortOverflow;
};
goog.positioning.AnchoredViewportPosition.prototype.reposition = function(movableElement, movableCorner, opt_margin, opt_preferredSize) {
  var status = goog.positioning.positionAtAnchor(this.element, this.corner, movableElement, movableCorner, null, opt_margin, goog.positioning.Overflow.FAIL_X | goog.positioning.Overflow.FAIL_Y, opt_preferredSize, this.overflowConstraint_);
  if (status & goog.positioning.OverflowStatus.FAILED) {
    var cornerFallback = this.adjustCorner(status, this.corner);
    var movableCornerFallback = this.adjustCorner(status, movableCorner);
    status = goog.positioning.positionAtAnchor(this.element, cornerFallback, movableElement, movableCornerFallback, null, opt_margin, goog.positioning.Overflow.FAIL_X | goog.positioning.Overflow.FAIL_Y, opt_preferredSize, this.overflowConstraint_);
    if (status & goog.positioning.OverflowStatus.FAILED) {
      cornerFallback = this.adjustCorner(status, cornerFallback);
      movableCornerFallback = this.adjustCorner(status, movableCornerFallback);
      goog.positioning.positionAtAnchor(this.element, cornerFallback, movableElement, movableCornerFallback, null, opt_margin, this.getLastResortOverflow(), opt_preferredSize, this.overflowConstraint_);
    }
  }
};
goog.positioning.AnchoredViewportPosition.prototype.adjustCorner = function(status, corner) {
  if (status & goog.positioning.OverflowStatus.FAILED_HORIZONTAL) {
    corner = goog.positioning.flipCornerHorizontal(corner);
  }
  if (status & goog.positioning.OverflowStatus.FAILED_VERTICAL) {
    corner = goog.positioning.flipCornerVertical(corner);
  }
  return corner;
};
goog.provide("goog.userAgent.product");
goog.require("goog.labs.userAgent.browser");
goog.require("goog.labs.userAgent.platform");
goog.require("goog.userAgent");
goog.define("goog.userAgent.product.ASSUME_FIREFOX", false);
goog.define("goog.userAgent.product.ASSUME_IPHONE", false);
goog.define("goog.userAgent.product.ASSUME_IPAD", false);
goog.define("goog.userAgent.product.ASSUME_ANDROID", false);
goog.define("goog.userAgent.product.ASSUME_CHROME", false);
goog.define("goog.userAgent.product.ASSUME_SAFARI", false);
goog.userAgent.product.PRODUCT_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_OPERA || goog.userAgent.product.ASSUME_FIREFOX || goog.userAgent.product.ASSUME_IPHONE || goog.userAgent.product.ASSUME_IPAD || goog.userAgent.product.ASSUME_ANDROID || goog.userAgent.product.ASSUME_CHROME || goog.userAgent.product.ASSUME_SAFARI;
goog.userAgent.product.OPERA = goog.userAgent.OPERA;
goog.userAgent.product.IE = goog.userAgent.IE;
goog.userAgent.product.EDGE = goog.userAgent.EDGE;
goog.userAgent.product.FIREFOX = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_FIREFOX : goog.labs.userAgent.browser.isFirefox();
goog.userAgent.product.isIphoneOrIpod_ = function() {
  return goog.labs.userAgent.platform.isIphone() || goog.labs.userAgent.platform.isIpod();
};
goog.userAgent.product.IPHONE = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPHONE : goog.userAgent.product.isIphoneOrIpod_();
goog.userAgent.product.IPAD = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_IPAD : goog.labs.userAgent.platform.isIpad();
goog.userAgent.product.ANDROID = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_ANDROID : goog.labs.userAgent.browser.isAndroidBrowser();
goog.userAgent.product.CHROME = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_CHROME : goog.labs.userAgent.browser.isChrome();
goog.userAgent.product.isSafariDesktop_ = function() {
  return goog.labs.userAgent.browser.isSafari() && !goog.labs.userAgent.platform.isIos();
};
goog.userAgent.product.SAFARI = goog.userAgent.product.PRODUCT_KNOWN_ ? goog.userAgent.product.ASSUME_SAFARI : goog.userAgent.product.isSafariDesktop_();
goog.provide("goog.net.WebSocket");
goog.provide("goog.net.WebSocket.ErrorEvent");
goog.provide("goog.net.WebSocket.EventType");
goog.provide("goog.net.WebSocket.MessageEvent");
goog.require("goog.Timer");
goog.require("goog.asserts");
goog.require("goog.debug.entryPointRegistry");
goog.require("goog.events");
goog.require("goog.events.Event");
goog.require("goog.events.EventTarget");
goog.require("goog.log");
goog.net.WebSocket = function(opt_autoReconnect, opt_getNextReconnect) {
  goog.net.WebSocket.base(this, "constructor");
  this.autoReconnect_ = goog.isDef(opt_autoReconnect) ? opt_autoReconnect : true;
  this.getNextReconnect_ = opt_getNextReconnect || goog.net.WebSocket.EXPONENTIAL_BACKOFF_;
  this.nextReconnect_ = this.getNextReconnect_(this.reconnectAttempt_);
};
goog.inherits(goog.net.WebSocket, goog.events.EventTarget);
goog.net.WebSocket.prototype.webSocket_ = null;
goog.net.WebSocket.prototype.url_ = null;
goog.net.WebSocket.prototype.protocol_ = undefined;
goog.net.WebSocket.prototype.closeExpected_ = false;
goog.net.WebSocket.prototype.reconnectAttempt_ = 0;
goog.net.WebSocket.prototype.reconnectTimer_ = null;
goog.net.WebSocket.prototype.logger_ = goog.log.getLogger("goog.net.WebSocket");
goog.net.WebSocket.EventType = {CLOSED:goog.events.getUniqueId("closed"), ERROR:goog.events.getUniqueId("error"), MESSAGE:goog.events.getUniqueId("message"), OPENED:goog.events.getUniqueId("opened")};
goog.net.WebSocket.ReadyState_ = {CONNECTING:0, OPEN:1, CLOSING:2, CLOSED:3};
goog.net.WebSocket.EXPONENTIAL_BACKOFF_CEILING_ = 60 * 1E3;
goog.net.WebSocket.EXPONENTIAL_BACKOFF_ = function(attempt) {
  var time = Math.pow(2, attempt) * 1E3;
  return Math.min(time, goog.net.WebSocket.EXPONENTIAL_BACKOFF_CEILING_);
};
goog.net.WebSocket.protectEntryPoints = function(errorHandler) {
  goog.net.WebSocket.prototype.onOpen_ = errorHandler.protectEntryPoint(goog.net.WebSocket.prototype.onOpen_);
  goog.net.WebSocket.prototype.onClose_ = errorHandler.protectEntryPoint(goog.net.WebSocket.prototype.onClose_);
  goog.net.WebSocket.prototype.onMessage_ = errorHandler.protectEntryPoint(goog.net.WebSocket.prototype.onMessage_);
  goog.net.WebSocket.prototype.onError_ = errorHandler.protectEntryPoint(goog.net.WebSocket.prototype.onError_);
};
goog.net.WebSocket.prototype.open = function(url, opt_protocol) {
  goog.asserts.assert(goog.global["WebSocket"], "This browser does not support WebSocket");
  goog.asserts.assert(!this.isOpen(), "The WebSocket is already open");
  this.clearReconnectTimer_();
  this.url_ = url;
  this.protocol_ = opt_protocol;
  if (this.protocol_) {
    goog.log.info(this.logger_, "Opening the WebSocket on " + this.url_ + " with protocol " + this.protocol_);
    this.webSocket_ = new WebSocket(this.url_, this.protocol_);
  } else {
    goog.log.info(this.logger_, "Opening the WebSocket on " + this.url_);
    this.webSocket_ = new WebSocket(this.url_);
  }
  this.webSocket_.onopen = goog.bind(this.onOpen_, this);
  this.webSocket_.onclose = goog.bind(this.onClose_, this);
  this.webSocket_.onmessage = goog.bind(this.onMessage_, this);
  this.webSocket_.onerror = goog.bind(this.onError_, this);
};
goog.net.WebSocket.prototype.close = function() {
  this.clearReconnectTimer_();
  if (this.webSocket_) {
    goog.log.info(this.logger_, "Closing the WebSocket.");
    this.closeExpected_ = true;
    this.webSocket_.close();
    this.webSocket_ = null;
  }
};
goog.net.WebSocket.prototype.send = function(message) {
  goog.asserts.assert(this.isOpen(), "Cannot send without an open socket");
  this.webSocket_.send(message);
};
goog.net.WebSocket.prototype.isOpen = function() {
  return !!this.webSocket_ && this.webSocket_.readyState == goog.net.WebSocket.ReadyState_.OPEN;
};
goog.net.WebSocket.prototype.getBufferedAmount = function() {
  return this.webSocket_.bufferedAmount;
};
goog.net.WebSocket.prototype.onOpen_ = function() {
  goog.log.info(this.logger_, "WebSocket opened on " + this.url_);
  this.dispatchEvent(goog.net.WebSocket.EventType.OPENED);
  this.reconnectAttempt_ = 0;
  this.nextReconnect_ = this.getNextReconnect_(this.reconnectAttempt_);
};
goog.net.WebSocket.prototype.onClose_ = function(event) {
  goog.log.info(this.logger_, "The WebSocket on " + this.url_ + " closed.");
  this.dispatchEvent(goog.net.WebSocket.EventType.CLOSED);
  this.webSocket_ = null;
  if (this.closeExpected_) {
    goog.log.info(this.logger_, "The WebSocket closed normally.");
    this.url_ = null;
    this.protocol_ = undefined;
  } else {
    goog.log.error(this.logger_, "The WebSocket disconnected unexpectedly: " + event.data);
    if (this.autoReconnect_) {
      var seconds = Math.floor(this.nextReconnect_ / 1E3);
      goog.log.info(this.logger_, "Seconds until next reconnect attempt: " + seconds);
      this.reconnectTimer_ = goog.Timer.callOnce(goog.bind(this.open, this, this.url_, this.protocol_), this.nextReconnect_, this);
      this.reconnectAttempt_++;
      this.nextReconnect_ = this.getNextReconnect_(this.reconnectAttempt_);
    }
  }
  this.closeExpected_ = false;
};
goog.net.WebSocket.prototype.onMessage_ = function(event) {
  var message = event.data;
  this.dispatchEvent(new goog.net.WebSocket.MessageEvent(message));
};
goog.net.WebSocket.prototype.onError_ = function(event) {
  var data = (event.data);
  goog.log.error(this.logger_, "An error occurred: " + data);
  this.dispatchEvent(new goog.net.WebSocket.ErrorEvent(data));
};
goog.net.WebSocket.prototype.clearReconnectTimer_ = function() {
  if (goog.isDefAndNotNull(this.reconnectTimer_)) {
    goog.Timer.clear(this.reconnectTimer_);
  }
  this.reconnectTimer_ = null;
};
goog.net.WebSocket.prototype.disposeInternal = function() {
  goog.net.WebSocket.base(this, "disposeInternal");
  this.close();
};
goog.net.WebSocket.MessageEvent = function(message) {
  goog.net.WebSocket.MessageEvent.base(this, "constructor", goog.net.WebSocket.EventType.MESSAGE);
  this.message = message;
};
goog.inherits(goog.net.WebSocket.MessageEvent, goog.events.Event);
goog.net.WebSocket.ErrorEvent = function(data) {
  goog.net.WebSocket.ErrorEvent.base(this, "constructor", goog.net.WebSocket.EventType.ERROR);
  this.data = data;
};
goog.inherits(goog.net.WebSocket.ErrorEvent, goog.events.Event);
goog.debug.entryPointRegistry.register(function(transformer) {
  goog.net.WebSocket.prototype.onOpen_ = transformer(goog.net.WebSocket.prototype.onOpen_);
  goog.net.WebSocket.prototype.onClose_ = transformer(goog.net.WebSocket.prototype.onClose_);
  goog.net.WebSocket.prototype.onMessage_ = transformer(goog.net.WebSocket.prototype.onMessage_);
  goog.net.WebSocket.prototype.onError_ = transformer(goog.net.WebSocket.prototype.onError_);
});
goog.provide("clojure.browser.event");
goog.require("cljs.core");
goog.require("goog.events");
goog.require("goog.events.EventTarget");
goog.require("goog.events.EventType");
clojure.browser.event.IEventType = function() {
};
clojure.browser.event.event_types = function clojure$browser$event$event_types(this$) {
  if (!(this$ == null) && !(this$.clojure$browser$event$IEventType$event_types$arity$1 == null)) {
    return this$.clojure$browser$event$IEventType$event_types$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.event.event_types[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = clojure.browser.event.event_types["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol.call(null, "IEventType.event-types", this$);
      }
    }
  }
};
goog.events.EventTarget.prototype.clojure$browser$event$IEventType$ = true;
goog.events.EventTarget.prototype.clojure$browser$event$IEventType$event_types$arity$1 = function(this$) {
  var this$__$1 = this;
  return cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(this$__$1) {
    return function(p__12567) {
      var vec__12568 = p__12567;
      var k = cljs.core.nth.call(null, vec__12568, 0, null);
      var v = cljs.core.nth.call(null, vec__12568, 1, null);
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
    };
  }(this$__$1), cljs.core.merge.call(null, cljs.core.js__GT_clj.call(null, goog.events.EventType))));
};
if (typeof Element !== "undefined") {
  Element.prototype.clojure$browser$event$IEventType$ = true;
  Element.prototype.clojure$browser$event$IEventType$event_types$arity$1 = function(this$) {
    var this$__$1 = this;
    return cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(this$__$1) {
      return function(p__12569) {
        var vec__12570 = p__12569;
        var k = cljs.core.nth.call(null, vec__12570, 0, null);
        var v = cljs.core.nth.call(null, vec__12570, 1, null);
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
      };
    }(this$__$1), cljs.core.merge.call(null, cljs.core.js__GT_clj.call(null, goog.events.EventType))));
  };
} else {
}
clojure.browser.event.listen = function clojure$browser$event$listen(var_args) {
  var args12571 = [];
  var len__7214__auto___12574 = arguments.length;
  var i__7215__auto___12575 = 0;
  while (true) {
    if (i__7215__auto___12575 < len__7214__auto___12574) {
      args12571.push(arguments[i__7215__auto___12575]);
      var G__12576 = i__7215__auto___12575 + 1;
      i__7215__auto___12575 = G__12576;
      continue;
    } else {
    }
    break;
  }
  var G__12573 = args12571.length;
  switch(G__12573) {
    case 3:
      return clojure.browser.event.listen.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.event.listen.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12571.length)].join(""));;
  }
};
clojure.browser.event.listen.cljs$core$IFn$_invoke$arity$3 = function(src, type, fn) {
  return clojure.browser.event.listen.call(null, src, type, fn, false);
};
clojure.browser.event.listen.cljs$core$IFn$_invoke$arity$4 = function(src, type, fn, capture_QMARK_) {
  return goog.events.listen(src, cljs.core.get.call(null, clojure.browser.event.event_types.call(null, src), type, type), fn, capture_QMARK_);
};
clojure.browser.event.listen.cljs$lang$maxFixedArity = 4;
clojure.browser.event.listen_once = function clojure$browser$event$listen_once(var_args) {
  var args12578 = [];
  var len__7214__auto___12581 = arguments.length;
  var i__7215__auto___12582 = 0;
  while (true) {
    if (i__7215__auto___12582 < len__7214__auto___12581) {
      args12578.push(arguments[i__7215__auto___12582]);
      var G__12583 = i__7215__auto___12582 + 1;
      i__7215__auto___12582 = G__12583;
      continue;
    } else {
    }
    break;
  }
  var G__12580 = args12578.length;
  switch(G__12580) {
    case 3:
      return clojure.browser.event.listen_once.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.event.listen_once.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12578.length)].join(""));;
  }
};
clojure.browser.event.listen_once.cljs$core$IFn$_invoke$arity$3 = function(src, type, fn) {
  return clojure.browser.event.listen_once.call(null, src, type, fn, false);
};
clojure.browser.event.listen_once.cljs$core$IFn$_invoke$arity$4 = function(src, type, fn, capture_QMARK_) {
  return goog.events.listenOnce(src, cljs.core.get.call(null, clojure.browser.event.event_types.call(null, src), type, type), fn, capture_QMARK_);
};
clojure.browser.event.listen_once.cljs$lang$maxFixedArity = 4;
clojure.browser.event.unlisten = function clojure$browser$event$unlisten(var_args) {
  var args12585 = [];
  var len__7214__auto___12588 = arguments.length;
  var i__7215__auto___12589 = 0;
  while (true) {
    if (i__7215__auto___12589 < len__7214__auto___12588) {
      args12585.push(arguments[i__7215__auto___12589]);
      var G__12590 = i__7215__auto___12589 + 1;
      i__7215__auto___12589 = G__12590;
      continue;
    } else {
    }
    break;
  }
  var G__12587 = args12585.length;
  switch(G__12587) {
    case 3:
      return clojure.browser.event.unlisten.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.event.unlisten.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12585.length)].join(""));;
  }
};
clojure.browser.event.unlisten.cljs$core$IFn$_invoke$arity$3 = function(src, type, fn) {
  return clojure.browser.event.unlisten.call(null, src, type, fn, false);
};
clojure.browser.event.unlisten.cljs$core$IFn$_invoke$arity$4 = function(src, type, fn, capture_QMARK_) {
  return goog.events.unlisten(src, cljs.core.get.call(null, clojure.browser.event.event_types.call(null, src), type, type), fn, capture_QMARK_);
};
clojure.browser.event.unlisten.cljs$lang$maxFixedArity = 4;
clojure.browser.event.unlisten_by_key = function clojure$browser$event$unlisten_by_key(key) {
  return goog.events.unlistenByKey(key);
};
clojure.browser.event.dispatch_event = function clojure$browser$event$dispatch_event(src, event) {
  return goog.events.dispatchEvent(src, event);
};
clojure.browser.event.expose = function clojure$browser$event$expose(e) {
  return goog.events.expose(e);
};
clojure.browser.event.fire_listeners = function clojure$browser$event$fire_listeners(obj, type, capture, event) {
  return null;
};
clojure.browser.event.total_listener_count = function clojure$browser$event$total_listener_count() {
  return goog.events.getTotalListenerCount();
};
clojure.browser.event.get_listener = function clojure$browser$event$get_listener(src, type, listener, opt_capt, opt_handler) {
  return null;
};
clojure.browser.event.all_listeners = function clojure$browser$event$all_listeners(obj, type, capture) {
  return null;
};
clojure.browser.event.unique_event_id = function clojure$browser$event$unique_event_id(event_type) {
  return null;
};
clojure.browser.event.has_listener = function clojure$browser$event$has_listener(obj, opt_type, opt_capture) {
  return null;
};
clojure.browser.event.remove_all = function clojure$browser$event$remove_all(opt_obj, opt_type, opt_capt) {
  return null;
};
goog.provide("clojure.browser.net");
goog.require("cljs.core");
goog.require("goog.Uri");
goog.require("goog.net.WebSocket");
goog.require("goog.net.EventType");
goog.require("goog.json");
goog.require("goog.net.xpc.CfgFields");
goog.require("goog.net.XhrIo");
goog.require("clojure.browser.event");
goog.require("goog.net.xpc.CrossPageChannel");
clojure.browser.net._STAR_timeout_STAR_ = 1E4;
clojure.browser.net.event_types = cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(p__12594) {
  var vec__12595 = p__12594;
  var k = cljs.core.nth.call(null, vec__12595, 0, null);
  var v = cljs.core.nth.call(null, vec__12595, 1, null);
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
}, cljs.core.merge.call(null, cljs.core.js__GT_clj.call(null, goog.net.EventType))));
clojure.browser.net.IConnection = function() {
};
clojure.browser.net.connect = function clojure$browser$net$connect(var_args) {
  var args12596 = [];
  var len__7214__auto___12602 = arguments.length;
  var i__7215__auto___12603 = 0;
  while (true) {
    if (i__7215__auto___12603 < len__7214__auto___12602) {
      args12596.push(arguments[i__7215__auto___12603]);
      var G__12604 = i__7215__auto___12603 + 1;
      i__7215__auto___12603 = G__12604;
      continue;
    } else {
    }
    break;
  }
  var G__12598 = args12596.length;
  switch(G__12598) {
    case 1:
      return clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12596.length)].join(""));;
  }
};
clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$1 = function(this$) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$connect$arity$1 == null)) {
    return this$.clojure$browser$net$IConnection$connect$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.connect[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.connect["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.connect", this$);
      }
    }
  }
};
clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$2 = function(this$, opt1) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$connect$arity$2 == null)) {
    return this$.clojure$browser$net$IConnection$connect$arity$2(this$, opt1);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.connect[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt1);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.connect["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt1);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.connect", this$);
      }
    }
  }
};
clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$3 = function(this$, opt1, opt2) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$connect$arity$3 == null)) {
    return this$.clojure$browser$net$IConnection$connect$arity$3(this$, opt1, opt2);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.connect[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt1, opt2);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.connect["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt1, opt2);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.connect", this$);
      }
    }
  }
};
clojure.browser.net.connect.cljs$core$IFn$_invoke$arity$4 = function(this$, opt1, opt2, opt3) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$connect$arity$4 == null)) {
    return this$.clojure$browser$net$IConnection$connect$arity$4(this$, opt1, opt2, opt3);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.connect[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt1, opt2, opt3);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.connect["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt1, opt2, opt3);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.connect", this$);
      }
    }
  }
};
clojure.browser.net.connect.cljs$lang$maxFixedArity = 4;
clojure.browser.net.transmit = function clojure$browser$net$transmit(var_args) {
  var args12599 = [];
  var len__7214__auto___12606 = arguments.length;
  var i__7215__auto___12607 = 0;
  while (true) {
    if (i__7215__auto___12607 < len__7214__auto___12606) {
      args12599.push(arguments[i__7215__auto___12607]);
      var G__12608 = i__7215__auto___12607 + 1;
      i__7215__auto___12607 = G__12608;
      continue;
    } else {
    }
    break;
  }
  var G__12601 = args12599.length;
  switch(G__12601) {
    case 2:
      return clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    case 5:
      return clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
      break;
    case 6:
      return clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$6(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12599.length)].join(""));;
  }
};
clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$2 = function(this$, opt) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$transmit$arity$2 == null)) {
    return this$.clojure$browser$net$IConnection$transmit$arity$2(this$, opt);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.transmit[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.transmit["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.transmit", this$);
      }
    }
  }
};
clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$3 = function(this$, opt, opt2) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$transmit$arity$3 == null)) {
    return this$.clojure$browser$net$IConnection$transmit$arity$3(this$, opt, opt2);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.transmit[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt, opt2);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.transmit["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt, opt2);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.transmit", this$);
      }
    }
  }
};
clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$4 = function(this$, opt, opt2, opt3) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$transmit$arity$4 == null)) {
    return this$.clojure$browser$net$IConnection$transmit$arity$4(this$, opt, opt2, opt3);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.transmit[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt, opt2, opt3);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.transmit["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt, opt2, opt3);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.transmit", this$);
      }
    }
  }
};
clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$5 = function(this$, opt, opt2, opt3, opt4) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$transmit$arity$5 == null)) {
    return this$.clojure$browser$net$IConnection$transmit$arity$5(this$, opt, opt2, opt3, opt4);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.transmit[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt, opt2, opt3, opt4);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.transmit["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt, opt2, opt3, opt4);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.transmit", this$);
      }
    }
  }
};
clojure.browser.net.transmit.cljs$core$IFn$_invoke$arity$6 = function(this$, opt, opt2, opt3, opt4, opt5) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$transmit$arity$6 == null)) {
    return this$.clojure$browser$net$IConnection$transmit$arity$6(this$, opt, opt2, opt3, opt4, opt5);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.transmit[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, opt, opt2, opt3, opt4, opt5);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.transmit["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, opt, opt2, opt3, opt4, opt5);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.transmit", this$);
      }
    }
  }
};
clojure.browser.net.transmit.cljs$lang$maxFixedArity = 6;
clojure.browser.net.close = function clojure$browser$net$close(this$) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IConnection$close$arity$1 == null)) {
    return this$.clojure$browser$net$IConnection$close$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.close[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.close["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol.call(null, "IConnection.close", this$);
      }
    }
  }
};
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$ = true;
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$transmit$arity$2 = function(this$, uri) {
  var this$__$1 = this;
  return clojure.browser.net.transmit.call(null, this$__$1, uri, "GET", null, null, clojure.browser.net._STAR_timeout_STAR_);
};
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$transmit$arity$3 = function(this$, uri, method) {
  var this$__$1 = this;
  return clojure.browser.net.transmit.call(null, this$__$1, uri, method, null, null, clojure.browser.net._STAR_timeout_STAR_);
};
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$transmit$arity$4 = function(this$, uri, method, content) {
  var this$__$1 = this;
  return clojure.browser.net.transmit.call(null, this$__$1, uri, method, content, null, clojure.browser.net._STAR_timeout_STAR_);
};
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$transmit$arity$5 = function(this$, uri, method, content, headers) {
  var this$__$1 = this;
  return clojure.browser.net.transmit.call(null, this$__$1, uri, method, content, headers, clojure.browser.net._STAR_timeout_STAR_);
};
goog.net.XhrIo.prototype.clojure$browser$net$IConnection$transmit$arity$6 = function(this$, uri, method, content, headers, timeout) {
  var this$__$1 = this;
  this$__$1.setTimeoutInterval(timeout);
  return this$__$1.send(uri, method, content, headers);
};
goog.net.XhrIo.prototype.clojure$browser$event$IEventType$ = true;
goog.net.XhrIo.prototype.clojure$browser$event$IEventType$event_types$arity$1 = function(this$) {
  var this$__$1 = this;
  return cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(this$__$1) {
    return function(p__12610) {
      var vec__12611 = p__12610;
      var k = cljs.core.nth.call(null, vec__12611, 0, null);
      var v = cljs.core.nth.call(null, vec__12611, 1, null);
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
    };
  }(this$__$1), cljs.core.merge.call(null, cljs.core.js__GT_clj.call(null, goog.net.EventType))));
};
clojure.browser.net.xpc_config_fields = cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(p__12612) {
  var vec__12613 = p__12612;
  var k = cljs.core.nth.call(null, vec__12613, 0, null);
  var v = cljs.core.nth.call(null, vec__12613, 1, null);
  return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
}, cljs.core.js__GT_clj.call(null, goog.net.xpc.CfgFields)));
clojure.browser.net.xhr_connection = function clojure$browser$net$xhr_connection() {
  return new goog.net.XhrIo;
};
clojure.browser.net.ICrossPageChannel = function() {
};
clojure.browser.net.register_service = function clojure$browser$net$register_service(var_args) {
  var args12614 = [];
  var len__7214__auto___12617 = arguments.length;
  var i__7215__auto___12618 = 0;
  while (true) {
    if (i__7215__auto___12618 < len__7214__auto___12617) {
      args12614.push(arguments[i__7215__auto___12618]);
      var G__12619 = i__7215__auto___12618 + 1;
      i__7215__auto___12618 = G__12619;
      continue;
    } else {
    }
    break;
  }
  var G__12616 = args12614.length;
  switch(G__12616) {
    case 3:
      return clojure.browser.net.register_service.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    case 4:
      return clojure.browser.net.register_service.cljs$core$IFn$_invoke$arity$4(arguments[0], arguments[1], arguments[2], arguments[3]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12614.length)].join(""));;
  }
};
clojure.browser.net.register_service.cljs$core$IFn$_invoke$arity$3 = function(this$, service_name, fn) {
  if (!(this$ == null) && !(this$.clojure$browser$net$ICrossPageChannel$register_service$arity$3 == null)) {
    return this$.clojure$browser$net$ICrossPageChannel$register_service$arity$3(this$, service_name, fn);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.register_service[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, service_name, fn);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.register_service["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, service_name, fn);
      } else {
        throw cljs.core.missing_protocol.call(null, "ICrossPageChannel.register-service", this$);
      }
    }
  }
};
clojure.browser.net.register_service.cljs$core$IFn$_invoke$arity$4 = function(this$, service_name, fn, encode_json_QMARK_) {
  if (!(this$ == null) && !(this$.clojure$browser$net$ICrossPageChannel$register_service$arity$4 == null)) {
    return this$.clojure$browser$net$ICrossPageChannel$register_service$arity$4(this$, service_name, fn, encode_json_QMARK_);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.register_service[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$, service_name, fn, encode_json_QMARK_);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.register_service["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$, service_name, fn, encode_json_QMARK_);
      } else {
        throw cljs.core.missing_protocol.call(null, "ICrossPageChannel.register-service", this$);
      }
    }
  }
};
clojure.browser.net.register_service.cljs$lang$maxFixedArity = 4;
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$ICrossPageChannel$ = true;
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$ICrossPageChannel$register_service$arity$3 = function(this$, service_name, fn) {
  var this$__$1 = this;
  return clojure.browser.net.register_service.call(null, this$__$1, service_name, fn, false);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$ICrossPageChannel$register_service$arity$4 = function(this$, service_name, fn, encode_json_QMARK_) {
  var this$__$1 = this;
  return this$__$1.registerService(cljs.core.name.call(null, service_name), fn, encode_json_QMARK_);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$ = true;
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$connect$arity$1 = function(this$) {
  var this$__$1 = this;
  return clojure.browser.net.connect.call(null, this$__$1, null);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$connect$arity$2 = function(this$, on_connect_fn) {
  var this$__$1 = this;
  return this$__$1.connect(on_connect_fn);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$connect$arity$3 = function(this$, on_connect_fn, config_iframe_fn) {
  var this$__$1 = this;
  return clojure.browser.net.connect.call(null, this$__$1, on_connect_fn, config_iframe_fn, document.body);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$connect$arity$4 = function(this$, on_connect_fn, config_iframe_fn, iframe_parent) {
  var this$__$1 = this;
  this$__$1.createPeerIframe(iframe_parent, config_iframe_fn);
  return this$__$1.connect(on_connect_fn);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$transmit$arity$3 = function(this$, service_name, payload) {
  var this$__$1 = this;
  return this$__$1.send(cljs.core.name.call(null, service_name), payload);
};
goog.net.xpc.CrossPageChannel.prototype.clojure$browser$net$IConnection$close$arity$1 = function(this$) {
  var this$__$1 = this;
  return this$__$1.close();
};
clojure.browser.net.xpc_connection = function clojure$browser$net$xpc_connection(var_args) {
  var args12621 = [];
  var len__7214__auto___12629 = arguments.length;
  var i__7215__auto___12630 = 0;
  while (true) {
    if (i__7215__auto___12630 < len__7214__auto___12629) {
      args12621.push(arguments[i__7215__auto___12630]);
      var G__12631 = i__7215__auto___12630 + 1;
      i__7215__auto___12630 = G__12631;
      continue;
    } else {
    }
    break;
  }
  var G__12623 = args12621.length;
  switch(G__12623) {
    case 0:
      return clojure.browser.net.xpc_connection.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return clojure.browser.net.xpc_connection.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12621.length)].join(""));;
  }
};
clojure.browser.net.xpc_connection.cljs$core$IFn$_invoke$arity$0 = function() {
  var temp__4657__auto__ = (new goog.Uri(window.location.href)).getParameterValue("xpc");
  if (cljs.core.truth_(temp__4657__auto__)) {
    var config = temp__4657__auto__;
    return new goog.net.xpc.CrossPageChannel(goog.json.parse(config));
  } else {
    return null;
  }
};
clojure.browser.net.xpc_connection.cljs$core$IFn$_invoke$arity$1 = function(config) {
  return new goog.net.xpc.CrossPageChannel(cljs.core.reduce.call(null, function(sum, p__12624) {
    var vec__12625 = p__12624;
    var k = cljs.core.nth.call(null, vec__12625, 0, null);
    var v = cljs.core.nth.call(null, vec__12625, 1, null);
    var temp__4655__auto__ = cljs.core.get.call(null, clojure.browser.net.xpc_config_fields, k);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var field = temp__4655__auto__;
      var G__12626 = sum;
      G__12626[field] = v;
      return G__12626;
    } else {
      return sum;
    }
  }, {}, config));
};
clojure.browser.net.xpc_connection.cljs$lang$maxFixedArity = 1;
clojure.browser.net.IWebSocket = function() {
};
clojure.browser.net.open_QMARK_ = function clojure$browser$net$open_QMARK_(this$) {
  if (!(this$ == null) && !(this$.clojure$browser$net$IWebSocket$open_QMARK_$arity$1 == null)) {
    return this$.clojure$browser$net$IWebSocket$open_QMARK_$arity$1(this$);
  } else {
    var x__6811__auto__ = this$ == null ? null : this$;
    var m__6812__auto__ = clojure.browser.net.open_QMARK_[goog.typeOf(x__6811__auto__)];
    if (!(m__6812__auto__ == null)) {
      return m__6812__auto__.call(null, this$);
    } else {
      var m__6812__auto____$1 = clojure.browser.net.open_QMARK_["_"];
      if (!(m__6812__auto____$1 == null)) {
        return m__6812__auto____$1.call(null, this$);
      } else {
        throw cljs.core.missing_protocol.call(null, "IWebSocket.open?", this$);
      }
    }
  }
};
goog.net.WebSocket.prototype.clojure$browser$net$IWebSocket$ = true;
goog.net.WebSocket.prototype.clojure$browser$net$IWebSocket$open_QMARK_$arity$1 = function(this$) {
  var this$__$1 = this;
  return this$__$1.isOpen(cljs.core.List.EMPTY);
};
goog.net.WebSocket.prototype.clojure$browser$net$IConnection$ = true;
goog.net.WebSocket.prototype.clojure$browser$net$IConnection$connect$arity$2 = function(this$, url) {
  var this$__$1 = this;
  return clojure.browser.net.connect.call(null, this$__$1, url, null);
};
goog.net.WebSocket.prototype.clojure$browser$net$IConnection$connect$arity$3 = function(this$, url, protocol) {
  var this$__$1 = this;
  return this$__$1.open(url, protocol);
};
goog.net.WebSocket.prototype.clojure$browser$net$IConnection$transmit$arity$2 = function(this$, message) {
  var this$__$1 = this;
  return this$__$1.send(message);
};
goog.net.WebSocket.prototype.clojure$browser$net$IConnection$close$arity$1 = function(this$) {
  var this$__$1 = this;
  return this$__$1.close(cljs.core.List.EMPTY);
};
goog.net.WebSocket.prototype.clojure$browser$event$IEventType$ = true;
goog.net.WebSocket.prototype.clojure$browser$event$IEventType$event_types$arity$1 = function(this$) {
  var this$__$1 = this;
  return cljs.core.into.call(null, cljs.core.PersistentArrayMap.EMPTY, cljs.core.map.call(null, function(this$__$1) {
    return function(p__12633) {
      var vec__12634 = p__12633;
      var k = cljs.core.nth.call(null, vec__12634, 0, null);
      var v = cljs.core.nth.call(null, vec__12634, 1, null);
      return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.call(null, k.toLowerCase()), v], null);
    };
  }(this$__$1), cljs.core.merge.call(null, cljs.core.js__GT_clj.call(null, goog.net.WebSocket.EventType))));
};
clojure.browser.net.websocket_connection = function clojure$browser$net$websocket_connection(var_args) {
  var args12635 = [];
  var len__7214__auto___12638 = arguments.length;
  var i__7215__auto___12639 = 0;
  while (true) {
    if (i__7215__auto___12639 < len__7214__auto___12638) {
      args12635.push(arguments[i__7215__auto___12639]);
      var G__12640 = i__7215__auto___12639 + 1;
      i__7215__auto___12639 = G__12640;
      continue;
    } else {
    }
    break;
  }
  var G__12637 = args12635.length;
  switch(G__12637) {
    case 0:
      return clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$0();
      break;
    case 1:
      return clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$1(arguments[0]);
      break;
    case 2:
      return clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args12635.length)].join(""));;
  }
};
clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$0 = function() {
  return clojure.browser.net.websocket_connection.call(null, null, null);
};
clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$1 = function(auto_reconnect_QMARK_) {
  return clojure.browser.net.websocket_connection.call(null, auto_reconnect_QMARK_, null);
};
clojure.browser.net.websocket_connection.cljs$core$IFn$_invoke$arity$2 = function(auto_reconnect_QMARK_, next_reconnect_fn) {
  return new goog.net.WebSocket(auto_reconnect_QMARK_, next_reconnect_fn);
};
clojure.browser.net.websocket_connection.cljs$lang$maxFixedArity = 2;
goog.provide("cljs.repl");
goog.require("cljs.core");
cljs.repl.print_doc = function cljs$repl$print_doc(m) {
  cljs.core.println.call(null, "-------------------------");
  cljs.core.println.call(null, [cljs.core.str(function() {
    var temp__4657__auto__ = (new cljs.core.Keyword(null, "ns", "ns", 441598760)).cljs$core$IFn$_invoke$arity$1(m);
    if (cljs.core.truth_(temp__4657__auto__)) {
      var ns = temp__4657__auto__;
      return [cljs.core.str(ns), cljs.core.str("/")].join("");
    } else {
      return null;
    }
  }()), cljs.core.str((new cljs.core.Keyword(null, "name", "name", 1843675177)).cljs$core$IFn$_invoke$arity$1(m))].join(""));
  if (cljs.core.truth_((new cljs.core.Keyword(null, "protocol", "protocol", 652470118)).cljs$core$IFn$_invoke$arity$1(m))) {
    cljs.core.println.call(null, "Protocol");
  } else {
  }
  if (cljs.core.truth_((new cljs.core.Keyword(null, "forms", "forms", 2045992350)).cljs$core$IFn$_invoke$arity$1(m))) {
    var seq__13316_13330 = cljs.core.seq.call(null, (new cljs.core.Keyword(null, "forms", "forms", 2045992350)).cljs$core$IFn$_invoke$arity$1(m));
    var chunk__13317_13331 = null;
    var count__13318_13332 = 0;
    var i__13319_13333 = 0;
    while (true) {
      if (i__13319_13333 < count__13318_13332) {
        var f_13334 = cljs.core._nth.call(null, chunk__13317_13331, i__13319_13333);
        cljs.core.println.call(null, "  ", f_13334);
        var G__13335 = seq__13316_13330;
        var G__13336 = chunk__13317_13331;
        var G__13337 = count__13318_13332;
        var G__13338 = i__13319_13333 + 1;
        seq__13316_13330 = G__13335;
        chunk__13317_13331 = G__13336;
        count__13318_13332 = G__13337;
        i__13319_13333 = G__13338;
        continue;
      } else {
        var temp__4657__auto___13339 = cljs.core.seq.call(null, seq__13316_13330);
        if (temp__4657__auto___13339) {
          var seq__13316_13340__$1 = temp__4657__auto___13339;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__13316_13340__$1)) {
            var c__6959__auto___13341 = cljs.core.chunk_first.call(null, seq__13316_13340__$1);
            var G__13342 = cljs.core.chunk_rest.call(null, seq__13316_13340__$1);
            var G__13343 = c__6959__auto___13341;
            var G__13344 = cljs.core.count.call(null, c__6959__auto___13341);
            var G__13345 = 0;
            seq__13316_13330 = G__13342;
            chunk__13317_13331 = G__13343;
            count__13318_13332 = G__13344;
            i__13319_13333 = G__13345;
            continue;
          } else {
            var f_13346 = cljs.core.first.call(null, seq__13316_13340__$1);
            cljs.core.println.call(null, "  ", f_13346);
            var G__13347 = cljs.core.next.call(null, seq__13316_13340__$1);
            var G__13348 = null;
            var G__13349 = 0;
            var G__13350 = 0;
            seq__13316_13330 = G__13347;
            chunk__13317_13331 = G__13348;
            count__13318_13332 = G__13349;
            i__13319_13333 = G__13350;
            continue;
          }
        } else {
        }
      }
      break;
    }
  } else {
    if (cljs.core.truth_((new cljs.core.Keyword(null, "arglists", "arglists", 1661989754)).cljs$core$IFn$_invoke$arity$1(m))) {
      var arglists_13351 = (new cljs.core.Keyword(null, "arglists", "arglists", 1661989754)).cljs$core$IFn$_invoke$arity$1(m);
      if (cljs.core.truth_(function() {
        var or__6156__auto__ = (new cljs.core.Keyword(null, "macro", "macro", -867863404)).cljs$core$IFn$_invoke$arity$1(m);
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return (new cljs.core.Keyword(null, "repl-special-function", "repl-special-function", 1262603725)).cljs$core$IFn$_invoke$arity$1(m);
        }
      }())) {
        cljs.core.prn.call(null, arglists_13351);
      } else {
        cljs.core.prn.call(null, cljs.core._EQ_.call(null, new cljs.core.Symbol(null, "quote", "quote", 1377916282, null), cljs.core.first.call(null, arglists_13351)) ? cljs.core.second.call(null, arglists_13351) : arglists_13351);
      }
    } else {
    }
  }
  if (cljs.core.truth_((new cljs.core.Keyword(null, "special-form", "special-form", -1326536374)).cljs$core$IFn$_invoke$arity$1(m))) {
    cljs.core.println.call(null, "Special Form");
    cljs.core.println.call(null, " ", (new cljs.core.Keyword(null, "doc", "doc", 1913296891)).cljs$core$IFn$_invoke$arity$1(m));
    if (cljs.core.contains_QMARK_.call(null, m, new cljs.core.Keyword(null, "url", "url", 276297046))) {
      if (cljs.core.truth_((new cljs.core.Keyword(null, "url", "url", 276297046)).cljs$core$IFn$_invoke$arity$1(m))) {
        return cljs.core.println.call(null, [cljs.core.str("\n  Please see http://clojure.org/"), cljs.core.str((new cljs.core.Keyword(null, "url", "url", 276297046)).cljs$core$IFn$_invoke$arity$1(m))].join(""));
      } else {
        return null;
      }
    } else {
      return cljs.core.println.call(null, [cljs.core.str("\n  Please see http://clojure.org/special_forms#"), cljs.core.str((new cljs.core.Keyword(null, "name", "name", 1843675177)).cljs$core$IFn$_invoke$arity$1(m))].join(""));
    }
  } else {
    if (cljs.core.truth_((new cljs.core.Keyword(null, "macro", "macro", -867863404)).cljs$core$IFn$_invoke$arity$1(m))) {
      cljs.core.println.call(null, "Macro");
    } else {
    }
    if (cljs.core.truth_((new cljs.core.Keyword(null, "repl-special-function", "repl-special-function", 1262603725)).cljs$core$IFn$_invoke$arity$1(m))) {
      cljs.core.println.call(null, "REPL Special Function");
    } else {
    }
    cljs.core.println.call(null, " ", (new cljs.core.Keyword(null, "doc", "doc", 1913296891)).cljs$core$IFn$_invoke$arity$1(m));
    if (cljs.core.truth_((new cljs.core.Keyword(null, "protocol", "protocol", 652470118)).cljs$core$IFn$_invoke$arity$1(m))) {
      var seq__13320 = cljs.core.seq.call(null, (new cljs.core.Keyword(null, "methods", "methods", 453930866)).cljs$core$IFn$_invoke$arity$1(m));
      var chunk__13321 = null;
      var count__13322 = 0;
      var i__13323 = 0;
      while (true) {
        if (i__13323 < count__13322) {
          var vec__13324 = cljs.core._nth.call(null, chunk__13321, i__13323);
          var name = cljs.core.nth.call(null, vec__13324, 0, null);
          var map__13325 = cljs.core.nth.call(null, vec__13324, 1, null);
          var map__13325__$1 = (!(map__13325 == null) ? map__13325.cljs$lang$protocol_mask$partition0$ & 64 || map__13325.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__13325) : map__13325;
          var doc = cljs.core.get.call(null, map__13325__$1, new cljs.core.Keyword(null, "doc", "doc", 1913296891));
          var arglists = cljs.core.get.call(null, map__13325__$1, new cljs.core.Keyword(null, "arglists", "arglists", 1661989754));
          cljs.core.println.call(null);
          cljs.core.println.call(null, " ", name);
          cljs.core.println.call(null, " ", arglists);
          if (cljs.core.truth_(doc)) {
            cljs.core.println.call(null, " ", doc);
          } else {
          }
          var G__13352 = seq__13320;
          var G__13353 = chunk__13321;
          var G__13354 = count__13322;
          var G__13355 = i__13323 + 1;
          seq__13320 = G__13352;
          chunk__13321 = G__13353;
          count__13322 = G__13354;
          i__13323 = G__13355;
          continue;
        } else {
          var temp__4657__auto__ = cljs.core.seq.call(null, seq__13320);
          if (temp__4657__auto__) {
            var seq__13320__$1 = temp__4657__auto__;
            if (cljs.core.chunked_seq_QMARK_.call(null, seq__13320__$1)) {
              var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__13320__$1);
              var G__13356 = cljs.core.chunk_rest.call(null, seq__13320__$1);
              var G__13357 = c__6959__auto__;
              var G__13358 = cljs.core.count.call(null, c__6959__auto__);
              var G__13359 = 0;
              seq__13320 = G__13356;
              chunk__13321 = G__13357;
              count__13322 = G__13358;
              i__13323 = G__13359;
              continue;
            } else {
              var vec__13327 = cljs.core.first.call(null, seq__13320__$1);
              var name = cljs.core.nth.call(null, vec__13327, 0, null);
              var map__13328 = cljs.core.nth.call(null, vec__13327, 1, null);
              var map__13328__$1 = (!(map__13328 == null) ? map__13328.cljs$lang$protocol_mask$partition0$ & 64 || map__13328.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__13328) : map__13328;
              var doc = cljs.core.get.call(null, map__13328__$1, new cljs.core.Keyword(null, "doc", "doc", 1913296891));
              var arglists = cljs.core.get.call(null, map__13328__$1, new cljs.core.Keyword(null, "arglists", "arglists", 1661989754));
              cljs.core.println.call(null);
              cljs.core.println.call(null, " ", name);
              cljs.core.println.call(null, " ", arglists);
              if (cljs.core.truth_(doc)) {
                cljs.core.println.call(null, " ", doc);
              } else {
              }
              var G__13360 = cljs.core.next.call(null, seq__13320__$1);
              var G__13361 = null;
              var G__13362 = 0;
              var G__13363 = 0;
              seq__13320 = G__13360;
              chunk__13321 = G__13361;
              count__13322 = G__13362;
              i__13323 = G__13363;
              continue;
            }
          } else {
            return null;
          }
        }
        break;
      }
    } else {
      return null;
    }
  }
};
goog.provide("clojure.browser.repl");
goog.require("cljs.core");
goog.require("goog.dom");
goog.require("goog.userAgent.product");
goog.require("goog.array");
goog.require("goog.object");
goog.require("clojure.browser.net");
goog.require("clojure.browser.event");
goog.require("cljs.repl");
clojure.browser.repl.xpc_connection = cljs.core.atom.call(null, null);
clojure.browser.repl.print_queue = [];
clojure.browser.repl.flush_print_queue_BANG_ = function clojure$browser$repl$flush_print_queue_BANG_(conn) {
  var seq__13370_13374 = cljs.core.seq.call(null, clojure.browser.repl.print_queue);
  var chunk__13371_13375 = null;
  var count__13372_13376 = 0;
  var i__13373_13377 = 0;
  while (true) {
    if (i__13373_13377 < count__13372_13376) {
      var str_13378 = cljs.core._nth.call(null, chunk__13371_13375, i__13373_13377);
      clojure.browser.net.transmit.call(null, conn, new cljs.core.Keyword(null, "print", "print", 1299562414), str_13378);
      var G__13379 = seq__13370_13374;
      var G__13380 = chunk__13371_13375;
      var G__13381 = count__13372_13376;
      var G__13382 = i__13373_13377 + 1;
      seq__13370_13374 = G__13379;
      chunk__13371_13375 = G__13380;
      count__13372_13376 = G__13381;
      i__13373_13377 = G__13382;
      continue;
    } else {
      var temp__4657__auto___13383 = cljs.core.seq.call(null, seq__13370_13374);
      if (temp__4657__auto___13383) {
        var seq__13370_13384__$1 = temp__4657__auto___13383;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__13370_13384__$1)) {
          var c__6959__auto___13385 = cljs.core.chunk_first.call(null, seq__13370_13384__$1);
          var G__13386 = cljs.core.chunk_rest.call(null, seq__13370_13384__$1);
          var G__13387 = c__6959__auto___13385;
          var G__13388 = cljs.core.count.call(null, c__6959__auto___13385);
          var G__13389 = 0;
          seq__13370_13374 = G__13386;
          chunk__13371_13375 = G__13387;
          count__13372_13376 = G__13388;
          i__13373_13377 = G__13389;
          continue;
        } else {
          var str_13390 = cljs.core.first.call(null, seq__13370_13384__$1);
          clojure.browser.net.transmit.call(null, conn, new cljs.core.Keyword(null, "print", "print", 1299562414), str_13390);
          var G__13391 = cljs.core.next.call(null, seq__13370_13384__$1);
          var G__13392 = null;
          var G__13393 = 0;
          var G__13394 = 0;
          seq__13370_13374 = G__13391;
          chunk__13371_13375 = G__13392;
          count__13372_13376 = G__13393;
          i__13373_13377 = G__13394;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return goog.array.clear(clojure.browser.repl.print_queue);
};
clojure.browser.repl.repl_print = function clojure$browser$repl$repl_print(data) {
  clojure.browser.repl.print_queue.push(cljs.core.pr_str.call(null, data));
  var temp__4657__auto__ = cljs.core.deref.call(null, clojure.browser.repl.xpc_connection);
  if (cljs.core.truth_(temp__4657__auto__)) {
    var conn = temp__4657__auto__;
    return clojure.browser.repl.flush_print_queue_BANG_.call(null, conn);
  } else {
    return null;
  }
};
cljs.core._STAR_print_fn_STAR_ = clojure.browser.repl.repl_print;
cljs.core._STAR_print_err_fn_STAR_ = clojure.browser.repl.repl_print;
cljs.core._STAR_print_newline_STAR_ = true;
clojure.browser.repl.get_ua_product = function clojure$browser$repl$get_ua_product() {
  if (cljs.core.truth_(goog.userAgent.product.SAFARI)) {
    return new cljs.core.Keyword(null, "safari", "safari", 497115653);
  } else {
    if (cljs.core.truth_(goog.userAgent.product.CHROME)) {
      return new cljs.core.Keyword(null, "chrome", "chrome", 1718738387);
    } else {
      if (cljs.core.truth_(goog.userAgent.product.FIREFOX)) {
        return new cljs.core.Keyword(null, "firefox", "firefox", 1283768880);
      } else {
        if (cljs.core.truth_(goog.userAgent.product.IE)) {
          return new cljs.core.Keyword(null, "ie", "ie", 2038473780);
        } else {
          return null;
        }
      }
    }
  }
};
clojure.browser.repl.evaluate_javascript = function clojure$browser$repl$evaluate_javascript(conn, block) {
  var result = function() {
    try {
      return new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "status", "status", -1997798413), new cljs.core.Keyword(null, "success", "success", 1890645906), new cljs.core.Keyword(null, "value", "value", 305978217), [cljs.core.str(eval(block))].join("")], null);
    } catch (e13396) {
      var e = e13396;
      return new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null, "status", "status", -1997798413), new cljs.core.Keyword(null, "exception", "exception", -335277064), new cljs.core.Keyword(null, "ua-product", "ua-product", 938384227), clojure.browser.repl.get_ua_product.call(null), new cljs.core.Keyword(null, "value", "value", 305978217), [cljs.core.str(e)].join(""), new cljs.core.Keyword(null, "stacktrace", "stacktrace", -95588394), cljs.core.truth_(e.hasOwnProperty("stack")) ? 
      e.stack : "No stacktrace available."], null);
    }
  }();
  return cljs.core.pr_str.call(null, result);
};
clojure.browser.repl.send_result = function clojure$browser$repl$send_result(connection, url, data) {
  return clojure.browser.net.transmit.call(null, connection, url, "POST", data, null, 0);
};
clojure.browser.repl.send_print = function clojure$browser$repl$send_print(var_args) {
  var args13397 = [];
  var len__7214__auto___13400 = arguments.length;
  var i__7215__auto___13401 = 0;
  while (true) {
    if (i__7215__auto___13401 < len__7214__auto___13400) {
      args13397.push(arguments[i__7215__auto___13401]);
      var G__13402 = i__7215__auto___13401 + 1;
      i__7215__auto___13401 = G__13402;
      continue;
    } else {
    }
    break;
  }
  var G__13399 = args13397.length;
  switch(G__13399) {
    case 2:
      return clojure.browser.repl.send_print.cljs$core$IFn$_invoke$arity$2(arguments[0], arguments[1]);
      break;
    case 3:
      return clojure.browser.repl.send_print.cljs$core$IFn$_invoke$arity$3(arguments[0], arguments[1], arguments[2]);
      break;
    default:
      throw new Error([cljs.core.str("Invalid arity: "), cljs.core.str(args13397.length)].join(""));;
  }
};
clojure.browser.repl.send_print.cljs$core$IFn$_invoke$arity$2 = function(url, data) {
  return clojure.browser.repl.send_print.call(null, url, data, 0);
};
clojure.browser.repl.send_print.cljs$core$IFn$_invoke$arity$3 = function(url, data, n) {
  var conn = clojure.browser.net.xhr_connection.call(null);
  clojure.browser.event.listen.call(null, conn, new cljs.core.Keyword(null, "error", "error", -978969032), function(conn) {
    return function(_) {
      if (n < 10) {
        return clojure.browser.repl.send_print.call(null, url, data, n + 1);
      } else {
        return console.log([cljs.core.str("Could not send "), cljs.core.str(data), cljs.core.str(" after "), cljs.core.str(n), cljs.core.str(" attempts.")].join(""));
      }
    };
  }(conn));
  return clojure.browser.net.transmit.call(null, conn, url, "POST", data, null, 0);
};
clojure.browser.repl.send_print.cljs$lang$maxFixedArity = 3;
clojure.browser.repl.order = cljs.core.atom.call(null, 0);
clojure.browser.repl.wrap_message = function clojure$browser$repl$wrap_message(t, data) {
  return cljs.core.pr_str.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "type", "type", 1174270348), t, new cljs.core.Keyword(null, "content", "content", 15833224), data, new cljs.core.Keyword(null, "order", "order", -1254677256), cljs.core.swap_BANG_.call(null, clojure.browser.repl.order, cljs.core.inc)], null));
};
clojure.browser.repl.start_evaluator = function clojure$browser$repl$start_evaluator(url) {
  var temp__4655__auto__ = clojure.browser.net.xpc_connection.call(null);
  if (cljs.core.truth_(temp__4655__auto__)) {
    var repl_connection = temp__4655__auto__;
    var connection = clojure.browser.net.xhr_connection.call(null);
    clojure.browser.event.listen.call(null, connection, new cljs.core.Keyword(null, "success", "success", 1890645906), function(connection, repl_connection, temp__4655__auto__) {
      return function(e) {
        return clojure.browser.net.transmit.call(null, repl_connection, new cljs.core.Keyword(null, "evaluate-javascript", "evaluate-javascript", -315749780), e.currentTarget.getResponseText(cljs.core.List.EMPTY));
      };
    }(connection, repl_connection, temp__4655__auto__));
    clojure.browser.net.register_service.call(null, repl_connection, new cljs.core.Keyword(null, "send-result", "send-result", 35388249), function(connection, repl_connection, temp__4655__auto__) {
      return function(data) {
        return clojure.browser.repl.send_result.call(null, connection, url, clojure.browser.repl.wrap_message.call(null, new cljs.core.Keyword(null, "result", "result", 1415092211), data));
      };
    }(connection, repl_connection, temp__4655__auto__));
    clojure.browser.net.register_service.call(null, repl_connection, new cljs.core.Keyword(null, "print", "print", 1299562414), function(connection, repl_connection, temp__4655__auto__) {
      return function(data) {
        return clojure.browser.repl.send_print.call(null, url, clojure.browser.repl.wrap_message.call(null, new cljs.core.Keyword(null, "print", "print", 1299562414), data));
      };
    }(connection, repl_connection, temp__4655__auto__));
    clojure.browser.net.connect.call(null, repl_connection, cljs.core.constantly.call(null, null));
    return setTimeout(function(connection, repl_connection, temp__4655__auto__) {
      return function() {
        return clojure.browser.repl.send_result.call(null, connection, url, clojure.browser.repl.wrap_message.call(null, new cljs.core.Keyword(null, "ready", "ready", 1086465795), "ready"));
      };
    }(connection, repl_connection, temp__4655__auto__), 50);
  } else {
    return alert("No 'xpc' param provided to child iframe.");
  }
};
clojure.browser.repl.load_queue = null;
clojure.browser.repl.bootstrap = function clojure$browser$repl$bootstrap() {
  if (cljs.core.truth_(COMPILED)) {
    return null;
  } else {
    goog.require__ = goog.require;
    goog.isProvided_ = function(name) {
      return false;
    };
    goog.constructNamespace_("cljs.user");
    goog.writeScriptTag__ = function(src, opt_sourceText) {
      var loaded = cljs.core.atom.call(null, false);
      var onload = function(loaded) {
        return function() {
          if (cljs.core.truth_(function() {
            var and__6144__auto__ = clojure.browser.repl.load_queue;
            if (cljs.core.truth_(and__6144__auto__)) {
              return cljs.core.deref.call(null, loaded) === false;
            } else {
              return and__6144__auto__;
            }
          }())) {
            cljs.core.swap_BANG_.call(null, loaded, cljs.core.not);
            if (clojure.browser.repl.load_queue.length === 0) {
              return clojure.browser.repl.load_queue = null;
            } else {
              return goog.writeScriptTag__.apply(null, clojure.browser.repl.load_queue.shift());
            }
          } else {
            return null;
          }
        };
      }(loaded);
      return document.body.appendChild(function() {
        var script = document.createElement("script");
        var script__$1 = function() {
          var G__13407 = script;
          goog.object.set(G__13407, "type", "text/javascript");
          goog.object.set(G__13407, "onload", onload);
          goog.object.set(G__13407, "onreadystatechange", onload);
          return G__13407;
        }();
        if (opt_sourceText == null) {
          var G__13408 = script__$1;
          goog.object.set(G__13408, "src", src);
          return G__13408;
        } else {
          var G__13409 = script__$1;
          goog.dom.setTextContext(G__13409, opt_sourceText);
          return G__13409;
        }
      }());
    };
    goog.writeScriptTag_ = function(src, opt_sourceText) {
      if (cljs.core.truth_(clojure.browser.repl.load_queue)) {
        return clojure.browser.repl.load_queue.push([src, opt_sourceText]);
      } else {
        clojure.browser.repl.load_queue = [];
        return goog.writeScriptTag__(src, opt_sourceText);
      }
    };
    return goog.require = function(src, reload) {
      if (cljs.core._EQ_.call(null, reload, "reload-all")) {
        goog.cljsReloadAll_ = true;
      } else {
      }
      var reload_QMARK_ = function() {
        var or__6156__auto__ = reload;
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return goog.cljsReloadAll__;
        }
      }();
      if (cljs.core.truth_(reload_QMARK_)) {
        var path_13410 = goog.dependencies_.nameToPath[src];
        goog.object.remove(goog.dependencies_.visited, path_13410);
        goog.object.remove(goog.dependencies_.written, path_13410);
        goog.object.remove(goog.dependencies_.written, [cljs.core.str(goog.basePath), cljs.core.str(path_13410)].join(""));
      } else {
      }
      var ret = goog.require__(src);
      if (cljs.core._EQ_.call(null, reload, "reload-all")) {
        goog.cljsReloadAll_ = false;
      } else {
      }
      return ret;
    };
  }
};
clojure.browser.repl.connect = function clojure$browser$repl$connect(repl_server_url) {
  var repl_connection = clojure.browser.net.xpc_connection.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "peer_uri", "peer_uri", 910305997), repl_server_url], null));
  cljs.core.swap_BANG_.call(null, clojure.browser.repl.xpc_connection, cljs.core.constantly.call(null, repl_connection));
  clojure.browser.net.register_service.call(null, repl_connection, new cljs.core.Keyword(null, "evaluate-javascript", "evaluate-javascript", -315749780), function(repl_connection) {
    return function(js) {
      return clojure.browser.net.transmit.call(null, repl_connection, new cljs.core.Keyword(null, "send-result", "send-result", 35388249), clojure.browser.repl.evaluate_javascript.call(null, repl_connection, js));
    };
  }(repl_connection));
  clojure.browser.net.connect.call(null, repl_connection, cljs.core.constantly.call(null, null), function(repl_connection) {
    return function(iframe) {
      return iframe.style.display = "none";
    };
  }(repl_connection));
  clojure.browser.repl.bootstrap.call(null);
  return repl_connection;
};
goog.provide("kuroi.backend");
goog.require("cljs.core");
goog.require("kuroi.filters");
goog.require("kuroi.settings");
goog.require("kuroi.io");
goog.require("kuroi.page_parser");
goog.require("kuroi.render");
goog.require("clojure.string");
goog.require("cljs.reader");
kuroi.backend._STAR_forget_queue_size_STAR_ = 100;
kuroi.backend.the_list_is_empty = '\x3cdiv class\x3d"load-indicator"\x3eThe list is empty\x3c/div\x3e';
kuroi.backend.distinct_by = function kuroi$backend$distinct_by(f, coll) {
  var xs = coll;
  var out = cljs.core.PersistentVector.EMPTY;
  var seen = cljs.core.PersistentHashSet.EMPTY;
  while (true) {
    var x = cljs.core.first.call(null, xs);
    var p = f.call(null, x);
    if (cljs.core.truth_(x)) {
      var G__9620 = cljs.core.rest.call(null, xs);
      var G__9621 = cljs.core.truth_(seen.call(null, p)) ? out : cljs.core.conj.call(null, out, x);
      var G__9622 = cljs.core.conj.call(null, seen, p);
      xs = G__9620;
      out = G__9621;
      seen = G__9622;
      continue;
    } else {
      return out;
    }
    break;
  }
};
kuroi.backend.make_target = function kuroi$backend$make_target(url) {
  var settings = kuroi.settings.get_for.call(null, null);
  var addr = cljs.core.re_find.call(null, /(.*:\/\/)?(([^\/]+)\/([a-zA-Z0-9-]+))(.*)/, url);
  var protocol = cljs.core.truth_(cljs.core.get.call(null, addr, 1)) ? cljs.core.get.call(null, addr, 1) : "chan://";
  var domain = cljs.core.get.call(null, addr, 3);
  var board = cljs.core.get.call(null, addr, 4);
  var trade = cljs.core.truth_(addr) ? cljs.core.re_find.call(null, /[^.]+\.[^.]+$/, domain) : url;
  var forum = [cljs.core.str(trade), cljs.core.str("/"), cljs.core.str(board)].join("");
  var defaults = (new cljs.core.Keyword(null, "default-params-map", "default-params-map", 1393263443)).cljs$core$IFn$_invoke$arity$1(settings);
  var url__$1 = function() {
    var temp__4655__auto__ = function() {
      var and__6144__auto__ = defaults;
      if (cljs.core.truth_(and__6144__auto__)) {
        return defaults.call(null, forum);
      } else {
        return and__6144__auto__;
      }
    }();
    if (cljs.core.truth_(temp__4655__auto__)) {
      var forum_defaults = temp__4655__auto__;
      return [cljs.core.str(url), cljs.core.str(forum_defaults)].join("");
    } else {
      return url;
    }
  }();
  var pages = cljs.core.get.call(null, cljs.core.re_find.call(null, /:(\d+)p/, url__$1), 1);
  var refresh = cljs.core.get.call(null, cljs.core.re_find.call(null, /:(\d+)r/, url__$1), 1);
  var replies = cljs.core.get.call(null, cljs.core.re_find.call(null, /:(\d+)v/, url__$1), 1);
  var term = cljs.core.get.call(null, cljs.core.re_find.call(null, /:search\{([^}]+)\}/, url__$1), 1);
  var hdlns = url__$1.indexOf(":hdlns") >= 0;
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = domain;
    if (cljs.core.truth_(and__6144__auto__)) {
      return board;
    } else {
      return and__6144__auto__;
    }
  }())) {
    return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null, "refresh", "refresh", 1947415525), new cljs.core.Keyword(null, "txt", "txt", 626843688), new cljs.core.Keyword(null, "forum", "forum", -1484914360), new cljs.core.Keyword(null, "new", "new", -2085437848), new cljs.core.Keyword(null, "bypass", "bypass", -694667221), new cljs.core.Keyword(null, "params", "params", 710516235), new cljs.core.Keyword(null, "hdlns", "hdlns", 1319708620), new cljs.core.Keyword(null, "rev", "rev", 
    12702670), new cljs.core.Keyword(null, "trade", "trade", 123337743), new cljs.core.Keyword(null, "pages", "pages", -285406513), new cljs.core.Keyword(null, "prefix", "prefix", -265908465), new cljs.core.Keyword(null, "sortid", "sortid", -1619197231), new cljs.core.Keyword(null, "filter", "filter", -948537934), new cljs.core.Keyword(null, "replies", "replies", -1389888974), new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011), new cljs.core.Keyword(null, "chain", "chain", 15631029), 
    new cljs.core.Keyword(null, "url", "url", 276297046), new cljs.core.Keyword(null, "prox", "prox", 412384983), new cljs.core.Keyword(null, "domain", "domain", 1847214937), new cljs.core.Keyword(null, "target", "target", 253001721), new cljs.core.Keyword(null, "first", "first", -644103046), new cljs.core.Keyword(null, "deep", "deep", 2090866875), new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628), new cljs.core.Keyword(null, "scheme", "scheme", 90199613), new cljs.core.Keyword(null, 
    "img", "img", 1442687358), new cljs.core.Keyword(null, "kraut", "kraut", 1016154782), new cljs.core.Keyword(null, "board", "board", -1907017633)], [cljs.core.truth_(refresh) ? parseInt(refresh) : 2, url__$1.indexOf(":txt") >= 0 && !(url__$1.indexOf(":!txt") >= 0), forum, url__$1.indexOf(":new") >= 0 && !(url__$1.indexOf(":!new") >= 0), url__$1.indexOf(":bypass") >= 0, cljs.core.get.call(null, addr, 5), hdlns, url__$1.indexOf(":rev") >= 0 && !(url__$1.indexOf(":!rev") >= 0), trade, cljs.core.truth_(pages) ? 
    parseInt(pages) : 5, [cljs.core.str(trade), cljs.core.str("-"), cljs.core.str(board), cljs.core.str("-")].join(""), url__$1.indexOf(":sortid") >= 0 && !(url__$1.indexOf(":!sortid") >= 0), cljs.core.truth_(term) ? term.toLowerCase() : null, hdlns ? 0 : cljs.core.truth_(replies) ? parseInt(replies) : 3, cljs.core._EQ_.call(null, trade, "4chan.org"), url__$1.indexOf(":chain") >= 0, url__$1, url__$1.indexOf(":prox") >= 0, domain, [cljs.core.str("http://"), cljs.core.str(cljs.core.get.call(null, addr, 
    2))].join(""), url__$1.indexOf(":first") >= 0, url__$1.indexOf(":deep") >= 0, protocol.substr(0, protocol.length - 3), "http://", url__$1.indexOf(":img") >= 0 && !(url__$1.indexOf(":!img") >= 0), cljs.core._EQ_.call(null, trade, "krautchan.net"), board]);
  } else {
    return null;
  }
};
kuroi.backend.mark_new_threads = function kuroi$backend$mark_new_threads(last_id, threads) {
  var old_id = parseInt(last_id);
  var first_id = parseInt((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null, cljs.core.drop_while.call(null, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), threads))));
  var proceed = cljs.core.atom.call(null, false);
  var threads__$1 = old_id >= first_id ? threads : function() {
    var ths = threads;
    var out = cljs.core.PersistentVector.EMPTY;
    while (true) {
      var temp__4655__auto__ = cljs.core.first.call(null, ths);
      if (cljs.core.truth_(temp__4655__auto__)) {
        var th = temp__4655__auto__;
        if (cljs.core.truth_(cljs.core.deref.call(null, proceed))) {
          var G__9623 = cljs.core.next.call(null, ths);
          var G__9624 = cljs.core.conj.call(null, out, th);
          ths = G__9623;
          out = G__9624;
          continue;
        } else {
          var id = parseInt((new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null, cljs.core.next.call(null, ths))));
          if (cljs.core.not.call(null, (new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352)).cljs$core$IFn$_invoke$arity$1(th)) && old_id > id) {
            cljs.core.reset_BANG_.call(null, proceed, true);
            var G__9625 = cljs.core.next.call(null, ths);
            var G__9626 = cljs.core.conj.call(null, out, cljs.core.assoc.call(null, th, new cljs.core.Keyword(null, "boundary", "boundary", -2000996754), true));
            ths = G__9625;
            out = G__9626;
            continue;
          } else {
            var G__9627 = cljs.core.next.call(null, ths);
            var G__9628 = cljs.core.conj.call(null, out, th);
            ths = G__9627;
            out = G__9628;
            continue;
          }
        }
      } else {
        return out;
      }
      break;
    }
  }();
  var ths = threads__$1;
  var out = cljs.core.PersistentVector.EMPTY;
  while (true) {
    var temp__4655__auto__ = cljs.core.first.call(null, ths);
    if (cljs.core.truth_(temp__4655__auto__)) {
      var th = temp__4655__auto__;
      if (cljs.core.truth_((new cljs.core.Keyword(null, "boundary", "boundary", -2000996754)).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null, cljs.core.next.call(null, ths))))) {
        var G__9629 = cljs.core.next.call(null, ths);
        var G__9630 = cljs.core.conj.call(null, out, cljs.core.assoc.call(null, th, new cljs.core.Keyword(null, "pre-boundary", "pre-boundary", -96840585), true));
        ths = G__9629;
        out = G__9630;
        continue;
      } else {
        var G__9631 = cljs.core.next.call(null, ths);
        var G__9632 = cljs.core.conj.call(null, out, th);
        ths = G__9631;
        out = G__9632;
        continue;
      }
    } else {
      return out;
    }
    break;
  }
};
kuroi.backend.load_threads = function kuroi$backend$load_threads(request, callback) {
  var map__9640 = request;
  var map__9640__$1 = (!(map__9640 == null) ? map__9640.cljs$lang$protocol_mask$partition0$ & 64 || map__9640.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9640) : map__9640;
  var target = cljs.core.get.call(null, map__9640__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var key = cljs.core.get.call(null, map__9640__$1, new cljs.core.Keyword(null, "key", "key", -1516042587));
  var end = cljs.core.get.call(null, map__9640__$1, new cljs.core.Keyword(null, "end", "end", -268185958));
  return kuroi.io.get_pages.call(null, kuroi.page_parser.target_pages.call(null, target, key), function(map__9640, map__9640__$1, target, key, end) {
    return function(response) {
      if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
        var pages = (new cljs.core.Keyword(null, "pages", "pages", -285406513)).cljs$core$IFn$_invoke$arity$1(response);
        var meta_page_QMARK_ = kuroi.page_parser.meta_page_url.call(null, target);
        var meta_page = cljs.core.truth_(meta_page_QMARK_) ? cljs.core.first.call(null, pages) : null;
        var pages__$1 = cljs.core.truth_(meta_page_QMARK_) ? cljs.core.rest.call(null, pages) : pages;
        var threads = kuroi.page_parser.parse_page.call(null, cljs.core.first.call(null, pages__$1), target, new cljs.core.Keyword(null, "multiple", "multiple", 1244445549), true, new cljs.core.Keyword(null, "get-metadata", "get-metadata", -1882220607), cljs.core.not.call(null, meta_page_QMARK_) && cljs.core.not.call(null, (new cljs.core.Keyword(null, "subsequent", "subsequent", -753260809)).cljs$core$IFn$_invoke$arity$1(target)));
        var thread_meta = cljs.core.truth_(meta_page_QMARK_) ? kuroi.page_parser.get_page_meta.call(null, meta_page, target) : cljs.core.meta.call(null, threads);
        var threads__$1 = cljs.core.concat.call(null, threads, cljs.core.reduce.call(null, cljs.core.concat, cljs.core.map.call(null, function(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, map__9640, map__9640__$1, target, key, end) {
          return function(p1__9633_SHARP_) {
            return kuroi.page_parser.parse_page.call(null, p1__9633_SHARP_, target, new cljs.core.Keyword(null, "multiple", "multiple", 1244445549), true);
          };
        }(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, map__9640, map__9640__$1, target, key, end), cljs.core.rest.call(null, pages__$1))));
        var threads__$2 = kuroi.backend.distinct_by.call(null, new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), threads__$1);
        var threads__$3 = cljs.core.truth_((new cljs.core.Keyword(null, "rev", "rev", 12702670)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core.reverse.call(null, threads__$2) : threads__$2;
        var return$ = function(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, map__9640, map__9640__$1, target, key, end) {
          return function(p1__9634_SHARP_, p2__9635_SHARP_) {
            return callback.call(null, kuroi.render.threads.call(null, p1__9634_SHARP_, target, end), p2__9635_SHARP_, thread_meta);
          };
        }(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, map__9640, map__9640__$1, target, key, end);
        var return_fail = function(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, map__9640, map__9640__$1, target, key, end) {
          return function(p1__9636_SHARP_) {
            return callback.call(null, null, null, p1__9636_SHARP_);
          };
        }(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, map__9640, map__9640__$1, target, key, end);
        if (cljs.core.truth_(function() {
          var and__6144__auto__ = (new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target);
          if (cljs.core.truth_(and__6144__auto__)) {
            return cljs.core.not.call(null, cljs.core.seq.call(null, threads__$3));
          } else {
            return and__6144__auto__;
          }
        }())) {
          return return_fail.call(null, cljs.core.merge.call(null, thread_meta, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "error", "error", -978969032), "", new cljs.core.Keyword(null, "alert", "alert", -571950580), [cljs.core.str("'"), cljs.core.str((new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("' not found.")].join("")], null)));
        } else {
          if (cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target))) {
            if (cljs.core.seq.call(null, threads__$3)) {
              return return$.call(null, threads__$3, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "images", "images", 1757475080), true, new cljs.core.Keyword(null, "shown", "shown", -1564457683), cljs.core.count.call(null, threads__$3)], null));
            } else {
              return return_fail.call(null, cljs.core.merge.call(null, thread_meta, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "error", "error", -978969032), kuroi.backend.the_list_is_empty], null)));
            }
          } else {
            return kuroi.settings.load_settings.call(null, function(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end) {
              return function(settings) {
                var target__$1 = cljs.core.truth_(function() {
                  var or__6156__auto__ = (new cljs.core.Keyword(null, "txt", "txt", 626843688)).cljs$core$IFn$_invoke$arity$1(target);
                  if (cljs.core.truth_(or__6156__auto__)) {
                    return or__6156__auto__;
                  } else {
                    return (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(settings);
                  }
                }()) ? cljs.core.assoc.call(null, target, new cljs.core.Keyword(null, "force-text", "force-text", 264793469), true) : target;
                return kuroi.filters.filter_threads.call(null, threads__$3, target__$1, function(target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end) {
                  return function(threads__$4, stats) {
                    if (cljs.core.seq.call(null, threads__$4)) {
                      var return$__$1 = function(target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end) {
                        return function(p1__9637_SHARP_) {
                          return callback.call(null, kuroi.render.threads.call(null, p1__9637_SHARP_, target__$1), stats, thread_meta);
                        };
                      }(target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end);
                      if (cljs.core.truth_((new cljs.core.Keyword(null, "sortid", "sortid", -1619197231)).cljs$core$IFn$_invoke$arity$1(target__$1))) {
                        return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), new cljs.core.Symbol(null, "last_id", "last_id", -1722835697, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target__$1), function(return$__$1, target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, 
                        end) {
                          return function(last_id) {
                            kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target__$1), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "last_id", "last_id", 931600072), (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null, cljs.core.drop_while.call(null, new cljs.core.Keyword(null, 
                            "onwatch", "onwatch", 1644678352), threads__$4)))], null));
                            if (cljs.core.truth_(function() {
                              var and__6144__auto__ = last_id;
                              if (cljs.core.truth_(and__6144__auto__)) {
                                return cljs.core.not.call(null, (new cljs.core.Keyword(null, "filter", "filter", -948537934)).cljs$core$IFn$_invoke$arity$1(target__$1));
                              } else {
                                return and__6144__auto__;
                              }
                            }())) {
                              return return$__$1.call(null, kuroi.backend.mark_new_threads.call(null, last_id, threads__$4));
                            } else {
                              return return$__$1.call(null, threads__$4);
                            }
                          };
                        }(return$__$1, target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end));
                      } else {
                        return return$__$1.call(null, threads__$4);
                      }
                    } else {
                      return return_fail.call(null, cljs.core.merge.call(null, thread_meta, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "error", "error", -978969032), kuroi.backend.the_list_is_empty], null)));
                    }
                  };
                }(target__$1, pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end));
              };
            }(pages, meta_page_QMARK_, meta_page, pages__$1, threads, thread_meta, threads__$1, threads__$2, threads__$3, return$, return_fail, map__9640, map__9640__$1, target, key, end));
          }
        }
      } else {
        return callback.call(null, null, null, null);
      }
    };
  }(map__9640, map__9640__$1, target, key, end));
};
kuroi.backend.get_thread_posts = function kuroi$backend$get_thread_posts(request, callback) {
  var map__9644 = request;
  var map__9644__$1 = (!(map__9644 == null) ? map__9644.cljs$lang$protocol_mask$partition0$ & 64 || map__9644.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9644) : map__9644;
  var thread_id = cljs.core.get.call(null, map__9644__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var post_count = cljs.core.get.call(null, map__9644__$1, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588));
  var target = cljs.core.get.call(null, map__9644__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var target__$1 = typeof target === "string" ? kuroi.backend.make_target.call(null, target) : target;
  var thread_url = kuroi.page_parser.thread_url.call(null, thread_id, target__$1);
  return kuroi.io.get_page.call(null, thread_url, function(map__9644, map__9644__$1, thread_id, post_count, target, target__$1, thread_url) {
    return function(response) {
      if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
        return kuroi.settings.load_settings.call(null, function(map__9644, map__9644__$1, thread_id, post_count, target, target__$1, thread_url) {
          return function(settings) {
            var target__$2 = cljs.core.truth_(function() {
              var or__6156__auto__ = (new cljs.core.Keyword(null, "txt", "txt", 626843688)).cljs$core$IFn$_invoke$arity$1(target__$1);
              if (cljs.core.truth_(or__6156__auto__)) {
                return or__6156__auto__;
              } else {
                return (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(settings);
              }
            }()) ? cljs.core.assoc.call(null, target__$1, new cljs.core.Keyword(null, "force-text", "force-text", 264793469), true) : target__$1;
            var thread = kuroi.page_parser.parse_page.call(null, (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response), cljs.core.assoc.call(null, target__$2, new cljs.core.Keyword(null, "replies", "replies", -1389888974), post_count));
            return callback.call(null, kuroi.render.replies.call(null, cljs.core.first.call(null, thread), target__$2));
          };
        }(map__9644, map__9644__$1, thread_id, post_count, target, target__$1, thread_url));
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9644, map__9644__$1, thread_id, post_count, target, target__$1, thread_url));
};
kuroi.backend.thread_cache = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
kuroi.backend.get_popup_post = function kuroi$backend$get_popup_post(request, callback) {
  var map__9650 = request;
  var map__9650__$1 = (!(map__9650 == null) ? map__9650.cljs$lang$protocol_mask$partition0$ & 64 || map__9650.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9650) : map__9650;
  var thread_id = cljs.core.get.call(null, map__9650__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var url = cljs.core.get.call(null, map__9650__$1, new cljs.core.Keyword(null, "url", "url", 276297046));
  var word_filter = cljs.core.get.call(null, map__9650__$1, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909));
  var onwatch = cljs.core.get.call(null, map__9650__$1, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352));
  var target = kuroi.backend.make_target.call(null, url);
  var url__$1 = clojure.string.split.call(null, url, /#/);
  var thread_url = cljs.core.truth_(thread_id) ? kuroi.page_parser.thread_url.call(null, thread_id, target) : cljs.core.first.call(null, url__$1);
  var reply = cljs.core.seq.call(null, cljs.core.second.call(null, url__$1)) ? cljs.core.re_find.call(null, /\d+/, cljs.core.second.call(null, url__$1)) : null;
  var settings = kuroi.settings.get_for.call(null, null);
  var target__$1 = cljs.core.truth_(function() {
    var or__6156__auto__ = (new cljs.core.Keyword(null, "txt", "txt", 626843688)).cljs$core$IFn$_invoke$arity$1(target);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(settings);
    }
  }()) ? cljs.core.assoc.call(null, target, new cljs.core.Keyword(null, "force-text", "force-text", 264793469), true) : target;
  var get_thread = function(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1) {
    return function(callback__$1) {
      var temp__4655__auto__ = cljs.core.deref.call(null, kuroi.backend.thread_cache).call(null, thread_url);
      if (cljs.core.truth_(temp__4655__auto__)) {
        var thread = temp__4655__auto__;
        return callback__$1.call(null, cljs.core.truth_(reply) ? cljs.core.truth_(function() {
          var or__6156__auto__ = cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(thread), reply);
          if (or__6156__auto__) {
            return or__6156__auto__;
          } else {
            return cljs.core.some.call(null, function(or__6156__auto__, thread, temp__4655__auto__, map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1) {
              return function(p1__9646_SHARP_) {
                return cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__9646_SHARP_), reply);
              };
            }(or__6156__auto__, thread, temp__4655__auto__, map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1), (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread));
          }
        }()) ? thread : null : thread);
      } else {
        return kuroi.io.get_page.call(null, thread_url, function(temp__4655__auto__, map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1) {
          return function(response) {
            var thread = cljs.core.first.call(null, kuroi.page_parser.parse_page.call(null, (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response), cljs.core.assoc.call(null, target__$1, new cljs.core.Keyword(null, "replies", "replies", -1389888974), -1)));
            cljs.core.swap_BANG_.call(null, kuroi.backend.thread_cache, cljs.core.assoc, thread_url, thread);
            return callback__$1.call(null, thread);
          };
        }(temp__4655__auto__, map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1));
      }
    };
  }(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1);
  return get_thread.call(null, function(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1, get_thread) {
    return function(thread) {
      var thread__$1 = cljs.core.truth_(reply) ? function() {
        var temp__4657__auto__ = cljs.core.some.call(null, function(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1, get_thread) {
          return function(p1__9647_SHARP_) {
            if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "id", "id", -1388402092)).cljs$core$IFn$_invoke$arity$1(p1__9647_SHARP_), reply)) {
              return p1__9647_SHARP_;
            } else {
              return null;
            }
          };
        }(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1, get_thread), (new cljs.core.Keyword(null, "children", "children", -940561982)).cljs$core$IFn$_invoke$arity$1(thread));
        if (cljs.core.truth_(temp__4657__auto__)) {
          var child = temp__4657__auto__;
          return cljs.core.assoc.call(null, thread, new cljs.core.Keyword(null, "children", "children", -940561982), new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [child], null));
        } else {
          return null;
        }
      }() : cljs.core.truth_(thread) ? cljs.core.assoc.call(null, thread, new cljs.core.Keyword(null, "refs", "refs", -1560051448), null, new cljs.core.Keyword(null, "children", "children", -940561982), null) : null;
      if (cljs.core.truth_(thread__$1)) {
        return callback.call(null, cljs.core.truth_(reply) ? kuroi.render.replies.call(null, thread__$1, target__$1, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909), word_filter, new cljs.core.Keyword(null, "fallback?", "fallback?", -1074968796), true) : kuroi.render.threads.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.assoc.call(null, thread__$1, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), onwatch)], 
        null), target__$1));
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9650, map__9650__$1, thread_id, url, word_filter, onwatch, target, url__$1, thread_url, reply, settings, target__$1, get_thread));
};
kuroi.backend.forget_thread = function kuroi$backend$forget_thread(request) {
  var thread_id = request;
  var board = thread_id.substring(0, thread_id.lastIndexOf("-") + 1);
  return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "forgotten", "forgotten", -1604926255, null), new cljs.core.Symbol(null, "queue", "queue", -1198599890, null), board, function(thread_id, board) {
    return function(queue_json) {
      var queue = cljs.core.truth_(queue_json) ? JSON.parse(queue_json) : new Array;
      queue.push(thread_id);
      if (queue.length > kuroi.backend._STAR_forget_queue_size_STAR_) {
        queue.shift();
      } else {
      }
      return kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "forgotten", "forgotten", -1604926255, null), board, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "queue", "queue", 1455835879), JSON.stringify(queue)], null));
    };
  }(thread_id, board));
};
kuroi.backend.watch_thread = function kuroi$backend$watch_thread(request, callback) {
  var map__9654 = request;
  var map__9654__$1 = (!(map__9654 == null) ? map__9654.cljs$lang$protocol_mask$partition0$ & 64 || map__9654.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9654) : map__9654;
  var thread_id = cljs.core.get.call(null, map__9654__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var target = cljs.core.get.call(null, map__9654__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var target__$1 = typeof target === "string" ? kuroi.backend.make_target.call(null, target) : target;
  var thread_url = kuroi.page_parser.thread_url.call(null, thread_id, target__$1);
  return kuroi.io.get_page.call(null, thread_url, function(map__9654, map__9654__$1, thread_id, target, target__$1, thread_url) {
    return function(response) {
      if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
        var oppost = cljs.core.first.call(null, kuroi.page_parser.parse_page.call(null, (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response), cljs.core.assoc.call(null, target__$1, new cljs.core.Keyword(null, "replies", "replies", -1389888974), 0)));
        if (cljs.core.truth_(oppost)) {
          var oppost__$1 = cljs.core.assoc.call(null, oppost, new cljs.core.Keyword(null, "board", "board", -1907017633), (new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target__$1), new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011), (new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(target__$1), new cljs.core.Keyword(null, "page-index", "page-index", 272949390), null);
          kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(oppost__$1), new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "board", "board", -1907017633), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target__$1), new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), cljs.core.pr_str.call(null, 
          oppost__$1)], null));
          return callback.call(null, true);
        } else {
          return callback.call(null, null);
        }
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9654, map__9654__$1, thread_id, target, target__$1, thread_url));
};
kuroi.backend.unwatch_thread = function kuroi$backend$unwatch_thread(request, callback) {
  var thread_9656 = request;
  kuroi.io.del_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), thread_9656);
  return callback.call(null, true);
};
kuroi.backend.lazy_get_watch = function kuroi$backend$lazy_get_watch(request, callback) {
  var map__9659 = request;
  var map__9659__$1 = (!(map__9659 == null) ? map__9659.cljs$lang$protocol_mask$partition0$ & 64 || map__9659.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9659) : map__9659;
  var thread_id = cljs.core.get.call(null, map__9659__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var target = cljs.core.get.call(null, map__9659__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var target__$1 = typeof target === "string" ? kuroi.backend.make_target.call(null, target) : target;
  var thread_url = kuroi.page_parser.thread_url.call(null, thread_id, target__$1);
  return kuroi.io.get_page.call(null, thread_url, function(map__9659, map__9659__$1, thread_id, target, target__$1, thread_url) {
    return function(response) {
      if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
        var temp__4655__auto__ = cljs.core.first.call(null, kuroi.page_parser.parse_page.call(null, (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response), target__$1));
        if (cljs.core.truth_(temp__4655__auto__)) {
          var thread = temp__4655__auto__;
          return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), new cljs.core.Symbol(null, "oppost", "oppost", -582475690, null), (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(thread), function(thread, temp__4655__auto__, map__9659, map__9659__$1, thread_id, target, target__$1, thread_url) {
            return function(stored_oppost_str) {
              if (cljs.core.truth_(stored_oppost_str)) {
                var watch_item = cljs.reader.read_string.call(null, stored_oppost_str);
                var post_delta = (new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(thread) - (new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(watch_item);
                var replies_html = cljs.core.not.call(null, (new cljs.core.Keyword(null, "hdlns", "hdlns", 1319708620)).cljs$core$IFn$_invoke$arity$1(target__$1)) && (new cljs.core.Keyword(null, "replies", "replies", -1389888974)).cljs$core$IFn$_invoke$arity$1(target__$1) > 0 ? kuroi.render.replies.call(null, thread, target__$1) : null;
                if (cljs.core.not_EQ_.call(null, 0, post_delta)) {
                  kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), (new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306)).cljs$core$IFn$_invoke$arity$1(watch_item), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "oppost", "oppost", 2071960079), cljs.core.pr_str.call(null, cljs.core.assoc.call(null, watch_item, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), (new cljs.core.Keyword(null, "post-count", 
                  "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(thread), new cljs.core.Keyword(null, "last-id", "last-id", -1231616450), (new cljs.core.Keyword(null, "last-id", "last-id", -1231616450)).cljs$core$IFn$_invoke$arity$1(thread)))], null));
                } else {
                }
                return callback.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262), post_delta, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), (new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(thread), new cljs.core.Keyword(null, "replies", "replies", -1389888974), replies_html], null));
              } else {
                return null;
              }
            };
          }(thread, temp__4655__auto__, map__9659, map__9659__$1, thread_id, target, target__$1, thread_url));
        } else {
          return callback.call(null, null);
        }
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9659, map__9659__$1, thread_id, target, target__$1, thread_url));
};
kuroi.backend.load_watch_items = function kuroi$backend$load_watch_items(request, callback) {
  return kuroi.io.get_data_STAR_.call(null, new cljs.core.Symbol(null, "watch", "watch", 2021519804, null), new cljs.core.Symbol(null, "oppost", "oppost", -582475690, null), null, function(watch_item_strs) {
    if (cljs.core.seq.call(null, watch_item_strs)) {
      return kuroi.settings.load_settings.call(null, function(settings) {
        var target = request;
        var target__$1 = cljs.core.truth_(function() {
          var or__6156__auto__ = (new cljs.core.Keyword(null, "txt", "txt", 626843688)).cljs$core$IFn$_invoke$arity$1(target);
          if (cljs.core.truth_(or__6156__auto__)) {
            return or__6156__auto__;
          } else {
            return (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(settings);
          }
        }()) ? cljs.core.assoc.call(null, target, new cljs.core.Keyword(null, "force-text", "force-text", 264793469), true) : target;
        var watch_items = cljs.core.sort_by.call(null, new cljs.core.Keyword(null, "board", "board", -1907017633), cljs.core._LT_, cljs.core.map.call(null, cljs.reader.read_string, watch_item_strs));
        var boards = cljs.core.distinct.call(null, cljs.core.map.call(null, new cljs.core.Keyword(null, "board", "board", -1907017633), watch_items));
        var watch_groups = cljs.core.partition_by.call(null, new cljs.core.Keyword(null, "board", "board", -1907017633), watch_items);
        var threads = cljs.core.flatten.call(null, cljs.core.interleave.call(null, boards, watch_groups));
        return callback.call(null, kuroi.render.watch.call(null, threads, target__$1));
      });
    } else {
      return callback.call(null, null);
    }
  });
};
kuroi.backend.get_thread_images = function kuroi$backend$get_thread_images(request, callback) {
  var map__9663 = request;
  var map__9663__$1 = (!(map__9663 == null) ? map__9663.cljs$lang$protocol_mask$partition0$ & 64 || map__9663.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9663) : map__9663;
  var target = cljs.core.get.call(null, map__9663__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var thread_id = cljs.core.get.call(null, map__9663__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var thread_url = kuroi.page_parser.thread_url.call(null, thread_id, target);
  return kuroi.io.get_page.call(null, thread_url, function(map__9663, map__9663__$1, target, thread_id, thread_url) {
    return function(response) {
      if (cljs.core._EQ_.call(null, (new cljs.core.Keyword(null, "state", "state", -1988618099)).cljs$core$IFn$_invoke$arity$1(response), "ok")) {
        var images = kuroi.page_parser.parse_page.call(null, (new cljs.core.Keyword(null, "page", "page", 849072397)).cljs$core$IFn$_invoke$arity$1(response), target);
        var images__$1 = cljs.core.truth_((new cljs.core.Keyword(null, "rev", "rev", 12702670)).cljs$core$IFn$_invoke$arity$1(target)) ? cljs.core.reverse.call(null, images) : images;
        var images__$2 = kuroi.backend.distinct_by.call(null, new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), images__$1);
        return callback.call(null, kuroi.render.threads.call(null, images__$2, target));
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9663, map__9663__$1, target, thread_id, thread_url));
};
kuroi.backend.post_form = function kuroi$backend$post_form(request, callback) {
  var map__9667 = request;
  var map__9667__$1 = (!(map__9667 == null) ? map__9667.cljs$lang$protocol_mask$partition0$ & 64 || map__9667.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9667) : map__9667;
  var target = cljs.core.get.call(null, map__9667__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var url = cljs.core.get.call(null, map__9667__$1, new cljs.core.Keyword(null, "url", "url", 276297046));
  var form = cljs.core.get.call(null, map__9667__$1, new cljs.core.Keyword(null, "form", "form", -1624062471));
  var thread_id = cljs.core.get.call(null, map__9667__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var password = cljs.core.get.call(null, map__9667__$1, new cljs.core.Keyword(null, "password", "password", 417022471));
  var thread_url = cljs.core.truth_(thread_id) ? kuroi.page_parser.thread_url.call(null, thread_id, target) : kuroi.page_parser.paginate.call(null, 0, target);
  if (cljs.core.truth_(password)) {
    kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), "password", new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "content", "content", 15833224), password], null));
  } else {
  }
  return kuroi.io.post_form.call(null, url, form, thread_url, function(map__9667, map__9667__$1, target, url, form, thread_id, password, thread_url) {
    return function(response) {
      var temp__4655__auto__ = kuroi.page_parser.get_post_error.call(null, response, target);
      if (cljs.core.truth_(temp__4655__auto__)) {
        var error = temp__4655__auto__;
        return callback.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "error", "error", -978969032), error], null));
      } else {
        return callback.call(null, null);
      }
    };
  }(map__9667, map__9667__$1, target, url, form, thread_id, password, thread_url));
};
kuroi.backend._STAR_captcha_cache_STAR_ = cljs.core.atom.call(null, cljs.core.PersistentArrayMap.EMPTY);
kuroi.backend.get_captcha = function kuroi$backend$get_captcha(request, callback) {
  var map__9671 = request;
  var map__9671__$1 = (!(map__9671 == null) ? map__9671.cljs$lang$protocol_mask$partition0$ & 64 || map__9671.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9671) : map__9671;
  var target = cljs.core.get.call(null, map__9671__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var parent = cljs.core.get.call(null, map__9671__$1, new cljs.core.Keyword(null, "parent", "parent", -878878779));
  var thread_id = cljs.core.get.call(null, map__9671__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var force = cljs.core.get.call(null, map__9671__$1, new cljs.core.Keyword(null, "force", "force", 781957286));
  var thread_url = cljs.core.truth_(thread_id) ? kuroi.page_parser.thread_url.call(null, thread_id, target) : kuroi.page_parser.paginate.call(null, 0, target);
  var kv = cljs.core.find.call(null, cljs.core.deref.call(null, kuroi.backend._STAR_captcha_cache_STAR_), thread_url);
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = kv;
    if (cljs.core.truth_(and__6144__auto__)) {
      return cljs.core.not.call(null, force);
    } else {
      return and__6144__auto__;
    }
  }())) {
    return callback.call(null, cljs.core.val.call(null, kv));
  } else {
    return kuroi.page_parser.get_captcha.call(null, thread_url, parent, target, function(kv, map__9671, map__9671__$1, target, parent, thread_id, force, thread_url) {
      return function(captcha) {
        if (cljs.core.truth_(captcha)) {
          cljs.core.swap_BANG_.call(null, kuroi.backend._STAR_captcha_cache_STAR_, cljs.core.assoc, thread_url, captcha);
          return callback.call(null, captcha);
        } else {
          return null;
        }
      };
    }(kv, map__9671, map__9671__$1, target, parent, thread_id, force, thread_url));
  }
};
kuroi.backend.forget_captcha = function kuroi$backend$forget_captcha(request) {
  var map__9675 = request;
  var map__9675__$1 = (!(map__9675 == null) ? map__9675.cljs$lang$protocol_mask$partition0$ & 64 || map__9675.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9675) : map__9675;
  var target = cljs.core.get.call(null, map__9675__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
  var thread_id = cljs.core.get.call(null, map__9675__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
  var thread_url = cljs.core.truth_(thread_id) ? kuroi.page_parser.thread_url.call(null, thread_id, target) : kuroi.page_parser.paginate.call(null, 0, target);
  return cljs.core.swap_BANG_.call(null, kuroi.backend._STAR_captcha_cache_STAR_, cljs.core.dissoc, thread_url);
};
kuroi.backend.get_password = function kuroi$backend$get_password(callback) {
  return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), new cljs.core.Symbol(null, "content", "content", 1656364751, null), "password", function(password) {
    if (cljs.core.not.call(null, password)) {
      var password__$1 = Math.random().toString(36).slice(-6);
      kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "settings", "settings", -1098290894, null), "password", new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "content", "content", 15833224), password__$1], null));
      return callback.call(null, password__$1);
    } else {
      return callback.call(null, password);
    }
  });
};
kuroi.backend.save_expanded = function kuroi$backend$save_expanded(request) {
  return setTimeout(function() {
    var map__9682 = request;
    var map__9682__$1 = (!(map__9682 == null) ? map__9682.cljs$lang$protocol_mask$partition0$ & 64 || map__9682.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__9682) : map__9682;
    var target = cljs.core.get.call(null, map__9682__$1, new cljs.core.Keyword(null, "target", "target", 253001721));
    var thread_id = cljs.core.get.call(null, map__9682__$1, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538));
    var state = cljs.core.get.call(null, map__9682__$1, new cljs.core.Keyword(null, "state", "state", -1988618099));
    var settings = kuroi.settings.get_for.call(null, target);
    if (cljs.core.truth_((new cljs.core.Keyword(null, "remember-expanded", "remember-expanded", 1027632212)).cljs$core$IFn$_invoke$arity$1(settings))) {
      return kuroi.io.get_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), new cljs.core.Symbol(null, "expanded", "expanded", 1637510785, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), function(map__9682, map__9682__$1, target, thread_id, state, settings) {
        return function(expanded) {
          var expanded__$1 = cljs.core.truth_(expanded) ? cljs.reader.read_string.call(null, expanded) : null;
          var to_save = function() {
            var pred__9684 = cljs.core._EQ_;
            var expr__9685 = state;
            if (cljs.core.truth_(pred__9684.call(null, new cljs.core.Keyword(null, "expand", "expand", 595248157), expr__9685))) {
              return cljs.core.conj.call(null, function() {
                var or__6156__auto__ = expanded__$1;
                if (cljs.core.truth_(or__6156__auto__)) {
                  return or__6156__auto__;
                } else {
                  return cljs.core.PersistentHashSet.EMPTY;
                }
              }(), thread_id);
            } else {
              if (cljs.core.truth_(pred__9684.call(null, new cljs.core.Keyword(null, "collapse", "collapse", -1218136136), expr__9685))) {
                return cljs.core.disj.call(null, function() {
                  var or__6156__auto__ = expanded__$1;
                  if (cljs.core.truth_(or__6156__auto__)) {
                    return or__6156__auto__;
                  } else {
                    return cljs.core.PersistentHashSet.EMPTY;
                  }
                }(), thread_id);
              } else {
                return cljs.core.PersistentHashSet.EMPTY;
              }
            }
          }();
          return kuroi.io.put_data.call(null, new cljs.core.Symbol(null, "board", "board", -266486106, null), (new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target), new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "expanded", "expanded", -3020742), cljs.core.pr_str.call(null, to_save)], null));
        };
      }(map__9682, map__9682__$1, target, thread_id, state, settings));
    } else {
      return null;
    }
  }, 500);
};
kuroi.backend.get_frontend_html = function kuroi$backend$get_frontend_html(_, callback) {
  return callback.call(null, kuroi.render.frontend.call(null));
};
kuroi.backend.get_settings_html = function kuroi$backend$get_settings_html(_, callback) {
  return callback.call(null, kuroi.render.settings.call(null));
};
kuroi.backend.get_inline_watch_stream_html = function kuroi$backend$get_inline_watch_stream_html(_, callback) {
  return callback.call(null, kuroi.render.inline_watch_stream.call(null));
};
kuroi.backend.get_inline_image_stream_html = function kuroi$backend$get_inline_image_stream_html(_, callback) {
  return callback.call(null, kuroi.render.inline_image_stream.call(null));
};
kuroi.backend.get_manual_html = function kuroi$backend$get_manual_html(_, callback) {
  return callback.call(null, kuroi.render.manual.call(null));
};
kuroi.backend.get_urlbar_html = function kuroi$backend$get_urlbar_html(_, callback) {
  return callback.call(null, kuroi.render.urlbar.call(null));
};
kuroi.backend.get_video_html = function kuroi$backend$get_video_html(_, callback) {
  return callback.call(null, kuroi.render.video.call(null));
};
goog.provide("goog.fx.DragEvent");
goog.provide("goog.fx.Dragger");
goog.provide("goog.fx.Dragger.EventType");
goog.require("goog.dom");
goog.require("goog.dom.TagName");
goog.require("goog.events");
goog.require("goog.events.Event");
goog.require("goog.events.EventHandler");
goog.require("goog.events.EventTarget");
goog.require("goog.events.EventType");
goog.require("goog.math.Coordinate");
goog.require("goog.math.Rect");
goog.require("goog.style");
goog.require("goog.style.bidi");
goog.require("goog.userAgent");
goog.fx.Dragger = function(target, opt_handle, opt_limits) {
  goog.fx.Dragger.base(this, "constructor");
  this.target = target;
  this.handle = opt_handle || target;
  this.limits = opt_limits || new goog.math.Rect(NaN, NaN, NaN, NaN);
  this.document_ = goog.dom.getOwnerDocument(target);
  this.eventHandler_ = new goog.events.EventHandler(this);
  this.registerDisposable(this.eventHandler_);
  this.rightToLeft_;
  this.clientX = 0;
  this.clientY = 0;
  this.screenX = 0;
  this.screenY = 0;
  this.startX = 0;
  this.startY = 0;
  this.deltaX = 0;
  this.deltaY = 0;
  this.pageScroll;
  this.enabled_ = true;
  this.dragging_ = false;
  this.preventMouseDown_ = true;
  this.hysteresisDistanceSquared_ = 0;
  this.scrollTarget_;
  this.ieDragStartCancellingOn_ = false;
  this.useRightPositioningForRtl_ = false;
  goog.events.listen(this.handle, [goog.events.EventType.TOUCHSTART, goog.events.EventType.MOUSEDOWN], this.startDrag, false, this);
};
goog.inherits(goog.fx.Dragger, goog.events.EventTarget);
goog.tagUnsealableClass(goog.fx.Dragger);
goog.fx.Dragger.HAS_SET_CAPTURE_ = goog.global.document && goog.global.document.documentElement && !!goog.global.document.documentElement.setCapture;
goog.fx.Dragger.cloneNode = function(sourceEl) {
  var clonedEl = (sourceEl.cloneNode(true)), origTexts = sourceEl.getElementsByTagName(goog.dom.TagName.TEXTAREA), dragTexts = clonedEl.getElementsByTagName(goog.dom.TagName.TEXTAREA);
  for (var i = 0;i < origTexts.length;i++) {
    dragTexts[i].value = origTexts[i].value;
  }
  switch(sourceEl.tagName) {
    case goog.dom.TagName.TR:
      return goog.dom.createDom(goog.dom.TagName.TABLE, null, goog.dom.createDom(goog.dom.TagName.TBODY, null, clonedEl));
    case goog.dom.TagName.TD:
    ;
    case goog.dom.TagName.TH:
      return goog.dom.createDom(goog.dom.TagName.TABLE, null, goog.dom.createDom(goog.dom.TagName.TBODY, null, goog.dom.createDom(goog.dom.TagName.TR, null, clonedEl)));
    case goog.dom.TagName.TEXTAREA:
      clonedEl.value = sourceEl.value;
    default:
      return clonedEl;
  }
};
goog.fx.Dragger.EventType = {EARLY_CANCEL:"earlycancel", START:"start", BEFOREDRAG:"beforedrag", DRAG:"drag", END:"end"};
goog.fx.Dragger.prototype.enableRightPositioningForRtl = function(useRightPositioningForRtl) {
  this.useRightPositioningForRtl_ = useRightPositioningForRtl;
};
goog.fx.Dragger.prototype.getHandler = function() {
  var self = (this);
  return self.eventHandler_;
};
goog.fx.Dragger.prototype.setLimits = function(limits) {
  this.limits = limits || new goog.math.Rect(NaN, NaN, NaN, NaN);
};
goog.fx.Dragger.prototype.setHysteresis = function(distance) {
  this.hysteresisDistanceSquared_ = Math.pow(distance, 2);
};
goog.fx.Dragger.prototype.getHysteresis = function() {
  return Math.sqrt(this.hysteresisDistanceSquared_);
};
goog.fx.Dragger.prototype.setScrollTarget = function(scrollTarget) {
  this.scrollTarget_ = scrollTarget;
};
goog.fx.Dragger.prototype.setCancelIeDragStart = function(cancelIeDragStart) {
  this.ieDragStartCancellingOn_ = cancelIeDragStart;
};
goog.fx.Dragger.prototype.getEnabled = function() {
  return this.enabled_;
};
goog.fx.Dragger.prototype.setEnabled = function(enabled) {
  this.enabled_ = enabled;
};
goog.fx.Dragger.prototype.setPreventMouseDown = function(preventMouseDown) {
  this.preventMouseDown_ = preventMouseDown;
};
goog.fx.Dragger.prototype.disposeInternal = function() {
  goog.fx.Dragger.superClass_.disposeInternal.call(this);
  goog.events.unlisten(this.handle, [goog.events.EventType.TOUCHSTART, goog.events.EventType.MOUSEDOWN], this.startDrag, false, this);
  this.cleanUpAfterDragging_();
  this.target = null;
  this.handle = null;
};
goog.fx.Dragger.prototype.isRightToLeft_ = function() {
  if (!goog.isDef(this.rightToLeft_)) {
    this.rightToLeft_ = goog.style.isRightToLeft(this.target);
  }
  return this.rightToLeft_;
};
goog.fx.Dragger.prototype.startDrag = function(e) {
  var isMouseDown = e.type == goog.events.EventType.MOUSEDOWN;
  if (this.enabled_ && !this.dragging_ && (!isMouseDown || e.isMouseActionButton())) {
    if (this.hysteresisDistanceSquared_ == 0) {
      if (this.fireDragStart_(e)) {
        this.dragging_ = true;
        if (this.preventMouseDown_) {
          e.preventDefault();
        }
      } else {
        return;
      }
    } else {
      if (this.preventMouseDown_) {
        e.preventDefault();
      }
    }
    this.setupDragHandlers();
    this.clientX = this.startX = e.clientX;
    this.clientY = this.startY = e.clientY;
    this.screenX = e.screenX;
    this.screenY = e.screenY;
    this.computeInitialPosition();
    this.pageScroll = goog.dom.getDomHelper(this.document_).getDocumentScroll();
  } else {
    this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);
  }
};
goog.fx.Dragger.prototype.setupDragHandlers = function() {
  var doc = this.document_;
  var docEl = doc.documentElement;
  var useCapture = !goog.fx.Dragger.HAS_SET_CAPTURE_;
  this.eventHandler_.listen(doc, [goog.events.EventType.TOUCHMOVE, goog.events.EventType.MOUSEMOVE], this.handleMove_, useCapture);
  this.eventHandler_.listen(doc, [goog.events.EventType.TOUCHEND, goog.events.EventType.MOUSEUP], this.endDrag, useCapture);
  if (goog.fx.Dragger.HAS_SET_CAPTURE_) {
    docEl.setCapture(false);
    this.eventHandler_.listen(docEl, goog.events.EventType.LOSECAPTURE, this.endDrag);
  } else {
    this.eventHandler_.listen(goog.dom.getWindow(doc), goog.events.EventType.BLUR, this.endDrag);
  }
  if (goog.userAgent.IE && this.ieDragStartCancellingOn_) {
    this.eventHandler_.listen(doc, goog.events.EventType.DRAGSTART, goog.events.Event.preventDefault);
  }
  if (this.scrollTarget_) {
    this.eventHandler_.listen(this.scrollTarget_, goog.events.EventType.SCROLL, this.onScroll_, useCapture);
  }
};
goog.fx.Dragger.prototype.fireDragStart_ = function(e) {
  return this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.START, this, e.clientX, e.clientY, e));
};
goog.fx.Dragger.prototype.cleanUpAfterDragging_ = function() {
  this.eventHandler_.removeAll();
  if (goog.fx.Dragger.HAS_SET_CAPTURE_) {
    this.document_.releaseCapture();
  }
};
goog.fx.Dragger.prototype.endDrag = function(e, opt_dragCanceled) {
  this.cleanUpAfterDragging_();
  if (this.dragging_) {
    this.dragging_ = false;
    var x = this.limitX(this.deltaX);
    var y = this.limitY(this.deltaY);
    var dragCanceled = opt_dragCanceled || e.type == goog.events.EventType.TOUCHCANCEL;
    this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.END, this, e.clientX, e.clientY, e, x, y, dragCanceled));
  } else {
    this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);
  }
};
goog.fx.Dragger.prototype.endDragCancel = function(e) {
  this.endDrag(e, true);
};
goog.fx.Dragger.prototype.handleMove_ = function(e) {
  if (this.enabled_) {
    var sign = this.useRightPositioningForRtl_ && this.isRightToLeft_() ? -1 : 1;
    var dx = sign * (e.clientX - this.clientX);
    var dy = e.clientY - this.clientY;
    this.clientX = e.clientX;
    this.clientY = e.clientY;
    this.screenX = e.screenX;
    this.screenY = e.screenY;
    if (!this.dragging_) {
      var diffX = this.startX - this.clientX;
      var diffY = this.startY - this.clientY;
      var distance = diffX * diffX + diffY * diffY;
      if (distance > this.hysteresisDistanceSquared_) {
        if (this.fireDragStart_(e)) {
          this.dragging_ = true;
        } else {
          if (!this.isDisposed()) {
            this.endDrag(e);
          }
          return;
        }
      }
    }
    var pos = this.calculatePosition_(dx, dy);
    var x = pos.x;
    var y = pos.y;
    if (this.dragging_) {
      var rv = this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.BEFOREDRAG, this, e.clientX, e.clientY, e, x, y));
      if (rv) {
        this.doDrag(e, x, y, false);
        e.preventDefault();
      }
    }
  }
};
goog.fx.Dragger.prototype.calculatePosition_ = function(dx, dy) {
  var pageScroll = goog.dom.getDomHelper(this.document_).getDocumentScroll();
  dx += pageScroll.x - this.pageScroll.x;
  dy += pageScroll.y - this.pageScroll.y;
  this.pageScroll = pageScroll;
  this.deltaX += dx;
  this.deltaY += dy;
  var x = this.limitX(this.deltaX);
  var y = this.limitY(this.deltaY);
  return new goog.math.Coordinate(x, y);
};
goog.fx.Dragger.prototype.onScroll_ = function(e) {
  var pos = this.calculatePosition_(0, 0);
  e.clientX = this.clientX;
  e.clientY = this.clientY;
  this.doDrag(e, pos.x, pos.y, true);
};
goog.fx.Dragger.prototype.doDrag = function(e, x, y, dragFromScroll) {
  this.defaultAction(x, y);
  this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.DRAG, this, e.clientX, e.clientY, e, x, y));
};
goog.fx.Dragger.prototype.limitX = function(x) {
  var rect = this.limits;
  var left = !isNaN(rect.left) ? rect.left : null;
  var width = !isNaN(rect.width) ? rect.width : 0;
  var maxX = left != null ? left + width : Infinity;
  var minX = left != null ? left : -Infinity;
  return Math.min(maxX, Math.max(minX, x));
};
goog.fx.Dragger.prototype.limitY = function(y) {
  var rect = this.limits;
  var top = !isNaN(rect.top) ? rect.top : null;
  var height = !isNaN(rect.height) ? rect.height : 0;
  var maxY = top != null ? top + height : Infinity;
  var minY = top != null ? top : -Infinity;
  return Math.min(maxY, Math.max(minY, y));
};
goog.fx.Dragger.prototype.computeInitialPosition = function() {
  this.deltaX = this.useRightPositioningForRtl_ ? goog.style.bidi.getOffsetStart(this.target) : (this.target).offsetLeft;
  this.deltaY = (this.target).offsetTop;
};
goog.fx.Dragger.prototype.defaultAction = function(x, y) {
  if (this.useRightPositioningForRtl_ && this.isRightToLeft_()) {
    this.target.style.right = x + "px";
  } else {
    this.target.style.left = x + "px";
  }
  this.target.style.top = y + "px";
};
goog.fx.Dragger.prototype.isDragging = function() {
  return this.dragging_;
};
goog.fx.DragEvent = function(type, dragobj, clientX, clientY, browserEvent, opt_actX, opt_actY, opt_dragCanceled) {
  goog.events.Event.call(this, type);
  this.clientX = clientX;
  this.clientY = clientY;
  this.browserEvent = browserEvent;
  this.left = goog.isDef(opt_actX) ? opt_actX : dragobj.deltaX;
  this.top = goog.isDef(opt_actY) ? opt_actY : dragobj.deltaY;
  this.dragger = dragobj;
  this.dragCanceled = !!opt_dragCanceled;
};
goog.inherits(goog.fx.DragEvent, goog.events.Event);
goog.provide("goog.ui.Dialog");
goog.provide("goog.ui.Dialog.ButtonSet");
goog.provide("goog.ui.Dialog.ButtonSet.DefaultButtons");
goog.provide("goog.ui.Dialog.DefaultButtonCaptions");
goog.provide("goog.ui.Dialog.DefaultButtonKeys");
goog.provide("goog.ui.Dialog.Event");
goog.provide("goog.ui.Dialog.EventType");
goog.require("goog.a11y.aria");
goog.require("goog.a11y.aria.Role");
goog.require("goog.a11y.aria.State");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.dom.NodeType");
goog.require("goog.dom.TagName");
goog.require("goog.dom.classlist");
goog.require("goog.dom.safe");
goog.require("goog.events");
goog.require("goog.events.Event");
goog.require("goog.events.EventType");
goog.require("goog.events.KeyCodes");
goog.require("goog.fx.Dragger");
goog.require("goog.html.SafeHtml");
goog.require("goog.html.legacyconversions");
goog.require("goog.math.Rect");
goog.require("goog.string");
goog.require("goog.structs.Map");
goog.require("goog.style");
goog.require("goog.ui.ModalPopup");
goog.ui.Dialog = function(opt_class, opt_useIframeMask, opt_domHelper) {
  goog.ui.Dialog.base(this, "constructor", opt_useIframeMask, opt_domHelper);
  this.class_ = opt_class || goog.getCssName("modal-dialog");
  this.buttons_ = goog.ui.Dialog.ButtonSet.createOkCancel();
};
goog.inherits(goog.ui.Dialog, goog.ui.ModalPopup);
goog.tagUnsealableClass(goog.ui.Dialog);
goog.ui.Dialog.prototype.buttons_;
goog.ui.Dialog.prototype.escapeToCancel_ = true;
goog.ui.Dialog.prototype.hasTitleCloseButton_ = true;
goog.ui.Dialog.prototype.modal_ = true;
goog.ui.Dialog.prototype.draggable_ = true;
goog.ui.Dialog.prototype.backgroundElementOpacity_ = .5;
goog.ui.Dialog.prototype.title_ = "";
goog.ui.Dialog.prototype.content_ = null;
goog.ui.Dialog.prototype.dragger_ = null;
goog.ui.Dialog.prototype.disposeOnHide_ = false;
goog.ui.Dialog.prototype.titleEl_ = null;
goog.ui.Dialog.prototype.titleTextEl_ = null;
goog.ui.Dialog.prototype.titleTextId_ = null;
goog.ui.Dialog.prototype.titleCloseEl_ = null;
goog.ui.Dialog.prototype.contentEl_ = null;
goog.ui.Dialog.prototype.buttonEl_ = null;
goog.ui.Dialog.prototype.preferredAriaRole_ = goog.a11y.aria.Role.DIALOG;
goog.ui.Dialog.prototype.getCssClass = function() {
  return this.class_;
};
goog.ui.Dialog.prototype.setTitle = function(title) {
  this.title_ = title;
  if (this.titleTextEl_) {
    goog.dom.setTextContent(this.titleTextEl_, title);
  }
};
goog.ui.Dialog.prototype.getTitle = function() {
  return this.title_;
};
goog.ui.Dialog.prototype.setContent = function(html) {
  this.setSafeHtmlContent(goog.html.legacyconversions.safeHtmlFromString(html));
};
goog.ui.Dialog.prototype.setSafeHtmlContent = function(html) {
  this.content_ = html;
  if (this.contentEl_) {
    goog.dom.safe.setInnerHtml(this.contentEl_, html);
  }
};
goog.ui.Dialog.prototype.getContent = function() {
  return this.content_ != null ? goog.html.SafeHtml.unwrap(this.content_) : "";
};
goog.ui.Dialog.prototype.getSafeHtmlContent = function() {
  return this.content_;
};
goog.ui.Dialog.prototype.getPreferredAriaRole = function() {
  return this.preferredAriaRole_;
};
goog.ui.Dialog.prototype.setPreferredAriaRole = function(role) {
  this.preferredAriaRole_ = role;
};
goog.ui.Dialog.prototype.renderIfNoDom_ = function() {
  if (!this.getElement()) {
    this.render();
  }
};
goog.ui.Dialog.prototype.getContentElement = function() {
  this.renderIfNoDom_();
  return this.contentEl_;
};
goog.ui.Dialog.prototype.getTitleElement = function() {
  this.renderIfNoDom_();
  return this.titleEl_;
};
goog.ui.Dialog.prototype.getTitleTextElement = function() {
  this.renderIfNoDom_();
  return this.titleTextEl_;
};
goog.ui.Dialog.prototype.getTitleCloseElement = function() {
  this.renderIfNoDom_();
  return this.titleCloseEl_;
};
goog.ui.Dialog.prototype.getButtonElement = function() {
  this.renderIfNoDom_();
  return this.buttonEl_;
};
goog.ui.Dialog.prototype.getDialogElement = function() {
  this.renderIfNoDom_();
  return this.getElement();
};
goog.ui.Dialog.prototype.getBackgroundElement = function() {
  this.renderIfNoDom_();
  return goog.ui.Dialog.base(this, "getBackgroundElement");
};
goog.ui.Dialog.prototype.getBackgroundElementOpacity = function() {
  return this.backgroundElementOpacity_;
};
goog.ui.Dialog.prototype.setBackgroundElementOpacity = function(opacity) {
  this.backgroundElementOpacity_ = opacity;
  if (this.getElement()) {
    var bgEl = this.getBackgroundElement();
    if (bgEl) {
      goog.style.setOpacity(bgEl, this.backgroundElementOpacity_);
    }
  }
};
goog.ui.Dialog.prototype.setModal = function(modal) {
  if (modal != this.modal_) {
    this.setModalInternal_(modal);
  }
};
goog.ui.Dialog.prototype.setModalInternal_ = function(modal) {
  this.modal_ = modal;
  if (this.isInDocument()) {
    var dom = this.getDomHelper();
    var bg = this.getBackgroundElement();
    var bgIframe = this.getBackgroundIframe();
    if (modal) {
      if (bgIframe) {
        dom.insertSiblingBefore(bgIframe, this.getElement());
      }
      dom.insertSiblingBefore(bg, this.getElement());
    } else {
      dom.removeNode(bgIframe);
      dom.removeNode(bg);
    }
  }
  if (this.isVisible()) {
    this.setA11YDetectBackground(modal);
  }
};
goog.ui.Dialog.prototype.getModal = function() {
  return this.modal_;
};
goog.ui.Dialog.prototype.getClass = function() {
  return this.getCssClass();
};
goog.ui.Dialog.prototype.setDraggable = function(draggable) {
  this.draggable_ = draggable;
  this.setDraggingEnabled_(draggable && this.isInDocument());
};
goog.ui.Dialog.prototype.createDragger = function() {
  return new goog.fx.Dragger(this.getElement(), this.titleEl_);
};
goog.ui.Dialog.prototype.getDraggable = function() {
  return this.draggable_;
};
goog.ui.Dialog.prototype.setDraggingEnabled_ = function(enabled) {
  var classNames = goog.string.trim(goog.getCssName(this.class_, "title-draggable")).split(" ");
  if (this.getElement()) {
    if (enabled) {
      goog.dom.classlist.addAll(goog.asserts.assert(this.titleEl_), classNames);
    } else {
      goog.dom.classlist.removeAll(goog.asserts.assert(this.titleEl_), classNames);
    }
  }
  if (enabled && !this.dragger_) {
    this.dragger_ = this.createDragger();
    goog.dom.classlist.addAll(goog.asserts.assert(this.titleEl_), classNames);
    goog.events.listen(this.dragger_, goog.fx.Dragger.EventType.START, this.setDraggerLimits_, false, this);
  } else {
    if (!enabled && this.dragger_) {
      this.dragger_.dispose();
      this.dragger_ = null;
    }
  }
};
goog.ui.Dialog.prototype.createDom = function() {
  goog.ui.Dialog.base(this, "createDom");
  var element = this.getElement();
  goog.asserts.assert(element, "getElement() returns null");
  var dom = this.getDomHelper();
  this.titleEl_ = dom.createDom(goog.dom.TagName.DIV, goog.getCssName(this.class_, "title"), this.titleTextEl_ = dom.createDom(goog.dom.TagName.SPAN, {"className":goog.getCssName(this.class_, "title-text"), "id":this.getId()}, this.title_), this.titleCloseEl_ = dom.createDom(goog.dom.TagName.SPAN, goog.getCssName(this.class_, "title-close"))), goog.dom.append(element, this.titleEl_, this.contentEl_ = dom.createDom(goog.dom.TagName.DIV, goog.getCssName(this.class_, "content")), this.buttonEl_ = dom.createDom(goog.dom.TagName.DIV, 
  goog.getCssName(this.class_, "buttons")));
  goog.a11y.aria.setRole(this.titleTextEl_, goog.a11y.aria.Role.HEADING);
  goog.a11y.aria.setRole(this.titleCloseEl_, goog.a11y.aria.Role.BUTTON);
  goog.dom.setFocusableTabIndex(this.titleCloseEl_, true);
  goog.a11y.aria.setLabel(this.titleCloseEl_, goog.ui.Dialog.MSG_GOOG_UI_DIALOG_CLOSE_);
  this.titleTextId_ = this.titleTextEl_.id;
  goog.a11y.aria.setRole(element, this.getPreferredAriaRole());
  goog.a11y.aria.setState(element, goog.a11y.aria.State.LABELLEDBY, this.titleTextId_ || "");
  if (this.content_) {
    goog.dom.safe.setInnerHtml(this.contentEl_, this.content_);
  }
  goog.style.setElementShown(this.titleCloseEl_, this.hasTitleCloseButton_);
  if (this.buttons_) {
    this.buttons_.attachToElement(this.buttonEl_);
  }
  goog.style.setElementShown(this.buttonEl_, !!this.buttons_);
  this.setBackgroundElementOpacity(this.backgroundElementOpacity_);
};
goog.ui.Dialog.prototype.decorateInternal = function(element) {
  goog.ui.Dialog.base(this, "decorateInternal", element);
  var dialogElement = this.getElement();
  goog.asserts.assert(dialogElement, "The DOM element for dialog cannot be null.");
  var contentClass = goog.getCssName(this.class_, "content");
  this.contentEl_ = goog.dom.getElementsByTagNameAndClass(null, contentClass, dialogElement)[0];
  if (!this.contentEl_) {
    this.contentEl_ = this.getDomHelper().createDom(goog.dom.TagName.DIV, contentClass);
    if (this.content_) {
      goog.dom.safe.setInnerHtml(this.contentEl_, this.content_);
    }
    dialogElement.appendChild(this.contentEl_);
  }
  var titleClass = goog.getCssName(this.class_, "title");
  var titleTextClass = goog.getCssName(this.class_, "title-text");
  var titleCloseClass = goog.getCssName(this.class_, "title-close");
  this.titleEl_ = goog.dom.getElementsByTagNameAndClass(null, titleClass, dialogElement)[0];
  if (this.titleEl_) {
    this.titleTextEl_ = goog.dom.getElementsByTagNameAndClass(null, titleTextClass, this.titleEl_)[0];
    this.titleCloseEl_ = goog.dom.getElementsByTagNameAndClass(null, titleCloseClass, this.titleEl_)[0];
  } else {
    this.titleEl_ = this.getDomHelper().createDom(goog.dom.TagName.DIV, titleClass);
    dialogElement.insertBefore(this.titleEl_, this.contentEl_);
  }
  if (this.titleTextEl_) {
    this.title_ = goog.dom.getTextContent(this.titleTextEl_);
    if (!this.titleTextEl_.id) {
      this.titleTextEl_.id = this.getId();
    }
  } else {
    this.titleTextEl_ = goog.dom.createDom(goog.dom.TagName.SPAN, {"className":titleTextClass, "id":this.getId()});
    this.titleEl_.appendChild(this.titleTextEl_);
  }
  this.titleTextId_ = this.titleTextEl_.id;
  goog.a11y.aria.setState(dialogElement, goog.a11y.aria.State.LABELLEDBY, this.titleTextId_ || "");
  if (!this.titleCloseEl_) {
    this.titleCloseEl_ = this.getDomHelper().createDom(goog.dom.TagName.SPAN, titleCloseClass);
    this.titleEl_.appendChild(this.titleCloseEl_);
  }
  goog.style.setElementShown(this.titleCloseEl_, this.hasTitleCloseButton_);
  var buttonsClass = goog.getCssName(this.class_, "buttons");
  this.buttonEl_ = goog.dom.getElementsByTagNameAndClass(null, buttonsClass, dialogElement)[0];
  if (this.buttonEl_) {
    this.buttons_ = new goog.ui.Dialog.ButtonSet(this.getDomHelper());
    this.buttons_.decorate(this.buttonEl_);
  } else {
    this.buttonEl_ = this.getDomHelper().createDom(goog.dom.TagName.DIV, buttonsClass);
    dialogElement.appendChild(this.buttonEl_);
    if (this.buttons_) {
      this.buttons_.attachToElement(this.buttonEl_);
    }
    goog.style.setElementShown(this.buttonEl_, !!this.buttons_);
  }
  this.setBackgroundElementOpacity(this.backgroundElementOpacity_);
};
goog.ui.Dialog.prototype.enterDocument = function() {
  goog.ui.Dialog.base(this, "enterDocument");
  this.getHandler().listen(this.getElement(), goog.events.EventType.KEYDOWN, this.onKey_).listen(this.getElement(), goog.events.EventType.KEYPRESS, this.onKey_);
  this.getHandler().listen(this.buttonEl_, goog.events.EventType.CLICK, this.onButtonClick_);
  this.setDraggingEnabled_(this.draggable_);
  this.getHandler().listen(this.titleCloseEl_, goog.events.EventType.CLICK, this.onTitleCloseClick_);
  var element = this.getElement();
  goog.asserts.assert(element, "The DOM element for dialog cannot be null");
  goog.a11y.aria.setRole(element, this.getPreferredAriaRole());
  if (this.titleTextEl_.id !== "") {
    goog.a11y.aria.setState(element, goog.a11y.aria.State.LABELLEDBY, this.titleTextEl_.id);
  }
  if (!this.modal_) {
    this.setModalInternal_(false);
  }
};
goog.ui.Dialog.prototype.exitDocument = function() {
  if (this.isVisible()) {
    this.setVisible(false);
  }
  this.setDraggingEnabled_(false);
  goog.ui.Dialog.base(this, "exitDocument");
};
goog.ui.Dialog.prototype.setVisible = function(visible) {
  if (visible == this.isVisible()) {
    return;
  }
  if (!this.isInDocument()) {
    this.render();
  }
  goog.ui.Dialog.base(this, "setVisible", visible);
};
goog.ui.Dialog.prototype.onShow = function() {
  goog.ui.Dialog.base(this, "onShow");
  this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_SHOW);
};
goog.ui.Dialog.prototype.onHide = function() {
  goog.ui.Dialog.base(this, "onHide");
  this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_HIDE);
  if (this.disposeOnHide_) {
    this.dispose();
  }
};
goog.ui.Dialog.prototype.setDraggerLimits_ = function(e) {
  var doc = this.getDomHelper().getDocument();
  var win = goog.dom.getWindow(doc) || window;
  var viewSize = goog.dom.getViewportSize(win);
  var w = Math.max(doc.body.scrollWidth, viewSize.width);
  var h = Math.max(doc.body.scrollHeight, viewSize.height);
  var dialogSize = goog.style.getSize(this.getElement());
  if (goog.style.getComputedPosition(this.getElement()) == "fixed") {
    this.dragger_.setLimits(new goog.math.Rect(0, 0, Math.max(0, viewSize.width - dialogSize.width), Math.max(0, viewSize.height - dialogSize.height)));
  } else {
    this.dragger_.setLimits(new goog.math.Rect(0, 0, w - dialogSize.width, h - dialogSize.height));
  }
};
goog.ui.Dialog.prototype.onTitleCloseClick_ = function(e) {
  this.handleTitleClose_();
};
goog.ui.Dialog.prototype.handleTitleClose_ = function() {
  if (!this.hasTitleCloseButton_) {
    return;
  }
  var bs = this.getButtonSet();
  var key = bs && bs.getCancel();
  if (key) {
    var caption = (bs.get(key));
    if (this.dispatchEvent(new goog.ui.Dialog.Event(key, caption))) {
      this.setVisible(false);
    }
  } else {
    this.setVisible(false);
  }
};
goog.ui.Dialog.prototype.getHasTitleCloseButton = function() {
  return this.hasTitleCloseButton_;
};
goog.ui.Dialog.prototype.setHasTitleCloseButton = function(b) {
  this.hasTitleCloseButton_ = b;
  if (this.titleCloseEl_) {
    goog.style.setElementShown(this.titleCloseEl_, this.hasTitleCloseButton_);
  }
};
goog.ui.Dialog.prototype.isEscapeToCancel = function() {
  return this.escapeToCancel_;
};
goog.ui.Dialog.prototype.setEscapeToCancel = function(b) {
  this.escapeToCancel_ = b;
};
goog.ui.Dialog.prototype.setDisposeOnHide = function(b) {
  this.disposeOnHide_ = b;
};
goog.ui.Dialog.prototype.getDisposeOnHide = function() {
  return this.disposeOnHide_;
};
goog.ui.Dialog.prototype.disposeInternal = function() {
  this.titleCloseEl_ = null;
  this.buttonEl_ = null;
  goog.ui.Dialog.base(this, "disposeInternal");
};
goog.ui.Dialog.prototype.setButtonSet = function(buttons) {
  this.buttons_ = buttons;
  if (this.buttonEl_) {
    if (this.buttons_) {
      this.buttons_.attachToElement(this.buttonEl_);
    } else {
      goog.dom.safe.setInnerHtml(this.buttonEl_, goog.html.SafeHtml.EMPTY);
    }
    goog.style.setElementShown(this.buttonEl_, !!this.buttons_);
  }
};
goog.ui.Dialog.prototype.getButtonSet = function() {
  return this.buttons_;
};
goog.ui.Dialog.prototype.onButtonClick_ = function(e) {
  var button = this.findParentButton_((e.target));
  if (button && !button.disabled) {
    var key = button.name;
    var caption = (this.getButtonSet().get(key));
    if (this.dispatchEvent(new goog.ui.Dialog.Event(key, caption))) {
      this.setVisible(false);
    }
  }
};
goog.ui.Dialog.prototype.findParentButton_ = function(element) {
  var el = element;
  while (el != null && el != this.buttonEl_) {
    if (el.tagName == goog.dom.TagName.BUTTON) {
      return (el);
    }
    el = el.parentNode;
  }
  return null;
};
goog.ui.Dialog.prototype.onKey_ = function(e) {
  var close = false;
  var hasHandler = false;
  var buttonSet = this.getButtonSet();
  var target = e.target;
  if (e.type == goog.events.EventType.KEYDOWN) {
    if (this.escapeToCancel_ && e.keyCode == goog.events.KeyCodes.ESC) {
      var cancel = buttonSet && buttonSet.getCancel();
      var isSpecialFormElement = target.tagName == goog.dom.TagName.SELECT && !target.disabled;
      if (cancel && !isSpecialFormElement) {
        hasHandler = true;
        var caption = buttonSet.get(cancel);
        close = this.dispatchEvent(new goog.ui.Dialog.Event(cancel, (caption)));
      } else {
        if (!isSpecialFormElement) {
          close = true;
        }
      }
    } else {
      if (e.keyCode == goog.events.KeyCodes.TAB && e.shiftKey && target == this.getElement()) {
        this.setupBackwardTabWrap();
      }
    }
  } else {
    if (e.keyCode == goog.events.KeyCodes.ENTER) {
      var key;
      if (target.tagName == goog.dom.TagName.BUTTON && !target.disabled) {
        key = target.name;
      } else {
        if (target == this.titleCloseEl_) {
          this.handleTitleClose_();
        } else {
          if (buttonSet) {
            var defaultKey = buttonSet.getDefault();
            var defaultButton = defaultKey && buttonSet.getButton(defaultKey);
            var isSpecialFormElement = (target.tagName == goog.dom.TagName.TEXTAREA || target.tagName == goog.dom.TagName.SELECT || target.tagName == goog.dom.TagName.A) && !target.disabled;
            if (defaultButton && !defaultButton.disabled && !isSpecialFormElement) {
              key = defaultKey;
            }
          }
        }
      }
      if (key && buttonSet) {
        hasHandler = true;
        close = this.dispatchEvent(new goog.ui.Dialog.Event(key, String(buttonSet.get(key))));
      }
    } else {
      if (target == this.titleCloseEl_ && e.keyCode == goog.events.KeyCodes.SPACE) {
        this.handleTitleClose_();
      }
    }
  }
  if (close || hasHandler) {
    e.stopPropagation();
    e.preventDefault();
  }
  if (close) {
    this.setVisible(false);
  }
};
goog.ui.Dialog.Event = function(key, caption) {
  this.type = goog.ui.Dialog.EventType.SELECT;
  this.key = key;
  this.caption = caption;
};
goog.inherits(goog.ui.Dialog.Event, goog.events.Event);
goog.ui.Dialog.SELECT_EVENT = "dialogselect";
goog.ui.Dialog.EventType = {SELECT:"dialogselect", AFTER_HIDE:"afterhide", AFTER_SHOW:"aftershow"};
goog.ui.Dialog.ButtonSet = function(opt_domHelper) {
  this.dom_ = opt_domHelper || goog.dom.getDomHelper();
  goog.structs.Map.call(this);
};
goog.inherits(goog.ui.Dialog.ButtonSet, goog.structs.Map);
goog.tagUnsealableClass(goog.ui.Dialog.ButtonSet);
goog.ui.Dialog.ButtonSet.prototype.class_ = goog.getCssName("goog-buttonset");
goog.ui.Dialog.ButtonSet.prototype.defaultButton_ = null;
goog.ui.Dialog.ButtonSet.prototype.element_ = null;
goog.ui.Dialog.ButtonSet.prototype.cancelButton_ = null;
goog.ui.Dialog.ButtonSet.prototype.set = function(key, caption, opt_isDefault, opt_isCancel) {
  goog.structs.Map.prototype.set.call(this, key, caption);
  if (opt_isDefault) {
    this.defaultButton_ = (key);
  }
  if (opt_isCancel) {
    this.cancelButton_ = (key);
  }
  return this;
};
goog.ui.Dialog.ButtonSet.prototype.addButton = function(button, opt_isDefault, opt_isCancel) {
  return this.set(button.key, button.caption, opt_isDefault, opt_isCancel);
};
goog.ui.Dialog.ButtonSet.prototype.attachToElement = function(el) {
  this.element_ = el;
  this.render();
};
goog.ui.Dialog.ButtonSet.prototype.render = function() {
  if (this.element_) {
    goog.dom.safe.setInnerHtml(this.element_, goog.html.SafeHtml.EMPTY);
    var domHelper = goog.dom.getDomHelper(this.element_);
    this.forEach(function(caption, key) {
      var button = domHelper.createDom(goog.dom.TagName.BUTTON, {"name":key}, caption);
      if (key == this.defaultButton_) {
        button.className = goog.getCssName(this.class_, "default");
      }
      this.element_.appendChild(button);
    }, this);
  }
};
goog.ui.Dialog.ButtonSet.prototype.decorate = function(element) {
  if (!element || element.nodeType != goog.dom.NodeType.ELEMENT) {
    return;
  }
  this.element_ = element;
  var buttons = this.element_.getElementsByTagName(goog.dom.TagName.BUTTON);
  for (var i = 0, button, key, caption;button = buttons[i];i++) {
    key = button.name || button.id;
    caption = goog.dom.getTextContent(button) || button.value;
    if (key) {
      var isDefault = i == 0;
      var isCancel = button.name == goog.ui.Dialog.DefaultButtonKeys.CANCEL;
      this.set(key, caption, isDefault, isCancel);
      if (isDefault) {
        goog.dom.classlist.add(button, goog.getCssName(this.class_, "default"));
      }
    }
  }
};
goog.ui.Dialog.ButtonSet.prototype.getElement = function() {
  return this.element_;
};
goog.ui.Dialog.ButtonSet.prototype.getDomHelper = function() {
  return this.dom_;
};
goog.ui.Dialog.ButtonSet.prototype.setDefault = function(key) {
  this.defaultButton_ = key;
};
goog.ui.Dialog.ButtonSet.prototype.getDefault = function() {
  return this.defaultButton_;
};
goog.ui.Dialog.ButtonSet.prototype.setCancel = function(key) {
  this.cancelButton_ = key;
};
goog.ui.Dialog.ButtonSet.prototype.getCancel = function() {
  return this.cancelButton_;
};
goog.ui.Dialog.ButtonSet.prototype.getButton = function(key) {
  var buttons = this.getAllButtons();
  for (var i = 0, nextButton;nextButton = buttons[i];i++) {
    if (nextButton.name == key || nextButton.id == key) {
      return nextButton;
    }
  }
  return null;
};
goog.ui.Dialog.ButtonSet.prototype.getAllButtons = function() {
  return this.element_.getElementsByTagName(goog.dom.TagName.BUTTON);
};
goog.ui.Dialog.ButtonSet.prototype.setButtonEnabled = function(key, enabled) {
  var button = this.getButton(key);
  if (button) {
    button.disabled = !enabled;
  }
};
goog.ui.Dialog.ButtonSet.prototype.setAllButtonsEnabled = function(enabled) {
  var allButtons = this.getAllButtons();
  for (var i = 0, button;button = allButtons[i];i++) {
    button.disabled = !enabled;
  }
};
goog.ui.Dialog.DefaultButtonKeys = {OK:"ok", CANCEL:"cancel", YES:"yes", NO:"no", SAVE:"save", CONTINUE:"continue"};
goog.ui.Dialog.MSG_DIALOG_OK_ = goog.getMsg("OK");
goog.ui.Dialog.MSG_DIALOG_CANCEL_ = goog.getMsg("Cancel");
goog.ui.Dialog.MSG_DIALOG_YES_ = goog.getMsg("Yes");
goog.ui.Dialog.MSG_DIALOG_NO_ = goog.getMsg("No");
goog.ui.Dialog.MSG_DIALOG_SAVE_ = goog.getMsg("Save");
goog.ui.Dialog.MSG_DIALOG_CONTINUE_ = goog.getMsg("Continue");
goog.ui.Dialog.MSG_GOOG_UI_DIALOG_CLOSE_ = goog.getMsg("Close");
goog.ui.Dialog.DefaultButtonCaptions = {OK:goog.ui.Dialog.MSG_DIALOG_OK_, CANCEL:goog.ui.Dialog.MSG_DIALOG_CANCEL_, YES:goog.ui.Dialog.MSG_DIALOG_YES_, NO:goog.ui.Dialog.MSG_DIALOG_NO_, SAVE:goog.ui.Dialog.MSG_DIALOG_SAVE_, CONTINUE:goog.ui.Dialog.MSG_DIALOG_CONTINUE_};
goog.ui.Dialog.ButtonSet.DefaultButtons = {OK:{key:goog.ui.Dialog.DefaultButtonKeys.OK, caption:goog.ui.Dialog.DefaultButtonCaptions.OK}, CANCEL:{key:goog.ui.Dialog.DefaultButtonKeys.CANCEL, caption:goog.ui.Dialog.DefaultButtonCaptions.CANCEL}, YES:{key:goog.ui.Dialog.DefaultButtonKeys.YES, caption:goog.ui.Dialog.DefaultButtonCaptions.YES}, NO:{key:goog.ui.Dialog.DefaultButtonKeys.NO, caption:goog.ui.Dialog.DefaultButtonCaptions.NO}, SAVE:{key:goog.ui.Dialog.DefaultButtonKeys.SAVE, caption:goog.ui.Dialog.DefaultButtonCaptions.SAVE}, 
CONTINUE:{key:goog.ui.Dialog.DefaultButtonKeys.CONTINUE, caption:goog.ui.Dialog.DefaultButtonCaptions.CONTINUE}};
goog.ui.Dialog.ButtonSet.createOk = function() {
  return (new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK, true, true);
};
goog.ui.Dialog.ButtonSet.createOkCancel = function() {
  return (new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK, true).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL, false, true);
};
goog.ui.Dialog.ButtonSet.createYesNo = function() {
  return (new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES, true).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO, false, true);
};
goog.ui.Dialog.ButtonSet.createYesNoCancel = function() {
  return (new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO, true).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL, false, true);
};
goog.ui.Dialog.ButtonSet.createContinueSaveCancel = function() {
  return (new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CONTINUE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.SAVE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL, true, true);
};
(function() {
  if (typeof document != "undefined") {
    goog.ui.Dialog.ButtonSet.OK = goog.ui.Dialog.ButtonSet.createOk();
    goog.ui.Dialog.ButtonSet.OK_CANCEL = goog.ui.Dialog.ButtonSet.createOkCancel();
    goog.ui.Dialog.ButtonSet.YES_NO = goog.ui.Dialog.ButtonSet.createYesNo();
    goog.ui.Dialog.ButtonSet.YES_NO_CANCEL = goog.ui.Dialog.ButtonSet.createYesNoCancel();
    goog.ui.Dialog.ButtonSet.CONTINUE_SAVE_CANCEL = goog.ui.Dialog.ButtonSet.createContinueSaveCancel();
  }
})();
goog.provide("goog.positioning.ClientPosition");
goog.require("goog.asserts");
goog.require("goog.dom");
goog.require("goog.math.Coordinate");
goog.require("goog.positioning");
goog.require("goog.positioning.AbstractPosition");
goog.require("goog.style");
goog.positioning.ClientPosition = function(arg1, opt_arg2) {
  this.coordinate = arg1 instanceof goog.math.Coordinate ? arg1 : new goog.math.Coordinate((arg1), opt_arg2);
};
goog.inherits(goog.positioning.ClientPosition, goog.positioning.AbstractPosition);
goog.positioning.ClientPosition.prototype.reposition = function(movableElement, movableElementCorner, opt_margin, opt_preferredSize) {
  goog.asserts.assert(movableElement);
  var viewportOffset = goog.style.getViewportPageOffset(goog.dom.getOwnerDocument(movableElement));
  var x = this.coordinate.x + viewportOffset.x;
  var y = this.coordinate.y + viewportOffset.y;
  var movableParentTopLeft = goog.positioning.getOffsetParentPageOffset(movableElement);
  x -= movableParentTopLeft.x;
  y -= movableParentTopLeft.y;
  goog.positioning.positionAtCoordinate(new goog.math.Coordinate(x, y), movableElement, movableElementCorner, opt_margin, null, null, opt_preferredSize);
};
goog.provide("kuroi.frontend");
goog.require("cljs.core");
goog.require("goog.Uri");
goog.require("goog.dom.forms");
goog.require("kuroi.base");
goog.require("goog.dom.query");
goog.require("goog.dom");
goog.require("goog.net.cookies");
goog.require("goog.Timer");
goog.require("kuroi.backend");
goog.require("goog.math");
goog.require("kuroi.settings");
goog.require("goog.ui.FlatButtonRenderer");
goog.require("goog.ui.Tooltip");
goog.require("goog.positioning.AnchoredViewportPosition");
goog.require("goog.positioning.ClientPosition");
goog.require("goog.positioning");
goog.require("clojure.browser.repl");
goog.require("kuroi.render");
goog.require("goog.ui.Popup");
goog.require("kuroi.io");
goog.require("goog.object");
goog.require("goog.ui.Button");
goog.require("kuroi.page_parser");
goog.require("goog.fx.Dragger");
goog.require("goog.events");
goog.require("goog.ui.Dialog");
goog.require("goog.array");
goog.require("goog.style");
goog.require("goog.positioning.Corner");
goog.require("clojure.string");
goog.require("cljs.reader");
kuroi.frontend._STAR_expand_counter_STAR_ = cljs.core.atom.call(null, 0);
kuroi.frontend.forget_trigger = '\x3ca class\x3d"forget-trigger" title\x3d"Forget thread"\x3e\x26#x00d7;\x3c/a\x3e';
kuroi.frontend.empty_set = '\x3cdiv class\x3d"prohibit"\x3e\x26#x20e0;\x3c/div\x3e';
kuroi.frontend.error_loading_page = '\x3cdiv class\x3d"prohibit load-indicator"\x3eError loading page\x3c/div\x3e';
kuroi.frontend.the_list_is_empty = '\x3cdiv class\x3d"load-indicator"\x3eThe list is empty\x3c/div\x3e';
kuroi.frontend._STAR_dom_helper_STAR_ = new goog.dom.DomHelper(document);
kuroi.frontend.dom_get_element = function kuroi$frontend$dom_get_element(id) {
  return goog.dom.getElement(id);
};
kuroi.frontend.dom_get_elements_by_class = function kuroi$frontend$dom_get_elements_by_class(name) {
  return goog.dom.getElementsByClass(name);
};
kuroi.frontend.dom_find_node = function kuroi$frontend$dom_find_node(root, f) {
  return goog.dom.findNode(root, f);
};
kuroi.frontend.file_base = function kuroi$frontend$file_base(file) {
  return [cljs.core.str(kuroi.frontend._STAR_file_base_STAR_), cljs.core.str(file)].join("");
};
kuroi.frontend.themed_image = function kuroi$frontend$themed_image(file_name) {
  return kuroi.frontend.file_base.call(null, [cljs.core.str("themes/"), cljs.core.str(kuroi.frontend._STAR_theme_STAR_), cljs.core.str("/images/"), cljs.core.str(file_name)].join(""));
};
kuroi.frontend.setup_themed_vars = function kuroi$frontend$setup_themed_vars(theme) {
  kuroi.frontend._STAR_theme_STAR_ = theme;
  var loading_bar = kuroi.frontend.themed_image.call(null, "loading-bar.gif");
  kuroi.frontend.loading_post = [cljs.core.str('\x3cdiv class\x3d"service-pane"\x3e\x3cimg src\x3d"'), cljs.core.str(loading_bar), cljs.core.str('"/\x3e Loading...\x3c/div\x3e')].join("");
  kuroi.frontend.service_loading = [cljs.core.str('\x3cimg class\x3d"service-loading" src\x3d"'), cljs.core.str(loading_bar), cljs.core.str('"/\x3e')].join("");
  return kuroi.frontend.obtaining_data = [cljs.core.str('\x3cdiv class\x3d"load-indicator"\x3e\x3cimg src\x3d"'), cljs.core.str(loading_bar), cljs.core.str('"/\x3e Processing...\x3c/div\x3e')].join("");
};
kuroi.frontend.delta_posts = function kuroi$frontend$delta_posts(n) {
  return [cljs.core.str('\x3cspan class\x3d"delta-posts" title\x3d"Delta posts from the last visit"\x3e\x26#x2206; ['), cljs.core.str(n), cljs.core.str("]\x3c/span\x3e")].join("");
};
kuroi.frontend.child_by_class = function kuroi$frontend$child_by_class(root, class_name) {
  return kuroi.frontend.dom_find_node.call(null, root, function(node) {
    var temp__4657__auto__ = node.className;
    if (cljs.core.truth_(temp__4657__auto__)) {
      var node_classname = temp__4657__auto__;
      return node_classname.indexOf(class_name) >= 0;
    } else {
      return null;
    }
  });
};
kuroi.frontend.sibling_by_class = function kuroi$frontend$sibling_by_class(node, class_name) {
  var sibling = node.previousSibling;
  while (true) {
    if (cljs.core.truth_(sibling)) {
      var sibling_classname = sibling.className;
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = sibling;
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = sibling_classname;
          if (cljs.core.truth_(and__6144__auto____$1)) {
            return sibling_classname.indexOf(class_name) >= 0;
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }())) {
        return sibling;
      } else {
        var G__10335 = sibling.previousSibling;
        sibling = G__10335;
        continue;
      }
    } else {
      return null;
    }
    break;
  }
};
kuroi.frontend.parent_by_class = function kuroi$frontend$parent_by_class(node, class_name) {
  var parent = node.parentNode;
  while (true) {
    if (cljs.core.truth_(parent)) {
      var parent_classname = parent.className;
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = parent;
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = parent_classname;
          if (cljs.core.truth_(and__6144__auto____$1)) {
            return parent_classname.indexOf(class_name) >= 0;
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }())) {
        return parent;
      } else {
        var G__10336 = parent.parentNode;
        parent = G__10336;
        continue;
      }
    } else {
      return null;
    }
    break;
  }
};
kuroi.frontend.parent_by_id = function kuroi$frontend$parent_by_id(node, id) {
  var parent = node.parentNode;
  while (true) {
    if (cljs.core.truth_(parent)) {
      var parent_id = parent.id;
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = parent;
        if (cljs.core.truth_(and__6144__auto__)) {
          var and__6144__auto____$1 = parent_id;
          if (cljs.core.truth_(and__6144__auto____$1)) {
            return parent_id.indexOf(id) >= 0;
          } else {
            return and__6144__auto____$1;
          }
        } else {
          return and__6144__auto__;
        }
      }())) {
        return parent;
      } else {
        var G__10337 = parent.parentNode;
        parent = G__10337;
        continue;
      }
    } else {
      return null;
    }
    break;
  }
};
kuroi.frontend.child_by_id = function kuroi$frontend$child_by_id(root, id) {
  return kuroi.frontend.dom_find_node.call(null, root, function(p1__10338_SHARP_) {
    return cljs.core._EQ_.call(null, p1__10338_SHARP_.id, id);
  });
};
kuroi.frontend.create_elt = function kuroi$frontend$create_elt(tag, attrs) {
  return kuroi.frontend._STAR_dom_helper_STAR_.createDom(tag, cljs.core.clj__GT_js.call(null, attrs));
};
kuroi.frontend.hide_elt = function kuroi$frontend$hide_elt(e) {
  return e.style.display = "none";
};
kuroi.frontend.show_elt = function kuroi$frontend$show_elt(e, display) {
  return e.style.display = display;
};
kuroi.frontend.show_output = function kuroi$frontend$show_output(content) {
  var output = kuroi.frontend.dom_get_element.call(null, "output");
  return output.innerHTML = content;
};
kuroi.frontend.load_external = function kuroi$frontend$load_external(filename, filetype) {
  var append = function kuroi$frontend$load_external_$_append(elt) {
    return document.getElementsByTagName("head")[0].appendChild(elt);
  };
  var pred__10342 = cljs.core._EQ_;
  var expr__10343 = filetype;
  if (cljs.core.truth_(pred__10342.call(null, "css", expr__10343))) {
    var elt = document.createElement("link");
    elt.rel = "stylesheet";
    elt.type = "text/css";
    elt.setAttribute("async", "false");
    elt.href = filename;
    append.call(null, elt);
    return elt.addEventListener("load", function(elt, pred__10342, expr__10343) {
      return function() {
        if (cljs.core.truth_(filename.endsWith("closure.css"))) {
          return document.body.style.display = "block";
        } else {
          return null;
        }
      };
    }(elt, pred__10342, expr__10343));
  } else {
    if (cljs.core.truth_(pred__10342.call(null, "ico", expr__10343))) {
      var elt = document.createElement("link");
      elt.rel = "icon";
      elt.href = filename;
      return append.call(null, elt);
    } else {
      return null;
    }
  }
};
kuroi.frontend.load_css = function kuroi$frontend$load_css(theme, filename) {
  return kuroi.frontend.load_external.call(null, [cljs.core.str(kuroi.frontend._STAR_file_base_STAR_), cljs.core.str("themes/"), cljs.core.str(theme), cljs.core.str("/css/"), cljs.core.str(filename)].join(""), "css");
};
kuroi.frontend.load_styles = function kuroi$frontend$load_styles(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10350 = arguments.length;
  var i__7215__auto___10351 = 0;
  while (true) {
    if (i__7215__auto___10351 < len__7214__auto___10350) {
      args__7221__auto__.push(arguments[i__7215__auto___10351]);
      var G__10352 = i__7215__auto___10351 + 1;
      i__7215__auto___10351 = G__10352;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return kuroi.frontend.load_styles.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
kuroi.frontend.load_styles.cljs$core$IFn$_invoke$arity$variadic = function(theme, p__10347) {
  var map__10348 = p__10347;
  var map__10348__$1 = (!(map__10348 == null) ? map__10348.cljs$lang$protocol_mask$partition0$ & 64 || map__10348.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__10348) : map__10348;
  var settings = cljs.core.get.call(null, map__10348__$1, new cljs.core.Keyword(null, "settings", "settings", 1556144875));
  var ua_10353 = clojure.string.lower_case.call(null, navigator.userAgent);
  if (ua_10353.indexOf("android") >= 0 || ua_10353.indexOf("mobile") >= 0) {
    kuroi.frontend.load_css.call(null, theme, "mobile.css");
  } else {
  }
  if (cljs.core.truth_(settings)) {
    kuroi.frontend.load_css.call(null, theme, "settings.css");
  } else {
    kuroi.frontend.load_css.call(null, theme, "frontend.css");
  }
  kuroi.frontend.load_css.call(null, theme, "main.css");
  return kuroi.frontend.load_css.call(null, theme, "closure.css");
};
kuroi.frontend.load_styles.cljs$lang$maxFixedArity = 1;
kuroi.frontend.load_styles.cljs$lang$applyTo = function(seq10345) {
  var G__10346 = cljs.core.first.call(null, seq10345);
  var seq10345__$1 = cljs.core.next.call(null, seq10345);
  return kuroi.frontend.load_styles.cljs$core$IFn$_invoke$arity$variadic(G__10346, seq10345__$1);
};
kuroi.frontend.format_stats = function kuroi$frontend$format_stats(stats, target) {
  var shown = cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target)) ? (new cljs.core.Keyword(null, "shown", "shown", -1564457683)).cljs$core$IFn$_invoke$arity$1(stats) : (new cljs.core.Keyword(null, "shown", "shown", -1564457683)).cljs$core$IFn$_invoke$arity$1(stats) + (new cljs.core.Keyword(null, "watch", "watch", 380988277)).cljs$core$IFn$_invoke$arity$1(stats);
  var additional = cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target)) ? 0 : (new cljs.core.Keyword(null, "watch-total", "watch-total", 1442164302)).cljs$core$IFn$_invoke$arity$1(stats) - (new cljs.core.Keyword(null, "watch", "watch", 380988277)).cljs$core$IFn$_invoke$arity$1(stats);
  var filtered = (new cljs.core.Keyword(null, "filtered", "filtered", -437499761)).cljs$core$IFn$_invoke$arity$1(stats);
  var forgotten = (new cljs.core.Keyword(null, "forgotten", "forgotten", 1049509514)).cljs$core$IFn$_invoke$arity$1(stats);
  var hidden = cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target)) ? 0 : filtered + forgotten;
  if (typeof stats === "string") {
    return stats;
  } else {
    return [cljs.core.str(cljs.core.not.call(null, function() {
      var or__6156__auto__ = (new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target);
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = cljs.core.not.call(null, kuroi.frontend._STAR_addon_STAR_);
        if (or__6156__auto____$1) {
          return or__6156__auto____$1;
        } else {
          return kuroi.base._STAR_posting_not_impl_STAR_.call(null, (new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target));
        }
      }
    }()) ? '\x3ca class\x3d"new-thread" title\x3d"New thread" style\x3d"cursor: pointer !important;"\x3e+\x3c/a\x3e\x26nbsp;' : null), cljs.core.str('\x3ca target\x3d"_blank" class\x3d"board-link" href\x3d"'), cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str('"\x3e'), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str((new cljs.core.Keyword(null, 
    "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("\x3c/a\x3e\x26nbsp;"), cljs.core.str(cljs.core.truth_((new cljs.core.Keyword(null, "img", "img", 1442687358)).cljs$core$IFn$_invoke$arity$1(target)) ? "images" : "threads"), cljs.core.str(" [displayed: "), cljs.core.str(cljs.core.truth_(shown) ? shown : "0"), cljs.core.str(additional > 0 ? [cljs.core.str("+"), cljs.core.str(additional)].join("") : null), cljs.core.str(hidden > 0 ? [cljs.core.str(", hidden: "), 
    cljs.core.str(hidden)].join("") : null), cljs.core.str("]")].join("");
  }
};
kuroi.frontend.insert_threads = function kuroi$frontend$insert_threads(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10364 = arguments.length;
  var i__7215__auto___10365 = 0;
  while (true) {
    if (i__7215__auto___10365 < len__7214__auto___10364) {
      args__7221__auto__.push(arguments[i__7215__auto___10365]);
      var G__10366 = i__7215__auto___10365 + 1;
      i__7215__auto___10365 = G__10366;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return kuroi.frontend.insert_threads.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
kuroi.frontend.insert_threads.cljs$core$IFn$_invoke$arity$variadic = function(threads, p__10357) {
  var map__10358 = p__10357;
  var map__10358__$1 = (!(map__10358 == null) ? map__10358.cljs$lang$protocol_mask$partition0$ & 64 || map__10358.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__10358) : map__10358;
  var meta = cljs.core.get.call(null, map__10358__$1, new cljs.core.Keyword(null, "meta", "meta", 1499536964));
  var t_h = goog.dom.getElement("thread-headlines");
  var err_msg = cljs.core.truth_((new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(meta)) ? (new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(meta) : kuroi.frontend.error_loading_page;
  if (cljs.core.truth_(threads)) {
    var indicators_10367 = threads.querySelectorAll(".load-indicator \x3e img");
    var seq__10360_10368 = cljs.core.seq.call(null, cljs.core.seq.call(null, indicators_10367));
    var chunk__10361_10369 = null;
    var count__10362_10370 = 0;
    var i__10363_10371 = 0;
    while (true) {
      if (i__10363_10371 < count__10362_10370) {
        var i_10372 = cljs.core._nth.call(null, chunk__10361_10369, i__10363_10371);
        i_10372.src = kuroi.frontend.themed_image.call(null, i_10372.getAttribute("src"));
        var G__10373 = seq__10360_10368;
        var G__10374 = chunk__10361_10369;
        var G__10375 = count__10362_10370;
        var G__10376 = i__10363_10371 + 1;
        seq__10360_10368 = G__10373;
        chunk__10361_10369 = G__10374;
        count__10362_10370 = G__10375;
        i__10363_10371 = G__10376;
        continue;
      } else {
        var temp__4657__auto___10377 = cljs.core.seq.call(null, seq__10360_10368);
        if (temp__4657__auto___10377) {
          var seq__10360_10378__$1 = temp__4657__auto___10377;
          if (cljs.core.chunked_seq_QMARK_.call(null, seq__10360_10378__$1)) {
            var c__6959__auto___10379 = cljs.core.chunk_first.call(null, seq__10360_10378__$1);
            var G__10380 = cljs.core.chunk_rest.call(null, seq__10360_10378__$1);
            var G__10381 = c__6959__auto___10379;
            var G__10382 = cljs.core.count.call(null, c__6959__auto___10379);
            var G__10383 = 0;
            seq__10360_10368 = G__10380;
            chunk__10361_10369 = G__10381;
            count__10362_10370 = G__10382;
            i__10363_10371 = G__10383;
            continue;
          } else {
            var i_10384 = cljs.core.first.call(null, seq__10360_10378__$1);
            i_10384.src = kuroi.frontend.themed_image.call(null, i_10384.getAttribute("src"));
            var G__10385 = cljs.core.next.call(null, seq__10360_10378__$1);
            var G__10386 = null;
            var G__10387 = 0;
            var G__10388 = 0;
            seq__10360_10368 = G__10385;
            chunk__10361_10369 = G__10386;
            count__10362_10370 = G__10387;
            i__10363_10371 = G__10388;
            continue;
          }
        } else {
        }
      }
      break;
    }
    t_h.removeChild(t_h.firstChild);
    t_h.appendChild(threads);
    var new_thread_elts_10389 = document.querySelectorAll(".new-thread");
    new_thread_elts_10389.forEach(function(new_thread_elts_10389, t_h, err_msg, map__10358, map__10358__$1, meta) {
      return function(p1__10354_SHARP_) {
        return p1__10354_SHARP_.onclick = function(new_thread_elts_10389, t_h, err_msg, map__10358, map__10358__$1, meta) {
          return function() {
            return kuroi.frontend.show_reply_form.call(null, p1__10354_SHARP_, true);
          };
        }(new_thread_elts_10389, t_h, err_msg, map__10358, map__10358__$1, meta);
      };
    }(new_thread_elts_10389, t_h, err_msg, map__10358, map__10358__$1, meta));
  } else {
    t_h.innerHTML = err_msg;
  }
  if (cljs.core.truth_((new cljs.core.Keyword(null, "alert", "alert", -571950580)).cljs$core$IFn$_invoke$arity$1(meta))) {
    return alert((new cljs.core.Keyword(null, "alert", "alert", -571950580)).cljs$core$IFn$_invoke$arity$1(meta));
  } else {
    return null;
  }
};
kuroi.frontend.insert_threads.cljs$lang$maxFixedArity = 1;
kuroi.frontend.insert_threads.cljs$lang$applyTo = function(seq10355) {
  var G__10356 = cljs.core.first.call(null, seq10355);
  var seq10355__$1 = cljs.core.next.call(null, seq10355);
  return kuroi.frontend.insert_threads.cljs$core$IFn$_invoke$arity$variadic(G__10356, seq10355__$1);
};
kuroi.frontend.append_threads = function kuroi$frontend$append_threads(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10396 = arguments.length;
  var i__7215__auto___10397 = 0;
  while (true) {
    if (i__7215__auto___10397 < len__7214__auto___10396) {
      args__7221__auto__.push(arguments[i__7215__auto___10397]);
      var G__10398 = i__7215__auto___10397 + 1;
      i__7215__auto___10397 = G__10398;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 1 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(1), 0) : null;
  return kuroi.frontend.append_threads.cljs$core$IFn$_invoke$arity$variadic(arguments[0], argseq__7222__auto__);
};
kuroi.frontend.append_threads.cljs$core$IFn$_invoke$arity$variadic = function(threads, p__10393) {
  var map__10394 = p__10393;
  var map__10394__$1 = (!(map__10394 == null) ? map__10394.cljs$lang$protocol_mask$partition0$ & 64 || map__10394.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__10394) : map__10394;
  var hide_indicator = cljs.core.get.call(null, map__10394__$1, new cljs.core.Keyword(null, "hide-indicator", "hide-indicator", -2100829857));
  console.log("appending");
  if (cljs.core.truth_(hide_indicator)) {
    var temp__4657__auto___10399 = threads.querySelector(".loading-thread");
    if (cljs.core.truth_(temp__4657__auto___10399)) {
      var loading_thread_10400 = temp__4657__auto___10399;
      kuroi.frontend.hide_elt.call(null, loading_thread_10400);
    } else {
    }
  } else {
  }
  var t_h = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
  t_h.appendChild(threads);
  var new_thread_elts = document.querySelectorAll(".new-thread");
  return new_thread_elts.forEach(function(new_thread_elts, t_h, map__10394, map__10394__$1, hide_indicator) {
    return function(p1__10390_SHARP_) {
      return p1__10390_SHARP_.onclick = function(new_thread_elts, t_h, map__10394, map__10394__$1, hide_indicator) {
        return function() {
          return kuroi.frontend.show_reply_form.call(null, p1__10390_SHARP_, true);
        };
      }(new_thread_elts, t_h, map__10394, map__10394__$1, hide_indicator);
    };
  }(new_thread_elts, t_h, map__10394, map__10394__$1, hide_indicator));
};
kuroi.frontend.append_threads.cljs$lang$maxFixedArity = 1;
kuroi.frontend.append_threads.cljs$lang$applyTo = function(seq10391) {
  var G__10392 = cljs.core.first.call(null, seq10391);
  var seq10391__$1 = cljs.core.next.call(null, seq10391);
  return kuroi.frontend.append_threads.cljs$core$IFn$_invoke$arity$variadic(G__10392, seq10391__$1);
};
kuroi.frontend.set_events = function kuroi$frontend$set_events(el, events) {
  var seq__10407 = cljs.core.seq.call(null, events);
  var chunk__10408 = null;
  var count__10409 = 0;
  var i__10410 = 0;
  while (true) {
    if (i__10410 < count__10409) {
      var vec__10411 = cljs.core._nth.call(null, chunk__10408, i__10410);
      var k = cljs.core.nth.call(null, vec__10411, 0, null);
      var v = cljs.core.nth.call(null, vec__10411, 1, null);
      el.addEventListener(k, v, false);
      var G__10413 = seq__10407;
      var G__10414 = chunk__10408;
      var G__10415 = count__10409;
      var G__10416 = i__10410 + 1;
      seq__10407 = G__10413;
      chunk__10408 = G__10414;
      count__10409 = G__10415;
      i__10410 = G__10416;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq.call(null, seq__10407);
      if (temp__4657__auto__) {
        var seq__10407__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__10407__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__10407__$1);
          var G__10417 = cljs.core.chunk_rest.call(null, seq__10407__$1);
          var G__10418 = c__6959__auto__;
          var G__10419 = cljs.core.count.call(null, c__6959__auto__);
          var G__10420 = 0;
          seq__10407 = G__10417;
          chunk__10408 = G__10418;
          count__10409 = G__10419;
          i__10410 = G__10420;
          continue;
        } else {
          var vec__10412 = cljs.core.first.call(null, seq__10407__$1);
          var k = cljs.core.nth.call(null, vec__10412, 0, null);
          var v = cljs.core.nth.call(null, vec__10412, 1, null);
          el.addEventListener(k, v, false);
          var G__10421 = cljs.core.next.call(null, seq__10407__$1);
          var G__10422 = null;
          var G__10423 = 0;
          var G__10424 = 0;
          seq__10407 = G__10421;
          chunk__10408 = G__10422;
          count__10409 = G__10423;
          i__10410 = G__10424;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
kuroi.frontend.del_events = function kuroi$frontend$del_events(el, events) {
  var seq__10431 = cljs.core.seq.call(null, events);
  var chunk__10432 = null;
  var count__10433 = 0;
  var i__10434 = 0;
  while (true) {
    if (i__10434 < count__10433) {
      var vec__10435 = cljs.core._nth.call(null, chunk__10432, i__10434);
      var k = cljs.core.nth.call(null, vec__10435, 0, null);
      var v = cljs.core.nth.call(null, vec__10435, 1, null);
      el.removeEventListener(k, v, false);
      var G__10437 = seq__10431;
      var G__10438 = chunk__10432;
      var G__10439 = count__10433;
      var G__10440 = i__10434 + 1;
      seq__10431 = G__10437;
      chunk__10432 = G__10438;
      count__10433 = G__10439;
      i__10434 = G__10440;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq.call(null, seq__10431);
      if (temp__4657__auto__) {
        var seq__10431__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__10431__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__10431__$1);
          var G__10441 = cljs.core.chunk_rest.call(null, seq__10431__$1);
          var G__10442 = c__6959__auto__;
          var G__10443 = cljs.core.count.call(null, c__6959__auto__);
          var G__10444 = 0;
          seq__10431 = G__10441;
          chunk__10432 = G__10442;
          count__10433 = G__10443;
          i__10434 = G__10444;
          continue;
        } else {
          var vec__10436 = cljs.core.first.call(null, seq__10431__$1);
          var k = cljs.core.nth.call(null, vec__10436, 0, null);
          var v = cljs.core.nth.call(null, vec__10436, 1, null);
          el.removeEventListener(k, v, false);
          var G__10445 = cljs.core.next.call(null, seq__10431__$1);
          var G__10446 = null;
          var G__10447 = 0;
          var G__10448 = 0;
          seq__10431 = G__10445;
          chunk__10432 = G__10446;
          count__10433 = G__10447;
          i__10434 = G__10448;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
kuroi.frontend.set_attrs = function kuroi$frontend$set_attrs(el, attrs) {
  var seq__10455 = cljs.core.seq.call(null, attrs);
  var chunk__10456 = null;
  var count__10457 = 0;
  var i__10458 = 0;
  while (true) {
    if (i__10458 < count__10457) {
      var vec__10459 = cljs.core._nth.call(null, chunk__10456, i__10458);
      var k = cljs.core.nth.call(null, vec__10459, 0, null);
      var v = cljs.core.nth.call(null, vec__10459, 1, null);
      el.setAttribute(k, v);
      var G__10461 = seq__10455;
      var G__10462 = chunk__10456;
      var G__10463 = count__10457;
      var G__10464 = i__10458 + 1;
      seq__10455 = G__10461;
      chunk__10456 = G__10462;
      count__10457 = G__10463;
      i__10458 = G__10464;
      continue;
    } else {
      var temp__4657__auto__ = cljs.core.seq.call(null, seq__10455);
      if (temp__4657__auto__) {
        var seq__10455__$1 = temp__4657__auto__;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__10455__$1)) {
          var c__6959__auto__ = cljs.core.chunk_first.call(null, seq__10455__$1);
          var G__10465 = cljs.core.chunk_rest.call(null, seq__10455__$1);
          var G__10466 = c__6959__auto__;
          var G__10467 = cljs.core.count.call(null, c__6959__auto__);
          var G__10468 = 0;
          seq__10455 = G__10465;
          chunk__10456 = G__10466;
          count__10457 = G__10467;
          i__10458 = G__10468;
          continue;
        } else {
          var vec__10460 = cljs.core.first.call(null, seq__10455__$1);
          var k = cljs.core.nth.call(null, vec__10460, 0, null);
          var v = cljs.core.nth.call(null, vec__10460, 1, null);
          el.setAttribute(k, v);
          var G__10469 = cljs.core.next.call(null, seq__10455__$1);
          var G__10470 = null;
          var G__10471 = 0;
          var G__10472 = 0;
          seq__10455 = G__10469;
          chunk__10456 = G__10470;
          count__10457 = G__10471;
          i__10458 = G__10472;
          continue;
        }
      } else {
        return null;
      }
    }
    break;
  }
};
kuroi.frontend.get_target = function kuroi$frontend$get_target(thread_line) {
  if (cljs.core.truth_(function() {
    var or__6156__auto__ = cljs.core.not.call(null, kuroi.frontend._STAR_target_STAR_);
    if (or__6156__auto__) {
      return or__6156__auto__;
    } else {
      return (new cljs.core.Keyword(null, "chain", "chain", 15631029)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_);
    }
  }())) {
    var thread_group = function() {
      var or__6156__auto__ = function() {
        var temp__4657__auto__ = kuroi.frontend.sibling_by_class.call(null, thread_line, "group-line");
        if (cljs.core.truth_(temp__4657__auto__)) {
          var group_line = temp__4657__auto__;
          return kuroi.frontend.child_by_class.call(null, group_line, "thread-group");
        } else {
          return null;
        }
      }();
      if (cljs.core.truth_(or__6156__auto__)) {
        return or__6156__auto__;
      } else {
        var or__6156__auto____$1 = function() {
          var temp__4657__auto__ = kuroi.frontend.parent_by_class.call(null, thread_line, "thread-stream");
          if (cljs.core.truth_(temp__4657__auto__)) {
            var thread_stream = temp__4657__auto__;
            return thread_stream.querySelector(".thread-group");
          } else {
            return null;
          }
        }();
        if (cljs.core.truth_(or__6156__auto____$1)) {
          return or__6156__auto____$1;
        } else {
          return thread_line;
        }
      }
    }();
    if (cljs.core.truth_(thread_group)) {
      var temp__4657__auto__ = cljs.core.truth_((new cljs.core.Keyword(null, "chain", "chain", 15631029)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_)) ? kuroi.frontend.child_by_class.call(null, thread_group, "board-link") : thread_group;
      if (cljs.core.truth_(temp__4657__auto__)) {
        var board_link = temp__4657__auto__;
        return kuroi.backend.make_target.call(null, [cljs.core.str(board_link.innerHTML)].join(""));
      } else {
        return null;
      }
    } else {
      return null;
    }
  } else {
    return kuroi.frontend._STAR_target_STAR_;
  }
};
kuroi.frontend.inline_dialog = function kuroi$frontend$inline_dialog(title, target) {
  var dialog = new goog.ui.Dialog;
  var close_elt = dialog.getTitleCloseElement();
  if (cljs.core.vector_QMARK_.call(null, title)) {
    var title_elt_10473 = dialog.getTitleTextElement();
    title_elt_10473.innerHTML = cljs.core.first.call(null, title);
  } else {
    dialog.setTitle(title);
  }
  dialog.setContent([cljs.core.str('\x3ciframe src\x3d"'), cljs.core.str(target), cljs.core.str('"/\x3e')].join(""), dialog.setButtonSet(null), close_elt.innerHTML = "Close", close_elt.className = "modal-dialog-title-close goog-flat-button", dialog.setDisposeOnHide(true), dialog.setVisible(true));
  return false;
};
kuroi.frontend.inline_view_link = function kuroi$frontend$inline_view_link(link) {
  var title = [cljs.core.str('\x3ca class\x3d"title-link" target\x3d"_blank" href\x3d"'), cljs.core.str(link), cljs.core.str('"\x3e'), cljs.core.str(link), cljs.core.str("\x3c/a\x3e")].join("");
  return kuroi.frontend.inline_dialog.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [title], null), link);
};
kuroi.frontend.inline_view_thread = function kuroi$frontend$inline_view_thread(a) {
  var link_elt = function() {
    var or__6156__auto__ = kuroi.frontend.child_by_class.call(null, a.parentNode, "thread-no");
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return kuroi.frontend.child_by_class.call(null, a.parentNode, "reply-no");
    }
  }();
  var thread_link = link_elt.href;
  return kuroi.frontend.inline_view_link.call(null, thread_link);
};
goog.exportSymbol("kuroi.frontend.inline_view_thread", kuroi.frontend.inline_view_thread);
kuroi.frontend.inline_view_reflink = function kuroi$frontend$inline_view_reflink(a) {
  return kuroi.frontend.inline_view_link.call(null, a.href);
};
goog.exportSymbol("kuroi.frontend.inline_view_reflink", kuroi.frontend.inline_view_reflink);
kuroi.frontend.show_thread_images = function kuroi$frontend$show_thread_images(a, from_thread_stream_QMARK_) {
  var thread_no = kuroi.frontend.child_by_class.call(null, a.parentNode, "thread-no");
  var thread_link = thread_no.href;
  var target = cljs.core.truth_(from_thread_stream_QMARK_) ? function() {
    var thread_line = kuroi.frontend.parent_by_class.call(null, a, "thread-line");
    return kuroi.frontend.get_target.call(null, thread_line);
  }() : kuroi.frontend._STAR_target_STAR_;
  var target__$1 = cljs.core.assoc.call(null, target, new cljs.core.Keyword(null, "img", "img", 1442687358), true, new cljs.core.Keyword(null, "inline", "inline", 1399884222), true);
  var iframe_link = [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?images\x26target\x3d"), cljs.core.str(encodeURI(cljs.core.pr_str.call(null, target__$1))), cljs.core.str("\x26thread-id\x3d"), cljs.core.str(thread_no.textContent)].join("");
  var title = [cljs.core.str('\x3ca class\x3d"title-link" target\x3d"_blank" href\x3d"'), cljs.core.str(thread_link), cljs.core.str('"\x3e'), cljs.core.str(thread_link), cljs.core.str("\x3c/a\x3e")].join("");
  return kuroi.frontend.inline_dialog.call(null, new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [title], null), iframe_link);
};
goog.exportSymbol("kuroi.frontend.show_thread_images", kuroi.frontend.show_thread_images);
kuroi.frontend.show_thread_video = function kuroi$frontend$show_thread_video(video_pic) {
  var video_id = cljs.core.second.call(null, cljs.core.re_find.call(null, /.*ytimg.com\/[^\/]+\/([^\/]+)\//, video_pic));
  var url = cljs.core.truth_(video_id) ? [cljs.core.str("http://youtube.com/embed/"), cljs.core.str(video_id), cljs.core.str("?autoplay\x3d1")].join("") : null;
  if (cljs.core.truth_(url)) {
    return kuroi.frontend.inline_dialog.call(null, "Video", [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?video?video\x3d"), cljs.core.str(encodeURIComponent(url))].join(""));
  } else {
    return null;
  }
};
goog.exportSymbol("kuroi.frontend.show_thread_video", kuroi.frontend.show_thread_video);
kuroi.frontend.make_moveable = function kuroi$frontend$make_moveable(el) {
  var move_elt = function kuroi$frontend$make_moveable_$_move_elt(e) {
    el.style.left = [cljs.core.str(e.clientX - el.curX), cljs.core.str("px")].join("");
    el.style.top = [cljs.core.str(e.clientY - el.curY), cljs.core.str("px")].join("");
    return el.moved = true;
  };
  var stop_elt = function kuroi$frontend$make_moveable_$_stop_elt() {
    return kuroi.frontend.del_events.call(null, document.body, new cljs.core.PersistentArrayMap(null, 2, ["mousemove", move_elt, "mouseup", kuroi$frontend$make_moveable_$_stop_elt], null));
  };
  return kuroi.frontend.set_events.call(null, el, new cljs.core.PersistentArrayMap(null, 1, ["mousedown", function(e) {
    var left = parseInt(el.style.left);
    var top = parseInt(el.style.top);
    var client_x = e.clientX;
    var client_y = e.clientY;
    e.preventDefault();
    el.curX = client_x - left;
    el.curY = client_y - top;
    return kuroi.frontend.set_events.call(null, document.body, new cljs.core.PersistentArrayMap(null, 2, ["mousemove", move_elt, "mouseup", stop_elt], null));
  }], null));
};
kuroi.frontend.resize_image = function kuroi$frontend$resize_image(e) {
  e.preventDefault();
  var self = this;
  var cur_x = e.clientX;
  var cur_y = e.clientY;
  var old_l = parseInt(self.style.left);
  var old_t = parseInt(self.style.top);
  var old_w = self.width;
  var old_h = self.height;
  var d = -e.detail;
  var new_w = parseInt(self.width * (d > 0 ? 1.25 : .8));
  var new_h = parseInt(self.height * (d > 0 ? 1.25 : .8));
  self.width = new_w;
  self.height = new_h;
  self.style.left = [cljs.core.str(cur_x - new_w / old_w * (cur_x - old_l)), cljs.core.str("px")].join("");
  return self.style.top = [cljs.core.str(cur_y - new_h / old_h * (cur_y - old_t)), cljs.core.str("px")].join("");
};
kuroi.frontend.expand_image = function kuroi$frontend$expand_image(a, full_w, full_h) {
  if (clojure.string.blank_QMARK_.call(null, a.href) || cljs.core._EQ_.call(null, "#", a.href)) {
    var img_10476 = a.querySelector("img");
    var src_10477 = cljs.core.truth_(img_10476) ? img_10476.src : null;
    if (cljs.core.truth_(src_10477)) {
      kuroi.frontend.show_thread_video.call(null, src_10477);
    } else {
    }
  } else {
    var full_10478 = document.evaluate('.//*[@id\x3d"_fullimg"]', a, null, 8, null).singleNodeValue;
    var video_QMARK__10479 = a.href.endsWith(".webm");
    if (cljs.core.truth_(full_10478)) {
      if (cljs.core.not.call(null, full_10478.moved)) {
        full_10478.style.display = cljs.core._EQ_.call(null, full_10478.style.display, "none") ? "" : "none";
        setTimeout(function(full_10478, video_QMARK__10479) {
          return function() {
            return full_10478.parentNode.removeChild(full_10478);
          };
        }(full_10478, video_QMARK__10479), 0);
      } else {
        full_10478.moved = false;
      }
    } else {
      var full_10480__$1 = document.createElement(cljs.core.truth_(video_QMARK__10479) ? "video" : "img");
      var existing_10481 = kuroi.frontend.dom_get_element.call(null, "_fullimg");
      var scr_w_10482 = document.body.clientWidth;
      var scr_h_10483 = window.innerHeight;
      var vec__10475_10484 = full_w > scr_w_10482 || full_h > scr_h_10483 ? function() {
        var new_w = full_w * scr_h_10483 / full_h;
        var new_h = full_h * scr_w_10482 / full_w;
        return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new_w > scr_w_10482 ? scr_w_10482 : new_w, new_w <= scr_w_10482 ? scr_h_10483 : new_h], null);
      }() : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [full_w, full_h], null);
      var new_w_10485 = cljs.core.nth.call(null, vec__10475_10484, 0, null);
      var new_h_10486 = cljs.core.nth.call(null, vec__10475_10484, 1, null);
      if (cljs.core.truth_(existing_10481)) {
        existing_10481.parentNode.removeChild(existing_10481);
      } else {
      }
      if (cljs.core.truth_(video_QMARK__10479)) {
        full_10480__$1.controls = true;
        full_10480__$1.autoplay = true;
      } else {
      }
      full_10480__$1.addEventListener("DOMMouseScroll", kuroi.frontend.resize_image);
      kuroi.frontend.make_moveable.call(null, full_10480__$1);
      kuroi.frontend.set_attrs.call(null, full_10480__$1, new cljs.core.PersistentArrayMap(null, 7, ["id", "_fullimg", "src", a.href, "title", a.href, "alt", a.href, "width", new_w_10485, "height", new_h_10486, "style", [cljs.core.str("display: block;"), cljs.core.str("position: fixed;"), cljs.core.str("z-index: 5000;"), cljs.core.str(" border: 1px solid black;"), cljs.core.str("left:"), cljs.core.str((scr_w_10482 - new_w_10485) / 2), cljs.core.str("px;"), cljs.core.str("top:"), cljs.core.str((scr_h_10483 - 
      new_h_10486) / 2), cljs.core.str("px")].join("")], null));
      a.appendChild(full_10480__$1);
    }
  }
  return false;
};
goog.exportSymbol("kuroi.frontend.expand_image", kuroi.frontend.expand_image);
kuroi.frontend.popups = cljs.core.PersistentArrayMap.EMPTY;
kuroi.frontend.inside_QMARK_ = function kuroi$frontend$inside_QMARK_(box, point) {
  return point.x > box.left && point.x < box.left + box.width && point.y > box.top && point.y < box.top + box.height;
};
kuroi.frontend.hide_popup = function kuroi$frontend$hide_popup(e, post) {
  var popup = kuroi.frontend.popups.call(null, post);
  var popup_elt = kuroi.frontend.dom_get_element.call(null, [cljs.core.str("popup-"), cljs.core.str(post)].join(""));
  var out = kuroi.frontend.dom_get_element.call(null, "output");
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = popup;
    if (cljs.core.truth_(and__6144__auto__)) {
      return popup_elt;
    } else {
      return and__6144__auto__;
    }
  }())) {
    var box = goog.style.getBounds(popup_elt);
    var point = new goog.math.Coordinate(e.clientX, e.clientY);
    if (cljs.core.not.call(null, kuroi.frontend.inside_QMARK_.call(null, box, point))) {
      return popup.setVisible(false);
    } else {
      return null;
    }
  } else {
    return null;
  }
};
kuroi.frontend.dismiss_popup = function kuroi$frontend$dismiss_popup(popup) {
  var post = popup.post_;
  var popup_elt = kuroi.frontend.dom_get_element.call(null, [cljs.core.str("popup-"), cljs.core.str(post)].join(""));
  if (cljs.core.truth_(popup_elt)) {
    goog.events.removeAll(popup_elt, goog.events.EventType.MOUSEOUT);
    document.body.removeChild(popup_elt);
  } else {
  }
  return kuroi.frontend.popups = cljs.core.dissoc.call(null, kuroi.frontend.popups, post);
};
kuroi.frontend.quadrant_dispatch = function kuroi$frontend$quadrant_dispatch(x, y, lt, rt, lb, rb) {
  var viewport = goog.style.getBounds(goog.style.getClientViewportElement());
  var h_sec = viewport.width / 2;
  var v_sec = viewport.height / 2;
  if (x < h_sec && y < v_sec) {
    return lt;
  } else {
    if (x > h_sec && y < v_sec) {
      return rt;
    } else {
      if (x < h_sec && y > v_sec) {
        return lb;
      } else {
        if (x > h_sec && y > v_sec) {
          return rb;
        } else {
          return null;
        }
      }
    }
  }
};
kuroi.frontend.failed_node = null;
kuroi.frontend.loading_popup_QMARK_ = null;
kuroi.frontend.show_popup = function kuroi$frontend$show_popup(e, post, show_QMARK_) {
  var get_thread_id = function(element) {
    var post_container = kuroi.frontend.parent_by_class.call(null, element, "post-container");
    if (cljs.core.truth_(post_container)) {
      return post_container.getAttribute("data-thread-id");
    } else {
      return null;
    }
  };
  var make_popup = function(get_thread_id) {
    return function(node) {
      var post__$1 = cljs.core.truth_(node) ? post : "loading";
      var popup_elt = kuroi.frontend.create_elt.call(null, "div", new cljs.core.PersistentArrayMap(null, 3, ["class", "popup", "id", [cljs.core.str("popup-"), cljs.core.str(post__$1)].join(""), "innerHTML", cljs.core.truth_(node) ? "\x3cdiv/\x3e" : kuroi.frontend.loading_post], null));
      document.body.appendChild(popup_elt);
      var links_10490 = popup_elt.querySelectorAll("a[data-onmouseover");
      links_10490.forEach(function(links_10490, post__$1, popup_elt, get_thread_id) {
        return function(p1__10487_SHARP_) {
          console.log(p1__10487_SHARP_);
          p1__10487_SHARP_.onmouseover = function(links_10490, post__$1, popup_elt, get_thread_id) {
            return function(event) {
              return kuroi$frontend$show_popup.call(null, event, post__$1, true);
            };
          }(links_10490, post__$1, popup_elt, get_thread_id);
          return p1__10487_SHARP_.onmouseout = function(links_10490, post__$1, popup_elt, get_thread_id) {
            return function(event) {
              return kuroi$frontend$show_popup.call(null, event, post__$1, false);
            };
          }(links_10490, post__$1, popup_elt, get_thread_id);
        };
      }(links_10490, post__$1, popup_elt, get_thread_id));
      if (cljs.core.truth_(node)) {
        var reply_elt_10491 = node.cloneNode(true);
        var oppost_text_10492 = kuroi.frontend.child_by_class.call(null, reply_elt_10491, "oppost-text");
        kuroi.render.replace_events.call(null, reply_elt_10491);
        if (cljs.core.truth_(oppost_text_10492)) {
          oppost_text_10492.style.maxHeight = "none";
        } else {
        }
        popup_elt.removeChild(popup_elt.firstChild);
        popup_elt.appendChild(reply_elt_10491);
      } else {
      }
      var popup = new goog.ui.Popup(popup_elt);
      var corner = kuroi.frontend.quadrant_dispatch.call(null, e.clientX, e.clientY, goog.positioning.Corner.TOP_LEFT, goog.positioning.Corner.TOP_RIGHT, goog.positioning.Corner.BOTTOM_LEFT, goog.positioning.Corner.BOTTOM_RIGHT);
      var dd = kuroi.frontend.quadrant_dispatch.call(null, e.clientX, e.clientY, new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [-5, -5], null), new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [5, -5], null), new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [-5, 5], null), new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [5, 5], null));
      kuroi.frontend.popups = cljs.core.assoc.call(null, kuroi.frontend.popups, post__$1, popup);
      popup.post_ = post__$1;
      popup.setPinnedCorner(corner);
      popup.setPosition(new goog.positioning.ClientPosition(e.clientX + cljs.core.first.call(null, dd), e.clientY + cljs.core.second.call(null, dd)));
      goog.events.listen(popup, goog.ui.Component.EventType.HIDE, function(popup, corner, dd, post__$1, popup_elt, get_thread_id) {
        return function(p1__10488_SHARP_) {
          return kuroi.frontend.dismiss_popup.call(null, p1__10488_SHARP_.currentTarget);
        };
      }(popup, corner, dd, post__$1, popup_elt, get_thread_id));
      goog.events.listen(popup_elt, goog.events.EventType.MOUSEOUT, function(popup, corner, dd, post__$1, popup_elt, get_thread_id) {
        return function(p1__10489_SHARP_) {
          return kuroi.frontend.hide_popup.call(null, p1__10489_SHARP_, post__$1);
        };
      }(popup, corner, dd, post__$1, popup_elt, get_thread_id));
      popup.setVisible(true);
      return popup;
    };
  }(get_thread_id);
  var do_show = function(get_thread_id, make_popup) {
    return function(node) {
      var popup = kuroi.frontend.popups.call(null, post);
      if (cljs.core.truth_(popup)) {
        kuroi.frontend.dismiss_popup.call(null, popup);
      } else {
      }
      var popup__$1 = make_popup.call(null, node);
      if (cljs.core.not.call(null, node)) {
        kuroi.frontend.loading_popup_QMARK_ = true;
        return kuroi.backend.get_popup_post.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), get_thread_id.call(null, e.target), new cljs.core.Keyword(null, "url", "url", 276297046), e.target.href], null), function(popup__$1, popup, get_thread_id, make_popup) {
          return function(reply) {
            if (cljs.core.truth_(reply)) {
              kuroi.frontend.dismiss_popup.call(null, popup__$1);
              make_popup.call(null, kuroi.frontend.child_by_class.call(null, reply.firstChild, "post-container"));
            } else {
              kuroi.frontend.failed_node = post;
              kuroi.frontend.dismiss_popup.call(null, popup__$1);
            }
            return kuroi.frontend.loading_popup_QMARK_ = null;
          };
        }(popup__$1, popup, get_thread_id, make_popup));
      } else {
        return null;
      }
    };
  }(get_thread_id, make_popup);
  if (cljs.core.not.call(null, kuroi.frontend.loading_popup_QMARK_)) {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = cljs.core.not_EQ_.call(null, kuroi.frontend.failed_node, post);
      if (and__6144__auto__) {
        return show_QMARK_;
      } else {
        return and__6144__auto__;
      }
    }())) {
      var nodes = kuroi.frontend.dom_get_elements_by_class.call(null, "reply-no", kuroi.frontend.dom_get_element.call(null, "thread-stream"));
      var node = function() {
        var n = nodes.length - 1;
        while (true) {
          if (n >= 0) {
            var node = nodes[n];
            if (cljs.core._EQ_.call(null, node.textContent, post)) {
              return node;
            } else {
              var G__10493 = n - 1;
              n = G__10493;
              continue;
            }
          } else {
            return null;
          }
          break;
        }
      }();
      return do_show.call(null, cljs.core.truth_(node) ? kuroi.frontend.parent_by_class.call(null, node, "post-container") : null);
    } else {
      kuroi.frontend.failed_node = null;
      return kuroi.frontend.hide_popup.call(null, e, post);
    }
  } else {
    return null;
  }
};
goog.exportSymbol("kuroi.frontend.show_popup", kuroi.frontend.show_popup);
kuroi.frontend.lazy_get_watch = function kuroi$frontend$lazy_get_watch(element, watch_stream_QMARK_) {
  var thread_line = kuroi.frontend.parent_by_class.call(null, element, "thread-line");
  var target = kuroi.frontend.get_target.call(null, thread_line);
  if (cljs.core.truth_(target)) {
    var target__$1 = cljs.core.truth_(watch_stream_QMARK_) ? cljs.core.assoc.call(null, target, new cljs.core.Keyword(null, "replies", "replies", -1389888974), 0) : target;
    var service_pane = kuroi.frontend.child_by_class.call(null, thread_line, "service-pane");
    var thread_no = kuroi.frontend.child_by_class.call(null, thread_line, "thread-no");
    var thread_id = thread_no.textContent;
    service_pane.innerHTML = kuroi.frontend.service_loading;
    return kuroi.backend.lazy_get_watch.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "target", "target", 253001721), target__$1], null), function(target__$1, service_pane, thread_no, thread_id, thread_line, target) {
      return function(response) {
        if (cljs.core.truth_(response)) {
          var post_count = kuroi.frontend.child_by_class.call(null, thread_line, "post-count");
          var oppost = kuroi.frontend.child_by_class.call(null, thread_line, "thread-oppost");
          service_pane.innerHTML = kuroi.frontend.delta_posts.call(null, (new cljs.core.Keyword(null, "post-delta", "post-delta", -1979856262)).cljs$core$IFn$_invoke$arity$1(response));
          post_count.innerHTML = [cljs.core.str("["), cljs.core.str((new cljs.core.Keyword(null, "post-count", "post-count", -1326461588)).cljs$core$IFn$_invoke$arity$1(response)), cljs.core.str("]")].join("");
          if (cljs.core.truth_((new cljs.core.Keyword(null, "replies", "replies", -1389888974)).cljs$core$IFn$_invoke$arity$1(response))) {
            var expand_trigger = kuroi.frontend.child_by_class.call(null, thread_line, "expand-trigger");
            var existing_replies = kuroi.frontend.child_by_class.call(null, oppost, "replies");
            var replies = (new cljs.core.Keyword(null, "replies", "replies", -1389888974)).cljs$core$IFn$_invoke$arity$1(response).firstChild;
            oppost.removeChild(existing_replies);
            oppost.appendChild(replies);
            if (cljs.core.truth_(expand_trigger.expanded_)) {
              return replies.style.display = "block";
            } else {
              return null;
            }
          } else {
            return null;
          }
        } else {
          return service_pane.innerHTML = kuroi.frontend.empty_set;
        }
      };
    }(target__$1, service_pane, thread_no, thread_id, thread_line, target));
  } else {
    return setTimeout(function(thread_line, target) {
      return function() {
        return kuroi$frontend$lazy_get_watch.call(null, element, watch_stream_QMARK_);
      };
    }(thread_line, target), 2E3);
  }
};
goog.exportSymbol("kuroi.frontend.lazy_get_watch", kuroi.frontend.lazy_get_watch);
kuroi.frontend.expand_thread = function kuroi$frontend$expand_thread(var_args) {
  var args__7221__auto__ = [];
  var len__7214__auto___10500 = arguments.length;
  var i__7215__auto___10501 = 0;
  while (true) {
    if (i__7215__auto___10501 < len__7214__auto___10500) {
      args__7221__auto__.push(arguments[i__7215__auto___10501]);
      var G__10502 = i__7215__auto___10501 + 1;
      i__7215__auto___10501 = G__10502;
      continue;
    } else {
    }
    break;
  }
  var argseq__7222__auto__ = 2 < args__7221__auto__.length ? new cljs.core.IndexedSeq(args__7221__auto__.slice(2), 0) : null;
  return kuroi.frontend.expand_thread.cljs$core$IFn$_invoke$arity$variadic(arguments[0], arguments[1], argseq__7222__auto__);
};
goog.exportSymbol("kuroi.frontend.expand_thread", kuroi.frontend.expand_thread);
kuroi.frontend.expand_thread.cljs$core$IFn$_invoke$arity$variadic = function(post_id, expand_QMARK_, p__10497) {
  var map__10498 = p__10497;
  var map__10498__$1 = (!(map__10498 == null) ? map__10498.cljs$lang$protocol_mask$partition0$ & 64 || map__10498.cljs$core$ISeq$ ? true : false : false) ? cljs.core.apply.call(null, cljs.core.hash_map, map__10498) : map__10498;
  var mass = cljs.core.get.call(null, map__10498__$1, new cljs.core.Keyword(null, "mass", "mass", -2138950046));
  var post_10503 = kuroi.frontend.dom_get_element.call(null, post_id);
  var thread_headlines_10504 = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
  var thread_line_10505 = kuroi.frontend.parent_by_class.call(null, post_10503, "thread-line");
  var target_10506 = kuroi.frontend.get_target.call(null, thread_line_10505);
  var thread_no_10507 = kuroi.frontend.child_by_class.call(null, thread_line_10505, "thread-no");
  var thread_id_10508 = thread_no_10507.textContent;
  var expand_btn_10509 = cljs.core.not.call(null, mass) ? kuroi.frontend.dom_get_element.call(null, "expand-btn") : null;
  var expand_trigger_10510 = kuroi.frontend.child_by_class.call(null, post_10503.parentNode, "expand-trigger");
  var post_text_10511 = kuroi.frontend.child_by_class.call(null, post_10503, "oppost-text");
  var replies_10512 = kuroi.frontend.child_by_class.call(null, post_10503, "replies");
  var nav_popup_10513 = kuroi.frontend.dom_get_element.call(null, "nav-popup");
  var expanded__QMARK__10514 = cljs.core._EQ_.call(null, "true", expand_trigger_10510.getAttribute("expanded_"));
  kuroi.frontend.hide_elt.call(null, nav_popup_10513);
  if (expand_QMARK_ === false || cljs.core._EQ_.call(null, expand_QMARK_, undefined) && expanded__QMARK__10514) {
    post_text_10511.style.maxHeight = "65px";
    replies_10512.style.display = "none";
    expand_trigger_10510.innerHTML = "\x26raquo;";
    expand_trigger_10510.setAttribute("expanded_", "false");
    if (cljs.core.not.call(null, mass)) {
      kuroi.backend.save_expanded.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "target", "target", 253001721), target_10506, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id_10508, new cljs.core.Keyword(null, "state", "state", -1988618099), new cljs.core.Keyword(null, "collapse", "collapse", -1218136136)], null));
      cljs.core.swap_BANG_.call(null, kuroi.frontend._STAR_expand_counter_STAR_, cljs.core.dec);
      if (cljs.core._EQ_.call(null, 0, cljs.core.deref.call(null, kuroi.frontend._STAR_expand_counter_STAR_))) {
        expand_btn_10509.textContent = "Expand";
      } else {
      }
      var vp_offset_10515 = goog.style.getClientPosition(post_10503).y - goog.style.getClientPosition(thread_headlines_10504).y;
      if (vp_offset_10515 < 0) {
        post_10503.scrollIntoView();
      } else {
      }
    } else {
    }
  } else {
    if (expand_QMARK_ === true || cljs.core._EQ_.call(null, expand_QMARK_, undefined) && !expanded__QMARK__10514) {
      var service_pane_10516 = kuroi.frontend.child_by_class.call(null, post_10503.parentNode, "service-pane");
      if (cljs.core.not.call(null, mass)) {
        kuroi.backend.save_expanded.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "target", "target", 253001721), target_10506, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id_10508, new cljs.core.Keyword(null, "state", "state", -1988618099), new cljs.core.Keyword(null, "expand", "expand", 595248157)], null));
        cljs.core.swap_BANG_.call(null, kuroi.frontend._STAR_expand_counter_STAR_, cljs.core.inc);
        expand_btn_10509.textContent = "Collapse";
      } else {
      }
      if (service_pane_10516.innerHTML.indexOf("[?]") > 0) {
        kuroi.frontend.lazy_get_watch.call(null, post_10503, false);
      } else {
      }
      post_text_10511.style.maxHeight = "none";
      replies_10512.style.display = "block";
      expand_trigger_10510.innerHTML = "\x26laquo;";
      expand_trigger_10510.setAttribute("expanded_", "true");
    } else {
    }
  }
  kuroi.frontend.show_elt.call(null, nav_popup_10513, "block");
  return false;
};
kuroi.frontend.expand_thread.cljs$lang$maxFixedArity = 2;
kuroi.frontend.expand_thread.cljs$lang$applyTo = function(seq10494) {
  var G__10495 = cljs.core.first.call(null, seq10494);
  var seq10494__$1 = cljs.core.next.call(null, seq10494);
  var G__10496 = cljs.core.first.call(null, seq10494__$1);
  var seq10494__$2 = cljs.core.next.call(null, seq10494__$1);
  return kuroi.frontend.expand_thread.cljs$core$IFn$_invoke$arity$variadic(G__10495, G__10496, seq10494__$2);
};
kuroi.frontend.watch_thread = function kuroi$frontend$watch_thread(element) {
  var thread_line = kuroi.frontend.parent_by_class.call(null, element, "thread-line");
  var thread_oppost = kuroi.frontend.child_by_class.call(null, thread_line, "thread-oppost");
  var target = kuroi.frontend.get_target.call(null, thread_line);
  var service_pane = kuroi.frontend.child_by_class.call(null, thread_line, "service-pane");
  var thread_no = kuroi.frontend.child_by_class.call(null, thread_line, "thread-no");
  var thread_id = thread_no.textContent;
  service_pane.innerHTML = kuroi.frontend.service_loading;
  if (cljs.core.truth_(function() {
    var or__6156__auto__ = cljs.core._EQ_.call(null, element.getAttribute("onwatch"), "onwatch");
    if (or__6156__auto__) {
      return or__6156__auto__;
    } else {
      return element.onwatch;
    }
  }())) {
    return kuroi.backend.unwatch_thread.call(null, thread_oppost.id, function(thread_line, thread_oppost, target, service_pane, thread_no, thread_id) {
      return function(response) {
        if (cljs.core.truth_(response)) {
          element.innerHTML = "\x26#x2606;";
          element.className = "watch-trigger-disabled";
          element.title = "Watch thread";
          if (cljs.core.not.call(null, kuroi.frontend._STAR_target_STAR_)) {
            service_pane.innerHTML = "";
          } else {
            service_pane.innerHTML = kuroi.frontend.forget_trigger;
            var trigger_10517 = kuroi.frontend.child_by_class.call(null, service_pane, "forget-trigger");
            trigger_10517.onclick = function(trigger_10517, thread_line, thread_oppost, target, service_pane, thread_no, thread_id) {
              return function() {
                return kuroi.frontend.forget_thread.call(null, trigger_10517);
              };
            }(trigger_10517, thread_line, thread_oppost, target, service_pane, thread_no, thread_id);
          }
          element.removeAttribute("onwatch");
          return element.onwatch = null;
        } else {
          return service_pane.innerHTML = kuroi.frontend.empty_set;
        }
      };
    }(thread_line, thread_oppost, target, service_pane, thread_no, thread_id));
  } else {
    return kuroi.backend.watch_thread.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "target", "target", 253001721), target], null), function(thread_line, thread_oppost, target, service_pane, thread_no, thread_id) {
      return function(response) {
        if (cljs.core.truth_(response)) {
          element.innerHTML = "\x26#x2605;";
          element.className = "watch-trigger-enabled";
          element.title = "Unwatch thread";
          service_pane.innerHTML = kuroi.frontend.delta_posts.call(null, 0);
          return element.onwatch = true;
        } else {
          return service_pane.innerHTML = kuroi.frontend.empty_set;
        }
      };
    }(thread_line, thread_oppost, target, service_pane, thread_no, thread_id));
  }
};
goog.exportSymbol("kuroi.frontend.watch_thread", kuroi.frontend.watch_thread);
kuroi.frontend.forget_thread = function kuroi$frontend$forget_thread(target) {
  var thread_line = kuroi.frontend.parent_by_class.call(null, target, "thread-line");
  var op_post = kuroi.frontend.child_by_class.call(null, thread_line, "thread-oppost");
  kuroi.backend.forget_thread.call(null, op_post.id);
  thread_line.style.backgroundColor = "#757575";
  return goog.Timer.callOnce(function(thread_line, op_post) {
    return function() {
      return thread_line.parentNode.removeChild(thread_line);
    };
  }(thread_line, op_post), 200);
};
goog.exportSymbol("kuroi.frontend.forget_thread", kuroi.frontend.forget_thread);
kuroi.frontend.iv_load_posts = function kuroi$frontend$iv_load_posts(element, posts) {
  var thread_line = kuroi.frontend.parent_by_class.call(null, element, "thread-line");
  var posts__$1 = cljs.core._EQ_.call(null, posts, -2) ? function() {
    var delta_posts = kuroi.frontend.child_by_class.call(null, thread_line, "delta-posts");
    return parseInt(cljs.core.re_find.call(null, /\d+/, delta_posts.textContent));
  }() : posts;
  var target = kuroi.frontend.get_target.call(null, thread_line);
  var service_pane = kuroi.frontend.child_by_class.call(null, thread_line, "service-pane");
  var service_html = service_pane.innerHTML;
  var thread_no = kuroi.frontend.child_by_class.call(null, thread_line, "thread-no");
  var thread_id = thread_no.textContent;
  service_pane.innerHTML = kuroi.frontend.service_loading;
  return kuroi.backend.get_thread_posts.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "post-count", "post-count", -1326461588), posts__$1, new cljs.core.Keyword(null, "target", "target", 253001721), target], null), function(thread_line, posts__$1, target, service_pane, service_html, thread_no, thread_id) {
    return function(posts__$2) {
      if (cljs.core.truth_(posts__$2)) {
        var oppost = kuroi.frontend.child_by_class.call(null, thread_line, "thread-oppost");
        var existing_replies = kuroi.frontend.child_by_class.call(null, oppost, "replies");
        var temp__4657__auto___10518 = posts__$2.querySelector(".load-indicator \x3e img");
        if (cljs.core.truth_(temp__4657__auto___10518)) {
          var indicator_10519 = temp__4657__auto___10518;
          indicator_10519.src = kuroi.frontend.themed_image.call(null, indicator_10519.getAttribute("src"));
        } else {
        }
        oppost.removeChild(existing_replies);
        oppost.appendChild(posts__$2.firstChild);
        service_pane.innerHTML = service_html;
        return kuroi.frontend.expand_thread.call(null, oppost.id, true);
      } else {
        return service_pane.innerHTML = kuroi.frontend.empty_set;
      }
    };
  }(thread_line, posts__$1, target, service_pane, service_html, thread_no, thread_id));
};
goog.exportSymbol("kuroi.frontend.iv_load_posts", kuroi.frontend.iv_load_posts);
kuroi.frontend.iv_expand_post = function kuroi$frontend$iv_expand_post(element, link) {
  var thread_line_10520 = kuroi.frontend.parent_by_class.call(null, element, "thread-line");
  var service_pane_10521 = kuroi.frontend.child_by_class.call(null, thread_line_10520, "service-pane");
  var service_html_10522 = service_pane_10521.innerHTML;
  var post_container_10523 = kuroi.frontend.parent_by_class.call(null, element, "post-container");
  var reply_elt_10524 = function() {
    var or__6156__auto__ = kuroi.frontend.parent_by_class.call(null, element, "reply");
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return kuroi.frontend.parent_by_class.call(null, element, "thread-oppost");
    }
  }();
  var onwatch_QMARK__10525 = reply_elt_10524.className.indexOf("onwatch") >= 0;
  service_pane_10521.innerHTML = kuroi.frontend.service_loading;
  kuroi.backend.get_popup_post.call(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null, "url", "url", 276297046), link, new cljs.core.Keyword(null, "word-filter", "word-filter", 1240376909), false, new cljs.core.Keyword(null, "onwatch", "onwatch", 1644678352), onwatch_QMARK__10525], null), function(thread_line_10520, service_pane_10521, service_html_10522, post_container_10523, reply_elt_10524, onwatch_QMARK__10525) {
    return function(reply) {
      service_pane_10521.innerHTML = service_html_10522;
      if (cljs.core.truth_(reply)) {
        var temp__4657__auto___10526 = reply.querySelector(".oppost-text");
        if (cljs.core.truth_(temp__4657__auto___10526)) {
          var post_text_10527 = temp__4657__auto___10526;
          post_text_10527.style.maxHeight = "none";
        } else {
        }
        reply_elt_10524.insertBefore(reply.querySelector(".post-container"), post_container_10523);
        return reply_elt_10524.removeChild(post_container_10523);
      } else {
        return null;
      }
    };
  }(thread_line_10520, service_pane_10521, service_html_10522, post_container_10523, reply_elt_10524, onwatch_QMARK__10525));
  return false;
};
goog.exportSymbol("kuroi.frontend.iv_expand_post", kuroi.frontend.iv_expand_post);
kuroi.frontend.continue_chain = function kuroi$frontend$continue_chain(link_queue, key) {
  var temp__4655__auto__ = cljs.core.first.call(null, link_queue);
  if (cljs.core.truth_(temp__4655__auto__)) {
    var url = temp__4655__auto__;
    var target = kuroi.backend.make_target.call(null, url);
    return kuroi.backend.load_threads.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "key", "key", -1516042587), new cljs.core.Keyword(null, "pages", "pages", -285406513)], null), function(target, url, temp__4655__auto__) {
      return function(threads, stats, meta) {
        var temp__4657__auto___10528 = (new cljs.core.Keyword(null, "form", "form", -1624062471)).cljs$core$IFn$_invoke$arity$1(meta);
        if (cljs.core.truth_(temp__4657__auto___10528)) {
          var form_10529 = temp__4657__auto___10528;
          document.body.appendChild((new cljs.core.Keyword(null, "form", "form", -1624062471)).cljs$core$IFn$_invoke$arity$1(meta));
        } else {
        }
        if (cljs.core.truth_(threads)) {
          kuroi.frontend.child_by_class.call(null, threads, "thread-group").innerHTML = kuroi.frontend.format_stats.call(null, stats, target);
          kuroi.frontend.append_threads.call(null, threads, new cljs.core.Keyword(null, "hide-indicator", "hide-indicator", -2100829857), true);
        } else {
        }
        return setTimeout(function(target, url, temp__4655__auto__) {
          return function() {
            return kuroi$frontend$continue_chain.call(null, cljs.core.rest.call(null, link_queue), key);
          };
        }(target, url, temp__4655__auto__), 200);
      };
    }(target, url, temp__4655__auto__));
  } else {
    return null;
  }
};
kuroi.frontend.start_chain = function kuroi$frontend$start_chain(url, key) {
  var match = url.match(RegExp("([^\\[]+)\\[([^\\]]+)\\](.*)"));
  var prefix = match[1];
  var boards = cljs.core.vec.call(null, match[2].split(RegExp("[\\s\\+,]")));
  var postfix = match[3];
  var links = function() {
    var iter__6928__auto__ = function(match, prefix, boards, postfix) {
      return function kuroi$frontend$start_chain_$_iter__10534(s__10535) {
        return new cljs.core.LazySeq(null, function(match, prefix, boards, postfix) {
          return function() {
            var s__10535__$1 = s__10535;
            while (true) {
              var temp__4657__auto__ = cljs.core.seq.call(null, s__10535__$1);
              if (temp__4657__auto__) {
                var s__10535__$2 = temp__4657__auto__;
                if (cljs.core.chunked_seq_QMARK_.call(null, s__10535__$2)) {
                  var c__6926__auto__ = cljs.core.chunk_first.call(null, s__10535__$2);
                  var size__6927__auto__ = cljs.core.count.call(null, c__6926__auto__);
                  var b__10537 = cljs.core.chunk_buffer.call(null, size__6927__auto__);
                  if (function() {
                    var i__10536 = 0;
                    while (true) {
                      if (i__10536 < size__6927__auto__) {
                        var board = cljs.core._nth.call(null, c__6926__auto__, i__10536);
                        cljs.core.chunk_append.call(null, b__10537, [cljs.core.str(prefix), cljs.core.str([cljs.core.str(board.trim()), cljs.core.str(postfix)].join("")), cljs.core.str(":chain")].join(""));
                        var G__10538 = i__10536 + 1;
                        i__10536 = G__10538;
                        continue;
                      } else {
                        return true;
                      }
                      break;
                    }
                  }()) {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__10537), kuroi$frontend$start_chain_$_iter__10534.call(null, cljs.core.chunk_rest.call(null, s__10535__$2)));
                  } else {
                    return cljs.core.chunk_cons.call(null, cljs.core.chunk.call(null, b__10537), null);
                  }
                } else {
                  var board = cljs.core.first.call(null, s__10535__$2);
                  return cljs.core.cons.call(null, [cljs.core.str(prefix), cljs.core.str([cljs.core.str(board.trim()), cljs.core.str(postfix)].join("")), cljs.core.str(":chain")].join(""), kuroi$frontend$start_chain_$_iter__10534.call(null, cljs.core.rest.call(null, s__10535__$2)));
                }
              } else {
                return null;
              }
              break;
            }
          };
        }(match, prefix, boards, postfix), null, null);
      };
    }(match, prefix, boards, postfix);
    return iter__6928__auto__.call(null, boards);
  }();
  var target = kuroi.backend.make_target.call(null, [cljs.core.str(cljs.core.first.call(null, links)), cljs.core.str(":first")].join(""));
  kuroi.frontend._STAR_target_STAR_ = target;
  if (cljs.core.truth_(kuroi.frontend._STAR_target_STAR_)) {
    kuroi.frontend.dom_get_element.call(null, "thread-list-caption").innerHTML = [cljs.core.str("\x3cb\x3e"), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("\x3c/b\x3e board chain")].join("");
    return kuroi.backend.load_threads.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "key", "key", -1516042587), new cljs.core.Keyword(null, "pages", "pages", -285406513)], null), function(match, prefix, boards, postfix, links, target) {
      return function(threads, stats, meta) {
        var temp__4657__auto___10539 = (new cljs.core.Keyword(null, "form", "form", -1624062471)).cljs$core$IFn$_invoke$arity$1(meta);
        if (cljs.core.truth_(temp__4657__auto___10539)) {
          var form_10540 = temp__4657__auto___10539;
          document.body.appendChild((new cljs.core.Keyword(null, "form", "form", -1624062471)).cljs$core$IFn$_invoke$arity$1(meta));
        } else {
        }
        var temp__4657__auto___10541 = (new cljs.core.Keyword(null, "navbar", "navbar", 1584396041)).cljs$core$IFn$_invoke$arity$1(meta);
        if (cljs.core.truth_(temp__4657__auto___10541)) {
          var navbar_10542 = temp__4657__auto___10541;
          kuroi.frontend.dom_get_element.call(null, "nav-popup").appendChild(navbar_10542);
        } else {
        }
        if (cljs.core.truth_(threads)) {
          kuroi.frontend.child_by_class.call(null, threads, "thread-group").innerHTML = kuroi.frontend.format_stats.call(null, stats, target);
          kuroi.frontend.insert_threads.call(null, threads, new cljs.core.Keyword(null, "meta", "meta", 1499536964), meta);
          return setTimeout(function(match, prefix, boards, postfix, links, target) {
            return function() {
              return kuroi.frontend.continue_chain.call(null, cljs.core.rest.call(null, links), key);
            };
          }(match, prefix, boards, postfix, links, target), 200);
        } else {
          return null;
        }
      };
    }(match, prefix, boards, postfix, links, target));
  } else {
    var t_h = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
    return t_h.innerHTML = kuroi.frontend.error_loading_page;
  }
};
kuroi.frontend.load_threads = function kuroi$frontend$load_threads(pages, subsequent) {
  var thread_headlines = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
  var url = kuroi.frontend._STAR_resource_STAR_;
  thread_headlines.innerHTML = kuroi.frontend.obtaining_data;
  if (url.indexOf("]") > 0 && url.indexOf("[") > 0) {
    return kuroi.frontend.start_chain.call(null, url, pages);
  } else {
    kuroi.frontend._STAR_target_STAR_ = kuroi.backend.make_target.call(null, decodeURI(url));
    if (cljs.core.truth_((new cljs.core.Keyword(null, "fourchan", "fourchan", 1551865011)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_))) {
      kuroi.frontend.load_css.call(null, kuroi.frontend._STAR_theme_STAR_, "flags-4chan.css");
    } else {
    }
    if (cljs.core.truth_(kuroi.frontend._STAR_target_STAR_)) {
      var target = cljs.core.assoc.call(null, kuroi.frontend._STAR_target_STAR_, new cljs.core.Keyword(null, "subsequent", "subsequent", -753260809), subsequent);
      kuroi.frontend.dom_get_element.call(null, "thread-list-caption").innerHTML = [cljs.core.str("Loading "), cljs.core.str(pages.call(null, target)), cljs.core.str(cljs.core.not_EQ_.call(null, pages.call(null, target), 1) ? " pages..." : " page...")].join("");
      return kuroi.backend.load_threads.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "key", "key", -1516042587), pages], null), function(target, thread_headlines, url) {
        return function(threads, stats, meta) {
          var temp__4657__auto___10543 = (new cljs.core.Keyword(null, "form", "form", -1624062471)).cljs$core$IFn$_invoke$arity$1(meta);
          if (cljs.core.truth_(temp__4657__auto___10543)) {
            var form_10544 = temp__4657__auto___10543;
            document.body.appendChild(form_10544);
          } else {
          }
          var temp__4657__auto___10545 = (new cljs.core.Keyword(null, "navbar", "navbar", 1584396041)).cljs$core$IFn$_invoke$arity$1(meta);
          if (cljs.core.truth_(temp__4657__auto___10545)) {
            var navbar_10546 = temp__4657__auto___10545;
            kuroi.frontend.dom_get_element.call(null, "nav-popup").appendChild(navbar_10546);
          } else {
          }
          kuroi.frontend.dom_get_element.call(null, "thread-list-caption").innerHTML = kuroi.frontend.format_stats.call(null, stats, target);
          return kuroi.frontend.insert_threads.call(null, threads, new cljs.core.Keyword(null, "meta", "meta", 1499536964), meta);
        };
      }(target, thread_headlines, url));
    } else {
      var t_h = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
      return t_h.innerHTML = kuroi.frontend.error_loading_page;
    }
  }
};
kuroi.frontend.refresh_handler = function kuroi$frontend$refresh_handler(pages) {
  return function(e) {
    return kuroi.frontend.load_threads.call(null, pages, true);
  };
};
kuroi.frontend.expand_btn_handler = function kuroi$frontend$expand_btn_handler(e) {
  var expand_btn = kuroi.frontend.dom_get_element.call(null, "expand-btn");
  var nav_popup = kuroi.frontend.dom_get_element.call(null, "nav-popup");
  var tab_page = kuroi.frontend.dom_get_element.call(null, "tab-page");
  var threads = kuroi.frontend.dom_get_elements_by_class.call(null, "thread-oppost", tab_page);
  var expand_QMARK_ = cljs.core._EQ_.call(null, expand_btn.textContent, "Expand") ? true : false;
  kuroi.frontend.hide_elt.call(null, nav_popup);
  if (cljs.core._EQ_.call(null, expand_btn.textContent, "Expand")) {
    cljs.core.reset_BANG_.call(null, kuroi.frontend._STAR_expand_counter_STAR_, threads.length);
    expand_btn.textContent = "Collapse";
    expand_btn.title = "Collapse all threads";
  } else {
    if (cljs.core.truth_(function() {
      var and__6144__auto__ = kuroi.frontend._STAR_target_STAR_;
      if (cljs.core.truth_(and__6144__auto__)) {
        return cljs.core.not.call(null, (new cljs.core.Keyword(null, "chain", "chain", 15631029)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_));
      } else {
        return and__6144__auto__;
      }
    }())) {
      kuroi.backend.save_expanded.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), kuroi.frontend._STAR_target_STAR_, new cljs.core.Keyword(null, "state", "state", -1988618099), new cljs.core.Keyword(null, "clear", "clear", 1877104959)], null));
    } else {
    }
    cljs.core.reset_BANG_.call(null, kuroi.frontend._STAR_expand_counter_STAR_, 0);
    expand_btn.textContent = "Expand";
    expand_btn.title = "Expand all threads";
  }
  goog.array.forEach(threads, function(expand_btn, nav_popup, tab_page, threads, expand_QMARK_) {
    return function(p1__10547_SHARP_) {
      return kuroi.frontend.expand_thread.call(null, p1__10547_SHARP_.id, expand_QMARK_, new cljs.core.Keyword(null, "mass", "mass", -2138950046), true);
    };
  }(expand_btn, nav_popup, tab_page, threads, expand_QMARK_));
  return kuroi.frontend.show_elt.call(null, nav_popup, "block");
};
goog.exportSymbol("kuroi.frontend.expand_btn_handler", kuroi.frontend.expand_btn_handler);
kuroi.frontend.get_base_url = function kuroi$frontend$get_base_url() {
  return [cljs.core.str(location.pathname)].join("");
};
kuroi.frontend.setup_snapin_buttons = function kuroi$frontend$setup_snapin_buttons() {
  var a_btn_10548 = kuroi.frontend.dom_get_element.call(null, "follow-btn");
  goog.events.listen(a_btn_10548, goog.events.EventType.CLICK, function(a_btn_10548) {
    return function() {
      return kuroi.frontend.inline_dialog.call(null, "Follow", [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?urlbar#frame")].join(""));
    };
  }(a_btn_10548));
  var s_btn_10549 = kuroi.frontend.dom_get_element.call(null, "settings-btn");
  console.log(s_btn_10549);
  goog.events.listen(s_btn_10549, goog.events.EventType.CLICK, function(s_btn_10549) {
    return function() {
      return kuroi.frontend.inline_dialog.call(null, "Settings", [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?settings\x26target\x3d"), cljs.core.str((new cljs.core.Keyword(null, "trade", "trade", 123337743)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_))].join(""));
    };
  }(s_btn_10549));
  var w_btn_10550 = kuroi.frontend.dom_get_element.call(null, "watch-btn");
  goog.events.listen(w_btn_10550, goog.events.EventType.CLICK, function(w_btn_10550) {
    return function() {
      return kuroi.frontend.inline_dialog.call(null, "Watch", [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?watch")].join(""));
    };
  }(w_btn_10550));
  var h_btn_10551 = kuroi.frontend.dom_get_element.call(null, "help-btn");
  goog.events.listen(h_btn_10551, goog.events.EventType.CLICK, function(h_btn_10551) {
    return function() {
      return kuroi.frontend.inline_dialog.call(null, "Help", [cljs.core.str(kuroi.frontend.get_base_url.call(null)), cljs.core.str("?help")].join(""));
    };
  }(h_btn_10551));
  if (cljs.core.truth_((new cljs.core.Keyword(null, "chain", "chain", 15631029)).cljs$core$IFn$_invoke$arity$1(kuroi.frontend._STAR_target_STAR_))) {
    kuroi.frontend.dom_get_element.call(null, "go-again-btn").style.display = "none";
    kuroi.frontend.dom_get_element.call(null, "refresh-btn").style.display = "none";
  } else {
  }
  var expand_btn = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "expand-btn"));
  var go_again_btn = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "go-again-btn"));
  var refresh_btn = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "refresh-btn"));
  if (cljs.core.truth_(expand_btn)) {
    goog.events.listen(expand_btn, goog.ui.Component.EventType.ACTION, kuroi.frontend.expand_btn_handler);
  } else {
  }
  if (cljs.core.truth_(go_again_btn)) {
    goog.events.listen(go_again_btn, goog.ui.Component.EventType.ACTION, kuroi.frontend.refresh_handler.call(null, new cljs.core.Keyword(null, "pages", "pages", -285406513)));
  } else {
  }
  if (cljs.core.truth_(refresh_btn)) {
    return goog.events.listen(refresh_btn, goog.ui.Component.EventType.ACTION, kuroi.frontend.refresh_handler.call(null, new cljs.core.Keyword(null, "refresh", "refresh", 1947415525)));
  } else {
    return null;
  }
};
kuroi.frontend.show_reply_form = function kuroi$frontend$show_reply_form(element, new_thread_QMARK_) {
  var thread_line = function() {
    var or__6156__auto__ = kuroi.frontend.parent_by_class.call(null, element, "group-line");
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return kuroi.frontend.parent_by_class.call(null, element, "thread-line");
    }
  }();
  var target = kuroi.frontend.get_target.call(null, thread_line);
  var thread_header = kuroi.frontend.parent_by_class.call(null, element, "thread-header");
  var thread_header__$1 = function() {
    var or__6156__auto__ = thread_header;
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return kuroi.frontend.child_by_class.call(null, thread_line, "thread-header");
    }
  }();
  var thread_no = cljs.core.truth_(thread_header__$1) ? kuroi.frontend.child_by_class.call(null, thread_header__$1, "thread-no") : null;
  var thread_id = cljs.core.truth_(thread_no) ? thread_no.textContent : null;
  var popup_elt = kuroi.frontend.dom_get_element.call(null, "post-form-popup");
  var anchor = cljs.core.truth_(popup_elt) ? popup_elt._anchor : null;
  if (cljs.core.truth_(popup_elt)) {
    if (cljs.core.not.call(null, new_thread_QMARK_)) {
      anchor.innerHTML = "[+]";
    } else {
    }
    document.body.removeChild(popup_elt);
  } else {
  }
  if (!(anchor === element)) {
    var popup_elt__$1 = kuroi.frontend.create_elt.call(null, "div", new cljs.core.PersistentArrayMap(null, 3, ["class", "popup", "id", "post-form-popup", "innerHTML", [cljs.core.str('\x3cdiv class\x3d"form-header"\x3e\n                                                    \x3cspan class\x3d"gold reply-to"\x3eReply to: \x3c/span\x3e\n                                                    \x3cspan class\x3d"insertion-point"\x3e\x26nbsp;\x3c/span\x3e'), cljs.core.str(kuroi.frontend.service_loading), cljs.core.str('\x3ca class\x3d"form-close-btn header-btn"\n                                                      title\x3d"Close form"\x3e\x26#x25a0;\x3c/a\x3e\n                                                    \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n                                                 \x3c/div\x3e\n                                                 \x3cdiv class\x3d"post-error"\x3e\x3c/div\x3e')].join("")], 
    null));
    var header = popup_elt__$1.firstChild;
    var load_indicator = kuroi.frontend.child_by_class.call(null, header, "service-loading");
    var reply_to = kuroi.frontend.child_by_class.call(null, header, "reply-to");
    var form = kuroi.frontend.dom_get_element.call(null, [cljs.core.str((new cljs.core.Keyword(null, "prefix", "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("postform")].join(""));
    var form_clone = form.cloneNode(true);
    var textarea = form_clone.querySelector("textarea");
    var parent_key = form.__parent_key__;
    var set_width = form.__set_width__;
    var set_height = form.__set_height__;
    var iframe_QMARK_ = form.__is_iframe__;
    var captcha_elt = form.__captcha_elt__;
    var captcha_attr = form.__captcha_attr__;
    var captcha_challenge = form.__captcha_challenge__;
    var captcha_elt__$1 = form_clone.querySelector(captcha_elt);
    var captcha_row = form.__captcha_row__;
    var captcha_row_elt = cljs.core.truth_(captcha_row) ? form_clone.querySelector(captcha_row) : null;
    var set_captcha = function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
      return function(captcha_elt__$2, force) {
        return kuroi.backend.get_captcha.call(null, new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "parent", "parent", -878878779), cljs.core.not.call(null, new_thread_QMARK_), new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "force", "force", 781957286), force], null), function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, 
        parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
          return function(c) {
            if (cljs.core.truth_((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(c))) {
              captcha_elt__$2.setAttribute(captcha_attr, cljs.core.truth_(force) ? [cljs.core.str((new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(c)), cljs.core.str("#"), cljs.core.str(Math.random())].join("") : (new cljs.core.Keyword(null, "link", "link", -1769163468)).cljs$core$IFn$_invoke$arity$1(c));
              if (cljs.core.truth_(captcha_challenge)) {
                var challenge_elt = form_clone.querySelector([cljs.core.str("input[name\x3d'"), cljs.core.str(captcha_challenge), cljs.core.str("']")].join(""));
                if (cljs.core.truth_(challenge_elt)) {
                  challenge_elt.parentNode.removeChild(challenge_elt);
                } else {
                }
                return form_clone.appendChild(kuroi.frontend.create_elt.call(null, "input", new cljs.core.PersistentArrayMap(null, 3, ["type", "hidden", "name", captcha_challenge, "value", (new cljs.core.Keyword(null, "challenge", "challenge", 1302148691)).cljs$core$IFn$_invoke$arity$1(c)], null)));
              } else {
                return null;
              }
            } else {
              if (cljs.core.truth_(captcha_row)) {
                return captcha_row_elt.parentNode.removeChild(captcha_row_elt);
              } else {
                return captcha_elt__$2.parentNode.removeChild(captcha_elt__$2);
              }
            }
          };
        }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
      };
    }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    var handle_post_response = function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
      return function(response) {
        kuroi.frontend.hide_elt.call(null, kuroi.frontend.child_by_class.call(null, popup_elt__$1, "service-loading"));
        kuroi.backend.forget_captcha.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id], null));
        var error_node = kuroi.frontend.child_by_class.call(null, popup_elt__$1, "post-error");
        if (cljs.core.truth_((new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(response))) {
          kuroi.frontend.show_elt.call(null, error_node, "block");
          return error_node.innerHTML = (new cljs.core.Keyword(null, "error", "error", -978969032)).cljs$core$IFn$_invoke$arity$1(response);
        } else {
          kuroi$frontend$show_reply_form.call(null, element, new_thread_QMARK_);
          if (cljs.core.truth_(new_thread_QMARK_)) {
            return kuroi.frontend.load_threads.call(null, new cljs.core.Keyword(null, "refresh", "refresh", 1947415525), true);
          } else {
            return kuroi.frontend.iv_load_posts.call(null, element, (new cljs.core.Keyword(null, "replies", "replies", -1389888974)).cljs$core$IFn$_invoke$arity$1(target));
          }
        }
      };
    }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    if (cljs.core.truth_(set_width)) {
      popup_elt__$1.style.width = set_width;
    } else {
    }
    if (cljs.core.truth_(set_height)) {
      popup_elt__$1.style.height = set_height;
    } else {
    }
    new goog.fx.Dragger(popup_elt__$1, popup_elt__$1.firstChild);
    popup_elt__$1._anchor = element;
    popup_elt__$1.insertBefore(form_clone, popup_elt__$1.lastChild);
    document.body.appendChild(popup_elt__$1);
    form_clone.id = "postform";
    kuroi.frontend.show_elt.call(null, form_clone, "block");
    kuroi.frontend.hide_elt.call(null, load_indicator);
    if (cljs.core.truth_(iframe_QMARK_)) {
      var iframe_10559 = form_clone.querySelector("iframe");
      kuroi.frontend.show_elt.call(null, load_indicator, "inline");
      if (cljs.core.truth_(new_thread_QMARK_)) {
        form_clone.querySelector("iframe").setAttribute("src", [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("#form")].join(""));
      } else {
        var url_10560 = [cljs.core.str(kuroi.page_parser.html_thread_url.call(null, thread_id, target)), cljs.core.str("#form")].join("");
        iframe_10559.setAttribute("src", url_10560);
      }
      kuroi.io._STAR_port_STAR_.once("dark-flow:post-form-iframe-loaded", function(iframe_10559, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
        return function() {
          kuroi.frontend.hide_elt.call(null, load_indicator);
          return iframe_10559.style.display = "block";
        };
      }(iframe_10559, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
      kuroi.io._STAR_port_STAR_.once("dark-flow:post-form-iframe-submitted", function(iframe_10559, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
        return function() {
          return handle_post_response.call(null, cljs.core.PersistentArrayMap.EMPTY);
        };
      }(iframe_10559, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
    } else {
    }
    if (cljs.core.truth_(new_thread_QMARK_)) {
      reply_to.textContent = [cljs.core.str("New thread in /"), cljs.core.str((new cljs.core.Keyword(null, "board", "board", -1907017633)).cljs$core$IFn$_invoke$arity$1(target))].join("");
    } else {
    }
    if (cljs.core.not.call(null, new_thread_QMARK_)) {
      var post_header_10561 = function() {
        var or__6156__auto__ = kuroi.frontend.parent_by_class.call(null, element, "reply-header");
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return thread_header__$1;
        }
      }();
      var post_no_10562 = function() {
        var or__6156__auto__ = kuroi.frontend.child_by_class.call(null, post_header_10561, "reply-no");
        if (cljs.core.truth_(or__6156__auto__)) {
          return or__6156__auto__;
        } else {
          return thread_no;
        }
      }();
      var post_no_10563__$1 = post_no_10562.cloneNode(true);
      var post_id_10564 = post_no_10563__$1.textContent;
      element.innerHTML = "[\x3d]";
      header.insertBefore(post_no_10563__$1, kuroi.frontend.child_by_class.call(null, header, "insertion-point"));
      post_no_10563__$1.className = "thread-no form-reply-no";
      var parent_elt_10565 = form_clone.querySelector([cljs.core.str("input[name\x3d'"), cljs.core.str(parent_key), cljs.core.str("']")].join(""));
      var new_parent_10566 = kuroi.frontend.create_elt.call(null, "input", new cljs.core.PersistentArrayMap(null, 3, ["type", "hidden", "name", parent_key, "value", thread_id], null));
      if (cljs.core.truth_(parent_elt_10565)) {
        parent_elt_10565.parentNode.removeChild(parent_elt_10565);
      } else {
      }
      form_clone.appendChild(new_parent_10566);
      var post_text_10567 = [cljs.core.str("\x3e\x3e"), cljs.core.str(post_id_10564), cljs.core.str("\n\n")].join("");
      var selection_10568 = window.getSelection().toString();
      if (cljs.core.truth_(function() {
        var and__6144__auto__ = textarea;
        if (cljs.core.truth_(and__6144__auto__)) {
          return selection_10568.length > 0;
        } else {
          return and__6144__auto__;
        }
      }())) {
        textarea.value = [cljs.core.str(post_text_10567), cljs.core.str(cljs.core.reduce.call(null, cljs.core.str, cljs.core.map.call(null, function(post_text_10567, selection_10568, post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, 
        thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
          return function(p1__10552_SHARP_) {
            return [cljs.core.str("\x3e"), cljs.core.str(p1__10552_SHARP_), cljs.core.str("\n")].join("");
          };
        }(post_text_10567, selection_10568, post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor), cljs.core.filter.call(null, cljs.core.complement.call(null, 
        clojure.string.blank_QMARK_), cljs.core.map.call(null, function(post_text_10567, selection_10568, post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, 
        popup_elt, anchor) {
          return function(p1__10553_SHARP_) {
            return clojure.string.trim.call(null, p1__10553_SHARP_);
          };
        }(post_text_10567, selection_10568, post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor), clojure.string.split.call(null, selection_10568, 
        /\n/)))))), cljs.core.str("\n")].join("");
      } else {
        if (cljs.core.truth_(textarea)) {
          textarea.value = [cljs.core.str(post_text_10567)].join("");
        } else {
        }
      }
      post_no_10563__$1.onmouseover = function(post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
        return function(e) {
          return kuroi.frontend.show_popup.call(null, e, e.target.textContent, true);
        };
      }(post_header_10561, post_no_10562, post_no_10563__$1, post_id_10564, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    } else {
    }
    if (cljs.core.truth_(captcha_elt__$1)) {
      captcha_elt__$1.style.cursor = "pointer";
      set_captcha.call(null, captcha_elt__$1, false);
      captcha_elt__$1.onmousedown = function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
        return function(p1__10554_SHARP_) {
          return set_captcha.call(null, p1__10554_SHARP_.target, true);
        };
      }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    } else {
    }
    var temp__4657__auto___10569 = kuroi.frontend.child_by_id.call(null, form_clone, "sagecheckbox");
    if (cljs.core.truth_(temp__4657__auto___10569)) {
      var sage_box_10570 = temp__4657__auto___10569;
      var e_mail_10571 = kuroi.frontend.child_by_id.call(null, form_clone, "e-mail");
      sage_box_10570.onclick = function(e_mail_10571, sage_box_10570, temp__4657__auto___10569, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
        return function(e) {
          if (cljs.core.truth_(e.target.checked)) {
            return e_mail_10571.value = "sage";
          } else {
            return e_mail_10571.value = "";
          }
        };
      }(e_mail_10571, sage_box_10570, temp__4657__auto___10569, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    } else {
    }
    kuroi.backend.get_password.call(null, function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
      return function(password) {
        var temp__4657__auto__ = form_clone.querySelector("input[type\x3d'password']");
        if (cljs.core.truth_(temp__4657__auto__)) {
          var password_elt = temp__4657__auto__;
          return password_elt.value = password;
        } else {
          return null;
        }
      };
    }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
    kuroi.frontend.child_by_class.call(null, header, "form-close-btn").onclick = function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
      return function(e) {
        return kuroi$frontend$show_reply_form.call(null, element, new_thread_QMARK_);
      };
    }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    form_clone.onsubmit = function(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
      return function(e) {
        kuroi.frontend.show_elt.call(null, load_indicator, "inline");
        var form_10572__$1 = e.target;
        var url_10573 = form_10572__$1.action;
        var data_10574 = goog.dom.forms.getFormDataMap(e.target).toObject();
        var file_field_10575 = form_10572__$1.querySelector("input[type\x3d'file']");
        var pwd_field_10576 = form_10572__$1.querySelector("input[type\x3d'password']");
        var password_10577 = cljs.core.truth_(pwd_field_10576) ? pwd_field_10576.value : null;
        var post_file_form_10578 = function(form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
          return function(callback) {
            var reader = new FileReader;
            var file_obj = file_field_10575.files[0];
            reader.onload = function(reader, file_obj, form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
              return function(e__$1) {
                var blob = e__$1.target.result;
                data_10574[file_field_10575.name] = function() {
                  var obj10558 = {"type":file_obj.type, "name":file_obj.name, "size":file_obj.size, "data":blob};
                  return obj10558;
                }();
                return kuroi.backend.post_form.call(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "url", "url", 276297046), url_10573, new cljs.core.Keyword(null, "form", "form", -1624062471), data_10574, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "password", "password", 417022471), password_10577], null), callback);
              };
            }(reader, file_obj, form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
            return reader.readAsBinaryString(file_obj);
          };
        }(form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
        if (cljs.core.truth_(function() {
          var and__6144__auto__ = file_field_10575;
          if (cljs.core.truth_(and__6144__auto__)) {
            return file_field_10575.files.length > 0;
          } else {
            return and__6144__auto__;
          }
        }())) {
          post_file_form_10578.call(null, function(form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, post_file_form_10578, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, 
          anchor) {
            return function(response) {
              return handle_post_response.call(null, response);
            };
          }(form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, post_file_form_10578, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
        } else {
          kuroi.backend.post_form.call(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "url", "url", 276297046), url_10573, new cljs.core.Keyword(null, "form", "form", -1624062471), data_10574, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id, new cljs.core.Keyword(null, "password", "password", 417022471), password_10577], null), function(form_10572__$1, url_10573, data_10574, 
          file_field_10575, pwd_field_10576, password_10577, post_file_form_10578, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor) {
            return function(response) {
              return handle_post_response.call(null, response);
            };
          }(form_10572__$1, url_10573, data_10574, file_field_10575, pwd_field_10576, password_10577, post_file_form_10578, popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor));
        }
        return false;
      };
    }(popup_elt__$1, header, load_indicator, reply_to, form, form_clone, textarea, parent_key, set_width, set_height, iframe_QMARK_, captcha_elt, captcha_attr, captcha_challenge, captcha_elt__$1, captcha_row, captcha_row_elt, set_captcha, handle_post_response, thread_line, target, thread_header, thread_header__$1, thread_no, thread_id, popup_elt, anchor);
    var popup = new goog.ui.Popup(popup_elt__$1);
    popup.setAutoHide(false);
    popup.setPinnedCorner(goog.positioning.Corner.TOP_LEFT);
    popup.setPosition(new goog.positioning.AnchoredViewportPosition(element.nextSibling.nextSibling, goog.positioning.Corner.TOP_RIGHT));
    popup.setVisible(true);
    if (cljs.core.truth_(textarea)) {
      textarea.focus();
      var pos = textarea.value.length;
      textarea.selectionStart = pos;
      return textarea.selectionEnd = pos;
    } else {
      return null;
    }
  } else {
    return null;
  }
};
goog.exportSymbol("kuroi.frontend.show_reply_form", kuroi.frontend.show_reply_form);
kuroi.frontend.setup_nav_popup = function kuroi$frontend$setup_nav_popup() {
  var nav_img = document.querySelector("#nav-btn \x3e img");
  var popup_elt = kuroi.frontend.create_elt.call(null, "div", new cljs.core.PersistentArrayMap(null, 2, ["class", "nav-popup", "id", "nav-popup"], null));
  nav_img.src = kuroi.frontend.themed_image.call(null, nav_img.getAttribute("src"));
  document.body.appendChild(popup_elt);
  kuroi.frontend._STAR_nav_popup_STAR_ = new goog.ui.Popup(popup_elt);
  var nav_elt_10579 = kuroi.frontend.dom_get_element.call(null, "nav-btn");
  kuroi.frontend._STAR_nav_popup_STAR_.setPosition(new goog.positioning.AnchoredViewportPosition(nav_elt_10579, goog.positioning.Corner.BOTTOM_LEFT));
  nav_elt_10579.onclick = function(nav_elt_10579, nav_img, popup_elt) {
    return function(event) {
      return kuroi.frontend.show_nav_popup.call(null, event);
    };
  }(nav_elt_10579, nav_img, popup_elt);
  return kuroi.frontend._STAR_nav_popup_STAR_.setPinnedCorner(goog.positioning.Corner.BOTTOM_LEFT);
};
kuroi.frontend.show_nav_popup = function kuroi$frontend$show_nav_popup(e) {
  kuroi.frontend.dom_get_element.call(null, "nav-popup");
  return kuroi.frontend._STAR_nav_popup_STAR_.setVisible(true);
};
goog.exportSymbol("kuroi.frontend.show_nav_popup", kuroi.frontend.show_nav_popup);
kuroi.frontend.init = function kuroi$frontend$init(opts) {
  kuroi.frontend._STAR_file_base_STAR_ = opts.file_base;
  return kuroi.frontend._STAR_addon_STAR_ = opts.addon;
};
goog.exportSymbol("kuroi.frontend.init", kuroi.frontend.init);
kuroi.frontend.settings = function kuroi$frontend$settings(settings__$1) {
  return kuroi.backend.get_settings_html.call(null, settings__$1, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings__$1));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings__$1), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings__$1), new cljs.core.Keyword(null, "settings", "settings", 1556144875), true);
    var wf_lbl_10580 = new goog.ui.Tooltip("wf-label");
    wf_lbl_10580.setHtml("Place each wordfilter entry on a single line.\x3cbr/\x3e\n                     A regexp should be prefixed with the hash character ('#'),\n                     for example: \x3cspan class\x3d\"gold\"\x3e#\\bpony\\b\x3c/span\x3e.");
    var fav_lbl_10581 = new goog.ui.Tooltip("fav-lbl");
    fav_lbl_10581.setHtml('Default parameters for a board on a single line,\n                     for example: \x3cspan class\x3d"gold"\x3e4chan.org/c:10p:3r:img\x3c/span\x3e.\x3cbr/\x3e\n                     When loading the board it\'s possible to disable a default switch specified here\n                     by \x3cbr/\x3eadding an exclamation mark in front of it, for example: \n                     \x3cspan class\x3d"gold"\x3e4chan.org/c:5p:!img\x3cspan class\x3d"gold"\x3e.');
    var uri_10582 = new goog.Uri(document.location.href);
    var warning_10583 = kuroi.frontend.dom_get_element.call(null, "warning");
    if (cljs.core._EQ_.call(null, "iichan.hk", uri_10582.getParameterValue("target"))) {
      warning_10583.style.display = "inline";
    } else {
    }
    var remember_btn_10584 = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "remember-btn"));
    goog.events.listen(remember_btn_10584, goog.ui.Component.EventType.ACTION, function(remember_btn_10584) {
      return function(e) {
        return kuroi.settings.remember_threads.call(null);
      };
    }(remember_btn_10584));
    var clear_watch_btn_10585 = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "clear-watch-btn"));
    goog.events.listen(clear_watch_btn_10585, goog.ui.Component.EventType.ACTION, function(clear_watch_btn_10585) {
      return function(e) {
        return kuroi.settings.clear_watch.call(null);
      };
    }(clear_watch_btn_10585));
    var clear_data_btn_10586 = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "clear-data-btn"));
    goog.events.listen(clear_data_btn_10586, goog.ui.Component.EventType.ACTION, function(clear_data_btn_10586) {
      return function(e) {
        return kuroi.settings.clear_data.call(null);
      };
    }(clear_data_btn_10586));
    var save_btn_10587 = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "save-settings-btn"));
    goog.events.listen(save_btn_10587, goog.ui.Component.EventType.ACTION, function(save_btn_10587) {
      return function(e) {
        return kuroi.settings.save_settings.call(null);
      };
    }(save_btn_10587));
    kuroi.frontend.dom_get_element.call(null, "watch-first").checked = (new cljs.core.Keyword(null, "pin-watch-items", "pin-watch-items", 443772892)).cljs$core$IFn$_invoke$arity$1(settings__$1);
    kuroi.frontend.dom_get_element.call(null, "remember-expanded").checked = (new cljs.core.Keyword(null, "remember-expanded", "remember-expanded", 1027632212)).cljs$core$IFn$_invoke$arity$1(settings__$1);
    kuroi.frontend.dom_get_element.call(null, "wf-title-words").value = cljs.core.truth_((new cljs.core.Keyword(null, "wf-title", "wf-title", -207366068)).cljs$core$IFn$_invoke$arity$1(settings__$1)) ? (new cljs.core.Keyword(null, "wf-title", "wf-title", -207366068)).cljs$core$IFn$_invoke$arity$1(settings__$1) : "";
    kuroi.frontend.dom_get_element.call(null, "wf-post-words").value = cljs.core.truth_((new cljs.core.Keyword(null, "wf-post", "wf-post", -686485961)).cljs$core$IFn$_invoke$arity$1(settings__$1)) ? (new cljs.core.Keyword(null, "wf-post", "wf-post", -686485961)).cljs$core$IFn$_invoke$arity$1(settings__$1) : "";
    kuroi.frontend.dom_get_element.call(null, "wf-enable").checked = (new cljs.core.Keyword(null, "wf-enabled", "wf-enabled", -184591674)).cljs$core$IFn$_invoke$arity$1(settings__$1);
    kuroi.frontend.dom_get_element.call(null, "theme").value = (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings__$1);
    kuroi.frontend.dom_get_element.call(null, "favorites").value = cljs.core.truth_((new cljs.core.Keyword(null, "default-params", "default-params", -924966242)).cljs$core$IFn$_invoke$arity$1(settings__$1)) ? (new cljs.core.Keyword(null, "default-params", "default-params", -924966242)).cljs$core$IFn$_invoke$arity$1(settings__$1) : null;
    return kuroi.frontend.dom_get_element.call(null, "force-textonly").checked = (new cljs.core.Keyword(null, "force-text", "force-text", 264793469)).cljs$core$IFn$_invoke$arity$1(settings__$1);
  });
};
goog.exportSymbol("kuroi.frontend.settings", kuroi.frontend.settings);
kuroi.frontend.watch = function kuroi$frontend$watch(settings) {
  return kuroi.backend.get_inline_watch_stream_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    return kuroi.backend.load_watch_items.call(null, null, function(threads) {
      if (cljs.core.truth_(threads)) {
        return kuroi.frontend.insert_threads.call(null, threads);
      } else {
        var t_h = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
        return t_h.innerHTML = kuroi.frontend.the_list_is_empty;
      }
    });
  });
};
goog.exportSymbol("kuroi.frontend.watch", kuroi.frontend.watch);
kuroi.frontend.images = function kuroi$frontend$images(settings) {
  return kuroi.backend.get_inline_image_stream_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    var thread_headlines_10588 = kuroi.frontend.dom_get_element.call(null, "thread-headlines");
    thread_headlines_10588.innerHTML = kuroi.frontend.obtaining_data;
    var uri = new goog.Uri(document.location.href);
    var target = cljs.reader.read_string.call(null, uri.getParameterValue("target"));
    var thread_id = uri.getParameterValue("thread-id");
    return kuroi.backend.get_thread_images.call(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null, "target", "target", 253001721), target, new cljs.core.Keyword(null, "thread-id", "thread-id", 895608538), thread_id], null), function(uri, target, thread_id) {
      return function(images__$1) {
        return kuroi.frontend.insert_threads.call(null, images__$1);
      };
    }(uri, target, thread_id));
  });
};
goog.exportSymbol("kuroi.frontend.images", kuroi.frontend.images);
kuroi.frontend.video = function kuroi$frontend$video(settings) {
  return kuroi.backend.get_video_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    var uri = new goog.Uri(document.location.href);
    var video_link = decodeURIComponent(uri.getParameterValue("video"));
    var video_elt = kuroi.frontend.dom_get_element.call(null, "video");
    return video_elt.setAttribute("src", video_link);
  });
};
goog.exportSymbol("kuroi.frontend.video", kuroi.frontend.video);
kuroi.frontend.help = function kuroi$frontend$help(settings) {
  return kuroi.backend.get_manual_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    var manual = document.querySelector("#manual");
    return manual.src = kuroi.frontend.file_base.call(null, manual.getAttribute("src"));
  });
};
goog.exportSymbol("kuroi.frontend.help", kuroi.frontend.help);
kuroi.frontend.urlbar = function kuroi$frontend$urlbar(settings, url) {
  return kuroi.backend.get_urlbar_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    var hash = location.hash;
    var frame_QMARK_ = cljs.core.truth_(hash) ? hash.startsWith("#frame") : null;
    var address_txt = kuroi.frontend.dom_get_element.call(null, "address-txt");
    var go_btn = goog.ui.decorate(kuroi.frontend.dom_get_element.call(null, "go-btn"));
    var go_btn_handler = function(hash, frame_QMARK_, address_txt, go_btn) {
      return function(e) {
        if (!clojure.string.blank_QMARK_.call(null, address_txt.value)) {
          var loc = address_txt.value;
          var loc__$1 = [cljs.core.str("?front\x26url\x3d"), cljs.core.str(loc.indexOf("://") > 0 ? loc : [cljs.core.str("chan://"), cljs.core.str(loc)].join("")), cljs.core.str(cljs.core.truth_(kuroi.frontend.dom_get_element.call(null, "text-only").checked) ? ":txt" : null)].join("");
          return kuroi.io._STAR_port_STAR_.emit("follow-url", function() {
            var obj10592 = {"url":loc__$1, "parent":frame_QMARK_};
            return obj10592;
          }());
        } else {
          return null;
        }
      };
    }(hash, frame_QMARK_, address_txt, go_btn);
    if (cljs.core.truth_(url)) {
      address_txt.value = url;
    } else {
    }
    address_txt.focus();
    goog.events.listen(address_txt, goog.events.EventType.KEYPRESS, function(hash, frame_QMARK_, address_txt, go_btn, go_btn_handler) {
      return function(e) {
        if (cljs.core._EQ_.call(null, e.keyCode, 13)) {
          return go_btn_handler.call(null, e);
        } else {
          return null;
        }
      };
    }(hash, frame_QMARK_, address_txt, go_btn, go_btn_handler));
    return goog.events.listen(go_btn, goog.ui.Component.EventType.ACTION, go_btn_handler);
  });
};
goog.exportSymbol("kuroi.frontend.urlbar", kuroi.frontend.urlbar);
kuroi.frontend.front = function kuroi$frontend$front(settings, url) {
  kuroi.frontend._STAR_resource_STAR_ = url;
  kuroi.io._STAR_port_STAR_.emit("url-followed", url);
  return kuroi.backend.get_frontend_html.call(null, settings, function(html__8411__auto__) {
    kuroi.frontend.setup_themed_vars.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    goog.net.cookies.remove("theme");
    goog.net.cookies.set("theme", (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings), 31557600, "/");
    document.body.style.display = "none";
    document.body.appendChild(html__8411__auto__.querySelector("#content"));
    kuroi.frontend.load_styles.call(null, (new cljs.core.Keyword(null, "theme", "theme", -1247880880)).cljs$core$IFn$_invoke$arity$1(settings));
    kuroi.frontend.setup_snapin_buttons.call(null);
    kuroi.frontend.setup_nav_popup.call(null);
    return kuroi.frontend.load_threads.call(null, new cljs.core.Keyword(null, "pages", "pages", -285406513), false);
  });
};
goog.exportSymbol("kuroi.frontend.front", kuroi.frontend.front);
goog.provide("kuroi.plugins.chan_7chan_org");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_7chan_org._PLUS_trademark_PLUS_ = "7chan.org";
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, kuroi.plugins.chan_7chan_org._PLUS_trademark_PLUS_, function(root_node, data, target) {
  var thread_id = kuroi.page_parser.get_thread_id.call(null, root_node, target);
  var date_elt = null;
  var title_elt = kuroi.page_parser.select.call(null, root_node, ".post \x3e .subject");
  var thumb_img = kuroi.page_parser.select.call(null, root_node, ".post_thumb \x3e a \x3e img,\n                                     .post \x3e .post_thumb \x3e a \x3e img,\n                                     .post \x3e div[style\x3d'float:left'] \x3e a img");
  var image_link = kuroi.page_parser.select.call(null, root_node, ".post_thumb \x3e a,\n                                     .post \x3e .post_thumb \x3e a,\n                                     .post \x3e div[style\x3d'float:left'] \x3e a");
  var filesize = kuroi.page_parser.select.call(null, root_node, ".file_size,\n                                    .post \x3e .file_size,\n                                    .post .multithumbfirst \x3e a");
  var post_text = kuroi.page_parser.select.call(null, root_node, ".post \x3e .message");
  return kuroi.page_parser.build_post_data.call(null, data, thread_id, date_elt, title_elt, thumb_img, image_link, filesize, post_text, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, kuroi.plugins.chan_7chan_org._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_structured.call(null, kuroi.page_parser.select_STAR_.call(null, doc_tree, "form \x3e div[id^\x3d'thread']"), ".reply", target);
});
goog.provide("kuroi.plugins.chan_410chan_org");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_ = "410chan.org";
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_, function(root_node, data, target) {
  var data__$1 = kuroi.page_parser.parse_post_generic.call(null, root_node, data, target);
  var flag_elt = kuroi.page_parser.select.call(null, root_node, "span.country \x3e img");
  var flag = cljs.core.truth_(flag_elt) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [kuroi.page_parser.fix_url.call(null, flag_elt.src, target), flag_elt.alt], null) : null;
  return cljs.core.assoc.call(null, data__$1, new cljs.core.Keyword(null, "flag", "flag", 1088647881), flag);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_structured.call(null, kuroi.page_parser.select_STAR_.call(null, doc_tree, ".thrdcntnr"), ".reply", target);
});
cljs.core._add_method.call(null, kuroi.page_parser.get_captcha, kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_, function(url, parent, target, callback) {
  var link = function() {
    var vec__12539 = cljs.core.re_find.call(null, /410chan\.org\/([^\/]*)\/.*/, url);
    var _ = cljs.core.nth.call(null, vec__12539, 0, null);
    var board = cljs.core.nth.call(null, vec__12539, 1, null);
    return [cljs.core.str("http://410chan.org/faptcha.php?board\x3d"), cljs.core.str(board)].join("");
  }();
  return callback.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "link", "link", -1769163468), [cljs.core.str(link), cljs.core.str("#i"), cljs.core.str(Math.random())].join("")], null));
});
cljs.core._add_method.call(null, kuroi.page_parser.get_post_error, kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_, function(response, target) {
  return kuroi.page_parser.find_post_error.call(null, "h2", response, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.adjust_form, kuroi.plugins.chan_410chan_org._PLUS_trademark_PLUS_, function(form, target) {
  form.__parent_key__ = "replythread";
  var seq__12540_12544 = cljs.core.seq.call(null, kuroi.page_parser.select_STAR_.call(null, form, "small"));
  var chunk__12541_12545 = null;
  var count__12542_12546 = 0;
  var i__12543_12547 = 0;
  while (true) {
    if (i__12543_12547 < count__12542_12546) {
      var sm_12548 = cljs.core._nth.call(null, chunk__12541_12545, i__12543_12547);
      sm_12548.parentNode.removeChild(sm_12548);
      var G__12549 = seq__12540_12544;
      var G__12550 = chunk__12541_12545;
      var G__12551 = count__12542_12546;
      var G__12552 = i__12543_12547 + 1;
      seq__12540_12544 = G__12549;
      chunk__12541_12545 = G__12550;
      count__12542_12546 = G__12551;
      i__12543_12547 = G__12552;
      continue;
    } else {
      var temp__4657__auto___12553 = cljs.core.seq.call(null, seq__12540_12544);
      if (temp__4657__auto___12553) {
        var seq__12540_12554__$1 = temp__4657__auto___12553;
        if (cljs.core.chunked_seq_QMARK_.call(null, seq__12540_12554__$1)) {
          var c__6959__auto___12555 = cljs.core.chunk_first.call(null, seq__12540_12554__$1);
          var G__12556 = cljs.core.chunk_rest.call(null, seq__12540_12554__$1);
          var G__12557 = c__6959__auto___12555;
          var G__12558 = cljs.core.count.call(null, c__6959__auto___12555);
          var G__12559 = 0;
          seq__12540_12544 = G__12556;
          chunk__12541_12545 = G__12557;
          count__12542_12546 = G__12558;
          i__12543_12547 = G__12559;
          continue;
        } else {
          var sm_12560 = cljs.core.first.call(null, seq__12540_12554__$1);
          sm_12560.parentNode.removeChild(sm_12560);
          var G__12561 = cljs.core.next.call(null, seq__12540_12554__$1);
          var G__12562 = null;
          var G__12563 = 0;
          var G__12564 = 0;
          seq__12540_12544 = G__12561;
          chunk__12541_12545 = G__12562;
          count__12542_12546 = G__12563;
          i__12543_12547 = G__12564;
          continue;
        }
      } else {
      }
    }
    break;
  }
  return form;
});
goog.provide("kuroi.plugins.chan_iichan_hk");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_iichan_hk._PLUS_trademark_PLUS_ = "iichan.hk";
cljs.core._add_method.call(null, kuroi.page_parser.paginate, kuroi.plugins.chan_iichan_hk._PLUS_trademark_PLUS_, function(n, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(n === 0 ? [cljs.core.str("index."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join("") : [cljs.core.str(n), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join(""))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_oppost, kuroi.plugins.chan_iichan_hk._PLUS_trademark_PLUS_, function(thread, target) {
  return thread;
});
cljs.core._add_method.call(null, kuroi.page_parser.extract_navbar, kuroi.plugins.chan_iichan_hk._PLUS_trademark_PLUS_, function(dom, target) {
  var navbar_elt = kuroi.page_parser.select.call(null, dom, ".adminbar");
  return kuroi.page_parser.transform_navbar.call(null, dom, target, cljs.core.seq.call(null, navbar_elt.childNodes), function(navbar_elt) {
    return function(p1__14801_SHARP_) {
      return cljs.core.re_matches.call(null, /(.*\.org\/..*)|(.*\/\.\.\/..*)/, p1__14801_SHARP_.getAttribute("href"));
    };
  }(navbar_elt), function(navbar_elt) {
    return function(p1__14802_SHARP_) {
      var l = p1__14802_SHARP_.getAttribute("href");
      p1__14802_SHARP_.href = [cljs.core.str("?front\x26url\x3d"), cljs.core.str(l.indexOf("..") >= 0 ? [cljs.core.str((new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("://"), cljs.core.str((new cljs.core.Keyword(null, "domain", "domain", 1847214937)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(cljs.core.second.call(null, cljs.core.re_find.call(null, /\.\.\/(.*)\//, l)))].join("") : clojure.string.replace.call(null, 
      l, "http://", (new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)))].join("");
      return p1__14802_SHARP_;
    };
  }(navbar_elt));
});
cljs.core._add_method.call(null, kuroi.page_parser.get_captcha, kuroi.plugins.chan_iichan_hk._PLUS_trademark_PLUS_, function(url, parent, target, callback) {
  var link = function() {
    var vec__14803 = cljs.core.re_find.call(null, /.*\/([^\/]*)\/[^\/]*\/(\d+)\..*$/, url);
    var _ = cljs.core.nth.call(null, vec__14803, 0, null);
    var board = cljs.core.nth.call(null, vec__14803, 1, null);
    var thread = cljs.core.nth.call(null, vec__14803, 2, null);
    var script = cljs.core.truth_((new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, ["a", null, "b", null], null), null)).call(null, board)) ? "captcha1.pl" : "captcha.pl";
    if (cljs.core.truth_(thread)) {
      return [cljs.core.str("http://iichan.hk/cgi-bin/"), cljs.core.str(script), cljs.core.str("/"), cljs.core.str(board), cljs.core.str("/?key\x3dres"), cljs.core.str(thread)].join("");
    } else {
      var vec__14804 = cljs.core.re_find.call(null, /\.hk\/([^\/]*)/, url);
      var ___$1 = cljs.core.nth.call(null, vec__14804, 0, null);
      var board__$1 = cljs.core.nth.call(null, vec__14804, 1, null);
      var script__$1 = cljs.core.truth_((new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, ["a", null, "b", null], null), null)).call(null, board__$1)) ? "captcha1.pl" : "captcha.pl";
      return [cljs.core.str("http://iichan.hk/cgi-bin/"), cljs.core.str(script__$1), cljs.core.str("/"), cljs.core.str(board__$1), cljs.core.str("/?key\x3dmainpage")].join("");
    }
  }();
  return callback.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "link", "link", -1769163468), [cljs.core.str(link), cljs.core.str("#i"), cljs.core.str(Math.random())].join("")], null));
});
goog.provide("kuroi.plugins.chan_2ch_hk");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_ = "2ch.hk";
cljs.core._add_method.call(null, kuroi.page_parser.json_QMARK_, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(target) {
  return true;
});
cljs.core._add_method.call(null, kuroi.page_parser.paginate, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(n, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(n === 0 ? "index.json" : [cljs.core.str(n), cljs.core.str(".json")].join(""))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.meta_page_url, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str("index.html")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_json_thread_id, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread, target) {
  return thread.call(null, "thread_num");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_json_post_images, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(post, target) {
  return post.call(null, "files");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_oppost, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread, target) {
  return cljs.core.first.call(null, thread.call(null, "posts"));
});
cljs.core._add_method.call(null, kuroi.page_parser.get_omitted_posts, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread, target) {
  if (cljs.core.truth_(function() {
    var and__6144__auto__ = (new cljs.core.Keyword(null, "multiple", "multiple", 1244445549)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null, target));
    if (cljs.core.truth_(and__6144__auto__)) {
      return 3 < cljs.core.count.call(null, thread.call(null, "posts"));
    } else {
      return and__6144__auto__;
    }
  }())) {
    return thread.call(null, "posts_count") + 1;
  } else {
    return null;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.get_thread_id, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread, target) {
  return thread.call(null, "num");
});
cljs.core._add_method.call(null, kuroi.page_parser.thread_url, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread_id, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/res/"), cljs.core.str(thread_id), cljs.core.str(".json")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.html_thread_url, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread_id, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/res/"), cljs.core.str(thread_id), cljs.core.str(".html")].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_post, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(root_node, data, target) {
  var post_id = root_node.call(null, "num");
  var post_text = kuroi.page_parser.fix_links.call(null, kuroi.page_parser.sanitize.call(null, root_node.call(null, "comment")), target);
  var image = cljs.core.first.call(null, root_node.call(null, "files"));
  var flag = root_node.call(null, "icon");
  return cljs.core.merge.call(null, data, cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), new cljs.core.Keyword(null, "date", "date", -1463434462), new cljs.core.Keyword(null, "flag", "flag", 1088647881), new cljs.core.Keyword(null, "link", "link", -1769163468), new cljs.core.Keyword(null, "id", "id", -1388402092), new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), new cljs.core.Keyword(null, "image", "image", -58725096), new cljs.core.Keyword(null, 
  "internal-id", "internal-id", -305922306), new cljs.core.Keyword(null, "text", "text", -1790561697)], [cljs.core.truth_(image) ? kuroi.page_parser.fix_url.call(null, image.call(null, "thumbnail"), target) : null, root_node.call(null, "date"), cljs.core.truth_(flag) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [kuroi.page_parser.fix_url.call(null, cljs.core.get.call(null, cljs.core.re_find.call(null, /src=\"([^\"]*)\"/, flag), 1), target), ""], null) : null, 
  [cljs.core.str((new cljs.core.Keyword(null, "scheme", "scheme", 90199613)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str((new cljs.core.Keyword(null, "forum", "forum", -1484914360)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/res/"), cljs.core.str(function() {
    var or__6156__auto__ = (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data);
    if (cljs.core.truth_(or__6156__auto__)) {
      return or__6156__auto__;
    } else {
      return post_id;
    }
  }()), cljs.core.str(".html")].join(""), [cljs.core.str(post_id)].join(""), cljs.core.truth_(image) ? new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [image.call(null, "width"), image.call(null, "height")], null) : new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [0, 0], null), cljs.core.truth_(image) ? kuroi.page_parser.fix_url.call(null, image.call(null, "path"), target) : null, [cljs.core.str((new cljs.core.Keyword(null, "prefix", 
  "prefix", -265908465)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(post_id)].join(""), kuroi.page_parser.check_reflinks.call(null, post_id, (new cljs.core.Keyword(null, "parent-id", "parent-id", -1400729131)).cljs$core$IFn$_invoke$arity$1(data), post_text, target)]));
});
cljs.core._add_method.call(null, kuroi.page_parser.json__GT_image, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(thread_id, image, target) {
  var image_link = kuroi.page_parser.fix_url.call(null, image.call(null, "path"), target);
  return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null, "id", "id", -1388402092), thread_id, new cljs.core.Keyword(null, "internal-id", "internal-id", -305922306), image_link, new cljs.core.Keyword(null, "link", "link", -1769163468), clojure.string.replace.call(null, kuroi.page_parser.thread_url.call(null, thread_id, target), ".json", ".html"), new cljs.core.Keyword(null, "thumb", "thumb", 1718947232), kuroi.page_parser.fix_url.call(null, image.call(null, "thumbnail"), target), 
  new cljs.core.Keyword(null, "image", "image", -58725096), image_link, new cljs.core.Keyword(null, "image-size", "image-size", 1574819796), new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [image.call(null, "width"), image.call(null, "height")], null)], null);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_images, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_images_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_thread_images, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_images_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.parse_threads, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(doc_tree, target) {
  return kuroi.page_parser.parse_json.call(null, doc_tree, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.get_post_form, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(dom, target) {
  return kuroi.page_parser.select.call(null, dom, "form#postform");
});
cljs.core._add_method.call(null, kuroi.page_parser.extract_navbar, kuroi.plugins.chan_2ch_hk._PLUS_trademark_PLUS_, function(dom, target) {
  return kuroi.page_parser.extract_navbar_menu.call(null, dom, "#fmenu", target);
});
goog.provide("kuroi.plugins.chan_dobrochan_ru");
goog.require("cljs.core");
goog.require("kuroi.page_parser");
goog.require("clojure.string");
kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_ = "dobrochan.ru";
cljs.core._add_method.call(null, kuroi.page_parser.get_page_ext, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(target) {
  return "xhtml";
});
cljs.core._add_method.call(null, kuroi.page_parser.paginate, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(n, target) {
  return [cljs.core.str((new cljs.core.Keyword(null, "target", "target", 253001721)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("/"), cljs.core.str(n === 0 ? [cljs.core.str("index."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join("") : [cljs.core.str(n), cljs.core.str("."), cljs.core.str(kuroi.page_parser.get_ext.call(null, target))].join(""))].join("");
});
cljs.core._add_method.call(null, kuroi.page_parser.get_thread_id, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(root_node, target) {
  var elt = kuroi.page_parser.select.call(null, root_node, "a[name]");
  return elt.name.substring(1);
});
cljs.core._add_method.call(null, kuroi.page_parser.get_summary_node, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(thread, target) {
  var temp__4655__auto__ = kuroi.page_parser.select.call(null, thread, "div.abbrev \x3e span:last-of-type");
  if (cljs.core.truth_(temp__4655__auto__)) {
    var omitted = temp__4655__auto__;
    if (cljs.core.truth_(cljs.core.re_find.call(null, /\d+/, omitted.textContent))) {
      return omitted;
    } else {
      return 0;
    }
  } else {
    return 0;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.extract_navbar, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(dom, target) {
  var temp__4657__auto__ = kuroi.page_parser.select.call(null, dom, ".adminbar");
  if (cljs.core.truth_(temp__4657__auto__)) {
    var navbar_elt = temp__4657__auto__;
    return kuroi.page_parser.transform_navbar.call(null, dom, target, cljs.core.seq.call(null, navbar_elt.childNodes), function(navbar_elt, temp__4657__auto__) {
      return function(p1__12019_SHARP_) {
        var temp__4657__auto____$1 = p1__12019_SHARP_.getAttribute("href");
        if (cljs.core.truth_(temp__4657__auto____$1)) {
          var href = temp__4657__auto____$1;
          return cljs.core.re_matches.call(null, /\/[a-zA-Z0-9-]+\/index.xhtml/, href);
        } else {
          return null;
        }
      };
    }(navbar_elt, temp__4657__auto__), function(navbar_elt, temp__4657__auto__) {
      return function(p1__12020_SHARP_) {
        var l = p1__12020_SHARP_.getAttribute("href");
        p1__12020_SHARP_.href = [cljs.core.str("?front\x26url\x3d"), cljs.core.str((new cljs.core.Keyword(null, "orig-scheme", "orig-scheme", -2018402628)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str("://"), cljs.core.str((new cljs.core.Keyword(null, "domain", "domain", 1847214937)).cljs$core$IFn$_invoke$arity$1(target)), cljs.core.str(l.substring(0, l.lastIndexOf("/")))].join("");
        return p1__12020_SHARP_;
      };
    }(navbar_elt, temp__4657__auto__));
  } else {
    return null;
  }
});
cljs.core._add_method.call(null, kuroi.page_parser.get_captcha, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(url, parent, target, callback) {
  var link = function() {
    var vec__12021 = cljs.core.re_find.call(null, /dobrochan\.ru\/([^\/]*)\/.*/, url);
    var _ = cljs.core.nth.call(null, vec__12021, 0, null);
    var board = cljs.core.nth.call(null, vec__12021, 1, null);
    return [cljs.core.str("http://dobrochan.ru/captcha/"), cljs.core.str(board), cljs.core.str("/"), cljs.core.str((new Date).getTime()), cljs.core.str(".png")].join("");
  }();
  return callback.call(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null, "link", "link", -1769163468), link], null));
});
cljs.core._add_method.call(null, kuroi.page_parser.get_post_error, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(response, target) {
  return kuroi.page_parser.find_post_error.call(null, ".post-error", response, target);
});
cljs.core._add_method.call(null, kuroi.page_parser.adjust_form, kuroi.plugins.chan_dobrochan_ru._PLUS_trademark_PLUS_, function(form, target) {
  form.__parent_key__ = "thread_id";
  return form;
});
